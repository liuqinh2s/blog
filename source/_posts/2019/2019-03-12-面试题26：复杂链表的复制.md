---
title: 面试题26：复杂链表的复制
categories: [读书笔记, 《剑指offer》]
comments: true
---

## 题目

请实现函数ComplexListNode* Clone(ComplexListNode* pHead)，复制一个复杂链表。在复杂链表中，每个结点除了有一个m_pNext指针指向下一个结点外，还有一个m_pSibling指向链表中的任意结点或者NULL。结点的C++定义如下：

```c++
struct ComplexListNode
{
    int m_nValue;
    ComplexListNode* m_pNext;
    ComplexListNode* m_pSibling;
};
```

![1553850799(1).png](https://i.loli.net/2019/03/29/5c9de1b083a3f.png)

<!--more-->

## 解答

一种想法是先把数组的元素copy下来，同时按照m_pNext链接好。然后在原数组中遍历查找每个元素的m_pSibling，若经过k步找到，则复制后的数组也是经过k步找到。这样的话时间复杂度是O(n^2)。

还存在一种非常好的做法：将copy的元素先放置在原数组的每个元素的后面，然后在将这些元素剥离出原数组。

![1553851117(1).png](https://i.loli.net/2019/03/29/5c9de301a97d9.png)

