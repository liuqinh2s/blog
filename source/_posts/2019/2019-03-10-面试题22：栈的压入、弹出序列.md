---
title: 面试题22：栈的压入、弹出序列
categories: [读书笔记, 《剑指offer》]
comments: true
---

## 题目

输入两个整数序列，第一个序列表示栈的压入顺序，请判断第二个序列是否为该栈的弹出顺序。假设压入栈的所有数字均不相等。例如序列1、2、3、4、5是某栈的压栈序列，序列4、5、3、2、1是该栈压栈序列对应的一个弹出序列，但4、3、5、1、2就不可能是该压栈序列的弹出序列。

<!--more-->

## 解答

```java
public boolean IsPopOrder(int [] pushA,int [] popA) {
    if(pushA==null || popA==null || pushA.length<=0 || popA.length<=0){
        return false;
    }
    Stack<Integer> stack = new Stack<>();
    int i=0;
    int j=0;
    while(j<pushA.length){
        if(stack.empty() || popA[i]!=stack.peek()){
            stack.push(pushA[j++]);
        }else {
            stack.pop();
            i++;
        }
    }
    while (!stack.empty() && stack.peek()==popA[i]){
        i++;
        stack.pop();
    }
    if(i!=popA.length){
        return false;
    }else{
        return true;
    }
}
```

核心思路：
如果栈顶不为`popA`中的当前值，就继续压栈，否则pop，并且popA的指针往后移一位。直到pushA为空。若栈中还有元素，则看与popA是否匹配。直到栈为空或者不匹配。若popA的指针走到了最后就返回真，否则说明没完全匹配。

特殊测试用例：
- 输入两个null
- 输入两个长度为0的数组
- 输入两个长度为1的数组
- 一个数组长度为0，另一个长度为1

模拟栈的操作，加深对栈的理解。这题是考察对栈的理解的好题。

