---
title: 面试题25：二叉树中和为某一值的路径
categories: [读书笔记, 《剑指offer》]
comments: true
---

## 题目

输入一棵二叉树和一个整数，打印出二叉树中结点值的和为输入整数的所有路径。从树的根节点开始往下一直到叶结点所经过的结点形成一条路径。二叉树结点的定义如下：

```c++
struct BinaryTreeNode
{
	int m_nValue;
	BinaryTreeNode* m_pLeft;
	BinaryTreeNode* m_pRight;
};
```

<!--more-->

## 解答

```java
public ArrayList<ArrayList<Integer>> FindPath(TreeNode root, int target) {
    ArrayList<ArrayList<Integer>> result = new ArrayList<>();
    if (root == null) {
        return result;
    }
    ArrayList<Integer> arrayList = new ArrayList<>();
    FindPath(root, target, 0, arrayList, result);
    return result;
}

public void FindPath(TreeNode root, int target, int sum, ArrayList<Integer> currentArray, ArrayList<ArrayList<Integer>> result) {
    currentArray.add(root.val);
    sum+=root.val;
    if (root.left==null && root.right==null) {
        if(sum==target){
            ArrayList<Integer> temp = new ArrayList<>(currentArray);
            result.add(temp);
        }
        currentArray.remove(currentArray.size()-1);
        return;
    }
    if(root.left!=null){
        FindPath(root.left, target, sum, currentArray, result);
    }
    if(root.right!=null){
        FindPath(root.right, target, sum, currentArray, result);
    }
    currentArray.remove(currentArray.size()-1);
}
```

要注意的点有：
1. 递归返回的时候，要进行一次remove，代码中有两处是可以返回的，要在两个地方都进行remove。
2. 递归不要以root==null结束，这样会造成添加两个同样的数组的错误，因为每个叶节点有两个null指针。
3. 添加数组要以新建的形式，否则不会形成多个数组。
