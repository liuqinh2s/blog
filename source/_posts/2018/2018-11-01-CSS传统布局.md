---
title: CSS传统布局
categories: [前端, CSS]
comments: true
---

## display

`display`是CSS中最重要的用于控制布局的属性。**每个元素都有一个默认的display值**，这与元素的类型有关。对于大多数元素它们的默认值通常是`block`或`inline`。一个block元素通常被叫做块级元素。一个inline元素通常被叫做行内元素。

<!-- more -->

### block

`div`是一个标准的块级元素。**一个块级元素会新开始一行并尽可能撑满容器**。其他常用的块级元素包括`p`、`form`和HTML5中的新元素：`header`、`footer`、`section`等。

### inline

`span`是一个标准的行内元素。一个行内元素可以在段落中`<span>像这样</span>`包裹一些文字而不会打乱段落的布局。`a`元素是最常用的行内元素，它可以被用作链接。

### none

另一个常用的display值是`none`。**一些特殊元素的默认值是它，例如`script`**。

它和`visibility`属性不一样。把`display`设置成`none`元素不会占据它本来应该显示的空间，但是设置成`visibility: hidden`还会占据空间。

### 其他display值

还有很多有意思的display值，例如`list-item`和`table`。[这里有一份详细的列表](https://developer.mozilla.org/en-US/docs/Web/CSS/display)。之后我们会讨论到`inline-block`和`flex`。

### 使用技巧

1. 每个元素都有一个默认的display类型。不过你可以随时随地重写它，常见的例子是：把`li`元素修改成inline，制作水平菜单。
2. `display:none`通常被javascript用来在不删除元素的情况下隐藏或显示元素。

## position

为了制作更多复杂的布局，我们需要讨论一下`position`属性。

### static

`position: static;`，`static`是默认值。任意`position: static;`不会被特殊定位，也就是表示它不会被"positioned"，一个position被设置成其他值的元素表示它会被"positioned"。

### relative

```css
.relative1 {
  position: relative;
}
.relative2 {
  position: relative;
  top: -20px;
  left: 20px;
  background-color: white;
  width: 500px;
}
```

在一个相对定位的元素上设置`top`、`right`、`bottom`、`left`属性会使其偏离正常位置，其他元素的位置则不会受其影响。

### fixed

一个固定定位元素会相对于视窗来定位，这意味着即使页面滚动，它还是停留在原来的位置，也就是脱离文档流。

### absolute

`absolute`与`fixed`的表现类似，但是它不是相对于视窗而是相对于最近的"positioned"祖先元素，如果没有这样一个祖先元素，那么它相对于文档的body元素，并且它会随着页面滚动而移动。记住一个"positioned"元素是指position值不是static的元素。

## float

另一个布局中常用的CSS属性是`float`。float可用于实现文字环绕图片，如下：

```css
img{
    float: right;
    margin: 0 0 1em 1em;
}
```

![文字环绕图片.png](https://i.loli.net/2018/11/01/5bda759748c93.png)

### clear

`clear`属性被用于控制浮动。比较下面两个例子：

```html
<div class="box">...</div>
<section>...</section>
```

```css
.box{
    float: left;
    width: 100px;
    height: 100px;
    margin: 1em;
}
```

![float导致的重叠.png](https://i.loli.net/2018/11/01/5bda7801d743b.png)

```css
.box {
  float: left;
  width: 200px;
  height: 100px;
  margin: 1em;
}
.after-box {
  clear: left;
}
```

![clear用来清楚float的影响.png](https://i.loli.net/2018/11/01/5bda77fcac846.png)

### 清除浮动（clearfix hack）

在使用浮动的时候经常遇到一些古怪的事：

```css
img {
  float: right;
}
```

![float图片不被框住.png](https://i.loli.net/2018/11/01/5bda80ed4438c.png)

见证奇迹的时刻到了！有一种比较丑陋的方法可以解决这个问题，它叫做清除浮动（clearfix hack）.

让我们加入一些新的CSS样式：

```css
.clearfix {
  overflow: auto;
}
```

现在再看看发生了什么：

![clearfix.png](https://i.loli.net/2018/11/01/5bda814a3affe.png)