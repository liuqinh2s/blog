---
title: Java反射
categories: [Java]
comments: true
tags: [Java]
---

最近在学习spring boot 框架，IOC非常依赖Java反射，所以顺带回顾一下Java反射

## 什么是反射？

通过反射，我们可以在运行时获得程序或程序集中每一个类型的成员和成员的信息。程序中一般的对象的类型都是在编译期就确定下来的，而 Java 反射机制可以动态地创建对象并调用其属性，这样的对象的类型在编译期是未知的。所以我们可以通过反射机制直接创建对象，即使这个对象的类型在编译期是未知的。

反射的核心是 JVM 在运行时才动态加载类或调用方法/访问属性，它不需要事先（写代码的时候或编译期）知道运行对象是谁。

## 反射的基本运用

### 获得Class对象

1. 使用 Class 类的  `forName` 静态方法

```java
public static Class<?> forName(String className)
Class.forName(className);
```

2. 直接获取某个对象的class，比如：

```java
Class<?> klass = int.class;
Class<?> classInt = Integer.TYPE;
```

3. 调用某个对象的 `getClass()` 方法，比如：

```java
StringBuilder str = new StringBuilder("123");
Class<?> klass = str.getClass();
```

### 判断是否为某个类的实例

一般地，我们用 `instanceof` 关键字来判断是否为某个类的实例。同时我们也可以借助反射中Class对象的 `isInstance()` 方法来判断是否为某个类的实例，它是一个 native 方法：

```java
public native boolean isInstance(Object obj);
```

### 创建实例

通过反射来生成对象主要有两种方式
