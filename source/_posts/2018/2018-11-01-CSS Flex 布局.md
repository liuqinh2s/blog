---
title: CSS Flex 布局
categories: [前端, CSS]
comments: true
---

## Flex布局是什么？

Flex 是 Flexible Box 的缩写，意味 “弹性布局”。

>flex影响的是其内元素的布局方式，而非影响这个容器自己所处的位置。

任何容器都可以指定为flex布局。

<!-- more -->

任何容器都可以指定为flex布局。

```css
.box{
  display: flex;
}
```

行内元素也可以使用flex布局：

```css
.box{
  display: inline-flex;
}
```

注意，设为flex布局之后，子元素的`float`、`clear`、`vertical-align`属性将失效。如果你对这三个属性不熟可以看看这篇文章：[CSS传统布局](../CSS传统布局)

## Flex布局的基本概念

采用Flex布局的元素，称为Flex容器（flex container），它的所有子元素自动成为容器成员，称为 flex item，简称item（中文可译作：项目）。

![flex布局图解](http://www.ruanyifeng.com/blogimg/asset/2015/bg2015071004.png)

容器默认存在两根轴，默认情况下：水平的叫：主轴（main axis），垂直的叫：交叉轴（cross axis）。主轴的开始位置叫做：main start，结束位置叫做：main end；交叉轴的开始位置叫做：cross start，结束位置叫做：cross end。

主轴不一定是横向的，可以设置为纵向，且从上到下（起点在上，终点在下），这种情况下交叉轴就是横向了，且从左到右（起点在左，终点在右）。item始终沿主轴排列，交叉轴只是用来辅助主轴，控制item在另一个方向上的浮动，单个item占据的主轴空间叫做：main size，占据的交叉轴空间叫做：cross size。

## flex容器的属性

- flex-direction
- flex-wrap
- flex-flow（这个属性是前两者的简写，所以实际上只有5种属性）
- justify-content
- align-items
- align-content

### flex-direction

顾名思义是决定 **主轴** 的方向：

```css
.box{
  flex-direction: row | row-reverse | column | column-reverse
}
```

- row：水平布局，从左到右
- row-reverse：水平布局，从右到左
- column：垂直布局，从上到下
- column-reverse：垂直布局，从下到上

### flex-wrap

默认情况下，项目都排列在一条轴上。flex-wrap属性定义，如果一条轴上摆不下，如何换行。

![flex-wrap图解](http://www.ruanyifeng.com/blogimg/asset/2015/bg2015071006.png)

```css
.box{
  flex-wrap: nowrap | wrap | wrap-reverse;
}
```

- nowrap：不换行
- wrap：换行，第一行在上方
- wrap-reverse：换行，第一行在下方

wrap:

![wrap](http://www.ruanyifeng.com/blogimg/asset/2015/bg2015071008.jpg)

wrap-reverse:

![wrap-reverse](http://www.ruanyifeng.com/blogimg/asset/2015/bg2015071009.jpg)

### flex-flow

flex-flow是`flex-direction`和`flex-wrap`的简写形式，默认值为：row nowrap。

```css
.box {
  flex-flow: row nowrap;
}
```

>row和nowrap的位置无所谓，可以互换：flex-flow: nowrap row;

### justify-content

`justify-content`定义了item在主轴上的对齐方式（不管主轴是横向还是纵向，都是作用在主轴上）。

```css
.box {
  justify-content: flex-start | flex-end | center | space-between | space-around;
}
```

- flex-start（默认值）：左对齐
- flex-end：右对齐
- center：居中
- space-between：两端对齐，item的间隔相等
- space-around：每个item两侧的间隔相等，所以item之间的间隔比item与边框的间隔大一倍。

![justify-content图解](http://www.ruanyifeng.com/blogimg/asset/2015/bg2015071010.png)

### align-items

`align-items`定义了item在交叉轴上如何对齐。

```css
.box{
  align-items: flex-start | flex-end | center | baseline | stretch;
}
```

- flex-start：与交叉轴的起点对齐
- flex-start：与交叉轴的终点对齐
- center：与交叉轴的中点对齐
- baseline：item的第一行文字的基线对齐
- stretch（默认值）：如果item未设置高度或设为auto，将占满整个容器。

![align-items图解](http://www.ruanyifeng.com/blogimg/asset/2015/bg2015071011.png)

### align-content

`align-content`属性定义了多根主轴的对齐方式。如果项目只有一根主轴，该属性不起作用。

```css
.box {
  align-content: flex-start | flex-end | center | space-between | space-around | stretch;
}
```

- flex-start：与交叉轴的起点对齐
- flex-end：与交叉轴的中点对齐
- center：与交叉轴的中点对齐
- space-between：与交叉轴的两端对齐，轴线之间的间隔平均分布
- space-around：每根轴线两侧的间隔都相等，所以轴线与轴线之间的间隔，比轴线与边框的间隔大一倍
- stretch（默认值）：轴线占满整个交叉轴

![align-content图解](http://www.ruanyifeng.com/blogimg/asset/2015/bg2015071012.png)

## item的属性

- order
- flex-grow
- flex-shrink
- flex-basis
- flex
- align-self

### order

`order`定义item的排列顺序。数值越小，排列越靠前，默认为0。

```css
.item{
  order: <integer>;
}
```

![order图解](http://www.ruanyifeng.com/blogimg/asset/2015/bg2015071013.png)

### flex-grow

`flex-grow`属性定义项目的放大比例，默认为0，也就是不铺满剩余空间。

```css
.item {
  flex-grow: <number>; /* default 0 */
}
```

![flex-grow图解](http://www.ruanyifeng.com/blogimg/asset/2015/bg2015071014.png)

如果所有item的`flew-grow`属性都是1，那么它们将等分剩余空间。一个item所占的空间比例就是用它的`flex-grow`除以总的`flex-grow`。

### flex-shrink

`flex-shrink`属性定义了item的缩小比例，默认为1，即空间不足时，缩小item。

```css
.item{
  flex-shrink: <integer>; /* default 1 */
}
```

![flex-shrink](http://www.ruanyifeng.com/blogimg/asset/2015/bg2015071015.jpg)

如果所有item的`flex-shrink`属性都为1，当空间不足时，都将等比例缩小（注意是等比例缩小而不是缩成同样大小），如果一个item的`flex-shrink`为0，则当空间不足时，不缩小。

### flex-basis

`flex-basis`属性定义了item占据主轴空间的大小，优先级高于width和height。默认值为 auto，即item的本来大小。

```css
.item {
  flex-basis: <length> | auto; /* default auto */
}
```

### flex

`flex`属性是`flex-grow`、`flex-shrink`、`flex-basis`的简写，默认值为`0 1 auto`。后两个属性可选。

```css
.item {
  flex: none | [ <'flex-grow'> <'flex-shrink'>? || <'flex-basis'> ]
}
```

该属性有两个快捷值：auto (1 1 auto) 和 none (0 0 auto)。

### align-self

`align-self`属性允许单个的item重新设定`align-items`属性。默认值为`auto`，表示继承父元素的`align-items`属性。

```css
.item {
  align-self: auto | flex-start | flex-end | center | baseline | stretch;
}
```

![align-self图解](http://www.ruanyifeng.com/blogimg/asset/2015/bg2015071016.png)