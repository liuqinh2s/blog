<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>ä»¥å‰æ”¶è—çš„ä¸€äº›é“¾æ¥</title>
      <link href="/blog/2024/11/20/%E4%BB%A5%E5%89%8D%E6%94%B6%E8%97%8F%E7%9A%84%E4%B8%80%E4%BA%9B%E9%93%BE%E6%8E%A5/"/>
      <url>/blog/2024/11/20/%E4%BB%A5%E5%89%8D%E6%94%B6%E8%97%8F%E7%9A%84%E4%B8%80%E4%BA%9B%E9%93%BE%E6%8E%A5/</url>
      
        <content type="html"><![CDATA[<p>è¿™æ˜¯æˆ‘ä¸Šç½‘å†²æµªå‘ç°çš„ä¸€äº›å¥½ä¸œè¥¿ï¼Œå¤§éƒ¨åˆ†æ˜¯ç½‘ç«™ï¼Œä¹Ÿæœ‰äº›å…¶ä»–ç±»å‹çš„å·¥å…·ï¼Œèµ„æºã€‚</p><h1 id="æˆ‘çš„æœ‹å‹ä»¬"><a href="#æˆ‘çš„æœ‹å‹ä»¬" class="headerlink" title="æˆ‘çš„æœ‹å‹ä»¬"></a>æˆ‘çš„æœ‹å‹ä»¬</h1><ul><li><a href="https://lianera.github.io/" target="_blank" rel="noopener">Lianera&#39;s homepage</a></li><li><a href="https://jiyanggg.github.io/" target="_blank" rel="noopener">Hi, I&#39;m Jiyang</a></li><li><a href="https://zengxiaoluan.dbgfdy.com/" target="_blank" rel="noopener">æ›¾å°ä¹± â€“ åœ¨æç»˜ä»–çš„ç”Ÿæ´»å€’å½±</a></li><li><a href="https://gejiuyuan.gitee.io/" target="_blank" rel="noopener">æœå°å³</a></li></ul><a id="more"></a><h1 id="æ¨èçš„åšä¸»"><a href="#æ¨èçš„åšä¸»" class="headerlink" title="æ¨èçš„åšä¸»"></a>æ¨èçš„åšä¸»</h1><ul><li><code>hexo-next-theme</code>çš„ä½œè€…ï¼š<a href="https://notes.iissnan.com/" target="_blank" rel="noopener">IIssNan&#39;s Notes</a></li><li><a href="https://catcoding.me/" target="_blank" rel="noopener">ç¨‹åºå‘˜çš„å–µ</a></li><li><a href="http://www.ruanyifeng.com/blog/" target="_blank" rel="noopener">é˜®ä¸€å³°çš„åšå®¢</a></li><li><a href="https://github.com/mqyqingfeng" target="_blank" rel="noopener">å†´ç¾½</a></li><li><a href="https://icheer.me/" target="_blank" rel="noopener">icheer.me</a></li><li><a href="https://matrix67.itch.io/" target="_blank" rel="noopener">matrix67</a>ï¼Œmatrix67 çš„åšå®¢è®¿é—®ä¸äº†äº†ï¼Œå¥½åƒæ¬åˆ°äº† itch.ioã€‚<a href="https://itch.io/ï¼Œå¥½åƒæ˜¯ä¸ªä¸é”™çš„æ¸¸æˆå¼€å‘ç½‘ç«™ã€‚è¿™æ˜¯liqiå¯¹ä»–åšçš„ä¸€ä¸ªé‡‡è®¿ï¼šhttps://liqi.io/matrix67/ã€‚https://www.sohu.com/a/68883280_372416" target="_blank" rel="noopener">https://itch.io/ï¼Œå¥½åƒæ˜¯ä¸ªä¸é”™çš„æ¸¸æˆå¼€å‘ç½‘ç«™ã€‚è¿™æ˜¯liqiå¯¹ä»–åšçš„ä¸€ä¸ªé‡‡è®¿ï¼šhttps://liqi.io/matrix67/ã€‚https://www.sohu.com/a/68883280_372416</a></li><li><a href="https://coolshell.me/" target="_blank" rel="noopener">é…·å£³çš„å»¶ç»­</a>ï¼Œå·¦è€³æœµè€—å­å·²ç»æ­»äº†ï¼ŒåŸåšå®¢åœ°å€ï¼š<a href="https://coolshell.cn/" target="_blank" rel="noopener">https://coolshell.cn/</a></li><li><a href="https://www.yinwang.org/" target="_blank" rel="noopener">ç‹å çš„åšå®¢</a></li><li><a href="https://www.hecaitou.com/" target="_blank" rel="noopener">æ§½è¾¹å¾€äº‹</a>ï¼Œ<a href="https://www.hecaitou.info/" target="_blank" rel="noopener">æ§½è¾¹å¾€äº‹</a></li><li><a href="https://lixiaolai.com/#/" target="_blank" rel="noopener">æç¬‘æ¥</a></li></ul><h1 id="ä¸ªäººåšå®¢"><a href="#ä¸ªäººåšå®¢" class="headerlink" title="ä¸ªäººåšå®¢"></a>ä¸ªäººåšå®¢</h1><h2 id="ä¸­æ–‡"><a href="#ä¸­æ–‡" class="headerlink" title="ä¸­æ–‡"></a>ä¸­æ–‡</h2><ul><li><a href="https://www.hecaitou.com/" target="_blank" rel="noopener">æ§½è¾¹å¾€äº‹</a></li><li><a href="https://blog.codingnow.com/" target="_blank" rel="noopener">äº‘é£çš„ BLOG</a></li><li><a href="http://jayli.github.io/" target="_blank" rel="noopener">æ‹”èµ¤</a></li><li><a href="http://www.cppblog.com/vczh/" target="_blank" rel="noopener">çŸ¥ä¹ vczh è½®å­å“¥</a></li><li><a href="http://mindhacks.cn/" target="_blank" rel="noopener">åˆ˜æœªé¹</a></li><li><a href="https://www.dandyweng.com/" target="_blank" rel="noopener">ç¿å¤©ä¿¡</a></li><li><a href="https://catcoding.me/" target="_blank" rel="noopener">ç¨‹åºå‘˜çš„å–µ</a></li><li><a href="https://geekplux.com/" target="_blank" rel="noopener">geekplux</a></li><li><a href="https://tech.codelc.com/" target="_blank" rel="noopener">lcomplete çš„æŠ€æœ¯åˆ†äº«</a></li><li><a href="https://shidenggui.com/" target="_blank" rel="noopener">Shidenggui</a></li><li><a href="https://folyd.com/" target="_blank" rel="noopener">folyd</a></li><li><a href="https://blog.starrocket.io/blog/" target="_blank" rel="noopener">Star Rocket Blog</a></li><li><a href="https://blog.t9t.io/" target="_blank" rel="noopener">t9t</a></li><li><a href="https://github.com/mqyqingfeng/Blog" target="_blank" rel="noopener">å†´ç¾½çš„åšå®¢</a></li><li><a href="https://zhaomenghuan.js.org/" target="_blank" rel="noopener">åŒ å¿ƒåšå®¢</a></li><li><a href="https://wangchujiang.com/" target="_blank" rel="noopener">å°å¼Ÿè°ƒè°ƒ â„¢</a></li><li><a href="https://shanyue.tech/" target="_blank" rel="noopener">å±±æœˆè¡Œ</a></li><li><a href="https://www.liuchuo.net/" target="_blank" rel="noopener">æŸ³å©¼ ã® blog</a></li><li><a href="https://www.changhai.org/index.php" target="_blank" rel="noopener">å¢æ˜Œæµ·ä¸ªäººä¸»é¡µ</a></li></ul><h2 id="English"><a href="#English" class="headerlink" title="English"></a>English</h2><ul><li><a href="https://meyerweb.com/" target="_blank" rel="noopener">meyerweb</a></li><li><a href="https://www.dogatekin.com/" target="_blank" rel="noopener">dogatekin</a></li><li><a href="https://humanwhocodes.com/" target="_blank" rel="noopener">humanwhocodes</a></li><li><a href="http://www.standardista.com/" target="_blank" rel="noopener">standardista</a></li><li><a href="https://journal.stuffwithstuff.com/" target="_blank" rel="noopener">stuffwithstuff</a></li><li><a href="https://anishathalye.com/" target="_blank" rel="noopener">Anish Athalye</a></li></ul><h1 id="æˆ‘çš„å·¥å…·"><a href="#æˆ‘çš„å·¥å…·" class="headerlink" title="æˆ‘çš„å·¥å…·"></a>æˆ‘çš„å·¥å…·</h1><ul><li><a href="https://liqi.io" target="_blank" rel="noopener">liqi - åˆ©å™¨</a></li></ul><h2 id="ç»¼åˆèµ„æº"><a href="#ç»¼åˆèµ„æº" class="headerlink" title="ç»¼åˆèµ„æº"></a>ç»¼åˆèµ„æº</h2><ul><li><a href="https://jujuxi.xyz" target="_blank" rel="noopener">å±…å±…è¥¿</a>ï¼šè¿™æ˜¯æˆ‘è‡ªå·±åˆ¶ä½œçš„èµ„æºåˆ†äº«ç½‘ç«™ï¼Œç”¨äºåˆ†äº«æˆ‘å–œçˆ±çš„ç½‘ç»œèµ„æºï¼Œå¦‚æœæœ‰ä¾µæƒçš„åœ°æ–¹ï¼Œå¯ä»¥ç›´æ¥è”ç³»æˆ‘åˆ é™¤</li><li><a href="https://archive.org/" target="_blank" rel="noopener">Internet Archive: Digital Library of Free &amp; Borrowable Books, Movies, Music &amp; Wayback Machine</a></li></ul><h2 id="å¯¼èˆª"><a href="#å¯¼èˆª" class="headerlink" title="å¯¼èˆª"></a>å¯¼èˆª</h2><ul><li><a href="https://ys.urlsdh.com/" target="_blank" rel="noopener">å½±è§†å¯¼èˆª</a></li><li><a href="https://ai.nancheng.fun/" target="_blank" rel="noopener">AI å¯¼èˆª</a></li></ul><h2 id="å¼€æºé¡¹ç›®"><a href="#å¼€æºé¡¹ç›®" class="headerlink" title="å¼€æºé¡¹ç›®"></a>å¼€æºé¡¹ç›®</h2><ul><li><a href="https://hellogithub.com/" target="_blank" rel="noopener">HelloGitHub</a></li></ul><h2 id="AI"><a href="#AI" class="headerlink" title="AI"></a>AI</h2><ul><li><a href="https://chat.openai.com/" target="_blank" rel="noopener">ChatGPT</a></li><li><a href="https://openprompt.co/" target="_blank" rel="noopener">openprompt</a></li></ul><h2 id="è½¯ä»¶"><a href="#è½¯ä»¶" class="headerlink" title="è½¯ä»¶"></a>è½¯ä»¶</h2><ul><li><a href="https://www.voidtools.com/zh-cn/" target="_blank" rel="noopener">Everything - åŸºäºåç§°å¿«é€Ÿå®šä½æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ã€‚</a></li></ul><h2 id="é…è‰²"><a href="#é…è‰²" class="headerlink" title="é…è‰²"></a>é…è‰²</h2><ul><li><a href="https://colorleap.app/home" target="_blank" rel="noopener">Color Leap - è‰²å½©æ—¶å…‰æœº</a></li><li><a href="http://zhongguose.com/" target="_blank" rel="noopener">ä¸­å›½ä¼ ç»Ÿé¢œè‰²</a></li></ul><h2 id="å›¾ç‰‡"><a href="#å›¾ç‰‡" class="headerlink" title="å›¾ç‰‡"></a>å›¾ç‰‡</h2><ul><li><a href="https://unsplash.com/" target="_blank" rel="noopener">unsplash</a></li><li><a href="https://pixabay.com/" target="_blank" rel="noopener">pixabay - 2.6 million+ Stunning Free Images to Use Anywhere</a></li><li><a href="https://hello.eboy.com/pool/~Pixorama/1?q=project" target="_blank" rel="noopener">project:~Pixorama/1 Â· db.eboy.com</a></li><li>å†œä½œç‰©æ•°æ®åº“ï¼š<a href="https://naldc.nal.usda.gov/usda_pomological_watercolor?q=&amp;search_field=all_fields" target="_blank" rel="noopener">National Agricultural Library Digital Collections</a></li><li>ä¼Šä¸½èç™½æ¤ç‰©æ‰‹ç»˜ï¼š<a href="https://www.c82.net/twining/plants/" target="_blank" rel="noopener">ILLUSTRATIONS of the NATURAL ORDERS of PLANTS</a></li><li><a href="https://gitee.com/nguaduot/timeline#https://gitee.com/link?target=https%3A%2F%2Fapp.nguaduot.cn%2Ftimeline" target="_blank" rel="noopener">æ‹¾å…‰ - å£çº¸è½¯ä»¶</a></li><li><a href="https://floor796.com/" target="_blank" rel="noopener">æ¢—å›¾å¾®ç¼©ä¸–ç•Œ</a></li></ul><h2 id="è§†é¢‘"><a href="#è§†é¢‘" class="headerlink" title="è§†é¢‘"></a>è§†é¢‘</h2><ul><li>å½±è§†ç½‘ç«™ï¼š<ul><li><a href="https://www.nunuyy5.org/" target="_blank" rel="noopener">åŠªåŠªå½±è§†</a></li><li><a href="https://www.lovedan.net/" target="_blank" rel="noopener">è‰¾æ—¦è§†é¢‘</a></li></ul></li><li>äº‘åª’ä½“ï¼š<a href="https://laosheng.top/fly/" target="_blank" rel="noopener">è€ç”Ÿå¸¸è°ˆäº‘åª’ä½“ï¼Œå…šå’Œäººæ°‘åœ¨ä¸€èµ· â˜ï¸</a></li><li><a href="https://www.douyin.com/" target="_blank" rel="noopener">æŠ–éŸ³ç½‘é¡µç‰ˆ</a></li><li>çºªå½•ç‰‡ï¼š<a href="https://ihavenotv.com/" target="_blank" rel="noopener">Documentaries - watch free online documentaries - ihavenotv.com</a></li><li>å‰§æœ¬æ¡¥æ®µï¼š<a href="https://tvtropes.org/" target="_blank" rel="noopener">TV Tropes</a></li></ul><h2 id="ä¹¦ç±"><a href="#ä¹¦ç±" class="headerlink" title="ä¹¦ç±"></a>ä¹¦ç±</h2><ul><li>ä¹¦ç±å·¥å…·ï¼š<ul><li><a href="https://calibre-ebook.com/" target="_blank" rel="noopener">Calibre</a></li><li><a href="https://immersivetranslate.com/" target="_blank" rel="noopener">æ²‰æµ¸å¼ç¿»è¯‘</a></li></ul></li><li>å¹³å°ï¼š<ul><li><a href="https://zlibrary-asia.se/" target="_blank" rel="noopener">zlibrary</a></li><li><a href="https://itbox.cc/" target="_blank" rel="noopener">é¦–é¡µ | itbox | ä¸“æ³¨ IT ç±»å›¾ä¹¦åˆ†äº«</a></li><li><a href="https://livebook.manning.com/" target="_blank" rel="noopener">æŠ€æœ¯ä¹¦åœ¨çº¿é˜…è¯»</a></li><li><a href="https://www.ituring.com.cn/" target="_blank" rel="noopener">å›¾çµç¤¾åŒº</a></li><li><a href="https://homeofpdf.com/index.html" target="_blank" rel="noopener">PDF ä¹‹å®¶</a></li><li><a href="https://www.jiumodiary.com/" target="_blank" rel="noopener">é¸ æ‘©æœä¹¦</a></li><li><a href="https://bookfere.com/" target="_blank" rel="noopener">ä¹¦ä¼´ â€“ ä½ çš„ç”µå­ä¹¦ä¼´ä¾£</a></li><li><a href="https://www.gushiwen.cn/" target="_blank" rel="noopener">å¤è¯—æ–‡ç½‘-å¤è¯—æ–‡ç»å…¸ä¼ æ‰¿</a></li></ul></li><li>å…·ä½“ä¹¦ç±ï¼š<ul><li><a href="https://www.allaboutcircuits.com/textbook/" target="_blank" rel="noopener">Textbook for Electrical Engineering &amp; Electronics</a></li><li><a href="https://htmlwithsuperpowers.netlify.app/" target="_blank" rel="noopener">HTML with Superpowers | HTML with Superpowers</a></li><li><a href="https://illustrated-machine-learning.github.io/index.html" target="_blank" rel="noopener">The Illustrated Machine Learning Website</a></li><li>è®¡ç®—æœºç½‘ç»œç”µå­ä¹¦ï¼š<a href="https://github.com/ruanyf/book-computer-networks" target="_blank" rel="noopener">Computer Networks: A Systems Approach</a></li><li><a href="http://sarabander.github.io/sicp/" target="_blank" rel="noopener">SICP - Structure and Interpretation of Computer Programs, 2e</a></li><li><a href="https://tsejx.github.io/javascript-guidebook/core-modules/executable-code-and-execution-contexts/memory-management/memory-model/" target="_blank" rel="noopener">JavaScript Guidebook</a></li><li>python è‹±æ–‡ç”µå­ä¹¦ï¼š<a href="https://pymotw.com/3/index.html" target="_blank" rel="noopener">Python 3 Module of the Week â€” PyMOTW 3</a></li><li>æ•°æ®åº“è‹±æ–‡ç”µå­ä¹¦ï¼š<a href="http://webdam.inria.fr/Alice/" target="_blank" rel="noopener">Foundations of Databases</a></li><li>æ“ä½œç³»ç»Ÿè‹±æ–‡ç”µå­ä¹¦ï¼š<a href="https://pages.cs.wisc.edu/~remzi/OSTEP/" target="_blank" rel="noopener">Operating Systems: Three Easy Pieces</a></li><li>è®¡ç®—æœºç»„æˆåŸç†è‹±æ–‡ç”µå­ä¹¦ï¼š<a href="http://www.gamezero.com/team-0/articles/math_magic/micro/index.html" target="_blank" rel="noopener">The Math Behind the Magic - Processor Design</a></li><li>ç®—æ³•ï¼š<a href="http://jeffe.cs.illinois.edu/teaching/algorithms/" target="_blank" rel="noopener">Algorithms by Jeff Erickson</a></li><li>ä¸€æœ¬è‹±æ–‡ç”µå­ä¹¦ï¼š<a href="https://livebook.manning.com/book/the-design-of-everyday-apis/chapter-1/" target="_blank" rel="noopener">The Design of Web APIs</a></li><li><a href="https://web.dev/learn/css/" target="_blank" rel="noopener">Learn CSS</a></li><li><a href="https://nlp.stanford.edu/IR-book/" target="_blank" rel="noopener">Introduction to Information Retrieval</a></li><li><a href="https://rustwasm.github.io/docs/book/introduction.html" target="_blank" rel="noopener">Introduction - Rust and WebAssembly</a></li><li><a href="https://www.techinterviewhandbook.org/software-engineering-interview-guide/" target="_blank" rel="noopener">Software Engineer interviews: Everything you need to prepare | Tech Interview Handbook</a></li><li><a href="https://probability4datascience.com/" target="_blank" rel="noopener">Introduction to Probability for Data Science</a></li><li><a href="https://qiangmzsx.github.io/Software-Engineering-at-Google/#/?id=software-engineering-at-google" target="_blank" rel="noopener">Software Engineering at Google</a></li><li><a href="http://tinypythonprojects.com/Tiny_Python_Projects.pdf" target="_blank" rel="noopener">Tiny_Python_Projects</a></li><li><a href="http://www.phatcode.net/res/223/files/html/toc.html" target="_blank" rel="noopener">The Art of Assembly Language Programming</a></li><li><a href="https://python-patterns.guide/" target="_blank" rel="noopener">python è®¾è®¡æ¨¡å¼</a></li><li><a href="https://gamemath.com/book/intro.html" target="_blank" rel="noopener">game math</a></li><li><a href="https://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-i-hello-world" target="_blank" rel="noopener">The Flask Mega-Tutorial</a></li><li><a href="https://effective-shell.com/" target="_blank" rel="noopener">Effective Shell</a></li><li>è´¹æ›¼ç‰©ç†å­¦è®²ä¹‰ï¼š<a href="https://www.feynmanlectures.caltech.edu/" target="_blank" rel="noopener">The Feynman Lectures on Physics</a></li></ul></li><li>AI ä½œç”»ï¼š<ul><li><a href="https://github.com/hua1995116/awesome-ai-painting" target="_blank" rel="noopener">AI ä½œç”»ç½‘ç«™æ”¶é›†</a></li><li><a href="https://creator.nolibox.com/guest" target="_blank" rel="noopener">Nolibox Creator</a></li></ul></li><li>å¹³é¢è®¾è®¡ï¼š<ul><li><a href="https://www.canva.cn/" target="_blank" rel="noopener">å¯ç”»</a></li></ul></li><li>å›¾ç‰‡æœç´¢ï¼š<ul><li><a href="https://tineye.com/" target="_blank" rel="noopener">TinEye Reverse Image Search</a></li><li><a href="https://trace.moe/" target="_blank" rel="noopener">Anime Scene Search Engine - trace.moe</a></li></ul></li><li><a href="https://www.newscientist.com/" target="_blank" rel="noopener">New Scientist | Science news and science articles from New Scientist</a></li><li><a href="https://eja.tv/" target="_blank" rel="noopener">3058 live iptv channels tested today in 78 different languages from 131 countries around the world.</a></li><li><a href="https://10why.net/" target="_blank" rel="noopener">åä¸‡ä¸ªä¸ºä»€ä¹ˆ - åœ¨çº¿é’å°‘å¹´ç™¾ç§‘å…¨ä¹¦</a></li><li><a href="https://cont.12315.cn/" target="_blank" rel="noopener">é¦–é¡µ - åˆåŒç¤ºèŒƒæ–‡æœ¬åº“ - å›½å®¶å¸‚åœºç›‘ç£ç®¡ç†æ€»å±€</a></li><li>åœ¨çº¿å¬æ­Œï¼š<a href="http://tools.liumingye.cn/music/?page=searchPage" target="_blank" rel="noopener">MyFreeMP3</a></li><li>å¬æ­Œè½¯ä»¶ï¼š<a href="https://lxmusic.toside.cn/" target="_blank" rel="noopener">æ´›é›ªéŸ³ä¹</a></li><li><a href="https://origami.kosmulski.org/blog/2022-10-23-fujimoto-books-public-domain" target="_blank" rel="noopener">æŠ˜çº¸ç½‘ç«™</a></li><li><a href="https://www.swyx.io/css-100-bytes" target="_blank" rel="noopener">100 Bytes of CSS to look great everywhere</a></li><li><a href="https://www.vocaloid.com/en/" target="_blank" rel="noopener">VOCALOID - the modern singing synthesizer -</a></li><li><a href="https://aerialscreensaver.github.io/" target="_blank" rel="noopener">Aerial - A free and open-source Mac Screen Saver</a></li><li><a href="https://github.com/mli/autocut" target="_blank" rel="noopener">AutoCut: é€šè¿‡å­—å¹•æ¥å‰ªåˆ‡è§†é¢‘</a></li><li><a href="https://metaphor.systems/" target="_blank" rel="noopener">Metaphor</a></li><li><a href="https://tholman.com/cursor-effects/" target="_blank" rel="noopener">90&#39;s Cursor Effects</a></li></ul><p>å±€åŸŸç½‘ä¼ è¾“ï¼š<a href="https://landrop.app/" target="_blank" rel="noopener">https://landrop.app/</a><br>æ­£ç‰ˆæ“ä½œç³»ç»Ÿä¸‹è½½ç½‘ç«™ï¼š<a href="https://next.itellyou.cn/" target="_blank" rel="noopener">https://next.itellyou.cn/</a></p><h2 id="å›¾ç‰‡ç¼–è¾‘"><a href="#å›¾ç‰‡ç¼–è¾‘" class="headerlink" title="å›¾ç‰‡ç¼–è¾‘"></a>å›¾ç‰‡ç¼–è¾‘</h2><ul><li>å›¾ç‰‡ç¼–è¾‘ï¼š<a href="https://edit.photo/" target="_blank" rel="noopener">Edit â€¢ Photo - The Free Online Photo Editor In Your Browser</a></li><li>æ“¦é™¤å›¾ç‰‡ä¸­ä¸éœ€è¦çš„éƒ¨åˆ†ï¼š<a href="https://www.magiceraser.io/" target="_blank" rel="noopener">Magic Eraser</a></li><li>ä¿æŒå›¾ç‰‡å†…å®¹ç¼©æ”¾å›¾ç‰‡ï¼š<a href="https://trekhleb.dev/js-image-carver/" target="_blank" rel="noopener">JS IMAGE CARVER</a></li><li>è€ç…§ç‰‡æ¢å¤ç½‘ç«™ï¼š<a href="https://app.baseten.co/apps/QPp4nPE/operator_views/RqgOnqV" target="_blank" rel="noopener">Baseten</a></li><li><a href="https://www.strmr.com/" target="_blank" rel="noopener">AI æ ¹æ®ç…§ç‰‡ç”Ÿæˆå¤´åƒ</a></li></ul><h2 id="ç¼–è¾‘-è¾“å‡º"><a href="#ç¼–è¾‘-è¾“å‡º" class="headerlink" title="ç¼–è¾‘ - è¾“å‡º"></a>ç¼–è¾‘ - è¾“å‡º</h2><ul><li>å›¾åºŠï¼š<a href="https://sm.ms" target="_blank" rel="noopener">sm.ms</a></li><li>æ•°å­¦ä½œå›¾è½¯ä»¶ï¼š<a href="https://www.geogebra.org/" target="_blank" rel="noopener">GeoGebra</a></li><li>è§†é¢‘ä¸‹è½½å™¨ï¼š<a href="https://zh.savefrom.net/126/" target="_blank" rel="noopener">Youtube è§†é¢‘ä¸‹è½½ - å…è´¹åœ¨çº¿ YouTube ä¸‹è½½å™¨</a></li><li><a href="https://www.deepl.com/translator" target="_blank" rel="noopener">DeepL ç¿»è¯‘ï¼šå…¨ä¸–ç•Œæœ€å‡†ç¡®çš„ç¿»è¯‘</a></li></ul><h2 id="ç¼–ç¨‹"><a href="#ç¼–ç¨‹" class="headerlink" title="ç¼–ç¨‹"></a>ç¼–ç¨‹</h2><h3 id="ç¼–ç¨‹é¡¹ç›®"><a href="#ç¼–ç¨‹é¡¹ç›®" class="headerlink" title="ç¼–ç¨‹é¡¹ç›®"></a>ç¼–ç¨‹é¡¹ç›®</h3><ul><li>ç”µå­ä¹¦é˜…è¯»å™¨ï¼š<a href="https://koreader.rocks/" target="_blank" rel="noopener">KOReader</a></li><li>ç™½æ¿å·¥å…·ï¼š<a href="https://github.com/kkoomen/pointless" target="_blank" rel="noopener">pointless</a></li><li>Run Python in Your HTMLï¼š<a href="https://pyscript.net/" target="_blank" rel="noopener">PyScript | Run Python in your HTML</a></li><li><a href="https://github.com/githubocto/repo-visualizer" target="_blank" rel="noopener">é¡¹ç›®å¯è§†åŒ–</a></li><li><a href="https://htmx.org/" target="_blank" rel="noopener">&lt;/&gt; htmx - high power tools for html</a></li><li><a href="https://www.vexipui.com/zh-CN" target="_blank" rel="noopener">Vexip UI - åˆ›é€ æœ‰è¶£çš„å¼€å‘ä½“éªŒ</a></li><li>å¼¹å¹•è§†å±æ’­æ”¾å™¨ï¼š<a href="https://nplayer.js.org/" target="_blank" rel="noopener">Powerful danmaku video player | NPlayer</a></li><li>ç¦»çº¿è¯­éŸ³è¯†åˆ«ï¼š<a href="https://alphacephei.com/vosk/index.zh" target="_blank" rel="noopener">Vosk ç¦»çº¿è¯­éŸ³è¯†åˆ«</a></li><li>macOS ä¸Šçš„ä¸€æ¬¾å°†ç³»ç»Ÿå£°éŸ³è¯†åˆ«æˆæ–‡å­—çš„è½¯ä»¶ï¼š<a href="https://www.engineerdraft.com/bemyears/" target="_blank" rel="noopener">EngineerDraft - BeMyEars å¬Â·è§å£°éŸ³</a></li><li><a href="https://devtool.tech/tree" target="_blank" rel="noopener">Markdown å‘ Tree ç›®å½•è½¬åŒ–ç”Ÿæˆå™¨Â· å¼€å‘è€…å·¥å…·ç®±</a></li><li><a href="https://binaryify.github.io/NeteaseCloudMusicApi/#/" target="_blank" rel="noopener">ç½‘æ˜“äº‘éŸ³ä¹ NodeJS ç‰ˆ API</a></li><li>ä»£ç è½¬ PNG å›¾ç‰‡ï¼ˆç¾åŒ–ï¼‰ï¼š<a href="https://www.codepng.app/" target="_blank" rel="noopener">Codepng | Create awesome images from your code.</a></li><li>éšæœºæä¾›ä¸€å¼ ç‹—ç‹—å›¾ï¼š<a href="https://place.dog/" target="_blank" rel="noopener">place.dog</a></li><li>éšæœºæä¾›ä¸€å¼ çŒ«å›¾ï¼š<a href="https://placekitten.com/" target="_blank" rel="noopener">{placekitten} - Placeholder kitten images for developers</a></li><li><a href="https://md-block.verou.me/" target="_blank" rel="noopener">md-block: Render styleable Markdown in your HTML</a></li><li>æ­£åˆ™è¡¨è¾¾å¼å¯è§†åŒ–ï¼š<ul><li><a href="https://jex.im/regulex/#!flags=&amp;re=%5E(a%7Cb" target="_blank" rel="noopener">Regulexï¼šJavaScript Regular Expression Visualizer</a>*%3F%24&gt;)</li><li><a href="https://devtoolcafe.com/tools/regex#!flags=img&amp;re=" target="_blank" rel="noopener">Regular Expression Tester and Visualizer</a></li></ul></li><li>ç¼–è¯‘åŸç†ï¼š<ul><li><a href="http://craftinginterpreters.com/" target="_blank" rel="noopener">Crafting Interpreters</a></li><li><a href="https://pandolia.net/tinyc/" target="_blank" rel="noopener">è‡ªå·±åŠ¨æ‰‹å†™ç¼–è¯‘å™¨ â€” è‡ªå·±åŠ¨æ‰‹å†™ç¼–è¯‘å™¨</a></li><li>JavaScript ASTï¼š<ul><li><a href="https://esprima.org/demo/parse.html#" target="_blank" rel="noopener">Esprima: Parser</a></li><li><a href="https://astexplorer.net/" target="_blank" rel="noopener">AST explorer</a></li></ul></li></ul></li><li>æŠŠ C++ä»£ç è½¬æˆ Rustï¼š<a href="https://c2rust.com/" target="_blank" rel="noopener">C2Rust Demonstration</a></li><li>hexo ä¸»é¢˜ï¼š<ul><li><a href="https://github.com/solstice23/argon-theme" target="_blank" rel="noopener">argon</a></li></ul></li><li>è¡¨æƒ…æ··åˆå™¨ï¼š<a href="https://tikolu.net/emojimix/" target="_blank" rel="noopener">emojimix by Tikolu</a></li><li><a href="https://github.com/babysor/MockingBird" target="_blank" rel="noopener">AI æ‹Ÿå£°: 5 ç§’å†…å…‹éš†æ‚¨çš„å£°éŸ³å¹¶ç”Ÿæˆä»»æ„è¯­éŸ³å†…å®¹</a></li><li>å±±æ°´ç”»ç”Ÿæˆï¼š<a href="https://zverok.space/blog/2021-12-28-grok-shan-shui.html" target="_blank" rel="noopener">Grok {Shan, Shui}*: Advent of understanding the generative art</a></li><li><a href="https://blog.indigo.codes/2019/03/22/_60000002-h5-alipay-app/" target="_blank" rel="noopener">å®ç°ä¸€ä¸ªèš‚èšæ£®æ—è‡ªåŠ¨æ”¶èƒ½é‡è¾…åŠ©å·¥å…· | é›é’åšå®¢</a></li><li><a href="https://marc.io/tweet-photo-acquired" target="_blank" rel="noopener">Tweet Photo got acquired | Marc KÃ¶hlbrugge</a></li><li><a href="https://www.wdbyte.com/java/char-image.html#_1-%E5%AD%97%E7%AC%A6%E5%9B%BE%E6%A1%88%E6%80%9D%E8%B7%AF" target="_blank" rel="noopener">å­—ç¬¦ä½œç”»ï¼Œæˆ‘ç”¨å­—ç¬¦ç”»ä¸ªå†°å¢©å¢©</a></li><li><a href="https://countercomplex.blogspot.com/2011/10/algorithmic-symphonies-from-one-line-of.html" target="_blank" rel="noopener">countercomplex: Algorithmic symphonies from one line of code -- how and why?</a></li><li><a href="https://gyroflow.xyz/" target="_blank" rel="noopener">Gyroflow v1.1 is out! | Gyroflow</a></li><li><a href="https://github.com/michelpereira/awesome-open-source-games" target="_blank" rel="noopener">Awesome Open Source Games</a></li><li><a href="https://cstack.github.io/db_tutorial/" target="_blank" rel="noopener">How Does a Database Work? | Letâ€™s Build a Simple Database</a></li><li><a href="https://sqlite.org/althttpd/doc/trunk/althttpd.md" target="_blank" rel="noopener">Althttpd: The Althttpd Webserver</a></li><li><a href="https://www.zhihu.com/question/23657034" target="_blank" rel="noopener">å¦‚ä½•å†™ä¸€ä¸ª web æœåŠ¡å™¨ï¼Ÿ</a></li><li><a href="https://brennan.io/2015/01/16/write-a-shell-in-c/" target="_blank" rel="noopener">Tutorial - Write a Shell in C â€¢ Stephen Brennan</a></li><li><a href="https://github.com/94fzb/simplewebserver" target="_blank" rel="noopener">SimpleWebServer æ˜¯ä¸€æ¬¾ä½¿ç”¨ Java åŸºäº NIO ç¼–å†™çš„è¶…è½»é‡çº§å¼€æº Web Application Server</a></li><li><a href="http://csapp.cs.cmu.edu/public/ics2/code/netp/tiny/tiny.c" target="_blank" rel="noopener">tiny.c - A simple, iterative HTTP/1.0 Web server that uses the GET method to serve static and dynamic content.</a></li><li><a href="http://zyearn.com/blog/2015/05/16/how-to-write-a-server/" target="_blank" rel="noopener">å¦‚ä½•å†™ä¸€ä¸ª Web æœåŠ¡å™¨</a></li><li><a href="https://github.com/aosabook/500lines/tree/master/web-server" target="_blank" rel="noopener">500lines/web-server at master Â· aosabook/500lines</a></li><li>100 è¡Œå®ç°çš„ react è·¯ç”±ï¼š<a href="https://github.com/ashok-khanna/react-snippets/blob/main/Router.js" target="_blank" rel="noopener">ashok-khanna/react-snippets</a></li><li><a href="https://mp.weixin.qq.com/s/kqNehDyBlCZ5tDlPSXJpKg" target="_blank" rel="noopener">å¦‚ä½•ä»é›¶å¼€å§‹å¼€å‘ä¸€ä¸ª Chrome æ’ä»¶ï¼Ÿ</a></li><li><a href="https://tinyprojects.dev/posts/i_spent_two_years_launching_tiny_projects" target="_blank" rel="noopener">I Spent 2 years Launching Tiny Projects | Tiny Projects</a></li><li><a href="https://github.com/eryajf/HowToStartOpenSource" target="_blank" rel="noopener">GitHub å¼€æºé¡¹ç›®ç»´æŠ¤åä½œæŒ‡å—</a></li><li><a href="https://charliegerard.dev/blog/aircraft-radar-system-rtl-sdr-web-usb/" target="_blank" rel="noopener">Building an aircraft radar system in JavaScript</a></li></ul><h3 id="ç¼–ç¨‹å·¥å…·"><a href="#ç¼–ç¨‹å·¥å…·" class="headerlink" title="ç¼–ç¨‹å·¥å…·"></a>ç¼–ç¨‹å·¥å…·</h3><ul><li>Typescript ç¼–è¯‘ç½‘ç«™ï¼š<a href="https://www.typescriptlang.org/play/index.html" target="_blank" rel="noopener">TypeScript: TS Playground - An online editor for exploring TypeScript and JavaScript</a></li><li><a href="https://sfc.vuejs.org/" target="_blank" rel="noopener">Vue SFC Playground</a></li><li>å¯è§†åŒ–ç¼–ç¨‹ï¼š<a href="https://pythontutor.com/" target="_blank" rel="noopener">Python Tutor: Learn Python, JavaScript, C, C++, and Java by visualizing code</a></li><li>åœ¨çº¿ç¼–ç¨‹ç¯å¢ƒï¼š<a href="https://stackblitz.com/" target="_blank" rel="noopener">StackBlitz | Instant Dev Environments | Click. Code. Done. - StackBlitz</a></li><li>æ­£åˆ™æµ‹è¯•ç½‘ç«™ï¼š<a href="https://regexr.com/" target="_blank" rel="noopener">RegExr: Learn, Build, &amp; Test RegEx</a></li><li>json æ ¡éªŒï¼š<a href="https://www.bejson.com/" target="_blank" rel="noopener">åœ¨çº¿ JSON æ ¡éªŒæ ¼å¼åŒ–å·¥å…·ï¼ˆBe JSONï¼‰</a></li><li>æ— ä»£ç ï¼š<ul><li>UI è®¾è®¡ç¨¿è½¬å‰ç«¯ä»£ç ï¼š<a href="https://code.fun/" target="_blank" rel="noopener">CodeFun - UI è®¾è®¡ç¨¿æ™ºèƒ½ç”Ÿæˆæºä»£ç </a></li><li><a href="https://bubble.io/" target="_blank" rel="noopener">The best way to build web apps without code | Bubble</a></li><li><a href="https://aspect.app/" target="_blank" rel="noopener">Aspect â€” Build UI, fast</a></li></ul></li><li>ä½ä»£ç ï¼š<ul><li><a href="https://www.h5ds.com/aboutus" target="_blank" rel="noopener">H5DS6.x å››å·çˆ±è¶£äº”ç§‘æŠ€æœ‰é™å…¬å¸</a></li></ul></li><li>HTTPS è¯ä¹¦ç”³è¯·ï¼š<ul><li><a href="https://ohttps.com/signin" target="_blank" rel="noopener">OHTTPS - å…è´¹ HTTPS è¯ä¹¦ã€è‡ªåŠ¨æ›´æ–°ã€è‡ªåŠ¨éƒ¨ç½²</a></li><li><a href="https://freessl.cn/" target="_blank" rel="noopener">FreeSSL é¦–é¡µ - FreeSSL.cn ä¸€ä¸ªæä¾›å…è´¹ HTTPS è¯ä¹¦ç”³è¯·çš„ç½‘ç«™</a></li></ul></li><li><a href="https://github.com/public-api-lists/public-api-lists" target="_blank" rel="noopener">Public API Lists</a></li><li><a href="https://www.solidjs.com/" target="_blank" rel="noopener">SolidJS Â· Reactive Javascript Library</a></li><li>å¸¸ç”¨è½¯ä»¶çš„é»‘è‰²ä¸»é¢˜ï¼š<a href="https://draculatheme.com/" target="_blank" rel="noopener">Dracula â€” Dark theme for 271+ apps</a></li><li><a href="https://wangchujiang.com/reference/" target="_blank" rel="noopener">Quick Reference</a></li></ul><h3 id="ç¼–ç¨‹å­¦ä¹ "><a href="#ç¼–ç¨‹å­¦ä¹ " class="headerlink" title="ç¼–ç¨‹å­¦ä¹ "></a>ç¼–ç¨‹å­¦ä¹ </h3><ul><li><a href="https://leetcode.cn/" target="_blank" rel="noopener">leetcode</a></li><li><a href="https://oi-wiki.org/" target="_blank" rel="noopener">IO Wiki</a></li><li><a href="https://cn-vuejs-challenges.netlify.app/" target="_blank" rel="noopener">Vue.js æŒ‘æˆ˜ | ä¸€ä¸ª Vue.js åœ¨çº¿æŒ‘æˆ˜å¹³å°</a></li><li><a href="https://zhihua-lai.com/teaching/ch/" target="_blank" rel="noopener">æ•™å­©å­å’Œå¦»å­ç¼–ç¨‹ | ç®—æ³•å’Œæ•°æ®ç»“æ„æ•™ç¨‹è§†é¢‘</a></li><li><a href="https://evmn.github.io/post/2021-12-31-PoC-or-GTFO.html" target="_blank" rel="noopener">International Journal of PoC or GTFO (Proof-of-Concept or Get The Fuck Out) | evmn.github.io</a></li><li>WebAssembly<ul><li><a href="https://mbebenita.github.io/WasmExplorer/" target="_blank" rel="noopener">WebAssembly Explorer</a></li><li><a href="https://www.assemblyscript.org/" target="_blank" rel="noopener">A TypeScript-like language for WebAssembly</a></li></ul></li><li>æ‰“åŒ…<ul><li><a href="https://zh.parceljs.org/" target="_blank" rel="noopener">Parcel ä¸­æ–‡ç½‘</a></li></ul></li><li>WebGL<ul><li><a href="https://webgl2fundamentals.org/webgl/lessons/zh_cn/" target="_blank" rel="noopener">WebGL2 ç†è®ºåŸºç¡€</a></li></ul></li><li>ç¨‹åºå‘˜èƒ½åŠ›çŸ©é˜µï¼š<a href="https://sijinjoseph.netlify.app/programmer-competency-matrix/" target="_blank" rel="noopener">Programmer Competency Matrix | Sijin Joseph</a></li><li>è‡ªå­¦è®¡ç®—æœºç§‘å­¦ï¼š<a href="https://teachyourselfcs.com/" target="_blank" rel="noopener">Teach Yourself Computer Science</a></li><li>å¯†ç å­¦å…è´¹è¯¾ç¨‹ï¼š<a href="https://www.crypto101.io/" target="_blank" rel="noopener">Crypto 101</a></li><li>å›¾å½¢å­¦å…è´¹æ•™ç¨‹ï¼š<a href="https://learnopengl-cn.github.io/" target="_blank" rel="noopener">LearnOpenGL CN</a></li><li>å¤ºæ——èµ›ç®€ä»‹ï¼š<a href="https://ctf-wiki.org/" target="_blank" rel="noopener">ç®€ä»‹ - CTF Wiki</a></li><li>æ•°æ®åº“è§£é¢˜ç½‘ç«™ï¼š<a href="https://www.stratascratch.com/" target="_blank" rel="noopener">Master Coding for Data Science - StrataScratch</a></li><li>python åº“æŸ¥è¯¢ç½‘ç«™ï¼š<a href="https://pypi.org/" target="_blank" rel="noopener">PyPI Â· The Python Package Index</a></li><li>å¼€æºåº”ç”¨ç¨‹åºï¼š<a href="http://www.aosabook.org/en/index.html" target="_blank" rel="noopener">The Architecture of Open Source Applications</a></li><li>vue åŸç†è§£æï¼š<a href="https://github.com/berwin/Blog/issues/17" target="_blank" rel="noopener">æ·±å…¥æµ…å‡º - vue å˜åŒ–ä¾¦æµ‹åŸç†</a></li><li>æ·±å…¥å­¦ä¹  CSSï¼š<a href="https://css-tricks.com/" target="_blank" rel="noopener">CSS-Tricks - Tips, Tricks, and Techniques on using Cascading Style Sheets.</a></li><li><a href="http://mp.ituring.com.cn/editor?bookName=JavaScriptBookV4" target="_blank" rel="noopener">JavaScript é«˜çº§ç¨‹åºè®¾è®¡ç¬¬å››ç‰ˆä»£ç  demo</a></li><li>å¼€æºç¤¾åŒºï¼š<a href="https://linuxstory.org/" target="_blank" rel="noopener">LinuxStory - æœ€æ–°çš„ Linux å’Œæ“ä½œç³»ç»Ÿèµ„è®¯</a></li><li>ç¨‹åºå‘˜ç¤¾åŒºï¼š<a href="https://www.v2ex.com/" target="_blank" rel="noopener">V2EX</a></li><li>è®¡ç®—æœºæœ¬ç§‘è¯¾ç¨‹ä½“ç³»ï¼š<a href="https://study.163.com/curricula/cs.htm" target="_blank" rel="noopener">ç½‘æ˜“äº‘è¯¾å ‚ - é¡¶å°–ä¸­æ–‡å¤§å­¦è®¡ç®—æœºä¸“ä¸šè¯¾ç¨‹ä½“ç³»</a></li><li><a href="https://labuladong.github.io/algo/" target="_blank" rel="noopener">LABULADONG çš„ç®—æ³•ç½‘ç«™</a></li><li><a href="https://csdiy.wiki/" target="_blank" rel="noopener">CS è‡ªå­¦æŒ‡å—</a></li><li><a href="https://www.hackerrank.com/dashboard" target="_blank" rel="noopener">åšé¢˜ç½‘ç«™</a></li><li><a href="https://github.com/zhaoolee/pi" target="_blank" rel="noopener">æ ‘è“æ´¾é˜²åƒç°æŒ‡å—</a></li><li><a href="https://edu.aliyun.com/roadmap/frontend" target="_blank" rel="noopener">å‰ç«¯å¼€å‘å­¦ä¹ è·¯çº¿ï¼ˆå­¦+æµ‹ï¼‰ - é˜¿é‡Œäº‘å…¨çƒåŸ¹è®­ä¸­å¿ƒ</a></li><li><a href="https://missing-semester-cn.github.io/" target="_blank" rel="noopener">è®¡ç®—æœºæ•™è‚²ä¸­ç¼ºå¤±çš„ä¸€è¯¾ Â· the missing semester of your cs education</a></li><li><a href="https://juejin.cn/post/6973865268426571784" target="_blank" rel="noopener">ä¸‰ç§å‰ç«¯å®ç° VR å…¨æ™¯çœ‹æˆ¿çš„æ–¹æ¡ˆï¼è¯´ä¸å®šå“ªå¤©å°±ç”¨å¾—ä¸Šï¼ - æ˜é‡‘</a></li><li><a href="https://backlog.com/git-tutorial/cn/" target="_blank" rel="noopener">çŒ´å­éƒ½èƒ½æ‡‚çš„ GIT å…¥é—¨ | è´æ ¼ä¹ï¼ˆBacklogï¼‰</a></li><li><a href="https://www.lodashjs.com/" target="_blank" rel="noopener">Lodash ç®€ä»‹ | Lodash ä¸­æ–‡æ–‡æ¡£ | Lodash ä¸­æ–‡ç½‘</a></li><li><a href="http://blog.coderhuo.tech/2017/10/19/Virtual_Memory_summary/" target="_blank" rel="noopener">è™šæ‹Ÿå†…å­˜æ¢ç©¶ï¼Œæ·±å…¥ç†è§£è¿›ç¨‹åœ°å€ç©ºé—´</a></li><li><a href="https://mp.weixin.qq.com/s?__biz=MzU3OTc1MDM1Mg==&amp;mid=2247509757&amp;idx=2&amp;sn=44afb2cdc96f85ee55373fed1eed3609&amp;chksm=fd63b642ca143f54eb13b9a5627484c319fd31ba89746e87a15c99c3493d8736c56bd2cc4f2e&amp;scene=132#wechat_redirect" target="_blank" rel="noopener">æ–‡ä»¶ç³»ç»Ÿä»‹ç»</a></li><li><a href="https://www.ipprimer.com/#/" target="_blank" rel="noopener">Daryl&#39;s TCP/IP Primer</a></li><li><a href="https://www.lanqiao.cn/courses/?from_login_page=true" target="_blank" rel="noopener">è“æ¡¥äº‘è¯¾</a></li><li><a href="https://launchschool.com/books/http" target="_blank" rel="noopener">Introductory HTTP - Beginner-friendly book on HTTP</a></li><li><a href="https://andreasbm.github.io/web-skills/" target="_blank" rel="noopener">Web Skills</a></li><li><a href="http://gameprogrammingpatterns.com/" target="_blank" rel="noopener">Game Programming Patterns</a></li><li>è®¾è®¡æ¨¡å¼ï¼š<ul><li><a href="https://refactoring.guru/design-patterns/catalog" target="_blank" rel="noopener">The Catalog of Design Patterns</a></li><li>å‰ç«¯å¼€å‘è®¾è®¡æ¨¡å¼ï¼š<a href="https://www.patterns.dev/" target="_blank" rel="noopener">Patterns.dev - Modern Web App Design Patterns</a></li></ul></li><li>å‰ç«¯å­¦ä¹ è§†é¢‘ï¼š<a href="https://www.bilibili.com/read/cv5650633" target="_blank" rel="noopener">2022 å¹´åº¦å…¨ç½‘æœ€å…¨ Web å‰ç«¯å­¦ä¹ è·¯çº¿</a></li><li>CTFï¼š<ul><li><a href="https://ctfever.uniiem.com/" target="_blank" rel="noopener">CTFever Toolkit by uniiem</a></li><li><a href="https://book.hacktricks.xyz/welcome/readme" target="_blank" rel="noopener">HackTricks - HackTricks</a></li><li><a href="https://www.ctfhub.com/#/index" target="_blank" rel="noopener">CTFHub</a></li><li><a href="http://www.wechall.net/sites.php" target="_blank" rel="noopener">We Chall</a></li><li><a href="http://ctf.forgottensec.com/wiki/index.php?title=Main_Page" target="_blank" rel="noopener">Forgotten Securityâ€™s CTF Wiki</a></li></ul></li><li>linux:<ul><li><a href="https://www.madebygps.com/an-intro-to-finding-things-in-linux/" target="_blank" rel="noopener">An intro to finding things in Linux</a></li><li>ä¸€è¡Œå‘½ä»¤ï¼š<a href="https://github.com/onceupon/Bash-Oneliner" target="_blank" rel="noopener">Bash-Oneliner</a></li></ul></li><li><a href="https://css-tricks.com/send-an-http-request-on-page-exit/" target="_blank" rel="noopener">Reliably Send an HTTP Request as a User Leaves a Page | CSS-Tricks - CSS-Tricks</a></li><li><a href="https://www.zhihu.com/column/c_1519079232848785408" target="_blank" rel="noopener">Tauri ç³»åˆ— - çŸ¥ä¹</a></li><li><a href="https://www.adriancooney.ie/blog/web-scraping-via-javascript-heap-snapshots" target="_blank" rel="noopener">Web Scraping via Javascript Runtime Heap Snapshots - Adrian Cooney&#39;s Blog</a></li><li><a href="https://abyteofcoding.com/blog/oauth-with-cloudflare-workers-on-a-statically-generated-site/" target="_blank" rel="noopener">OAuth with Cloudflare Workers on a Statically Generated Site</a></li><li><a href="https://sidbala.com/h-264-is-magic/" target="_blank" rel="noopener">ä»‹ç»äº†ä¸€ç§å‹ç¼©ç®—æ³•ï¼šH.264 is Magic</a></li><li><a href="https://tls13.xargs.org/" target="_blank" rel="noopener">The Illustrated TLS 1.3 Connection</a></li><li><a href="https://www.datadoghq.com/three-pillars-of-observability/" target="_blank" rel="noopener">Three Pillars of Observability | Datadog</a></li><li><a href="https://fusionauth.io/blog/2022/09/13/what-is-webauthn-why-do-you-care" target="_blank" rel="noopener">What is WebAuthn and why should you care? - FusionAuth</a></li></ul><h3 id="å‰ç«¯é¢è¯•"><a href="#å‰ç«¯é¢è¯•" class="headerlink" title="å‰ç«¯é¢è¯•"></a>å‰ç«¯é¢è¯•</h3><ul><li><a href="https://www.yuque.com/tuture/interview/wrzl64" target="_blank" rel="noopener">è…¾è®¯ IVWebï¼ˆä¸€é¢ï¼‰</a></li><li><a href="https://juejin.cn/post/6844903767226351623" target="_blank" rel="noopener">ä¹ç§è·¨åŸŸæ–¹å¼å®ç°åŸç†ï¼ˆå®Œæ•´ç‰ˆï¼‰ - æ˜é‡‘</a></li><li><a href="https://mp.weixin.qq.com/mp/homepage?__biz=MzIzNjgxNzAzOQ==&amp;hid=1&amp;sn=4e8e6275b659d76fbfa3d3d17a87698a&amp;scene=1&amp;uin=&amp;key=&amp;devicetype=iMac+Macmini8%2C1+OSX+OSX+11.3.1+build" target="_blank" rel="noopener">å¸¸è§å‰ç«¯é¢è¯•é¢˜</a></li><li><a href="https://juejin.cn/post/7061588533214969892" target="_blank" rel="noopener">åšäº†ä¸€ä»½å‰ç«¯é¢è¯•å¤ä¹ è®¡åˆ’ï¼Œä¿ç†Ÿï½ - æ˜é‡‘</a></li><li><a href="https://zhuanlan.zhihu.com/p/43369093" target="_blank" rel="noopener">æµè§ˆå™¨è¾“å…¥ URL åå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ - çŸ¥ä¹</a></li><li><a href="https://zhuanlan.zhihu.com/p/60033345" target="_blank" rel="noopener">è®©é¢è¯•å®˜è†œæ‹œä½ çš„ HTTPS è¿è¡Œæµç¨‹ï¼ˆè¶…è¯¦ç»†ï¼‰ - çŸ¥ä¹</a></li><li><a href="https://zhuanlan.zhihu.com/p/43789231" target="_blank" rel="noopener">å½»åº•ææ‡‚ HTTPS çš„åŠ å¯†åŸç† - çŸ¥ä¹</a></li><li><a href="https://xjl271314.github.io/docs/http/#tls-ssl-%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86" target="_blank" rel="noopener">HTTP ç›¸å…³çŸ¥è¯† | å‰ç«¯å·¥ç¨‹å¸ˆæˆé•¿è·¯çº¿</a></li><li><a href="https://www.jianshu.com/p/e30a8c4fa329" target="_blank" rel="noopener">HTTPS åŠ å¯†ï¼ˆæ¡æ‰‹ï¼‰è¿‡ç¨‹ - ç®€ä¹¦</a></li><li><a href="https://segmentfault.com/a/1190000021494676" target="_blank" rel="noopener">HTTPS è¯¦è§£ä¸€ï¼šé™„å¸¦æœ€ç²¾ç¾è¯¦å°½çš„ HTTPS åŸç†å›¾ - SegmentFault æ€å¦</a></li><li><a href="https://segmentfault.com/a/1190000019976390" target="_blank" rel="noopener">HTTPS åŠ å¯†è¿‡ç¨‹è¯¦è§£ - SegmentFault æ€å¦</a></li><li><a href="https://muyiy.cn/blog/" target="_blank" rel="noopener">é«˜çº§å‰ç«¯è¿›é˜¶åšæ–‡ | æœ¨æ˜“æ¨å‰ç«¯è¿›é˜¶</a></li><li><a href="https://muyiy.cn/" target="_blank" rel="noopener">æœ¨æ˜“æ¨å‰ç«¯è¿›é˜¶</a></li><li><a href="https://juejin.cn/post/6844904078288355341#heading-101" target="_blank" rel="noopener">å‰ç«¯é¢è¯•å¸¸è§çš„çŸ¥è¯†ç‚¹ï¼ˆå››å¤„æœåˆ®ï¼‰ğŸ’» - æ˜é‡‘</a></li><li><a href="https://juejin.cn/post/6844903988081475591" target="_blank" rel="noopener">å¯èƒ½æ˜¯æœ€å…¨çš„ â€œæ–‡æœ¬æº¢å‡ºæˆªæ–­çœç•¥â€ æ–¹æ¡ˆåˆé›† - æ˜é‡‘</a></li><li><a href="https://github.com/Advanced-Frontend/Daily-Interview-Question" target="_blank" rel="noopener">Daily-Interview-Question</a></li><li><a href="https://muyiy.cn/question/" target="_blank" rel="noopener">å£¹é¢˜æ±‡æ€» | æœ¨æ˜“æ¨å‰ç«¯è¿›é˜¶</a></li><li><a href="https://juejin.cn/post/6844903909194989575" target="_blank" rel="noopener">å¤§æ­ç§˜ï¼â€œææ€–â€çš„é˜¿é‡Œä¸€é¢ï¼Œæˆ‘ç©¶ç«Ÿæƒ³é—®ä»€ä¹ˆ - æ˜é‡‘</a></li><li><a href="https://juejin.cn/post/6844904070579240974#heading-8" target="_blank" rel="noopener">æŒ‘æˆ˜ä¸€è½®å¤§å‚åçš„é¢è¯•æ€»ç»“ (å«å…­ä¸ªæ–¹å‘) - javascript ç¯‡(ä¸‡å­—é•¿æ–‡) - æ˜é‡‘</a></li><li>JavaScript åŸå‹é“¾ï¼š<a href="http://www.mollypages.org/tutorials/js.mp" target="_blank" rel="noopener">Javascript Object Hierarchy</a></li><li><a href="https://juejin.cn/post/6940945178899251230" target="_blank" rel="noopener">ã€Œ2021ã€é«˜é¢‘å‰ç«¯é¢è¯•é¢˜æ±‡æ€»ä¹‹ JavaScript ç¯‡ï¼ˆä¸Šï¼‰ - æ˜é‡‘</a></li><li><a href="https://juejin.cn/post/6847902225423925255" target="_blank" rel="noopener">2020 æœ€æ–°ï¼š100 é“æœ‰ç­”æ¡ˆçš„å‰ç«¯é¢è¯•é¢˜ï¼ˆä¸Šï¼‰ - æ˜é‡‘</a></li><li><a href="https://www.bilibili.com/read/cv10115331" target="_blank" rel="noopener">2021 å¹´ web å‰ç«¯å¼€å‘ç»å…¸é¢è¯•é¢˜æ€»ç»“æ•´ç†ï¼ˆå»ºè®®æ”¶è—ï¼‰ - å“”å“©å“”å“©</a></li><li><a href="https://github.com/haizlin/fe-interview" target="_blank" rel="noopener">å‰ç«¯é¢è¯•æ¯æ—¥ 3+1ï¼Œä»¥é¢è¯•é¢˜æ¥é©±åŠ¨å­¦ä¹ ï¼Œæå€¡æ¯æ—¥å­¦ä¹ ä¸æ€è€ƒï¼Œæ¯å¤©è¿›æ­¥ä¸€ç‚¹ï¼</a></li><li><a href="https://segmentfault.com/a/1190000021966814" target="_blank" rel="noopener">Web ä¸­é«˜çº§å‰ç«¯é¢è¯•é¢˜é›†åˆï¼ˆ200+ï¼‰ - SegmentFault æ€å¦</a></li><li><a href="https://lucifer.ren/fe-interview/#/" target="_blank" rel="noopener">å¤§å‰ç«¯é¢è¯•å®å…¸ - å›¾è§£å‰ç«¯</a></li><li><a href="https://q.shanyue.tech/deploy/" target="_blank" rel="noopener">ä¸“æ ä»‹ç» | å‰ç«¯éƒ¨ç½²åäº”ç¯‡ | å¤§å‚é¢è¯•</a></li><li><a href="https://q.shanyue.tech/engineering/" target="_blank" rel="noopener">å‰è¨€ | å¤§å‚é¢è¯•é¢˜æ¯æ—¥ä¸€é¢˜</a></li><li><a href="https://jiuto.github.io/jiuto_blog/guide/js/proto.html" target="_blank" rel="noopener">ç†è§£ js åŸå‹ã€åŸå‹é“¾å’Œç»§æ‰¿ | Jiuto&#39;s blog</a></li><li><a href="https://github.com/mqyqingfeng/Blog/issues/2" target="_blank" rel="noopener">JavaScript æ·±å…¥ç³»åˆ—</a></li></ul><h2 id="UI-è®¾è®¡"><a href="#UI-è®¾è®¡" class="headerlink" title="UI è®¾è®¡"></a>UI è®¾è®¡</h2><ul><li>iconï¼š<ul><li><a href="https://fontawesome.com/icons?d=gallery" target="_blank" rel="noopener">Font Awesome</a></li><li><a href="https://www.iconfinder.com/" target="_blank" rel="noopener">iconfinder</a></li><li><a href="https://iconic.app/" target="_blank" rel="noopener">Iconic â€” Free â€œdo wtf you want withâ€ pixel-perfect icons</a></li><li><a href="https://www.iconfont.cn/" target="_blank" rel="noopener">iconfont-é˜¿é‡Œå·´å·´çŸ¢é‡å›¾æ ‡åº“</a></li></ul></li><li>UI é¢œè‰²é€‰æ‹©ç½‘ç«™ï¼š<a href="http://khroma.co/train/" target="_blank" rel="noopener">Khroma - The AI color tool for designers</a></li></ul><h2 id="æ•°æ®"><a href="#æ•°æ®" class="headerlink" title="æ•°æ®"></a>æ•°æ®</h2><ul><li>è‚¡ç¥¨æ•°æ®ï¼š<a href="http://50.push2his.eastmoney.com/api/qt/stock/kline/get?secid=0.000597&amp;fields1=f1%2Cf2%2Cf3%2Cf4%2Cf5&amp;fields2=f51%2Cf52%2Cf53%2Cf54%2Cf55%2Cf56%2Cf57%2Cf58&amp;klt=101&amp;fqt=0&amp;end=20500101&amp;lmt=100000" target="_blank" rel="noopener">å•åªè‚¡ç¥¨æ•°æ®</a></li></ul><h2 id="åŠ å¯†è´§å¸"><a href="#åŠ å¯†è´§å¸" class="headerlink" title="åŠ å¯†è´§å¸"></a>åŠ å¯†è´§å¸</h2><ul><li><a href="https://monero.herominers.com/#" target="_blank" rel="noopener">é—¨ç½—å¸çŸ¿æ±  - heromiers</a></li><li><a href="https://wallet.mymonero.com/" target="_blank" rel="noopener">é—¨ç½—å¸ç½‘é¡µç‰ˆé’±åŒ… - mymonero</a></li><li><a href="https://stake.axieinfinity.com/" target="_blank" rel="noopener">AXS Staking Dashboard</a></li><li><a href="https://app.axieinfinity.com/marketplace/axies/" target="_blank" rel="noopener">axie å¸‚åœº</a></li></ul><h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><ul><li>å›½å¤–æœåŠ¡å™¨ï¼š<a href="https://bandwagonhost.com/services" target="_blank" rel="noopener">æ¬ç“¦å·¥</a></li><li>macos<ul><li>å£çº¸è½¯ä»¶ï¼š<a href="https://leonspok.com/irvue/landing/" target="_blank" rel="noopener">irvue</a></li><li>ç¿»å¢™å·¥å…·ï¼š<a href="https://install.appcenter.ms/users/clashx/apps/clashx-pro/distribution_groups/public" target="_blank" rel="noopener">ClashX pro</a>ï¼Œè´­ä¹°æœåŠ¡åœ°å€ï¼š<a href="https://portal.shadowsocks.nz/login" target="_blank" rel="noopener">https://portal.shadowsocks.nz/login</a></li></ul></li><li><a href="https://github.com/gfwlist/gfwlist" target="_blank" rel="noopener">gfwlist</a>ï¼š<a href="https://raw.githubusercontent.com/gfwlist/gfwlist/master/gfwlist.txt" target="_blank" rel="noopener">https://raw.githubusercontent.com/gfwlist/gfwlist/master/gfwlist.txt</a></li><li>äººä½“æ„é€ ï¼š<a href="https://www.3dbody.com/" target="_blank" rel="noopener">3dbody</a></li><li>æˆ¿å±‹è®¾è®¡ç½‘ç«™ï¼š<a href="https://www.homestyler.com/" target="_blank" rel="noopener">homestyler</a></li><li>å®å†µæ‘„åƒå¤´ï¼š<a href="https://www.skylinewebcams.com/" target="_blank" rel="noopener">å…¨çƒé«˜æ¸…å®å†µæ‘„åƒå¤´ï¼ - SkylineWebcams</a></li><li>markdown ç®€å†ç¼–è¾‘å™¨ï¼š<ul><li><a href="https://cv.devtool.tech/app" target="_blank" rel="noopener">å±±æœˆ-å‰ç«¯å·¥ç¨‹å¸ˆ-ä¸€çº¸ç®€å†</a></li><li><a href="https://www.mujicv.com/" target="_blank" rel="noopener">å…è´¹ MarkDown åœ¨çº¿ç®€å†-ä¸“ä¸šç®€å†åˆ¶ä½œå·¥å…·-æœ¨åŠç®€å†</a></li></ul></li><li><a href="https://tokeninsight-support.gitbook.io/ti_defi/" target="_blank" rel="noopener">DeFi çŸ¥è¯†åº“</a></li><li><a href="https://lbsyun.baidu.com/jsdemo/demo/yLngLatLocation.htm" target="_blank" rel="noopener">æ ¹æ®ç»çº¬åº¦å®šä½</a></li><li>æ—¥æœ¬å¤å»ºç­‘ï¼š<a href="https://www.nakam.info/jp/works/kamikatsu0/" target="_blank" rel="noopener">KAMIKATSU ZERO WASTE CENTER | Hiroshi Nakamura &amp; NAP ï½œä¸­æ‘æ‹“å¿—ï¼†NAP å»ºç¯‰è¨­è¨ˆäº‹å‹™æ‰€</a></li><li>ç®¡é£ç´éŸ³ä¹ï¼š<a href="http://my-music-diary.com/" target="_blank" rel="noopener">My Music Diary</a></li><li>å¥èº«ï¼š<a href="https://darebee.com/workouts.html" target="_blank" rel="noopener">DAREBEE 1800+ Workouts</a></li><li>æ•°å­¦ï¼š<a href="https://www.dogatekin.com/blog/hypnotic-degenerate-spirals/" target="_blank" rel="noopener">Doga Tekin&#39;s Blog | The Hypnotic World of Degenerate Spirals</a></li><li>ç‰©ç†ï¼š<a href="https://landgreen.github.io/physics/notes/motion/motion/" target="_blank" rel="noopener">Motion</a></li><li>å¥³ä¼˜æ”¶é›†ç½‘ç«™ï¼š<a href="https://xslist.org/" target="_blank" rel="noopener">JAV Model listing</a></li><li>AV èµ„æºï¼š<a href="https://avhd101.com" target="_blank" rel="noopener">AVHD101</a></li><li>bt èµ„æºç½‘ç«™ï¼š<a href="https://bt4g.org" target="_blank" rel="noopener">bt4g</a></li><li><a href="https://afdian.com/" target="_blank" rel="noopener">çˆ±å‘ç”µ</a></li><li>åˆ¶ä¹ï¼š<a href="https://learningsynths.ableton.com/zh-Hans" target="_blank" rel="noopener">å¼€å§‹ | Learning Synths</a></li><li><a href="https://ciechanow.ski/mechanical-watch/" target="_blank" rel="noopener">æœºæ¢°è¡¨åŸç†</a></li><li><a href="https://zhuanlan.zhihu.com/p/30409532" target="_blank" rel="noopener">å…¬å¼åŒ–å‰–æè‰²å½©ä¸‰è¦ç´ ï¼šè‰²ç›¸ã€é¥±å’Œåº¦ã€æ˜åº¦</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> èµ„æº </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¼–ç¨‹ç¬”è®°</title>
      <link href="/blog/2024/11/13/%E7%BC%96%E7%A8%8B%E7%AC%94%E8%AE%B0%E6%B1%87%E6%80%BB/"/>
      <url>/blog/2024/11/13/%E7%BC%96%E7%A8%8B%E7%AC%94%E8%AE%B0%E6%B1%87%E6%80%BB/</url>
      
        <content type="html"><![CDATA[<p>è¿™æ˜¯æˆ‘ä»¥å‰æ‰€æœ‰çš„ç¼–ç¨‹ç¬”è®°çš„æ±‡æ€»ã€‚ä»¥å‰æ˜¯åˆ†ç±»ä¼˜äºæ—¥æœŸï¼Œå°±æ˜¯æˆ‘å¼€äº†å¾ˆå¤šä¸ªæ ç›®ï¼Œç¼–ç¨‹æ˜¯å…¶ä¸­çš„ä¸€ä¸ªæ ç›®ï¼Œç„¶åç¼–ç¨‹é‡Œé¢æŒ‰æ—¥æœŸè®°å½•ç¬”è®°ã€‚ä½†ç°åœ¨æ˜¯æ—¥æœŸä¼˜å…ˆï¼Œåœ¨æ¯å¤©çš„æ—¥å¿—ä¸­è®°å½•æ‰€æœ‰å‘ç”Ÿçš„äº‹æƒ…ï¼Œä¸ç®¡ç±»åˆ«ã€‚ç”¨æ ‡ç­¾å’Œæœç´¢ç®¡ç†è¿™äº›ç¬”è®°ã€‚</p><p>ä¸ºä»€ä¹ˆæˆ‘æ‰“ç®—è¿™ä¹ˆåšï¼Œå› ä¸ºå³ä¾¿æˆ‘æŒ‰åˆ†ç±»æ¥è®°å½•äº†ä¿¡æ¯ï¼Œå¯ä»¥çœ‹åˆ°ç¼–ç¨‹ç¬”è®°ä¸­ä»ç„¶æ˜¯ä¸æ˜¯ä¼šå¤¹æ‚è¿™ä¸ç¼–ç¨‹æ— å…³çš„å†…å®¹ï¼Œè¿™ä¸€ç‚¹å…¶å®æ˜¯é¿å…ä¸äº†çš„ã€‚ä¸–é—´çš„äº‹ç‰©å“ªæœ‰å•ä¸€ç»´åº¦çš„åˆ’åˆ†æœºåˆ¶ã€‚å”¯ä¸€çœŸå®å­˜åœ¨çš„æ˜¯å¦‚å¤§æ±Ÿå¤§æ²³èˆ¬æ»šæ»šè€Œé€çš„æ—¶é—´ã€‚ç¬”è®°åªæ˜¯è®©è¿™äº›æ—¶é—´èƒ½æœ‰ä¸ªçºªå¿µã€‚</p><a id="more"></a><p>è¿™é‡Œä¸»è¦ç”¨æ¥è®°å½•æˆ‘ç”Ÿæ´»ä¸­çš„æ‰€æ€æ‰€æƒ³ï¼Œå½“ç„¶å¤§éƒ¨åˆ†å¯èƒ½æ˜¯è·Ÿè®¡ç®—æœºã€ç¼–ç¨‹æœ‰å…³çš„ã€‚è¿™äº›æƒ³æ³•æˆ–è€…æ‘˜æŠ„æ¯”è¾ƒçŸ­å°ï¼Œä¸è¶³ä»¥å½¢æˆä¸€ç¯‡æ–‡ç« ï¼Œä½†ä»ç„¶å€¼å¾—è®°å½•ä¸‹æ¥åå¤å“å‘³ï¼Œå›é¡¾ã€‚å®ƒä»¬çš„ç¼–æ’æ–¹å¼æ˜¯æŒ‰æ—¥æœŸå€’åºæ¥çš„ã€‚</p><h1 id="2024-12-10"><a href="#2024-12-10" class="headerlink" title="2024-12-10"></a>2024-12-10</h1><p>clientWidth è·å–çš„æ˜¯æ•´æ•°ï¼Œæœ‰ä¸€å®šè¯¯å·®ï¼Œç¼©æ”¾çš„æ—¶å€™å°¤ä¸ºæ˜æ˜¾ï¼Œå¯èƒ½ä¼šå¯¼è‡´ä¸€äº›å¸ƒå±€æ’ç‰ˆçš„ bugï¼Œæ‰€ä»¥æœ€å¥½æ˜¯ç”¨ getBoundingClientRect().width</p><h1 id="2024-10-21"><a href="#2024-10-21" class="headerlink" title="2024-10-21"></a>2024-10-21</h1><p>ä»€ä¹ˆæƒ…å†µä¸‹ä¸ä¼šè¿› try finally çš„ finally éƒ¨åˆ†ï¼Ÿ</p><p>ä»Šå¤©é‡åˆ°ä¸€ä¸ªå¼‚æ­¥å¡åœ¨ pending çš„æƒ…å†µï¼Œå¯¼è‡´ä¸ä¼šè¿› finallyã€‚å…·ä½“æƒ…å†µæ˜¯ï¼Œä¸€ä¸ªå¼‚æ­¥çš„å¼¹æ¡†ï¼Œæ²¡æœ‰å†™ onCloseï¼Œè¦åœ¨ onClose é‡Œé¢ resolve(false)</p><h1 id="2024-10-16"><a href="#2024-10-16" class="headerlink" title="2024-10-16"></a>2024-10-16</h1><p>æœ€è¿‘é‡åˆ°ä¸€ä¸ªï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">text-overflow</span>: <span class="selector-tag">ellipsis</span>;</span><br><span class="line"><span class="selector-tag">overflow</span>: <span class="selector-tag">hidden</span>;</span><br><span class="line"><span class="selector-tag">white-space</span>: <span class="selector-tag">nowrap</span>;</span><br></pre></td></tr></table></figure><p>å¤±æ•ˆçš„é—®é¢˜ã€‚æœ€ç»ˆæŸ¥æ˜åŸå› æ˜¯ï¼š<code>display: flex;</code>å¼•èµ·çš„</p><h1 id="2024-10-10"><a href="#2024-10-10" class="headerlink" title="2024-10-10"></a>2024-10-10</h1><p>ä»Šå¤©é‡åˆ°ä¸€ä¸ªé—®é¢˜æ˜¯ï¼ŒåŒä¸€å¼ å›¾ç‰‡èµ„æºï¼Œå›¾ç‰‡å‘ç”Ÿäº†æ›´æ–°ã€‚ä½†å¦‚æœ URL ä¸å˜çš„è¯ï¼Œå°±ä¸ä¼šå»è®¿é—®æ–°çš„å›¾ç‰‡ï¼ˆé™¤éåˆ·æ–°æµè§ˆå™¨ï¼‰ã€‚è§£å†³åŠæ³•æ˜¯ç»™ URL åŠ æ—¶é—´æˆ³ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">backgroundImage: <span class="string">`url(<span class="subst">$&#123;content + <span class="string">"?"</span> + <span class="built_in">Date</span>.now()&#125;</span>)`</span>;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ˜¯ä¸éœ€è¦åç«¯é…åˆæ”¹ä»€ä¹ˆä¸œè¥¿çš„ï¼Œåç«¯åªè¦æ— è§†è¿™ä¸ªæ—¶é—´æˆ³å‚æ•°å³å¯</p><h1 id="2024-09-23"><a href="#2024-09-23" class="headerlink" title="2024-09-23"></a>2024-09-23</h1><p>ä»ä¸€åˆ°æ— ç©·å¤§çœŸçš„è®²äº†è›®å¤šè¿™ä¸ªä¸–ç•Œçš„åº•å±‚çŸ¥è¯†çš„ã€‚</p><p>åŸå­æ‘„å½±æœ¯è¿™ä¸€å°èŠ‚è®²åˆ°ï¼š<br>ä¸è¦ä»¥ä¸ºç»™åŸå­æ‹ç…§æ˜¯ä»¶å®¹æ˜“çš„äº‹ï¼Œå› ä¸ºåœ¨ç»™è¿™ä¹ˆå°çš„ç‰©ä½“ç…§ç›¸æ—¶ï¼Œ<strong>å¦‚æœæ‰€ç”¨çš„ç…§æ˜å…‰çº¿çš„æ³¢é•¿æ¯”è¢«æ‹æ‘„ç‰©ä½“çš„å°ºå¯¸å¤§ï¼Œç…§ç‰‡å°±ä¼šæ¨¡ç³Šå¾—ä¸€å¡Œç³Šæ¶‚</strong>ã€‚ä½ æ€»ä¸èƒ½ç”¨åˆ·å¢™çš„æ’ç¬”æ¥ç”»å·¥ç¬”ç”»å§ï¼å’Œå¾®å°çš„æ˜¾å¾®ç»„ç»‡æ‰“è¿‡äº¤é“çš„ç”Ÿç‰©å­¦å®¶éƒ½å¾ˆæ˜ç™½è¿™ç§å›°éš¾ï¼Œå› ä¸º<strong>ç»†èŒçš„å¤§å°ï¼ˆçº¦ 0.000 1 å˜ç±³ï¼‰å’Œå¯è§å…‰çš„æ³¢é•¿ç›¸ä»¿ã€‚å¦‚æœè¦ä½¿ç»†èŒå‘ˆç°å‡ºæ¸…æ™°çš„åƒï¼Œå°±å¾—ç”¨ç´«å¤–çº¿ç»™ç»†èŒæ‘„å½±ï¼Œæ‰èƒ½è·å¾—è¾ƒå¥½çš„ç»“æœ</strong>ã€‚ä½†æ˜¯åˆ†å­çš„å°ºå¯¸åŠå…¶åœ¨æ™¶æ ¼ä¸­çš„é—´éš”æ˜¯å¦‚æ­¤ä¹‹å°ï¼ˆ0.000 000 01 å˜ç±³ï¼‰ï¼Œæ— è®ºæ˜¯å¯è§å…‰è¿˜æ˜¯ç´«å¤–çº¿éƒ½æ— æ³•å……å½“ç”»å…·ã€‚å¦‚æœæƒ³è¦çœ‹åˆ°å•ä¸ªåŸå­ï¼Œéç”¨æ³¢é•¿æ¯”å¯è§å…‰çŸ­å‡ åƒå€çš„å°„çº¿â€”â€”X å…‰â€”â€”ä¸å¯ã€‚ä½†è¿™ä¹ˆä¸€æ¥ï¼Œåˆä¼šé‡åˆ°ä¸€ä¸ªä¼¼ä¹æ— æ³•å…‹æœçš„å›°éš¾ï¼š<strong>X å…‰å¯ä»¥ç©¿é€ç‰©ä½“è€Œä¸å‘ç”ŸæŠ˜å°„</strong>ï¼Œå› æ­¤ï¼Œæ— è®ºæ˜¯æ”¾å¤§é•œè¿˜æ˜¯æ˜¾å¾®é•œï¼Œéƒ½ä¸ä¼šä½¿ X å…‰èšç„¦ã€‚è¿™ç§æ€§è´¨å†åŠ ä¸Š X å…‰çš„å¼ºå¤§ç©¿é€åŠ›ï¼Œåœ¨åŒ»å­¦ä¸Šå½“ç„¶æ˜¯å¾ˆæœ‰ç”¨çš„ï¼Œ<strong>å› ä¸º X å…‰å¦‚æœåœ¨ç©¿é€äººä½“æ—¶å‘ç”ŸæŠ˜å°„ï¼Œå°±ä¼šæŠŠ X å…‰åº•ç‰‡å¼„æˆä¸€ç‰‡æ¨¡ç³Šã€‚ä½†å°±æ˜¯è¿™ä¸ªæ€§è´¨ï¼Œä¼¼ä¹åˆæ’é™¤äº†å¾—åˆ°ä»»ä½•ä¸€å¼ æ”¾å¤§çš„ X å…‰ç…§ç‰‡çš„å¯èƒ½æ€§ï¼</strong></p><blockquote><p>æœ‰ä¸€ç‚¹ä¸ç†è§£ï¼ŒX å…‰å¦‚æœåœ¨ç©¿é€äººä½“æ—¶å‘ç”ŸæŠ˜å°„ï¼Œå°±ä¼šæŠŠ X å…‰åº•ç‰‡å¼„æˆä¸€ç‰‡æ¨¡ç³Šï¼Œé‚£æ‹æ‘„ç»†èŒçš„æ—¶å€™ä¹Ÿä¼šæŠ˜å°„ï¼Œæ€ä¹ˆå°±ä¸ä¼šç³Šæ‰å‘¢</p></blockquote><h1 id="2024-09-11"><a href="#2024-09-11" class="headerlink" title="2024-09-11"></a>2024-09-11</h1><p>æœ€è¿‘åœ¨ç©ä¸¤ä¸ªæ¸¸æˆï¼šfactorioï¼ˆå¼‚æ˜Ÿå·¥åœºï¼‰å’Œ terrariaï¼ˆæ³°æ‹‰ç‘äºšï¼‰<br>åœ¨çœ‹çš„ä¹¦ï¼šä»ä¸€åˆ°æ— ç©·å¤§</p><p>è‚æ³°æ‹‰ç‘äºšæœ‰ç‚¹è‚ä¸åŠ¨äº†ï¼Œæˆ‘ç¡®å®å¾ˆå–œæ¬¢æ¸¸æˆé‡Œçš„è¿™ç§èƒ½åŠ›è·å¾—æ„Ÿï¼Œä»¥åŠé€šè¿‡æŸ¥æ¸¸æˆæ”»ç•¥æ¥è§£å†³é—®é¢˜ã€‚é•¿æ—¶é—´ç©æ¸¸æˆçœ¼ç›åƒä¸æ¶ˆäº†ï¼Œæ‰“ç®—å¼€å§‹ç ”ç©¶çœŸå®ä¸–ç•Œã€‚æ¯•ç«ŸçœŸå®ä¸–ç•Œæ›´åŠ ä¸°å¯Œè€Œä¸”ç¥ç§˜ã€‚</p><p>æŠŠ 10 æ‹†æˆä¸¤ä¸ªæ•°ï¼Œä¸¤ä¸ªæ•°ç›¸ä¹˜ç­‰äº 40ï¼Œè¦æ€ä¹ˆæ‹†ï¼Ÿ</p><p>éœ€è¦å€ŸåŠ©è™šæ•°ï¼Œæ‹†æˆï¼š$$5+\sqrt{-15}$$å’Œ$$5-\sqrt{-15}$$</p><p>åœ¨ã€Šä»ä¸€åˆ°æ— ç©·å¤§ã€‹è¿™æœ¬ä¹¦å†™å®Œåï¼Œè®¸å¤šä¸–çºªéš¾é¢˜éƒ½è¢«æ”»å…‹äº†ï¼Œå®ƒä»¬æœ‰ï¼š</p><ol><li>å“¥å¾·å·´èµ«çŒœæƒ³</li><li>è´¹é©¬å¤§å®šç†</li><li>å››è‰²é—®é¢˜</li></ol><h1 id="2024-09-09"><a href="#2024-09-09" class="headerlink" title="2024-09-09"></a>2024-09-09</h1><p>é‚£å¤©è·Ÿä¹æºåœ¨è·¯ä¸Šè®¨è®ºè¿‡ï¼Œè¿™ä¸ªä¸–ç•Œå˜å¾—æå¼ºçš„æ–¹å¼ï¼Œä¸æ˜¯ä¸ªäººèƒ½åŠ›ï¼Œè€Œæ˜¯äººé™…å…³ç³»ç½‘ç»œã€‚æˆä¸ºä¸€ä¸ªé¢†è¢–æˆ–è€…æ•™ä¸»ï¼Œæ‹¥æœ‰ä¸€æ‰¹ç²‰ä¸ï¼Œæˆ–è€…ä¿¡å¾’ã€‚èƒ½å¤Ÿè°ƒåŠ¨ç™¾ä¸‡äººçš„åŠ›é‡ï¼Œæ‰æ˜¯å¼ºè€…ã€‚å› ä¸ºè¿™ä¸ªä¸–ç•Œï¼Œä¸€ä¸ªäººçš„åŠ›é‡ç»ˆç©¶æ˜¯å¾ˆæœ‰é™çš„ï¼Œå®ƒä¸åƒåŠ¨æ¼«ï¼Œä¿®ä»™æˆ–è€…æ­¦ä¾ é‡Œæè¿°çš„å¼‚ä¸–ç•Œï¼Œäººå¯ä»¥ä»¥ä¸€æ•Œç™¾ï¼Œä»¥ä¸€æ•Œç™¾ä¸‡ã€‚ä½†å®ƒå¯ä»¥ä¸€é¢†å¯¼ä¸€ç™¾ä¸‡ï¼Œä»¥ä¸€æŒ‡æŒ¥ä¸€ç™¾ä¸‡ã€‚</p><p>æ‰€ä»¥åœ¨è¿™ä¸ªä¸–ç•Œä¸Šï¼Œå˜å¼ºï¼Œçš„æ„æ€å°±æ˜¯åšä¸€ä¸ªæ•™ä¸»æˆ–è€…ç²¾ç¥é¢†è¢–ã€‚</p><p>è€Œè¾¾æˆè¿™äº›ï¼Œéœ€è¦æœ‰ä¸ªäººé­…åŠ›ï¼Œå¡‘é€ å…±è¯†ã€‚</p><h1 id="2024-09-06"><a href="#2024-09-06" class="headerlink" title="2024-09-06"></a>2024-09-06</h1><p>ä»Šå¤©åŒäº‹é‡åˆ°ä¸€ä¸ª position: relative çš„å…ƒç´ ï¼Œå®½åº¦è®¾ç½®äº† 16pxï¼Œä½†ä¸€ç›´æ˜¾ç¤ºæ˜¯ 0pxï¼ŒåŸå› æ˜¯ relative åœ¨å®½é«˜ä¸å¤Ÿçš„æ—¶å€™ä¼šè¢«æŒ¤æ‰ã€‚å¯ä»¥ç”¨ position: absoluteï¼Œè¿™ä¸ªä¸ä¼šè¢«æŒ¤æ‰ã€‚</p><h1 id="2024-09-03"><a href="#2024-09-03" class="headerlink" title="2024-09-03"></a>2024-09-03</h1><p>ä»Šå¤©åŒäº‹é—®æˆ‘å…³äº<code>visibility: hidden</code>çš„çˆ¶å…ƒç´ ï¼Œå­å…ƒç´ æ˜¯<code>visibility: visible</code>ï¼Œæ˜¾ç¤ºå‡ºäº†å­å…ƒç´ çš„é—®é¢˜ã€‚ä»¥å‰é¢è¯•çš„æ—¶å€™æˆ‘å†™è¿‡ä¸€ç¯‡æ€»ç»“ï¼Œä½†æ˜¯æ‰¾ä¸åˆ°äº†ã€‚ä¹‹åä¼šè¡¥ä¸€ç¯‡ã€‚å¯ä»¥å…ˆå‚è€ƒä¸€ä¸‹è¿™ç¯‡æ–‡ç« ï¼š<a href="https://segmentfault.com/a/1190000015116392" target="_blank" rel="noopener">CSS ä¸­ç”¨ opacityã€visibilityã€display å±æ€§å°† å…ƒç´ éšè— çš„ å¯¹æ¯”åˆ†æ</a></p><h2 id="å¤šè¡Œæ–‡æœ¬æ˜¾ç¤ºæœ«å°¾çœç•¥å·"><a href="#å¤šè¡Œæ–‡æœ¬æ˜¾ç¤ºæœ«å°¾çœç•¥å·" class="headerlink" title="å¤šè¡Œæ–‡æœ¬æ˜¾ç¤ºæœ«å°¾çœç•¥å·"></a>å¤šè¡Œæ–‡æœ¬æ˜¾ç¤ºæœ«å°¾çœç•¥å·</h2><p><a href="https://blog.csdn.net/qq_51978639/article/details/128862967" target="_blank" rel="noopener">å¤šè¡Œæ–‡å­— text-overflow: ellipsis çœç•¥å·å¤±æ•ˆé—®é¢˜</a></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">text-overflow</span>: <span class="selector-tag">ellipsis</span>;</span><br><span class="line"><span class="selector-tag">overflow</span>: <span class="selector-tag">hidden</span>;</span><br><span class="line">display: -webkit-box; //ç‰¹åˆ«æ˜¾ç¤ºæ¨¡å¼</span><br><span class="line">-webkit-line-clamp: 8; //è¡Œæ•°</span><br><span class="line">-webkit-box-orient: vertical; //ç›’å­ä¸­å†…å®¹ç«–ç›´æ’åˆ—</span><br></pre></td></tr></table></figure><p>ä¸ç”¨é™å®šé«˜åº¦ï¼Œå› ä¸ºå·²ç»é™å®šäº†è¡Œæ•°</p><h1 id="2024-09-02"><a href="#2024-09-02" class="headerlink" title="2024-09-02"></a>2024-09-02</h1><p>äº¿ä¸‡å¯Œç¿æŒ‡çš„æ˜¯èº«ä»·åœ¨ä¸€äº¿ç¾å…ƒä»¥ä¸Šçš„å¯Œè±ªã€‚è€Œä¸æ˜¯èº«ä»·åœ¨ä¸€ä¸‡äº¿ç¾å…ƒä»¥ä¸Šçš„å¯Œè±ªã€‚ä¸‡å…ƒæˆ·ï¼Œç™¾ä¸‡å¯Œç¿ï¼Œåƒä¸‡å¯Œç¿è¿™äº›éƒ½æ˜¯å†™å®ã€‚äº¿ä¸‡å¯Œç¿æ˜¯ä¸ªè™šæ•°ã€‚ç†åº”å«ä¸Šäº¿å¯Œç¿ã€‚</p><h1 id="2024-08-30"><a href="#2024-08-30" class="headerlink" title="2024-08-30"></a>2024-08-30</h1><p>ä»Šæ—¥é˜®ä¸€å³°å‘¨æŠ¥æ„Ÿå…´è¶£çš„ä¸œè¥¿ï¼š</p><ul><li><a href="https://modelscope.cn/studios/chostem/ancient_Chinese_text_generator" target="_blank" rel="noopener">ç°ä»£æ–‡è½¬å¤æ–‡</a></li></ul><h1 id="2024-08-29"><a href="#2024-08-29" class="headerlink" title="2024-08-29"></a>2024-08-29</h1><h2 id="position-fixed-ä¸€å®šåŸºäºè§†å£å—"><a href="#position-fixed-ä¸€å®šåŸºäºè§†å£å—" class="headerlink" title="position: fixed ä¸€å®šåŸºäºè§†å£å—"></a>position: fixed ä¸€å®šåŸºäºè§†å£å—</h2><p>ä¸ä¸€å®šï¼Œå¦‚æœç¥–å…ˆçš„ transform ä¸ä¸º noneï¼Œå°±ä¼šåŸºäºç¥–å…ˆè€Œéè§†å£ï¼š<a href="https://www.cnblogs.com/coco1s/p/7358830.html" target="_blank" rel="noopener">ä¸å—æ§åˆ¶çš„ position:fixed</a></p><h2 id="git-åˆå¹¶å†²çª"><a href="#git-åˆå¹¶å†²çª" class="headerlink" title="git åˆå¹¶å†²çª"></a>git åˆå¹¶å†²çª</h2><p>ä»Šå¤©åœ¨ git rebase çš„è¿‡ç¨‹ä¸­é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œé˜»æ–­äº†æˆ‘çš„ rebase è§£å†³å†²çªæµç¨‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Git: &apos;pro-api/&apos; does not have a commit checked out</span><br></pre></td></tr></table></figure><p>æœ€åæŸ¥æ˜åŸå› æ˜¯æŸä¸ªå­ç›®å½•å¤šäº†ä¸€ä¸ª<code>.git</code>æ–‡ä»¶å¤¹ï¼Œä¸€ä¸ªä»“åº“æ˜¯ä¸å¯ä»¥æœ‰ä¸¤ä¸ª<code>.git</code>çš„ã€‚åˆ æ‰è¿™ä¸ªå¤šä½™çš„å³å¯ç»§ç»­è§£å†³ rebase çš„å†²çªã€‚</p><p><a href="https://stackoverflow.com/questions/56873278/how-to-fix-error-filename-does-not-have-a-commit-checked-out-fatal-adding" target="_blank" rel="noopener">How to fix: error: &#39;<filename>&#39; does not have a commit checked out fatal: adding files failed when inputting &quot;git add .&quot; in command prompt</filename></a></p><p>åˆå¹¶çš„æ—¶å€™ï¼Œæœ€å¥½ç”¨ rebaseï¼Œä½†è¯¥å¤„é—®é¢˜çš„åœ°æ–¹è¿˜æ˜¯ä¼šå‡ºé—®é¢˜ã€‚æ¯”å¦‚æˆ‘ä»<code>2.2.C</code>åˆ†æ”¯åŸºç¡€ä¸Šæ–°å»ºä¸€ä¸ª<code>liuqin/updateCBB/2.2.C</code>åˆ†æ”¯ï¼Œç„¶åå¼€å‘åˆ°ä¸€åŠï¼Œé¢†å¯¼åŸºäº<code>2.2.C</code>åˆ†æ”¯å¼€å‡ºäº†<code>2.2.D</code>åˆ†æ”¯ï¼Œç„¶åä¸€äº›åŒäº‹ï¼Œåœ¨<code>2.2.D</code>åˆ†æ”¯å’Œ<code>liuqin/updateCBB/2.2.C</code>åˆ†æ”¯ï¼Œä¿®æ”¹äº†åŒä¸€å—ä»£ç ï¼Œè€Œä¸”ç”±äºæˆ‘çš„åˆ†æ”¯æ²¡æœ‰å¯¹åº”çš„æ„å»ºå‘å¸ƒï¼ˆæˆ‘è‡ªå·±åœ¨æœ¬åœ°æµ‹ï¼‰ï¼Œä»¥è‡³äºä¿®æ”¹å‡ºäº†é—®é¢˜ï¼Œä¹Ÿæ²¡æœ‰äººå¯Ÿè§‰ï¼ˆæˆ‘ä»¬æ„å»ºå‘å¸ƒçš„åˆ†æ”¯ï¼Œä¸€æ—¦æ„å»ºæŠ¥é”™ï¼Œå°±ä¼šé€šçŸ¥åˆ°å†…ç½‘èŠå¤©è´¦å·ä¸Šï¼Œæ‰€ä»¥ä¼šç¬¬ä¸€æ—¶é—´å¾—åˆ°è§£å†³ï¼‰ã€‚æœ€ååˆå¹¶çš„æ—¶å€™ï¼ˆä»<code>liuqin/updateCBB/2.2.C</code>åˆ†æ”¯åˆå¹¶åˆ°<code>2.2.D</code>åˆ†æ”¯ï¼‰ï¼Œä¸€å †æŠ¥é”™ã€‚</p><h2 id="å†å²çš„å˜è¿"><a href="#å†å²çš„å˜è¿" class="headerlink" title="å†å²çš„å˜è¿"></a>å†å²çš„å˜è¿</h2><ul><li><a href="https://www.woshipm.com/share/6106012.html" target="_blank" rel="noopener">è®©æˆ‘ä»¬è®¤çœŸè®¨è®ºä¸€ä¸‹â€œAI éœ¸æƒâ€æ—¶ä»£äººç±»çš„å‘½è¿</a>ï¼Œè¿™ç¯‡æ–‡ç« å¸®åŠ©æˆ‘å›é¡¾äº†å¤§é‡æ¶ˆå¤±åœ¨å†å²ä¸­çš„èŒä¸šï¼Œä¹Ÿè®©æˆ‘æ›´åŠ æ¸…é†’çš„è®¤è¯†åˆ°æ—¶ä»£éƒ½åœ¨å˜åŒ–ï¼Œæ›´ä½•å†µäººå‘¢ï¼Œäººæ€ä¹ˆèƒ½ä¸€å°˜ä¸å˜å‘¢ï¼Œä½ ä¸å˜ï¼Œæ—¶ä»£å°±å¼ºè¿«ä½ å˜ã€‚è¿˜æœ‰æ¶ˆå¤±åœ¨å†å²ä¸­çš„ç‰©å“ï¼šç£å¸¦ï¼Œå…‰ç›˜ï¼ŒU ç›˜ï¼ŒMP3ï¼Œæœ‰çº¿è€³æœºï¼Œæ”¶éŸ³æœºï¼Œå¹¿æ’­å°ã€‚</li></ul><h2 id="æ–°æ—§äº‹ç‰©å¯¹æ¯”"><a href="#æ–°æ—§äº‹ç‰©å¯¹æ¯”" class="headerlink" title="æ–°æ—§äº‹ç‰©å¯¹æ¯”"></a>æ–°æ—§äº‹ç‰©å¯¹æ¯”</h2><h3 id="æ—§äº‹ç‰©"><a href="#æ—§äº‹ç‰©" class="headerlink" title="æ—§äº‹ç‰©"></a>æ—§äº‹ç‰©</h3><ul><li><strong>ä¼ å‘¼æœºï¼ˆBP æœºï¼‰</strong>ï¼Œæ›¾ç»æ˜¯é‡è¦çš„é€šè®¯å·¥å…·ï¼Œäººä»¬é€šè¿‡ä¼ å‘¼æœºæ¥æ”¶ç®€çŸ­çš„ä¿¡æ¯ï¼Œç„¶åå¯»æ‰¾å›ºå®šç”µè¯å›ç”µã€‚ä½†éšç€æ‰‹æœºçš„è¿…é€Ÿå‘å±•ï¼Œä¼ å‘¼æœºå¾ˆå¿«è¢«æ·˜æ±°ï¼Œå¦‚ä»Šå·²å‡ ä¹ä¸è§å…¶è¸ªå½±ã€‚æˆ‘æ›¾æœ‰å¹¸åœ¨æˆ‘èˆ…èˆ…å®¶æ¥¼ä¸Šç¿»å‡ºè¿‡ä¸€ä¸ª BP æœºï¼Œå¯æƒœæ²¡ææ‡‚æ€ä¹ˆç”¨ã€‚</li><li><strong>è½¯ç›˜</strong>ï¼Œåœ¨æ—©æœŸè®¡ç®—æœºå­˜å‚¨ä¸­å‘æŒ¥è¿‡é‡è¦ä½œç”¨ï¼Œä½†å­˜å‚¨å®¹é‡å°ï¼Œä¸”å®¹æ˜“æŸåã€‚éšç€ U ç›˜ã€ç§»åŠ¨ç¡¬ç›˜ç­‰å­˜å‚¨è®¾å¤‡çš„å‡ºç°ï¼Œè½¯ç›˜è¿…é€Ÿé€€å‡ºå†å²èˆå°ã€‚è½¯ç›˜æˆ‘æ˜¯çœŸæ²¡è§è¿‡ã€‚</li><li><strong>VCD å’Œ DVD æ’­æ”¾å™¨ï¼Œå…‰ç›˜</strong>ï¼šåœ¨è¿‡å»ï¼Œäººä»¬é€šè¿‡ VCD å’Œ DVD æ’­æ”¾å™¨è§‚çœ‹ç”µå½±ã€ç”µè§†å‰§ç­‰è§†é¢‘å†…å®¹ï¼Œå¹¶ä¸”ä¼šè´­ä¹°æˆ–ç§Ÿèµç›¸åº”çš„å…‰ç›˜ã€‚ä½†ç°åœ¨ï¼Œåœ¨çº¿è§†é¢‘å¹³å°çš„æ™®åŠè®©äººä»¬å¯ä»¥é€šè¿‡ç½‘ç»œç›´æ¥è§‚çœ‹å„ç§è§†é¢‘èµ„æºï¼Œæ— éœ€ä½¿ç”¨å…‰ç›˜å’Œæ’­æ”¾å™¨ã€‚VCD å’Œ DVD æ’­æ”¾å™¨ä»¥åŠå…‰ç›˜é€æ¸è¢«æ·˜æ±°ï¼Œç›¸å…³çš„ç”Ÿäº§å‚å®¶ä¹Ÿå¤§é‡å‡å°‘ã€‚å°çš„æ—¶å€™å€Ÿè¿‡ä¸€äº›å…‰ç›˜ï¼Œçœ‹é¬¼ç‰‡ï¼ŒåŠ¨ç”»ç‰‡ã€‚</li><li><strong>U ç›˜</strong>ï¼šåˆšä¸Šå¤§å­¦çš„æ—¶å€™ï¼Œè¿˜æ˜¯äººæ‰‹ä¸€ä¸ª U ç›˜ï¼Œåæ¥å°±æ¸æ¸çš„ä¸ç”¨äº†ã€‚</li><li><strong>æ‰“å­—æœº</strong>ï¼Œæ›¾ç»æ˜¯åŠå…¬å®¤çš„å¿…å¤‡è®¾å¤‡ï¼Œç”¨äºæ’°å†™æ–‡æ¡£å’Œä¿¡ä»¶ã€‚éšç€ç”µè„‘å’Œæ‰“å°æœºçš„æ™®åŠï¼Œæ‰“å­—æœºçš„ä½¿ç”¨è¶Šæ¥è¶Šå°‘ï¼Œç°åœ¨æ›´å¤šåœ°æˆä¸ºä¸€ç§å¤å¤çš„æ”¶è—å“ã€‚æ‰“å­—æœºæˆ‘ä¹Ÿæ˜¯çœŸæ²¡è§è¿‡ã€‚</li><li><strong>é»‘ç™½ç”µè§†æœº</strong>ï¼Œåœ¨å½©è‰²ç”µè§†æœºå‡ºç°ä¹‹å‰ï¼Œé»‘ç™½ç”µè§†æœºæ˜¯äººä»¬äº†è§£ä¸–ç•Œçš„é‡è¦çª—å£ã€‚ä½†éšç€ç§‘æŠ€çš„è¿›æ­¥ï¼Œå½©è‰²ã€é«˜æ¸…ã€æ™ºèƒ½ç”µè§†çš„æ™®åŠï¼Œé»‘ç™½ç”µè§†æœºé€æ¸è¢«æ·˜æ±°ã€‚é»‘ç™½ç”µè§†æœºï¼Œæ²¡å•¥å°è±¡ï¼Œå¥½åƒæ²¡è§è¿‡ã€‚</li><li><strong>ä¼ ç»Ÿèƒ¶ç‰‡ç›¸æœºå’Œèƒ¶å·</strong>ï¼Œåœ¨æ•°ç æ‘„å½±æŠ€æœ¯å…´èµ·å‰ï¼Œèƒ¶ç‰‡ç›¸æœºæ˜¯è®°å½•å½±åƒçš„ä¸»è¦å·¥å…·ã€‚ä½†éšç€æ•°ç ç›¸æœºã€æ‰‹æœºæ‹ç…§åŠŸèƒ½çš„ä¸æ–­å¼ºå¤§ï¼Œå…¶ä¾¿æ·æ€§ã€æˆåƒé€Ÿåº¦ä»¥åŠæˆæœ¬ç­‰ä¼˜åŠ¿ï¼Œä½¿å¾—ä¼ ç»Ÿèƒ¶ç‰‡ç›¸æœºå’Œèƒ¶å·çš„ä½¿ç”¨è¶Šæ¥è¶Šå°‘ã€‚ç°åœ¨åªæœ‰å°‘æ•°æ‘„å½±çˆ±å¥½è€…æˆ–ä¸“ä¸šäººå£«è¿˜ä¼šåœ¨ç‰¹å®šé¢†åŸŸä½¿ç”¨èƒ¶ç‰‡ç›¸æœºï¼Œä»¥è¿½æ±‚ç‹¬ç‰¹çš„å¤å¤è´¨æ„Ÿå’Œè‰ºæœ¯æ•ˆæœã€‚</li><li><strong>å›ºå®šç”µè¯</strong>ï¼šæ›¾ç»æ˜¯å®¶åº­å’ŒåŠå…¬åœºæ‰€çš„é‡è¦é€šè®¯å·¥å…·ã€‚ä½†éšç€ç§»åŠ¨ç”µè¯çš„æ™®åŠï¼Œäººä»¬å¯ä»¥éšæ—¶éšåœ°è¿›è¡Œé€šè¯ï¼Œå›ºå®šç”µè¯çš„é‡è¦æ€§é€æ¸é™ä½ã€‚ç°åœ¨å¾ˆå¤šå®¶åº­å·²ä¸å†å®‰è£…å›ºå®šç”µè¯ï¼Œä¸€äº›åŠå…¬åœºæ‰€ä¹Ÿå‡å°‘äº†å›ºå®šç”µè¯çš„æ•°é‡ï¼Œä»…ä¿ç•™éƒ¨åˆ†ç”¨äºç‰¹å®šä¸šåŠ¡æˆ–åº”æ€¥è”ç»œã€‚ä»¥å‰å®¶é‡Œæœ‰è¿‡å›ºå®šç”µè¯ï¼Œæˆ‘ä¹Ÿç”¨è¿‡ã€‚</li><li><strong>å…¬å…±ç”µè¯äº­</strong>ï¼šæ›¾ç»åœ¨è¡—é“ã€è½¦ç«™ã€å•†åœºç­‰å…¬å…±åœºæ‰€å¹¿æ³›åˆ†å¸ƒï¼Œä¸ºäººä»¬æä¾›ç´§æ€¥é€šè®¯æˆ–ä¸´æ—¶é€šè®¯çš„ä¾¿åˆ©ã€‚ä½†éšç€æ‰‹æœºçš„æ™®åŠï¼Œäººä»¬å‡ ä¹å¯ä»¥éšæ—¶éšåœ°è¿›è¡Œé€šè¯ï¼Œå…¬å…±ç”µè¯äº­çš„ä½¿ç”¨éœ€æ±‚æ€¥å‰§å‡å°‘ã€‚è®¸å¤šå…¬å…±ç”µè¯äº­é­åˆ°æŸåæˆ–åºŸå¼ƒï¼Œéƒ¨åˆ†åœ°åŒºå¼€å§‹æ‹†é™¤æˆ–æ”¹é€ è¿™äº›ç”µè¯äº­ã€‚</li><li><strong>æŠ¥çº¸å’Œæ‚å¿—</strong>ï¼šè¿‡å»æ˜¯äººä»¬è·å–æ–°é—»ã€èµ„è®¯å’Œå¨±ä¹å†…å®¹çš„ä¸»è¦æ¸ é“ä¹‹ä¸€ã€‚ç„¶è€Œï¼Œéšç€äº’è”ç½‘çš„å‘å±•ï¼Œäººä»¬è¶Šæ¥è¶Šå€¾å‘äºé€šè¿‡ç”µå­è®¾å¤‡åœ¨çº¿è·å–ä¿¡æ¯ï¼Œæ–°é—»ç½‘ç«™ã€ç”µå­æ‚å¿—ã€ç¤¾äº¤åª’ä½“ç­‰æä¾›äº†æ›´åŠæ—¶ã€ä¸°å¯Œä¸”ä¾¿æ·çš„å†…å®¹ã€‚æŠ¥çº¸å’Œæ‚å¿—çš„å‘è¡Œé‡ä¸æ–­ä¸‹é™ï¼Œè®¸å¤šä¼ ç»Ÿçš„æŠ¥åˆŠåª’ä½“é¢ä¸´ç»è¥å›°éš¾ï¼Œéƒ¨åˆ†ç”šè‡³åœæ­¢å‘è¡Œã€‚å°çš„æ—¶å€™æœ€å–œæ¬¢çœ‹æ‚å¿—ï¼Œæ¯”å¦‚ï¼šæ„æ—ï¼Œè¯»è€…ï¼Œé’å¹´æ–‡æ‘˜ï¼Œæ•…äº‹ä¼šï¼Œç§‘å¹»ä¸–ç•Œã€‚</li><li><strong>é—¹é’Ÿï¼ˆä¼ ç»Ÿæœºæ¢°å¼ï¼‰</strong>ï¼šä»¥å‰ï¼Œä¼ ç»Ÿçš„æœºæ¢°å¼é—¹é’Ÿæ˜¯äººä»¬èµ·åºŠå’Œå®‰æ’æ—¶é—´çš„é‡è¦å·¥å…·ã€‚è€Œå¦‚ä»Šï¼Œæ™ºèƒ½æ‰‹æœºå…·å¤‡äº†é—¹é’ŸåŠŸèƒ½ï¼Œä¸”æ›´åŠ æ™ºèƒ½ã€æ–¹ä¾¿ï¼Œå¯ä»¥è®¾ç½®å¤šä¸ªé—¹é’Ÿã€é€‰æ‹©ä¸åŒçš„é“ƒå£°ï¼Œè¿˜èƒ½ä¸æ—¥ç¨‹å®‰æ’ç­‰å…¶ä»–åŠŸèƒ½ç›¸ç»“åˆã€‚å› æ­¤ï¼Œä¼ ç»Ÿæœºæ¢°å¼é—¹é’Ÿçš„ä½¿ç”¨åœºæ™¯å¤§å¹…å‡å°‘ï¼Œå¸‚åœºéœ€æ±‚ä¹Ÿé€æ¸èç¼©ã€‚æœºæ¢°å¼çš„é—¹é’Ÿæˆ‘æ˜¯çœŸæ²¡ç”¨è¿‡ï¼Œç”µå­çš„ç”¨è¿‡ã€‚</li><li><strong>ç°é‡‘</strong>ï¼šéšç€ç”µå­æ”¯ä»˜çš„å¹¿æ³›åº”ç”¨ï¼Œå¦‚ç§»åŠ¨æ”¯ä»˜ï¼ˆå¾®ä¿¡æ”¯ä»˜ã€æ”¯ä»˜å®ç­‰ï¼‰ã€é“¶è¡Œå¡æ”¯ä»˜ç­‰ï¼Œäººä»¬åœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­çš„ç°é‡‘ä½¿ç”¨é¢‘ç‡è¶Šæ¥è¶Šä½ã€‚è´­ç‰©ã€é¤é¥®ã€äº¤é€šç­‰è®¸å¤šåœºæ™¯éƒ½æ”¯æŒç”µå­æ”¯ä»˜ï¼Œäººä»¬åªéœ€æºå¸¦æ‰‹æœºæˆ–é“¶è¡Œå¡å³å¯å®Œæˆäº¤æ˜“ã€‚ç°é‡‘äº¤æ˜“ä¸ä»…å­˜åœ¨æ‰¾é›¶ä¸ä¾¿ã€å®¹æ˜“ä¸¢å¤±ç­‰é—®é¢˜ï¼Œè€Œä¸”åœ¨æ”¯ä»˜æ•ˆç‡ä¸Šä¹Ÿä½äºç”µå­æ”¯ä»˜ã€‚å› æ­¤ï¼Œç°é‡‘åœ¨æµé€šä¸­çš„ä½œç”¨é€æ¸å‡å¼±ï¼Œæœªæ¥å¯èƒ½ä¼šè¿›ä¸€æ­¥å‡å°‘ã€‚ç°åœ¨å‡ºé—¨éƒ½æ˜¯æ‰‹æœºæ”¯ä»˜ï¼Œå…œé‡Œæ ¹æœ¬æ²¡æœ‰ä¸€åˆ†é’±äº†ã€‚</li><li><strong>çº¸è´¨åœ°å›¾</strong>ï¼šåœ¨å¯¼èˆªåº”ç”¨å’Œç”µå­åœ°å›¾å‡ºç°ä¹‹å‰ï¼Œçº¸è´¨åœ°å›¾æ˜¯äººä»¬å‡ºè¡Œæ—¶å¿…ä¸å¯å°‘çš„å·¥å…·ã€‚ä½†ç°åœ¨ï¼Œæ™ºèƒ½æ‰‹æœºä¸Šçš„å„ç§å¯¼èˆªè½¯ä»¶æä¾›äº†å®æ—¶å®šä½ã€è·¯çº¿è§„åˆ’ã€äº¤é€šçŠ¶å†µæŸ¥è¯¢ç­‰åŠŸèƒ½ï¼Œæ¯”çº¸è´¨åœ°å›¾æ›´åŠ å‡†ç¡®ã€ä¾¿æ·å’Œå®ç”¨ã€‚çº¸è´¨åœ°å›¾çš„ç”Ÿäº§å’Œé”€å”®æ•°é‡å¤§å¹…ä¸‹é™ï¼Œä»…åœ¨ä¸€äº›ç‰¹å®šåœºåˆæˆ–ä½œä¸ºæ”¶è—çºªå¿µå“å­˜åœ¨ã€‚ä»¥å‰å®¶é‡Œå¿…æŒ‚ä¸¤å¼ åœ°å›¾ï¼Œä¸€å¼ ä¸–ç•Œåœ°å›¾ï¼Œä¸€å¼ ä¸­å›½åœ°å›¾ã€‚</li><li><strong>ç”µæ¢¯æ“ä½œå‘˜</strong></li><li><strong>ç”µè¯æ¥çº¿å‘˜</strong></li></ul><h3 id="æ–°äº‹ç‰©"><a href="#æ–°äº‹ç‰©" class="headerlink" title="æ–°äº‹ç‰©"></a>æ–°äº‹ç‰©</h3><ul><li><strong>å…±äº«å•è½¦ï¼Œå…±äº«å……ç”µå®</strong>ï¼šå®é™…ä¸Šæ˜¯ç§Ÿèµï¼Œä¸æ˜¯ç¾¤ä¼—çš„ç‰©èµ„ï¼Œä¹Ÿé…å«å…±äº«å—ï¼Ÿä»æœ€å¼€å§‹çš„çƒ§é’±æŠ¢å å¸‚åœºï¼Œåˆ°æœ€åçš„è·å¾—å®šä»·æƒåï¼Œç–¯ç‹‚æä»·ã€‚æˆ‘ç°åœ¨éƒ½ä¸ç”¨å…±äº«å•è½¦å’Œå……ç”µå®ï¼Œé™¤éé€¼ä¸å¾—å·²ï¼Œå› ä¸ºçœŸçš„è´µå¾—ç¦»è°±ã€‚</li><li><strong>å¤–å–</strong>ï¼šå¤–å–ä¹Ÿæ˜¯ä¸€æ ·ä»æœ€å¼€å§‹çš„çƒ§é’±æŠ¢å å¸‚åœºï¼Œåˆ°æœ€åçš„è·å¾—å®šä»·æƒåï¼Œç–¯ç‹‚æä»·ã€‚</li><li><strong>æ™ºèƒ½ç©¿æˆ´è®¾å¤‡</strong>ï¼šå¦‚æ™ºèƒ½æ‰‹è¡¨ã€æ™ºèƒ½æ‰‹ç¯ç­‰ã€‚å¯ä»¥ç›‘æµ‹å¥åº·æ•°æ®ã€æ¥æ”¶é€šçŸ¥ã€è¿›è¡Œè¿åŠ¨è¿½è¸ªç­‰ï¼Œä¸ºäººä»¬çš„ç”Ÿæ´»å¸¦æ¥æå¤§çš„ä¾¿åˆ©ã€‚å®ƒå°†ç§‘æŠ€ä¸æ—¥å¸¸ç”Ÿæ´»ç´§å¯†ç»“åˆï¼Œè®©äººä»¬æ›´åŠ å…³æ³¨è‡ªèº«å¥åº·å’Œç”Ÿæ´»å“è´¨ã€‚æˆ‘ç°åœ¨æˆ´åä¸º watch4proï¼Œä¸»è¦ç”¨é€”ï¼š1. çœ‹æ—¶é—´ï¼Œ2. åˆ·åœ°é“ï¼Œ3. æ”¯ä»˜ï¼Œ4. çœ‹å¤©æ°”ï¼Œ5. å€’è®¡æ—¶ï¼Œ6. å¾®ä¿¡æ¶ˆæ¯æé†’</li><li><strong>è™šæ‹Ÿç°å®ï¼ˆVRï¼‰å’Œå¢å¼ºç°å®ï¼ˆARï¼‰æŠ€æœ¯</strong>ï¼šä¸ºå¨±ä¹ã€æ•™è‚²ã€åŒ»ç–—ç­‰é¢†åŸŸå¸¦æ¥å…¨æ–°çš„ä½“éªŒã€‚åœ¨æ¸¸æˆä¸­ï¼Œç©å®¶å¯ä»¥æ²‰æµ¸åœ¨è™šæ‹Ÿä¸–ç•Œä¸­ï¼›åœ¨æ•™è‚²é¢†åŸŸï¼Œå­¦ç”Ÿå¯ä»¥é€šè¿‡è™šæ‹Ÿç°å®æŠ€æœ¯è¿›è¡Œç”ŸåŠ¨çš„å­¦ä¹ ï¼›åœ¨åŒ»ç–—æ–¹é¢ï¼ŒåŒ»ç”Ÿå¯ä»¥åˆ©ç”¨å¢å¼ºç°å®æŠ€æœ¯è¿›è¡Œæ‰‹æœ¯è¾…åŠ©ã€‚ç©è¿‡ä¸€äº›è™šæ‹Ÿç°å®çš„æ¸¸æˆï¼Œå°±æ˜¯æˆ´ä¸ªå¤´ç›”ï¼Œç„¶åååœ¨ä¸€ä¸ªæ‘‡æ‘‡è½¦ä¸Šï¼Œä½“éªŒçŸ¿è½¦ä¸Šæ‰“åƒµå°¸ã€‚</li><li><strong>äººå·¥æ™ºèƒ½åŠ©æ‰‹</strong>ï¼šåƒ Siriã€å°çˆ±åŒå­¦ç­‰ï¼Œå¯ä»¥é€šè¿‡è¯­éŸ³æŒ‡ä»¤å®Œæˆå„ç§ä»»åŠ¡ï¼Œå¦‚æŸ¥è¯¢ä¿¡æ¯ã€æ’­æ”¾éŸ³ä¹ã€è®¾ç½®æé†’ç­‰ã€‚å®ƒä»¬æå¤§åœ°æé«˜äº†äººä»¬çš„ç”Ÿæ´»æ•ˆç‡ï¼Œè®©äººä»¬ä¸ç§‘æŠ€çš„äº¤äº’æ›´åŠ è‡ªç„¶å’Œä¾¿æ·ã€‚ç›®å‰åœ¨ç”¨ chatgpt å’Œè±†åŒ…ã€‚</li><li><strong>æ–°èƒ½æºæ±½è½¦</strong>ï¼šéšç€ç¯ä¿æ„è¯†çš„æé«˜å’ŒæŠ€æœ¯çš„å‘å±•ï¼Œæ–°èƒ½æºæ±½è½¦é€æ¸æˆä¸ºä¸»æµã€‚ç›¸æ¯”ä¼ ç»Ÿç‡ƒæ²¹æ±½è½¦ï¼Œæ–°èƒ½æºæ±½è½¦æ›´åŠ ç¯ä¿ã€èŠ‚èƒ½ï¼Œå¹¶ä¸”åœ¨æ€§èƒ½å’Œæ™ºèƒ½åŒ–æ–¹é¢ä¹Ÿä¸æ–­æå‡ã€‚</li><li><strong>ç›´æ’­å’ŒçŸ­è§†é¢‘å¹³å°</strong>ï¼šä¸ºäººä»¬æä¾›äº†å±•ç¤ºè‡ªæˆ‘ã€åˆ†äº«ç”Ÿæ´»çš„æ–°æ¸ é“ã€‚æ— è®ºæ˜¯æ™®é€šäººè¿˜æ˜¯ä¸“ä¸šåˆ›ä½œè€…ï¼Œéƒ½å¯ä»¥é€šè¿‡ç›´æ’­å’ŒçŸ­è§†é¢‘å¹³å°è·å¾—å…³æ³¨å’Œæ”¶ç›Šã€‚åŒæ—¶ï¼Œä¹Ÿä¸ºä¼ä¸šæä¾›äº†æ–°çš„è¥é”€æ–¹å¼ã€‚</li><li><strong>è‡ªåŠ¨é©¾é©¶</strong>ï¼šç™¾åº¦æ——ä¸‹çš„èåœå¿«è·‘å‡ºç§Ÿè½¦æ­£åœ¨å…¨å›½é“ºå¼€ã€‚å…¶å®è‡ªåŠ¨é©¾é©¶çš„æŠ€æœ¯å·²ç»æˆç†Ÿï¼Œåªæ˜¯ç›¸åº”çš„æ³•å¾‹æ³•è§„æ²¡æœ‰æˆç†Ÿï¼Œæœ€é‡è¦çš„ä¸€æ¡æ˜¯ï¼Œå¦‚æœæ˜¯è‡ªåŠ¨é©¾é©¶æ±½è½¦å‡ºäº†è½¦ç¥¸ï¼Œè´Ÿè´£ä»»çš„åº”è¯¥æ˜¯æ±½è½¦å‚å•†ï¼Œä½†å¦ä¸€ä¸ªé—®é¢˜éšä¹‹è€Œæ¥ï¼Œæ€ä¹ˆè¯æ˜å‡ºäº‹çš„æ—¶å€™æ˜¯è½¦è‡ªå·±å¼€çš„ï¼Œè€Œä¸æ˜¯äººå¼€çš„ã€‚è‡ªåŠ¨é©¾é©¶ä¸€æ—¦æ™®åŠï¼Œå¸æœºä¹Ÿä¼šè·Ÿç”µæ¢¯æ“ä½œå‘˜å’Œç”µè¯æ¥çº¿å‘˜ä¸€æ ·æˆä¸ºå†å²ä¸­æ¶ˆå¤±çš„èŒä¸šäº†ã€‚</li></ul><h1 id="2024-08-28"><a href="#2024-08-28" class="headerlink" title="2024-08-28"></a>2024-08-28</h1><ul><li><a href="https://inteltechniques.com/book1.html" target="_blank" rel="noopener">Open Source Intelligence Techniques</a>ï¼šå…¨ä¹¦éƒ½æ˜¯åœ¨æ•™ä½ å¦‚ä½•åœ¨ç½‘ä¸Šæœç´¢å®šä½å…¬å¼€ä¿¡æ¯ï¼ˆä¸¥æ ¼æ¥è¯´ï¼Œæˆ‘è§‰å¾—åº”è¯¥ç®—åŠå…¬å¼€ä¿¡æ¯ï¼‰ã€‚ä½œè€…æ˜¯ä¸€ä½å—é›‡äºç¾å›½æ”¿åºœçš„ç”µè„‘çŠ¯ç½ªè°ƒæŸ¥å‘˜ã€‚</li></ul><h2 id="åˆ›ä¸š"><a href="#åˆ›ä¸š" class="headerlink" title="åˆ›ä¸š"></a>åˆ›ä¸š</h2><p>å…³äºèµ„äº§æˆ‘çš„çœ‹æ³•å¾ˆç®€å•ï¼Œæ‰¾åˆ°é‚£äº›å¼€äº†å¾ˆä¹…çš„çº¿ä¸‹é¤é¦†ï¼Œå¦‚æœæ˜¯è€æ¿è‡ªå·±ä¸æ¥ï¼Œé›‡äº†äººæ‰“å·¥çš„é¤é¦†ï¼Œæ‰¾ä¸ªåˆç†çš„ä»·æ ¼ç›˜ä¸‹æ¥ï¼Œé‚£å°±æ˜¯å¦¥å¦¥çš„èµ„äº§ï¼Œç°é‡‘æµã€‚ç”šè‡³éƒ½ä¸ç”¨è‡ªå·±è´¹åŠ²çš„ç»è¥ï¼Œç›´æ¥åŸç­äººé©¬ç»§ç»­æå°±è¡Œã€‚å“ªç®¡ä¸Šé¢è€æ¿æ˜¯è°å‘¢</p><p>ä¹Ÿå¯ä»¥åˆ†æåˆ«äººçš„ç»è¥ä¸å–„çš„é—®é¢˜ï¼Œç›˜ä¸‹ä¸è‰¯èµ„äº§ï¼Œç›˜æ´»å®ƒã€‚</p><p>ä½†å¦‚æœæ˜¯è‡ªå·±åˆ›å»ºä¸€ä¸ªï¼Œå°±éœ€è¦å‘ç°å¸‚åœºçš„éœ€æ±‚å’Œç©ºç¼ºã€‚</p><p>æˆ‘çš„åˆ›ä¸šæƒ³æ³•åˆ—è¡¨ï¼š</p><ul><li>å¹´è½»äººçš„å•†ä¸šç§˜ç±ã€‚ä¸€ä¸ªå•†ä¸šæ•°æ®ç½‘ç«™ï¼Œæ”¶å½•å½“ä¸‹æ‰€æœ‰å¸¸è§å•†å“çš„ä»·æ ¼ï¼ˆåŒ…æ‹¬åŸææ–™ï¼‰ï¼Œæ”¶å½•å„è¡Œå„ä¸šçš„å¯åŠ¨èµ„é‡‘ï¼Œåˆ›ä¸šæˆæœ¬ï¼ˆå›ºå®šæˆæœ¬ï¼ŒæŒ‰ä»¶æˆæœ¬ï¼‰ï¼Œæ”¶ç›Šï¼Œå›æœ¬å‘¨æœŸï¼Œæ ‡è®°å“ªäº›æ˜¯è“æµ·ï¼Œå“ªäº›æ˜¯çº¢æµ·ï¼ˆç›¸å¯¹æ¥è¯´ï¼‰ã€‚ç›¸å½“äºç»™ç°å®ä¸–ç•ŒåŠ ä¸Šä¸€ä¸ªå–ä»€ä¹ˆçš„æ”»ç•¥ï¼Œç©è¿‡æ˜Ÿéœ²è°·ç‰©è¯­æˆ–è€…æ¨¡æ‹ŸåŸå¸‚æˆ‘æ˜¯å¸‚é•¿è¿™ç±»ç»è¥ç±»æ¸¸æˆçš„æœ‹å‹éƒ½åº”è¯¥çŸ¥é“ã€‚é€‰åˆ©æ¶¦é«˜çš„ç”Ÿæ„åšéå¸¸é‡è¦ã€‚ä½†æ˜¯å•†ä¸šçš„æœ¬è´¨å°±æ˜¯ä¿¡æ¯å·®å’Œèµ„æºå·®å˜ç°ã€‚æ„Ÿè§‰è¿™ç±»ä¿¡æ¯æœ¬èº«æ˜¯ä¸å¥½æ”¶é›†çš„ï¼Œå› ä¸ºæˆ‘æ„Ÿè§‰ä»–ä»¬å¾ˆå€¼é’±ã€‚</li><li><a href="https://liuqinh2s.github.io/blog/2024/08/03/%E4%BD%9C%E5%93%81%E7%89%88%E6%9D%83%E8%AF%81%E5%88%B8%E5%8C%96/">ä½œå“ç‰ˆæƒè¯åˆ¸åŒ–</a>ï¼šç®€å•æ¥è®²ï¼Œç›®å‰çš„ç½‘æ˜“äº‘éŸ³ä¹è¿™ç±»å¹³å°å…¶å®æ˜¯ä¿¡æ¯ç±»äº§å“ï¼ˆéŸ³ä¹ï¼‰çš„ç§Ÿèµå¹³å°ã€‚ç›®å‰å¸‚åœºç¼ºä¹è´­ä¹°å¹³å°ã€‚ä½œå“ç‰ˆæƒè¯åˆ¸åŒ–å¯ä»¥å®ç°è¿™ä¸ªç›®æ ‡ã€‚</li><li>åœ¨å¡˜æœ—å±±ä¸Šçœ‹åˆ°æœ‰äººå–çŸ¿æ³‰æ°´ï¼ˆæ— äººå€¼å®ˆçš„ï¼‰ï¼Œå…¨é è‡ªè§‰ï¼Œä¸æ¸…æ¥šèƒ½ä¸èƒ½èµšé’±ï¼Œä½†æ€»çš„æ¥è¯´å›½æ°‘ç´ è´¨åœ¨æé«˜ï¼Œæ¯”å¦‚é»‘ç¥è¯æ‚Ÿç©ºåœ¨ä»¥å‰ä¸€å®šä¼šè¢«ç›—ç‰ˆå‡»å®ï¼Œä½†ç°åœ¨å´èƒ½å¤§èµšã€‚è¯´æ˜å›½æ°‘çš„æ¶ˆè´¹ç´ è´¨æ¶ˆè´¹æ„è¯†èµ·æ¥äº†ã€‚</li><li>åœ¨è²èŠ±å±±ä¸Šçš„è‡ªåŠ¨å”®å–æœºï¼Œå®¢æµé‡å’Œé”€å”®é‡éƒ½è¿˜ä¸é”™ï¼Œä¸è¿‡ä¸æ¸…æ¥šæˆæœ¬ï¼Œèµšä¸èµšé’±å­˜ç–‘ã€‚</li><li>æˆ‘æœ‰æœ‹å‹åœ¨å–å£®é˜³è¯ï¼Œç”¨çŸ­ä¿¡é”€å”®å’Œé¡ºä¸°é€Ÿé€’è´§åˆ°ä»˜æ¬¾çš„æ–¹å¼ã€‚èµšäº†è›®å¤šé’±çš„ï¼Œè¿™æ˜¯ä¸€ä¸ªèµšé’±çš„å®ä¾‹ï¼Œå¯æƒœå¯¹æ–¹ä¸æ„¿æ„è·Ÿæˆ‘åˆ†äº«ã€‚</li><li>å¦ä¸€ä¸ªæœ‹å‹åœ¨æç”µå•†ï¼ŒçŸ­ä¿¡é”€å”®+ç§¯åˆ†ä»£é‡‘çš„å½¢å¼ã€‚è¿™ä¹Ÿæ˜¯ä¸€ä¸ªèµšé’±çš„å®ä¾‹ï¼Œéƒ½é›‡äº†ä¸€ä¸ªå°å‹å›¢é˜Ÿäº†ã€‚è€Œä¸”æäº†å¥½å‡ å¹´çš„è¿™ä¸ªäº†ã€‚</li></ul><h1 id="2024-08-26"><a href="#2024-08-26" class="headerlink" title="2024-08-26"></a>2024-08-26</h1><ul><li><a href="https://cpu.land/" target="_blank" rel="noopener">Putting the â€œYouâ€ in CPU</a>ï¼Œè®²è§£ CPU å·¥ä½œåŸç†çš„</li><li><a href="https://huggingface.co/spaces/victor/fake-insects" target="_blank" rel="noopener">Fake Insects</a>ï¼Œä¸€ä¸ªå°æ¸¸æˆï¼Œä¸¤å¼ ç…§ç‰‡ä¸­ï¼Œåˆ¤æ–­å“ªå¼ æ˜¯ AI ç”Ÿæˆçš„æ˜†è™«</li><li><a href="https://github.com/bobbyiliev/introduction-to-bash-scripting" target="_blank" rel="noopener">Introduction to Bash Scripting</a>ï¼Œbash è„šæœ¬ç¼–ç¨‹</li><li><a href="https://www.core77.com/posts/133324/Fighting-Through-Mental-Struggles-Incredible-Renderings-Created-with-Only-a-Pencil" target="_blank" rel="noopener">Fighting Through Mental Struggles: Incredible Renderings Created with Only a Pencil</a>ï¼Œç”¨é“…ç¬”ç”»é‡‘å±å…‰æ³½</li></ul><p><a href="https://huggingface.co/" target="_blank" rel="noopener">Hugging Face</a>ç¤¾åŒºæœ‰ç‚¹æ„æ€ï¼ŒAI çˆ±å¥½è€…çš„ç¤¾åŒº<br><a href="https://www.core77.com/" target="_blank" rel="noopener">core77</a>ï¼Œå·¥ä¸šè®¾è®¡çˆ±å¥½è€…ç½‘ç«™</p><h1 id="2024-08-18"><a href="#2024-08-18" class="headerlink" title="2024-08-18"></a>2024-08-18</h1><p>æˆ‘ä¸€ç›´æœ‰çœ‹æ–—ç ´è‹ç©¹å’Œæ–—ç½—å¤§é™†çš„ä¹ æƒ¯ï¼Œæ¯å‘¨å…­éƒ½ä¼šæ”¶çœ‹ã€‚ä½†æ˜¯åˆä¸æƒ³å……è…¾è®¯è§†é¢‘çš„ä¼šå‘˜ï¼Œæ®è¯´ç°åœ¨å¥½åƒæœ‰ä¼šå‘˜ä¹Ÿçœ‹ä¸äº†æœ€æ–°ä¸€é›†ï¼Œè¦ä»˜è´¹æ‰è¡Œï¼ŒçœŸæ˜¯è¶Šæ¥è¶Šç‹—äº†ã€‚åˆšåˆšå»çœ‹äº†ä¸€ä¸‹ï¼Œæ˜¯æ–—ç ´è‹ç©¹å¹´ç•ªå¿…é¡»è¦ SVIP æ‰èƒ½çœ‹ï¼ŒVIP çœ‹ä¸äº†æœ€æ–°ä¸€é›†ã€‚æˆ‘ä¸€ç›´è§‰å¾—è¿™ç§ç§Ÿèµçš„æ¨¡å¼æŒç»­ä¸äº†å¤ªå¤šå¹´äº†ï¼Œå¹³å°ä¹Ÿæä¸åˆ°å¥½ï¼Œç”¨æˆ·ä¹Ÿæä¸åˆ°å¥½ï¼ˆé‚£ä¹ˆè°æåˆ°å¥½ï¼Ÿæˆ‘è§‰å¾—åº”è¯¥æ˜¯é‚£äº›çƒ‚ä½œå“æåˆ°äº†å¥½ï¼‰ã€‚è¨€å½’æ­£ä¼ ï¼Œä»Šå¤©æˆ‘æƒ³åˆ†äº«çš„æ˜¯å¦‚ä½•å…è´¹çœ‹è§†é¢‘ï¼Œæˆ‘é€šå¸¸æ˜¯è¿™å‡ ä¸ªåœ°æ–¹ï¼š</p><ol><li>æŠ–éŸ³ï¼ŒæŸäº›ä¸ªäººè´¦å·åˆ†äº«çš„ï¼Œä¸€ä¸æ˜¯å¾ˆæ¸…æ™°ï¼ŒäºŒç”šè‡³æ˜¯å¯¹ç€æ‰‹æœºæ‹çš„ï¼Œç”»é¢å¾ˆå°ã€‚å¦å¤–å°±æ˜¯æ—¶æ•ˆæ€§ï¼Œä¼šåœ¨æ¯”è¾ƒçŸ­çš„æ—¶é—´å†…ä¸‹æ¶ï¼ˆä¸ºäº†é¿å…åƒå®˜å¸ï¼‰</li><li><a href="https://nnyy.in/" target="_blank" rel="noopener">åŠªåŠªè§†é¢‘</a>ï¼Œè®¸å¤šé“¾è·¯ä¼šå¤±æ•ˆï¼Œç„¶åé€Ÿåº¦ä¸æ˜¯å¾ˆå¿«ï¼Œå¾ˆå®¹æ˜“å¡ï¼Œå¡å¾—äººæ²¡å¿ƒæƒ…çœ‹äº†éƒ½ã€‚ä¼˜ç‚¹æ˜¯æ‰€æœ‰è§†é¢‘å…è´¹</li><li><a href="https://www.lovedan.net/" target="_blank" rel="noopener">è‰¾æ—¦è§†é¢‘</a>ï¼Œéƒ¨åˆ†å†…å®¹æ˜¯è¦ä»˜è´¹çš„ï¼ˆè²Œä¼¼å°é»„ç‰‡æ‰éœ€è¦ä»˜è´¹ï¼‰ï¼Œä½†è§†é¢‘èµ„æºæå…¶ä¸°å¯Œã€‚ç¼ºç‚¹ä¹Ÿæ˜¯åœ¨çº¿çœ‹æœ‰ç‚¹å¡ï¼Œä½†æ”¯æŒä¸‹è½½ï¼Œä¸‹è½½çœ‹ä½“éªŒä¸é”™ã€‚</li><li><a href="http://lzizy.net" target="_blank" rel="noopener">é‡å­èµ„æºç½‘</a>ï¼Œå†…å®¹ä¹Ÿæ˜¯ç›¸å½“ä¸°å¯Œï¼Œè€Œä¸”æ’­æ”¾éå¸¸æµç•…ï¼Œå¼ºçƒˆæ¨èã€‚</li><li>å›§æ¬¡å…ƒ appï¼Œçœ‹åŠ¨æ¼«ä¸“ç”¨ï¼Œå¯ä»¥çœ‹è“å…‰è´¨é‡çš„è§†é¢‘ï¼Œç¼ºç‚¹æ˜¯æœ‰å¹¿å‘Šã€‚</li><li>ç”µæŠ¥ææœæœç´¢å¼•æ“ï¼Œæµ·é‡èµ„æº</li></ol><p>ä½†æˆ‘ä»Šå¤©å‘ç° IINA å±…ç„¶å¯ä»¥ç›´æ¥ç”¨æ‰“å¼€ URL çš„æ–¹å¼çœ‹è‰¾æ—¦è§†é¢‘çš„ä¸‹è½½é“¾æ¥ï¼ŒçœŸçš„æ˜¯éå¸¸ä¸é”™çš„ä½“éªŒã€‚ï¼ˆåŸå› æ‰¾åˆ°äº†ï¼Œè‰¾æ—¦è§†é¢‘å’Œé‡å­èµ„æºçš„æ–—ç ´è‹ç©¹ 108 é›†éƒ½æ˜¯åŒä¸€ä¸ªé“¾æ¥ï¼Œæ˜¯ä¸€ä¸ª mp4 èµ„æºï¼Œæ‰€ä»¥æ‰å¯ä»¥ç›´æ¥ç”¨ IINA æ‰“å¼€ï¼‰</p><blockquote><p><a href="https://iina.io/" target="_blank" rel="noopener">IINA</a>æ˜¯ mac os ä¸Šç‹¬æœ‰çš„è§†é¢‘æ’­æ”¾å™¨ï¼Œéå¸¸æ£’çš„æ’­æ”¾å™¨</p></blockquote><h1 id="2024-08-13"><a href="#2024-08-13" class="headerlink" title="2024-08-13"></a>2024-08-13</h1><h2 id="chrome-ç¦»çº¿ä¸‹è½½"><a href="#chrome-ç¦»çº¿ä¸‹è½½" class="headerlink" title="chrome ç¦»çº¿ä¸‹è½½"></a>chrome ç¦»çº¿ä¸‹è½½</h2><p>å·¥æ¬²å–„å…¶äº‹å¿…å…ˆåˆ©å…¶å™¨ï¼Œæœ€è¿‘å…¬å¸é¡¹ç›®å¼€å‘ä¸Šï¼Œchrome æµè§ˆå™¨ï¼ˆ127.0.6533.100ï¼‰çš„ devtool ç»å¸¸æ€§å¡æ­»ï¼ŒçœŸçš„æŠŠæˆ‘çš„è€å¿ƒç£¨æ²¡äº†ï¼ŒçœŸçš„æ˜¯è¶Šåšè¶Šçƒ‚äº†ã€‚æ‰“ç®—è£…å›æ—§ç‰ˆæœ¬çš„ chromeã€‚é‚£ä¹ˆå¦‚ä½•å®‰è£…æ—§ç‰ˆæœ¬çš„ chrome å‘¢ï¼Œæ‰¾ç¦»çº¿å®‰è£…åŒ…ä¹ŸæŒºè´¹åŠ²çš„ï¼š</p><ul><li><a href="https://github.com/vikyd/note/blob/master/chrome_offline_download.md" target="_blank" rel="noopener">Chromium å†å²ç‰ˆæœ¬ç¦»çº¿å®‰è£…åŒ… - ä¸‹è½½æ–¹æ³•</a></li></ul><h2 id="å‰ç«¯æ‰“åŒ…å·¥å…·ä¸€è§ˆ"><a href="#å‰ç«¯æ‰“åŒ…å·¥å…·ä¸€è§ˆ" class="headerlink" title="å‰ç«¯æ‰“åŒ…å·¥å…·ä¸€è§ˆ"></a>å‰ç«¯æ‰“åŒ…å·¥å…·ä¸€è§ˆ</h2><ul><li><a href="https://webpack.js.org/" target="_blank" rel="noopener">webpack</a></li><li><a href="https://esbuild.github.io/" target="_blank" rel="noopener">esbuild</a></li><li><a href="https://www.rollupjs.com/" target="_blank" rel="noopener">rollup</a></li><li><a href="https://farm-fe.github.io/" target="_blank" rel="noopener">farm</a></li><li><a href="https://github.com/rolldown/rolldown" target="_blank" rel="noopener">rolldown</a></li><li><a href="https://rspack.dev/" target="_blank" rel="noopener">rspack</a></li></ul><h1 id="2024-08-07"><a href="#2024-08-07" class="headerlink" title="2024-08-07"></a>2024-08-07</h1><p>å…¬å¸çš„å‰ç«¯é¡¹ç›®ï¼Œç»å¸¸éœ€è¦ç”¨åˆ°è¡¨æ ¼ï¼Œè€Œä¸”éœ€è¦ç›¸å½“ä¸°å¯Œçš„åŠŸèƒ½ã€‚ä½†æˆ‘ä»¬ä¹‹å‰åšçš„è¡¨æ ¼å®åœ¨æ˜¯æ‹‰è·¨ï¼Œä»£ç é‡å¤§ï¼ŒAPI è®¾è®¡ä¸€èˆ¬ï¼Œè¿˜æœ‰è®¸å¤šä¸šåŠ¡å±‚çš„ä»£ç æ¸—é€è¿›äº†ç»„ä»¶ä»£ç ï¼ŒåŠŸèƒ½ä¹Ÿä¸æ˜¯ååˆ†å®Œå–„ï¼ˆæ¯”å¦‚å•å…ƒæ ¼åˆå¹¶å°±æ²¡æœ‰ï¼‰ã€‚</p><p>äºæ˜¯æˆ‘æƒ³è¦å…ˆè°ƒç ”ä¸€ä¸‹å¸‚é¢ä¸Šçš„ react è¡¨æ ¼ç»„ä»¶ï¼Œçœ‹èƒ½å¦æ‰¾åˆ°ä¸€ä¸ªç‰¹åˆ«å¥½ç”¨çš„</p><ul><li><a href="https://segmentfault.com/a/1190000041585593" target="_blank" rel="noopener">æœ€å¥½çš„ 6 ä¸ª React Table ç»„ä»¶è¯¦ç»†äº²æµ‹æ¨è</a>ï¼šä½œè€…æœ€æ¨è <a href="https://tanstack.com/table/v7" target="_blank" rel="noopener">React Table</a></li></ul><h1 id="2024-08-06"><a href="#2024-08-06" class="headerlink" title="2024-08-06"></a>2024-08-06</h1><h2 id="font-awesome"><a href="#font-awesome" class="headerlink" title="font awesome"></a>font awesome</h2><p>æœ¬åœ°çš„ node ç‰ˆæœ¬ä¸é€‚é… hexo ç‰ˆæœ¬ï¼Œæ‰€ä»¥ä¸èƒ½åœ¨æœ¬åœ°è°ƒè¯•åšå®¢ï¼Œä½†éœ€è¦å¿«é€Ÿç¡®è®¤å“ªäº› font awesome icon èƒ½ç”¨ã€‚ä¸€ä¸ªç®€å•çš„åŠæ³•æ˜¯æŸ¥çœ‹ networkï¼Œæ‰¾åˆ° font-awesome çš„ç‰ˆæœ¬ã€‚æˆ‘çœ‹äº†ä¸€ä¸‹æ˜¯ 4.6.2ï¼Œä¸Šç½‘æœäº†ä¸€ä¸‹è¿™ä¸ªç‰ˆæœ¬çš„æ‰€æœ‰å¯ç”¨å›¾æ ‡ï¼š<a href="https://fontawesomelib.com/releases/4.6.2/list/all/index.html" target="_blank" rel="noopener">https://fontawesomelib.com/releases/4.6.2/list/all/index.html</a></p><h2 id="æ–‡ä»¶å¤¹å‘½åè§„èŒƒ"><a href="#æ–‡ä»¶å¤¹å‘½åè§„èŒƒ" class="headerlink" title="æ–‡ä»¶å¤¹å‘½åè§„èŒƒ"></a>æ–‡ä»¶å¤¹å‘½åè§„èŒƒ</h2><p>æ”¹äº†ä¸€ä¸‹åšå®¢æ–‡ä»¶å¤¹çš„é¦–å­—æ¯å¤§å°å†™ï¼Œç„¶åå‘ç° git å¹¶ä¸èƒ½æŠŠè¿™ç§å˜åŒ–æ¨é€åˆ°äº‘ç«¯ã€‚</p><h2 id="æœ‰æ¡ä»¶çš„æ•°ç»„"><a href="#æœ‰æ¡ä»¶çš„æ•°ç»„" class="headerlink" title="æœ‰æ¡ä»¶çš„æ•°ç»„"></a>æœ‰æ¡ä»¶çš„æ•°ç»„</h2><p>å¼€å‘è¿‡ç¨‹ä¸­ç»å¸¸é‡åˆ°ä¸€äº›æœ‰æ¡ä»¶çš„æ•°ç»„å…ƒç´ ï¼Œä¸€èˆ¬æˆ‘æ˜¯ç”¨ä¸€ä¸ªç©ºæ•°ç»„èµ·å¤´ï¼Œç„¶åç½—åˆ—å„ç§æ¡ä»¶ä¸‹ push ä»€ä¹ˆï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [];</span><br><span class="line"><span class="keyword">if</span> (xxx) &#123;</span><br><span class="line">  arr.push(balabala1);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (xxx1) &#123;</span><br><span class="line">  arr.push(balabala2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ€»æ„Ÿè§‰å†™æ³•ä¸æ˜¯å¾ˆä¼˜é›…ã€‚</p><p>åŸå› æ˜¯æ²¡æœ‰å¾ˆå¥½çš„ä½“ç°å‡ºæ•°ç»„çš„é¡ºåºæ€§ã€‚ä¸‹é¢æ¢ä¸€ç§å†™æ³•ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  xxx &amp;&amp; balabala1,</span><br><span class="line">  (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">/** do a lot of things */</span></span><br><span class="line">  &#125;)() &amp;&amp; balabala2,</span><br><span class="line">].filter(<span class="built_in">Boolean</span>);</span><br></pre></td></tr></table></figure><p>å½“ç„¶è¿™ç§å†™æ³•æ˜¯é’ˆå¯¹å…ƒç´ é¡ºåºå›ºå®šï¼Œä½†å…ƒç´ ä¸ä¸€å®šæœ‰çš„æƒ…å†µã€‚å¦‚æœå…ƒç´ é¡ºåºä¸å›ºå®šï¼Œé‚£è¿™ç§å†™æ³•å°±ä¸å¤Ÿçµæ´»</p><h2 id="substring"><a href="#substring" class="headerlink" title="substring"></a>substring</h2><p>js å¦‚ä½•æˆªå–å­å­—ç¬¦ä¸²ï¼Œç”¨<code>substring(startIndex, endIndex)</code>ï¼š<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/substringã€‚åœ¨æ§åˆ¶å°è¾“å…¥çš„æ—¶å€™ï¼Œè¿˜æœ‰ä¸€ä¸ªapiï¼š`substr" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/substringã€‚åœ¨æ§åˆ¶å°è¾“å…¥çš„æ—¶å€™ï¼Œè¿˜æœ‰ä¸€ä¸ªapiï¼š`substr</a>(startIndex, subStrLength)`ï¼Œè¿™ä¸ª api å·²ç»åºŸå¼ƒäº†ï¼š<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/substr" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/substr</a></p><p>å¤§æ¦‚æ˜¯å› ä¸ºå‰è€…æ›´ç¬¦åˆä½¿ç”¨è€…çš„ç›´è§‰å§ã€‚</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/substring#substring_%E5%92%8C_substr_%E4%B9%8B%E9%97%B4%E7%9A%84%E5%8C%BA%E5%88%AB" target="_blank" rel="noopener">substringï¼Œsubstrï¼Œslice ä¸‰è€…çš„åŒºåˆ«</a></p><h2 id="setProperty"><a href="#setProperty" class="headerlink" title="setProperty"></a><a href="https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleDeclaration/setProperty" target="_blank" rel="noopener">setProperty</a></h2><p>è¿™ä¸ª api çš„ç”¨å¤„åœ¨äºï¼Œå¯ä»¥ç»™ css è®¾ç½®<code>!important</code>ã€‚å¦åˆ™å°±è·Ÿ style.height ä¸€æ ·ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">style.setProperty(<span class="string">"height"</span>, <span class="string">"calc(100% - 24px)"</span>, <span class="string">"!important"</span>);</span><br></pre></td></tr></table></figure><p>ä»¥ä¸‹ä¸¤ä¸ªæ•ˆæœæ˜¯ä¸€æ ·çš„ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">style.setProperty(<span class="string">"height"</span>, <span class="string">"calc(100% - 24px)"</span>);</span><br><span class="line">style.height = <span class="string">"calc(100% - 24px)"</span>;</span><br></pre></td></tr></table></figure><h1 id="2024-08-05"><a href="#2024-08-05" class="headerlink" title="2024-08-05"></a>2024-08-05</h1><p>æœ€è¿‘æ¨é€åšå®¢åˆ° github è€æ˜¯å‡ºé—®é¢˜ï¼š<code>git connection reset by 20.205.243.160 port 443</code>ï¼Œäºæ˜¯æŸ¥äº†ä¸€ä¸‹ï¼š</p><p><a href="https://www.v2ex.com/t/841032" target="_blank" rel="noopener">https://www.v2ex.com/t/841032</a></p><h2 id="eslint"><a href="#eslint" class="headerlink" title="eslint"></a>eslint</h2><p>åŒäº‹å»ºè®®çš„ eslint è§„åˆ™ï¼š<a href="https://github.com/zengxiaoluan/eslint-plugin-jlc" target="_blank" rel="noopener">https://github.com/zengxiaoluan/eslint-plugin-jlc</a></p><h2 id="window-open"><a href="#window-open" class="headerlink" title="window.open"></a>window.open</h2><p>å…¬å¸é¡¹ç›®æœ‰ä¸ªéœ€æ±‚æ˜¯æœ‰ä¸ªå±æ€§å«ï¼šæ•°æ®æ‰‹å†Œï¼Œç„¶åç‚¹å‡»åè¦è·³è½¬åˆ°ç”¨æˆ·æŒ‡å®šçš„é“¾æ¥ï¼Œä½†è¿™ä¸ªé“¾æ¥å¯èƒ½æ˜¯æœ¬åœ°é“¾æ¥ã€‚å¦‚æœæ˜¯åœ¨å®¢æˆ·ç«¯ç¯å¢ƒï¼Œå°±èƒ½ç»•è¿‡æµè§ˆå™¨çš„å®‰å…¨ç­–ç•¥ï¼Œæ‰“å¼€æœ¬åœ°é“¾æ¥ï¼Œå¦‚æœæ˜¯æµè§ˆå™¨ç¯å¢ƒï¼Œå°±è¦é˜»æ­¢æ‰“å¼€ã€‚ä½†å¾ˆå¯æƒœçš„æ˜¯ï¼Œåœ¨æŸäº›ç‰ˆæœ¬çš„ chrome æµè§ˆå™¨ä¸Šï¼Œä¼šè‡ªåŠ¨æ‹¼æ¥å½“å‰åŸŸåã€‚æ¯”å¦‚æœ¬åœ°é“¾æ¥æ˜¯ï¼š<code>C:\Users\win10\Pictures\1.png</code>ï¼Œå½“å‰åŸŸåæ˜¯ï¼š<code>www.baidu.com</code>ï¼Œå°±ä¼šæ‰“å¼€é“¾æ¥ï¼š<code>https://www.baidu.com/C:\Users\win10\Pictures\1.png</code>ã€‚æ¯”è¾ƒæ£˜æ‰‹</p><h1 id="2024-08-01"><a href="#2024-08-01" class="headerlink" title="2024-08-01"></a>2024-08-01</h1><p>github æ€»æ˜¯æŠ½é£ï¼Œpush ä¸ä¸Šå»ï¼Œå®åœ¨å—ä¸äº†äº†ï¼Œåˆæ¥æä»£ç†äº†ï¼Œè®°ä¸ä½å‘½ä»¤ï¼Œæ¯æ¬¡éƒ½è¦ä¸Šç½‘æŸ¥å®åœ¨ä¸æ–¹ä¾¿ï¼Œè¿˜æ˜¯è®°å½•åˆ°è‡ªå·±åšå®¢ä¸Šå§</p><h2 id="git-æŸ¥çœ‹ã€è®¾ç½®ã€å–æ¶ˆä»£ç†"><a href="#git-æŸ¥çœ‹ã€è®¾ç½®ã€å–æ¶ˆä»£ç†" class="headerlink" title="git æŸ¥çœ‹ã€è®¾ç½®ã€å–æ¶ˆä»£ç†"></a>git æŸ¥çœ‹ã€è®¾ç½®ã€å–æ¶ˆä»£ç†</h2><p>æŸ¥çœ‹ä»£ç†ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global --get http.proxy</span><br><span class="line">git config --global --get https.proxy</span><br></pre></td></tr></table></figure><p>è®¾ç½®ä»£ç†ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global http.proxy http://127.0.0.1:1080</span><br><span class="line">git config --global https.proxy http://127.0.0.1:1080</span><br></pre></td></tr></table></figure><p>å–æ¶ˆä»£ç†ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global --<span class="built_in">unset</span> http.proxy</span><br><span class="line">git config --global --<span class="built_in">unset</span> https.proxy</span><br></pre></td></tr></table></figure><h2 id="è§‚å¯Ÿè€…ç»†ç²’åº¦-onChange-çš„è§£å†³æ–¹æ¡ˆ"><a href="#è§‚å¯Ÿè€…ç»†ç²’åº¦-onChange-çš„è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§‚å¯Ÿè€…ç»†ç²’åº¦ onChange çš„è§£å†³æ–¹æ¡ˆ"></a>è§‚å¯Ÿè€…ç»†ç²’åº¦ onChange çš„è§£å†³æ–¹æ¡ˆ</h2><ol><li>å¦‚æœåªæ¶‰åŠåˆ°æ˜¾ç¤ºé—®é¢˜ï¼Œåˆ™ç”¨ debounce è§£å†³å³å¯</li><li>å¦‚æœæ¶‰åŠåˆ°æ•°æ®ï¼Œåˆ™å¿…é¡»è¦æ±‚æ—¶åºæ­£ç¡®æ€§ï¼Œå¿…é¡»ç”¨äº‹åŠ¡+ç²—ç²’åº¦ onChange</li></ol><h2 id="side-project"><a href="#side-project" class="headerlink" title="side project"></a>side project</h2><p>ä»€ä¹ˆæ ·çš„ side project æ˜¯å¥½çš„ï¼Œé¦–å…ˆè¦ <strong>å·¥ä½œé‡å°</strong>ï¼Œè™½ç„¶ä¸€èˆ¬æ¥è¯´å·¥ä½œé‡å°æ„å‘³ç€æ²¡æœ‰æŠ¤åŸæ²³ï¼Œä½†æ²¡å…³ç³»ï¼Œå¯ä»¥ç”¨ <strong>è´¨é‡ç²¾æˆ–è€…å°ä¼—è“æµ·</strong> æ¥è§£å†³ã€‚å·¥ä½œé‡å¤§ä¸€å®šæ˜¯ä¸è¡Œçš„ï¼Œå› ä¸ºæœ¬æ¥å°±ä¸æ˜¯ä¸»èŒï¼Œæ ¹æœ¬æ²¡æœ‰é‚£ä¹ˆå¤šæ—¶é—´ç²¾åŠ›å»åšã€‚è°æ‰“å®Œä¸€å¤©å·¥ï¼Œè¿˜æƒ³æä¸œæè¥¿å•Šã€‚</p><h1 id="2024-07-31"><a href="#2024-07-31" class="headerlink" title="2024-07-31"></a>2024-07-31</h1><p>åŠ äº† disabled çš„ inputï¼Œç‚¹å‡»çš„æ—¶å€™æ˜¯ä¸ä¼šæ¥å— onClick äº‹ä»¶çš„ï¼š<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Attributes/disabled" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/HTML/Attributes/disabled</a></p><ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Learn/JavaScript/Building_blocks/Events" target="_blank" rel="noopener">äº‹ä»¶</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Learn/JavaScript/Building_blocks/Event_bubbling" target="_blank" rel="noopener">äº‹ä»¶å†’æ³¡</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Event/stopPropagation" target="_blank" rel="noopener">event.stopPropagation</a></li></ul><h2 id="ç¼–ç¨‹æ€è€ƒ"><a href="#ç¼–ç¨‹æ€è€ƒ" class="headerlink" title="ç¼–ç¨‹æ€è€ƒ"></a>ç¼–ç¨‹æ€è€ƒ</h2><p>åšæ–°éœ€æ±‚ä¸»è¦çœ‹ä¸¤ä¸ªæ–¹é¢ï¼š</p><ol><li>å¯¹åŸå…ˆä»£ç çš„ç ´åç¨‹åº¦</li><li>ä»£ç é‡å¤§ä¸å¤§</li></ol><p>å¦‚æœèƒ½æ•´å‡ºä¸€å¥—ï¼Œå¯¹è¿™ä¸¤ç‚¹éƒ½å¥½çš„è®¾è®¡ï¼Œå°±èˆ’æœäº†</p><p>æ–°åŠ éœ€æ±‚ä»£ç ä½ç½®çš„é—®é¢˜ï¼š</p><ol><li>ä¸æ”¾åº•å±‚å®ç°ä¸äº†çš„ï¼Œå°±æ”¾åº•å±‚ã€‚å¦åˆ™å°½é‡ä¸æ”¾åº•å±‚</li><li>åŸºç¡€çš„ä¸œè¥¿ï¼Œæ”¾åº•å±‚ï¼Œä¸å˜çš„ä¸œè¥¿æ”¾åº•å±‚</li><li>åº•å±‚å°½é‡ç¨³å®šï¼Œä¸æ”¹ã€‚å°½é‡ä¸å¾€åº•å±‚åŠ ä¸œè¥¿</li><li>ä¸šåŠ¡å±‚å¯ä»¥è†¨èƒ€ï¼Œä½†æ˜¯åº•å±‚ä¸å¯ä»¥</li><li>åº•å±‚çš„èŒƒå›´ï¼šé™¤ä¸šåŠ¡å±‚å¤–çš„æ‰€æœ‰å±‚éƒ½ç®—åº•å±‚</li></ol><p>ä¸€èˆ¬æ˜¯ä¸‰å±‚è®¾è®¡ï¼šMVCï¼ˆModel View Controllorï¼‰ï¼Œå³ï¼šæ•°æ®å±‚ï¼Œè§†å›¾å±‚ï¼Œæ§åˆ¶å±‚ï¼ˆä¸šåŠ¡å±‚ï¼‰</p><p>åªæœ‰ä¸šåŠ¡å±‚æ˜¯å¯ä»¥è†¨èƒ€çš„ï¼Œæ•°æ®å±‚å’Œè§†å›¾å±‚åŸºæœ¬ç¨³å®šä¸å˜ã€‚</p><p>å›è¿‡å¤´æ¥çœ‹ï¼Œå¯¹åŸå…ˆä»£ç çš„ç ´åç¨‹åº¦ä½ï¼Œå…¶å®ç”¨ <strong>åˆ†å±‚</strong> å°±å¯ä»¥å®ç°ã€‚ä»£ç é‡å¤§ä¸å¤§ï¼Œåˆ™ä¾èµ– <strong>è‡ªåŠ¨æŒ¡</strong> æ¥è§£å†³ï¼ˆæ‰‹åŠ¨æŒ¡å¯¹åº”åŸå­åŒ–ï¼Œè‡ªåŠ¨æŒ¡å¯¹åº”å°è£…è‰¯å¥½çš„ API+è§‚å¯Ÿè€…+äº‹åŠ¡ï¼‰</p><p>åŸå­åŒ–æ˜¯åŸºç¡€ï¼Œç»„åˆåŸå­åŒ–çš„ API å½¢æˆä¸°å¯Œçš„ç»„åˆåŠŸèƒ½æ˜¯ä¸‹ä¸€æ­¥ã€‚</p><h1 id="2024-07-30"><a href="#2024-07-30" class="headerlink" title="2024-07-30"></a>2024-07-30</h1><h2 id="æ–‡æœ¬è¶…é•¿çœç•¥å·"><a href="#æ–‡æœ¬è¶…é•¿çœç•¥å·" class="headerlink" title="æ–‡æœ¬è¶…é•¿çœç•¥å·"></a>æ–‡æœ¬è¶…é•¿çœç•¥å·</h2><p>æŠŠæ–‡æœ¬æ”¹æˆé“¾æ¥ï¼Œè¿˜è¦å®ç°<code>text-overflow:ellipsis</code>æ•ˆæœï¼Œè¦æ€ä¹ˆæï¼Ÿ</p><h2 id="typescript-å‡½æ•°é‡è½½ã€‚"><a href="#typescript-å‡½æ•°é‡è½½ã€‚" class="headerlink" title="typescript å‡½æ•°é‡è½½ã€‚"></a>typescript å‡½æ•°é‡è½½ã€‚</h2><p>åœ¨å¼€å‘çš„æ—¶å€™ï¼Œç»å¸¸é‡åˆ°è¿™æ ·ä¸€ç§æƒ…å†µï¼Œå¦‚æœæ•°æ®æ˜¯å¤šå±‚çº§çš„å¯¹è±¡ï¼Œæƒ³ç”¨ä¸€ä¸ªå‡½æ•°æ¥å®ç°å¤šç§ç­–ç•¥ä¸‹è·å–ä¸åŒå±‚çº§çš„æ•°æ®ï¼Œä½†æ˜¯å‘¢åˆä¸æƒ³åœ¨è°ƒç”¨çš„æ—¶å€™å¼ºåˆ¶è½¬æ¢ç±»å‹ï¼ˆå› ä¸ºä¸åŒå±‚çº§çš„æ•°æ®ç±»å‹æ˜¯ä¸ä¸€æ ·çš„ï¼‰ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå°±å¯ä»¥ç”¨åˆ°å‡½æ•°é‡è½½ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">get</span>(): BatchInstanceAttr;</span><br><span class="line"><span class="keyword">get</span>(tabId: <span class="built_in">string</span>): InstanceAttr;</span><br><span class="line"><span class="keyword">get</span>(tabId: <span class="built_in">string</span>, eid: <span class="built_in">string</span>): AttrIdData;</span><br><span class="line"><span class="keyword">get</span>(tabId: <span class="built_in">string</span>, eid: <span class="built_in">string</span>, propertyKey: <span class="built_in">string</span>): <span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">get</span>(tabId?: <span class="built_in">string</span>, eid?: <span class="built_in">string</span>, propertyKey?: <span class="built_in">string</span>): BatchInstanceAttr | InstanceAttr | AttrIdData | <span class="built_in">string</span> &#123;</span><br><span class="line">  <span class="comment">// å…·ä½“å®ç°</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å› ä¸ºä¸ç®¡ä½ ä½¿ç”¨å“ªä¸€ç§å‚æ•°ï¼Œéƒ½æœ‰å…·ä½“çš„è¿”å›ç±»å‹å¯¹åº”ï¼Œæ‰€ä»¥è°ƒç”¨æ–¹å°±ä¸ç”¨æ‰‹åŠ¨æ³¨æ˜ç±»å‹äº†ã€‚</p><h1 id="2024-07-29"><a href="#2024-07-29" class="headerlink" title="2024-07-29"></a>2024-07-29</h1><p>å¾ˆä¹…æ²¡æœ‰åšè®°å½•ï¼Œå¹¶éæ˜¯æ²¡æœ‰ä¸œè¥¿è¦å†™ï¼Œè€Œæ˜¯ä¹‹å‰æœåŠ¡å™¨å’ŒåŸŸåè¿‡æœŸï¼Œå¯¼è‡´ github pages è®¿é—®ä¸äº†ï¼Œä¸€æ—¶åŠä¼šå„¿æˆ‘æ²¡å¼„å¥½ï¼Œç„¶åå°±å» wolai ä¸Šé¢è®°å½•äº†ã€‚ç»“æœå‘ç° wolai ï¼ˆè¦ä»˜è´¹æ‰èƒ½åˆ†äº«ç¬”è®°ï¼‰å’Œ notionï¼ˆè¦è§‚çœ‹æ–¹å…ˆæ³¨å†Œ notion æ‰èƒ½çœ‹ï¼‰ å±…ç„¶æ²¡æ³•å¾ˆå¥½çš„åˆ†äº«ç¬”è®°äº†ã€‚å¤§ä¸ºæ¼ç«ã€‚è¿˜æ˜¯å›åˆ°ç”¨ githubs pages è®°å½•è¿™ç§å¤è€çš„æ–¹æ³•æ¥ã€‚ä¹‹å‰æ¢è®¨è¿‡ï¼šç”±äºåšå®¢æ²¡äººçœ‹ï¼Œè€Œä¸”ä¸æ–¹ä¾¿è®°å½•ï¼Œæ‰€ä»¥ï¼Œå®é™…ä¸Šç”¨åšå®¢è®°å½•+åˆ†äº«æ˜¯ä¸€ç§ä¸å¥½çš„æ–¹å¼ï¼Œç¼ºç‚¹æ˜¯æ—¢ä¸å¥½è®°å½•ï¼Œä¹Ÿä¸å¥½åˆ†äº«ï¼Œä¼˜ç‚¹æ˜¯ç»“åˆäº†è®°å½•å’Œåˆ†äº«ï¼Œall in oneï¼Œä¸€ç«™å¼æœåŠ¡ã€‚ç®—æ˜¯ä¸€ç§æŠ˜ä¸­å§ã€‚æœ€å¥½çš„æ–¹å¼ä»ç„¶æ˜¯ç”¨ä¸€ä¸ªå¥½çš„ç¬”è®°å·¥å…·è®°å½•ï¼Œç„¶åå†å¼„åˆ°æµé‡å¾ˆå¤§çš„ç½‘ç«™ï¼ˆå°çº¢ä¹¦ï¼ŒæŠ–éŸ³ï¼ŒçŸ¥ä¹ï¼Œå¾®åšï¼ŒB ç«™ç­‰ç­‰ï¼‰ã€‚ä½†ç°åœ¨å±…ç„¶è¿ä¸€ä¸ªå¾ˆå¥½çš„ç¬”è®°å·¥å…·éƒ½æ²¡æœ‰äº†ã€‚ä¹‹åæˆ‘ä¼šè€ƒè™‘è‡ªå·±åšä¸€ä¸ªï¼Œè¦åšçš„ä¸œè¥¿å…¶å®è›®å¤šçš„ï¼š</p><ol><li>ç¬”è®°è½¯ä»¶ï¼Œæœ€å¥½æ˜¯åŠ å…¥ç»˜å›¾å·¥å…·</li><li>UGC åˆ†äº«å¹³å°ï¼Œä½†æ•°æ®è¦å±äºç”¨æˆ·ï¼Œç”¨æˆ·çš„æ•°æ®ç¥åœ£ä¸å¯ä¾µçŠ¯ã€‚å†…å®¹ä¸æ˜¯å¹³å°çš„ï¼ŒæŠŠå†…å®¹çš„æ‰€æœ‰æƒè¿˜ç»™ç”¨æˆ·</li><li>ä½œå“ç‰ˆæƒè¯åˆ¸åŒ–</li><li>all in one</li></ol><h2 id="äº‹ä»¶ç›‘å¬"><a href="#äº‹ä»¶ç›‘å¬" class="headerlink" title="äº‹ä»¶ç›‘å¬"></a>äº‹ä»¶ç›‘å¬</h2><p>å…¬å¸é¡¹ç›®ä¸­é‡åˆ°ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œç”¨æˆ·æ­£åœ¨ç¼–è¾‘ä¸­æ–‡ï¼Œç„¶åæŒ‰ esc é€€å‡ºäº†ä¸€ä¸ª iframe å†…çš„ textareaï¼ŒæŸ¥çœ‹ä»£ç åå‘ç° window.top å¯¹ textarea æ˜¯æœ‰ä¸€å¥— compositionstart çš„ç›‘å¬çš„ï¼Œä½† iframe é‡Œé¢æ²¡æœ‰ç›‘å¬ã€‚</p><p>document ä¸ŠåŠ ç›‘å¬æ˜¯ç›‘å¬ä¸åˆ°å…¶å†… iframe å†…çš„å…ƒç´ çš„ã€‚å¦‚æœè¦ç›‘å¬ iframe å†…çš„å…ƒç´ çš„äº‹ä»¶ï¼Œåˆ™å¿…é¡»è¦å†å¯¹ iframe çš„ document å†åšç›‘å¬ã€‚</p><h2 id="å›½å†…-github-æœˆç»é—®é¢˜"><a href="#å›½å†…-github-æœˆç»é—®é¢˜" class="headerlink" title="å›½å†… github æœˆç»é—®é¢˜"></a>å›½å†… github æœˆç»é—®é¢˜</h2><p>åˆšåˆš github åˆå‡ºé—®é¢˜ï¼Œæç¤º Git: connection reset by xxxip xxxportã€‚è§£å†³åŠæ³•ï¼š<code>git config --global --unset-all remote.origin.proxy</code></p><p>æœ¬æœº ping äº†ä¸€ä¸‹ githubï¼Œå‘ç°æç¤ºä¸Šçš„ ip å’Œ ping å‡ºæ¥çš„ ip ä¸ä¸€æ ·ã€‚</p><blockquote><p><a href="https://stackoverflow.com/questions/71571965/openssl-ssl-connect-connection-was-reset-in-connection-to-github-com443-while" target="_blank" rel="noopener">https://stackoverflow.com/questions/71571965/openssl-ssl-connect-connection-was-reset-in-connection-to-github-com443-while</a></p></blockquote><h2 id="ç¼–ç¨‹çš„è®¾è®¡æ¨¡å¼"><a href="#ç¼–ç¨‹çš„è®¾è®¡æ¨¡å¼" class="headerlink" title="ç¼–ç¨‹çš„è®¾è®¡æ¨¡å¼"></a>ç¼–ç¨‹çš„è®¾è®¡æ¨¡å¼</h2><ol><li>ç®€å•çš„ä¸šåŠ¡ç”¨å‘½ä»¤å¼ç¼–ç¨‹</li><li>å¤æ‚çš„ç”¨ reactï¼Œåªå…³æ³¨æ•°æ®ï¼Œä¸å…³å¿ƒ DOM æ“ä½œã€‚å³ï¼šå£°æ˜å¼ç¼–ç¨‹</li><li>æ›´å¤æ‚çš„ç”¨è§‚å¯Ÿè€…ï¼Œåªå…³æ³¨æ•°æ®ï¼Œä¸å…³å¿ƒå…¶ä»–æ¨¡å—çš„æ›´æ–°ã€‚</li><li>æ›´æ›´å¤æ‚çš„ï¼Œè¿æ•°æ®æ›´æ–°éƒ½å¤æ‚ï¼Œä¸Šäº‹åŠ¡ï¼Œç®¡ç†å¥½æ•°æ®æ›´æ–°ã€‚</li></ol><p>ä½†æ˜¯ç”¨å¤æ‚çš„è®¾è®¡æ¨¡å¼ä¹Ÿå¸¦æ¥ç›¸åº”çš„é—®é¢˜ã€‚</p><p>æ¯”å¦‚è§‚å¯Ÿè€…é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯æ•°æ®å˜åŒ– onChange ç²’åº¦å¤ªç»†ï¼Œä¼šé€ æˆå¾ˆå¤šä¸å¿…è¦çš„æ˜¾ç¤ºæ›´æ–°ã€‚è§£å†³åŠæ³•æœ‰è¿™æ ·å‡ ç§ï¼š</p><ol><li>é˜²æŠ–</li><li>ç²—ç²’åº¦çš„ onChange</li></ol><p>é˜²æŠ–æ¯”è¾ƒç®€å•ï¼Œå°±ä¸è®²äº†ã€‚å®ç°ç²—ç²’åº¦ï¼Œä¹Ÿå°±æ˜¯ä¸€ç»„æ“ä½œä¸€ä¸ª onChangeã€‚å®é™…ä¸ŠæŠŠè¿™ç»„æ“ä½œæ”¾å…¥äº‹åŠ¡ï¼Œäº‹åŠ¡ç»“æŸåå‘å‡º onChangeï¼Œå°±èƒ½è¾¾åˆ°ç›®çš„ã€‚</p><h1 id="2024-05-20"><a href="#2024-05-20" class="headerlink" title="2024-05-20"></a>2024-05-20</h1><p>æœ€è¿‘åœ¨çœ‹æ€æ ·å†™å¥½ reactï¼š</p><ul><li><a href="https://juejin.cn/post/6889247428797530126" target="_blank" rel="noopener">æˆ‘åœ¨å·¥ä½œä¸­å†™ Reactï¼Œå­¦åˆ°äº†ä»€ä¹ˆï¼Ÿæ€§èƒ½ä¼˜åŒ–ç¯‡</a></li><li><a href="https://pengtikui.cn/blog/how-to-write-great-react" target="_blank" rel="noopener">å¦‚ä½•å†™å‡ºä¼˜ç§€çš„ React ä»£ç </a></li><li><a href="https://zhuanlan.zhihu.com/p/161886512" target="_blank" rel="noopener">ä»£ç é‡æ„ä¹‹è·¯ï¼šç¼–å†™å¹²å‡€çš„ React Components &amp; JSX</a></li><li><a href="https://juejin.cn/post/7012260002895233055" target="_blank" rel="noopener">å¦‚ä½•å†™å‡ºä¼˜é›…çš„ react ç»„ä»¶ï¼Ÿ</a></li><li><a href="https://www.freecodecamp.org/chinese/news/best-practices-for-react/" target="_blank" rel="noopener">React æœ€ä½³å®è·µ--å¦‚ä½•å†™å‡ºæ›´å¥½çš„ React ä»£ç ï¼ˆ2022 å¹´ç‰ˆï¼‰</a></li></ul><h1 id="2024-05-17"><a href="#2024-05-17" class="headerlink" title="2024-05-17"></a>2024-05-17</h1><p>æœ€è¿‘å®ç° react Table ç»„ä»¶é‡åˆ°ä¸å°‘é—®é¢˜ï¼Œæ‰€ä»¥æ‰“ç®—å¤šå­¦ç‚¹ reactï¼Œè¿™ç¯‡æ–‡ç« è®²<code>useReducer</code>ï¼Œè®²å¾—å¾ˆå¥½:</p><p><a href="https://juejin.cn/post/6844903869604986888" target="_blank" rel="noopener">è¿™ä¸€æ¬¡å½»åº•æå®š useReducer-ä½¿ç”¨ç¯‡</a></p><h1 id="2024-04-17"><a href="#2024-04-17" class="headerlink" title="2024-04-17"></a>2024-04-17</h1><p>hmr invalidate</p><p><a href="https://www.lcs.show/blog/common/vite-hmr" target="_blank" rel="noopener">https://www.lcs.show/blog/common/vite-hmr</a></p><h1 id="2024-04-09"><a href="#2024-04-09" class="headerlink" title="2024-04-09"></a>2024-04-09</h1><p>react ç»„ä»¶åœ¨å†™æˆå‡½æ•°çš„æ—¶å€™ï¼Œæ˜¯ä¼šå¼•èµ·çˆ¶ç»„ä»¶æ¸²æŸ“çš„ï¼š</p><p>App.tsx</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">"./App.css"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; Child &#125; <span class="keyword">from</span> <span class="string">"./Child"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  alert(<span class="string">"çˆ¶ç»„ä»¶æ¸²æŸ“"</span>);</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;main&gt;</span><br><span class="line">      React âš›ï¸ + Vite âš¡ + Replit ğŸŒ€</span><br><span class="line">      &#123;Child()&#125;</span><br><span class="line">    &lt;<span class="regexp">/main&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure><p>Child.tsx</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useState &#125; <span class="keyword">from</span> <span class="string">"react"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> Child = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [a, setA] = useState(<span class="number">0</span>);</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div</span><br><span class="line">      onClick=&#123;<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        setA(a + <span class="number">1</span>);</span><br><span class="line">      &#125;&#125;</span><br><span class="line">    &gt;</span><br><span class="line">      &#123;a&#125;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;;</span></span><br></pre></td></tr></table></figure><p>æ”¹ä¸ºç»„ä»¶å¼å†™æ³•ï¼Œæ‰èƒ½é¿å…çˆ¶ç»„ä»¶è¢«æ¸²æŸ“ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">"./App.css"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; Child &#125; <span class="keyword">from</span> <span class="string">"./Child"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  alert(<span class="string">"çˆ¶ç»„ä»¶æ¸²æŸ“"</span>);</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;main&gt;</span><br><span class="line">      React âš›ï¸ + Vite âš¡ + Replit ğŸŒ€</span><br><span class="line">      &lt;Child&gt;&lt;<span class="regexp">/Child&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/m</span>ain&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è‡³äºåŸå› ï¼Œè¿˜ä¸äº†è§£ã€‚</p><p>å‚è€ƒï¼š</p><p><a href="https://www.zhihu.com/question/448269343" target="_blank" rel="noopener">https://www.zhihu.com/question/448269343</a></p><h1 id="2024-03-24"><a href="#2024-03-24" class="headerlink" title="2024-03-24"></a>2024-03-24</h1><p>æ€ä¹ˆç®€åŒ–å¤§é‡çš„ if else ç»“æ„ï¼Œå¯ä»¥ç”¨ map æ¥å®ç°ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (x <span class="keyword">instanceof</span> A) &#123;</span><br><span class="line">    a();</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (x <span class="keyword">instanceof</span> B) &#123;</span><br><span class="line">    b();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> h = [</span><br><span class="line">  &#123; <span class="attr">cb</span>: a, <span class="attr">match</span>: <span class="function">(<span class="params">x</span>) =&gt;</span> x <span class="keyword">instanceof</span> A &#125;,</span><br><span class="line">  &#123; <span class="attr">cb</span>: b, <span class="attr">match</span>: <span class="function">(<span class="params">x</span>) =&gt;</span> x <span class="keyword">instanceof</span> B &#125;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f2</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">  h.find(<span class="function">(<span class="params">y</span>) =&gt;</span> y.match(x))?.cb();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="2024-03-23"><a href="#2024-03-23" class="headerlink" title="2024-03-23"></a>2024-03-23</h1><h2 id="eslint-é…ç½®"><a href="#eslint-é…ç½®" class="headerlink" title="eslint é…ç½®"></a>eslint é…ç½®</h2><p>åœ¨æ–‡ä»¶å¤´éƒ¨å†™å¦‚ä¸‹æ³¨é‡Šï¼Œå³å¯è®© eslint æŸéƒ¨åˆ†æ£€æŸ¥è·³è¿‡æ­¤æ–‡ä»¶ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/* eslint no-console: &quot;off&quot; */</span><br><span class="line">/* eslint no-fallthrough: &quot;off&quot; */</span><br></pre></td></tr></table></figure><p>å‚è€ƒï¼š<a href="https://uovol.com/unexpected-console-statement--no-console" target="_blank" rel="noopener">https://uovol.com/unexpected-console-statement--no-console</a></p><p>è¿™æ ·çš„è®¾è®¡çœŸæ˜¯è›®å¥½ç”¨çš„</p><h2 id="scrollWidth-offsetWidth-clientWidth-çš„åŒºåˆ«"><a href="#scrollWidth-offsetWidth-clientWidth-çš„åŒºåˆ«" class="headerlink" title="scrollWidth, offsetWidth, clientWidth çš„åŒºåˆ«"></a>scrollWidth, offsetWidth, clientWidth çš„åŒºåˆ«</h2><ul><li>scrollWidth æ˜¯å…ƒç´ çœŸå®çš„å®½åº¦ï¼ˆä½†ä¸åŒ…å« border å’Œæ»šåŠ¨æ¡ï¼Œä½†åŒ…å« paddingï¼‰</li><li>offsetWidth ä¹Ÿæ˜¯çœŸå®çš„å…ƒç´ å®½åº¦ï¼ˆä½†åŒ…å« border å’Œæ»šåŠ¨æ¡ï¼‰</li><li>clientWidth æ˜¯å…ƒç´ çš„å¯è§†å®½åº¦ï¼ˆä¸åŒ…å« border å’Œæ»šåŠ¨æ¡ï¼‰</li></ul><p>scrollHeightï¼ŒoffsetHeightï¼ŒclientHeight åŒç†</p><p>å¯ä»¥ç”¨å¦‚ä¸‹ä¾‹å­æµ‹è¯•ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">      div &#123;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#000</span>;</span></span><br><span class="line"><span class="undefined">        width: 100px;</span></span><br><span class="line"><span class="undefined">        height: 200px;</span></span><br><span class="line"><span class="undefined">        padding-right: 15px;</span></span><br><span class="line"><span class="undefined">        padding-bottom: 15px;</span></span><br><span class="line"><span class="undefined">        background-color: aquamarine;</span></span><br><span class="line"><span class="undefined">        margin-left: 10px;</span></span><br><span class="line"><span class="undefined">        overflow: hidden;</span></span><br><span class="line"><span class="undefined">        overflow-x: scroll;</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>sdsssssssssssssssssssssssssssdssssssssssssssssssssssssss<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(</span></span><br><span class="line"><span class="javascript">        <span class="string">"scrollWidth: "</span>,</span></span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.querySelectorAll(<span class="string">"div"</span>)[<span class="number">0</span>].scrollWidth</span></span><br><span class="line"><span class="undefined">      );</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(</span></span><br><span class="line"><span class="javascript">        <span class="string">"clientWidth: "</span>,</span></span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.querySelectorAll(<span class="string">"div"</span>)[<span class="number">0</span>].clientWidth</span></span><br><span class="line"><span class="undefined">      );</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(</span></span><br><span class="line"><span class="javascript">        <span class="string">"offsetWidth: "</span>,</span></span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.querySelectorAll(<span class="string">"div"</span>)[<span class="number">0</span>].offsetWidth</span></span><br><span class="line"><span class="undefined">      );</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(</span></span><br><span class="line"><span class="javascript">        <span class="string">"scrollHeight: "</span>,</span></span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.querySelectorAll(<span class="string">"div"</span>)[<span class="number">0</span>].scrollHeight</span></span><br><span class="line"><span class="undefined">      );</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(</span></span><br><span class="line"><span class="javascript">        <span class="string">"clientHeight: "</span>,</span></span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.querySelectorAll(<span class="string">"div"</span>)[<span class="number">0</span>].clientHeight</span></span><br><span class="line"><span class="undefined">      );</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(</span></span><br><span class="line"><span class="javascript">        <span class="string">"offsetHeight: "</span>,</span></span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.querySelectorAll(<span class="string">"div"</span>)[<span class="number">0</span>].offsetHeight</span></span><br><span class="line"><span class="undefined">      );</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="useCallback-çš„å®è·µä¾‹å­"><a href="#useCallback-çš„å®è·µä¾‹å­" class="headerlink" title="useCallback çš„å®è·µä¾‹å­"></a>useCallback çš„å®è·µä¾‹å­</h2><p><a href="https://replit.com/@liuqinh2s/useCallback#README.md" target="_blank" rel="noopener">https://replit.com/@liuqinh2s/useCallback#README.md</a></p><h1 id="2024-03-09"><a href="#2024-03-09" class="headerlink" title="2024-03-09"></a>2024-03-09</h1><p>react å¼€å‘è¿‡ç¨‹ä¸­ï¼Œç»å¸¸é‡åˆ°ä¸€äº›å¥‡æ€ªçš„é—®é¢˜ã€‚æœ€è¿‘è§£å†³çš„è¿™ä¸ªå°¤ä¸ºå¥‡æ€ªï¼ŒæŠ¥é”™ï¼š<code>rendered fewer hooks than expected. this may be caused by an accidental early return statement</code>ã€‚ä½†æˆ‘å¹¶æ²¡æœ‰æŠŠ hooks å†™é“æ¡ä»¶è¯­å¥é‡Œé¢ã€‚æœ€ç»ˆä»è¿™ç¯‡æ–‡ç« æ‰¾åˆ°äº†æˆ‘æƒ³è¦çš„ç­”æ¡ˆï¼š<a href="https://medium.com/@jonchurch/how-to-fix-react-error-rendered-fewer-hooks-than-expected-e6a378985d3c" target="_blank" rel="noopener">https://medium.com/@jonchurch/how-to-fix-react-error-rendered-fewer-hooks-than-expected-e6a378985d3c</a></p><p>åŸå› æ˜¯æˆ‘ç”¨æ™®é€šå‡½æ•°è°ƒç”¨çš„å†™æ³•ï¼Œåº”è¯¥æ”¹ä¸ºç»„ä»¶å†™æ³•ï¼š</p><p>é”™è¯¯å†™æ³•ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> Component1 = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">getHtml</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &lt;div&gt;&lt;<span class="regexp">/div&gt;;</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">  return &lt;div&gt;&#123;getHtml()&#125;&lt;/</span>div&gt;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ­£ç¡®å†™æ³•ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> Component1 = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">GetHtml</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &lt;div&gt;&lt;<span class="regexp">/div&gt;;</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">  return (</span></span><br><span class="line"><span class="regexp">    &lt;div&gt;</span></span><br><span class="line"><span class="regexp">      &lt;GetHtml&gt;&lt;/</span>GetHtml&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;;</span></span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ React ç»„ä»¶é¦–å­—æ¯è¦å¤§å†™</p></blockquote><h1 id="2024-02-18"><a href="#2024-02-18" class="headerlink" title="2024-02-18"></a>2024-02-18</h1><p>å¦‚ä½•å®ç°æ¯›ç»ç’ƒæ•ˆæœï¼Œcss:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">filter</span>: <span class="selector-tag">blur</span>(5<span class="selector-tag">px</span>);</span><br></pre></td></tr></table></figure><h1 id="2023-01-30"><a href="#2023-01-30" class="headerlink" title="2023-01-30"></a>2023-01-30</h1><p>æœ€è¿‘å®ç°äº†ä¸€ä¸ªæ‹–æ‹½æ¡ç»„ä»¶ï¼Œå‘ç°æ‹–æ‹½çš„æ—¶å€™ä¼šé€‰ä¸­ä¸€äº›æ–‡æœ¬ï¼Œä»è€Œå¯¼è‡´ä¸‹ä¸€æ¬¡æ‹–æ‹½æ—¶ pointerup ç›‘å¬ä¸åˆ°ã€‚è§£å†³åŠæ³•æ˜¯ï¼šæ‹–æ‹½çš„æ—¶å€™è®¾ç½®æ ·å¼<code>user-select: none;</code>åˆ° document.body ä¸Šï¼Œç¦æ­¢é€‰ä¸­ï¼Œä»è€Œè§£å†³é—®é¢˜ã€‚</p><h1 id="2023-12-08"><a href="#2023-12-08" class="headerlink" title="2023-12-08"></a>2023-12-08</h1><p>åœ¨ç½‘ä¸Šçœ‹åˆ°å†™çš„å¾ˆå¥½çš„äººå·¥æ™ºèƒ½å…¥é—¨æ–‡ç« ï¼š<a href="https://victorzhou.com/series/neural-networks-from-scratch/" target="_blank" rel="noopener">Neural Networks From Scratch</a></p><h1 id="2023-11-28"><a href="#2023-11-28" class="headerlink" title="2023-11-28"></a>2023-11-28</h1><p>å¦‚ä½•è®©è¶…å‡ºçš„æ–‡å­—æ˜¾ç¤ºï¼š<code>...</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">overflow</span>: <span class="selector-tag">hidden</span>;</span><br><span class="line"><span class="selector-tag">white-space</span>: <span class="selector-tag">nowrap</span>;</span><br><span class="line"><span class="selector-tag">text-overflow</span>: <span class="selector-tag">ellipsis</span>;</span><br></pre></td></tr></table></figure><h1 id="2023-11-22"><a href="#2023-11-22" class="headerlink" title="2023-11-22"></a>2023-11-22</h1><p>ä»Šæ—¥è¯é¢˜ï¼š</p><ul><li>react ç»„ä»¶å¦‚ä½•æ­£ç¡®çš„å¸è½½</li><li>æµè§ˆå™¨å¦‚ä½•åŠ è½½æœ¬åœ°æ‰€æœ‰å­—ä½“</li></ul><p>æ–°çš„ apiï¼Œ<code>await window.queryLocalFonts()</code>å¯ä»¥åŠ è½½æœ¬åœ°æ‰€æœ‰å­—ä½“ã€‚å‚çœ‹æ–‡æ¡£ï¼š<a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/queryLocalFonts" target="_blank" rel="noopener">window: queryLocalFonts() method - Web APIs | MDN</a></p><h1 id="2023-11-21"><a href="#2023-11-21" class="headerlink" title="2023-11-21"></a>2023-11-21</h1><p>ä»Šæ—¥è¯é¢˜ï¼š</p><ul><li>requestAnimationFrame</li><li>å¤§é‡å¾ªç¯é‡å¤è·å–æŸä¸ªå€¼æ—¶ï¼Œå¦‚ä½•åŠ é€Ÿï¼Ÿ</li></ul><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame" target="_blank" rel="noopener">Window: requestAnimationFrame() method - Web APIs | MDN</a></p><p><code>requestAnimationFrame(callbackFn)</code>è®©æµè§ˆå™¨åœ¨ä¸‹æ¬¡é‡ç»˜ä¹‹å‰è°ƒç”¨ä½ çš„ callback å‡½æ•°ï¼Œè¿™ä¸ªæ–¹æ³•æ˜¯ä¸€æ¬¡æ€§çš„ï¼Œå¦‚æœä½ æƒ³æŒç»­ç”¨ï¼Œå°±è¦æŒç»­è°ƒç”¨ã€‚</p><p>åœ¨å®é™…çš„å¼€å‘ç¯èŠ‚ï¼Œå¤§é‡å¾ªç¯é‡å¤è·å–æŸä¸ªå€¼æ—¶ï¼Œå¦‚ä½•åŠ é€Ÿï¼Ÿè¿™æ—¶å€™å°±éœ€è¦åšç¼“å­˜ï¼Œä½†è¿™ä¸ªç¼“å­˜ä¸å¯ä»¥å¤ªä¹…ï¼Œå¦åˆ™å¯èƒ½ä¼šé¢ä¸´ä¸å¤Ÿæ–°çš„é—®é¢˜ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">costManyTime</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> count = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>_0000; i++) &#123;</span><br><span class="line">    count += <span class="built_in">Math</span>.random();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getValue</span>(<span class="params">key</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> value = costManyTime();</span><br><span class="line">  <span class="keyword">return</span> value;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> cache = <span class="keyword">new</span> Map();</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getValue2</span>(<span class="params">key</span>) </span>&#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (cache.size &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      cache.clear();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;, <span class="number">500</span>);</span><br><span class="line">  <span class="keyword">if</span> (cache.has(key)) &#123;</span><br><span class="line">    <span class="keyword">return</span> cache.get(key);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> value = costManyTime();</span><br><span class="line">  cache.set(key, value);</span><br><span class="line">  <span class="keyword">return</span> value;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.time(<span class="string">"costManyTime"</span>);</span><br><span class="line">costManyTime();</span><br><span class="line"><span class="built_in">console</span>.timeEnd(<span class="string">"costManyTime"</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.time(<span class="string">"loop getValue"</span>);</span><br><span class="line"><span class="keyword">let</span> hh = [];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++) &#123;</span><br><span class="line">  hh.push(getValue(<span class="string">"key"</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.timeEnd(<span class="string">"loop getValue"</span>);</span><br><span class="line">hh.length = <span class="number">0</span>;</span><br><span class="line"><span class="built_in">console</span>.time(<span class="string">"loop getValue2"</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++) &#123;</span><br><span class="line">  hh.push(getValue2(<span class="string">"key"</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.timeEnd(<span class="string">"loop getValue2"</span>);</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šä»£ç ï¼Œç¼“å­˜å­˜åœ¨ 500msï¼Œä¾æ—§å­˜åœ¨å¦‚ä¸‹ä¸¤ä¸ªé—®é¢˜ï¼š</p><ol><li>å¦‚æœå€¼åœ¨è¿™ 500ms å†…æ›´æ–°äº†ï¼Œé‚£ä¹ˆå°±ä¼šé‡åˆ°æ²¡è·å–åˆ°æœ€æ–°å€¼çš„é—®é¢˜</li><li>å¦‚æœ<code>loop getValue</code>æ•´ä½“æ—¶é•¿è¶…è¿‡äº† 500msï¼Œé‚£ä¹ˆç¼“å­˜ä¼šå¤±æ•ˆå¹¶è¿›è¡Œé‡å»º</li></ol><h1 id="2023-11-14"><a href="#2023-11-14" class="headerlink" title="2023-11-14"></a>2023-11-14</h1><p>ä»Šæ—¥éœ€æ±‚</p><ol><li>å±±åŸå¯¼èˆª</li></ol><p>åœ¨é‡åº†çš„æ—¶å€™ï¼Œå‘ç°åœ°å›¾å¯¼èˆªå®Œå…¨æ˜¯é”™çš„ï¼Œä¸ç®¡æ˜¯æ­¥è¡Œå¯¼èˆªï¼Œè¿˜æ˜¯é©¾é©¶å¯¼èˆªã€‚ç„¶åå¸æœºè¯´è¦ç”¨æœ¬åœ°çš„ç¦»çº¿åœ°å›¾åŒ…ï¼Œæˆ‘å½“æ—¶åœ¨æƒ³ç¦»çº¿åœ°å›¾åŒ…è¿˜æœ‰æ­¤ç­‰ç¥å¥‡çš„ä½œç”¨å—ï¼Ÿåƒé‡åº†è¿™ç§å±±åŸï¼Œé«˜åº¦å®šä½ä¼¼ä¹å¾ˆä¸å‡†ï¼Œåœ¨ä¸åŒçš„æµ·æ‹”é«˜åº¦ï¼Œè·¯çº¿æ ¹æœ¬ä¸ä¸€æ ·ã€‚è¦æ€ä¹ˆè§£å†³è¿™ç§é—®é¢˜å‘¢</p><p>I had a dream that I speak English in any situation all the night.</p><p>æˆ‘æ˜¨æ™šæ¢¦åˆ°è‡ªå·±åœ¨æ¢¦é‡Œä¸€ç›´è®²è‹±è¯­ï¼Œå°±æ˜¯ä»»ä½•åœºæ™¯ä¸‹éƒ½åœ¨ç”¨è‹±è¯­è¾“å‡ºã€‚çœŸæ˜¯ä¸ªæ€ªç°è±¡</p><p>ä½†ç¡®å®å¯ä»¥åšåˆ°å…¶å®ï¼Œç°åœ¨æœ‰äº† chatgpt å°±ç›¸å½“äºæœ‰äº†ä¸€ä¸ªéšèº«çš„è‹±è¯­è€å¸ˆï¼Œå®ƒç”šè‡³å¯ä»¥å¸®æˆ‘é›¶æˆæœ¬çš„åŒå£°ä¼ è¯‘ã€‚</p><h1 id="2023-11-13"><a href="#2023-11-13" class="headerlink" title="2023-11-13"></a>2023-11-13</h1><p>ä»Šæ—¥å‘ç°çš„ bugï¼š</p><ol><li>åœ¨ç”¨ label for çš„æ—¶å€™å‘ç° id é‡å¤ï¼Œå¯¼è‡´æ— æ³•ç‚¹å‡»è§¦å‘ checkbox å‹¾é€‰</li><li>http post å‚æ•°ä¼ é”™å¯¼è‡´ 404</li></ol><p>æœ‹å‹æå‡ºï¼Œå¯ä»¥ç”¨<a href="https://zh-hans.react.dev/reference/react/useId" target="_blank" rel="noopener">useId</a>æ¥é¿å… id é‡å¤</p><p>ä»Šæ—¥å‘ç°çš„éœ€æ±‚ï¼š</p><ol><li>äºŒç»´è¡¨æ ¼ï¼šç”»ä¸€ä¸ªç¬›å¡å°”ç§¯ï¼ˆäºŒä½è¡¨æ ¼ï¼‰çš„æ—¶å€™å‘ç°ï¼ŒäºŒç»´è¡¨æ ¼ç”¨ markdown å¾ˆä¸å¥½ç”»ï¼Œæƒ³è¦åœ¨ä¸€ä¸ªå•å…ƒæ ¼é‡Œé¢ç”»ä¸€æ ¹æ–œçº¿æ›´æ˜¯éš¾ï¼ˆç”»æ–œçº¿å…¶å®å¯ä»¥ç›´æ¥æ•²ä¸ªå­—ç¬¦<code>\</code>ï¼Œæ¯•ç«Ÿæ˜¯ç»™äººçœ‹çš„ï¼Œäººèƒ½æ‡‚å°±è¡Œï¼‰ã€‚äºæ˜¯æˆ‘ç”¨ eda ç”»äº†ä¸€ä¸ªäºŒä½è¡¨æ ¼</li><li>æŸ¥æ‰¾é¡¹ç›®ä¸­çš„ä¸€ä¸ªæ–‡ä»¶çš„æŸä¸ªå‡½æ•°ä¸­çš„å†å²ä»£ç ï¼ˆæƒ³çœ‹æ¼”å˜è¿‡ç¨‹ï¼‰ï¼Œå‘ç°æ²¡æœ‰å¾ˆå¥½çš„å·¥å…·ï¼Œåªèƒ½çœ‹åˆ°æ–‡ä»¶çš„æäº¤å†å²ã€‚èƒ½å¦è‡ªå·±åšä¸€ä¸ªå‡ºæ¥</li></ol><h2 id="window-location-href-å’Œ-hashï¼ˆ-ï¼‰"><a href="#window-location-href-å’Œ-hashï¼ˆ-ï¼‰" class="headerlink" title="window location href å’Œ hashï¼ˆ#ï¼‰"></a>window location href å’Œ hashï¼ˆ#ï¼‰</h2><ol><li>ä¿®æ”¹äº† hash ä¸ä¼šåˆ·æ–°ï¼Œä¿®æ”¹äº†é hash ä¼šåˆ·æ–°</li><li>æœ‰<code>#</code>çš„æƒ…å†µä¸‹ï¼Œè‡ªå·±ç­‰äºè‡ªå·±ä¸ä¼šåˆ·æ–°ï¼Œ<strong>æ²¡å¸¦<code>#</code>çš„æƒ…å†µä¸‹ï¼Œè‡ªå·±ç­‰äºè‡ªå·±ä¼šåˆ·æ–°</strong></li><li>å»æ‰<code>#</code>ä¼šåˆ·æ–°</li><li>åŠ ä¸Š<code>#</code>ä¸ä¼šåˆ·æ–°</li></ol><h1 id="2023-10-23"><a href="#2023-10-23" class="headerlink" title="2023-10-23"></a>2023-10-23</h1><h2 id="ts-é¡¹ç›®ä½¿ç”¨-js-åŒ…"><a href="#ts-é¡¹ç›®ä½¿ç”¨-js-åŒ…" class="headerlink" title="ts é¡¹ç›®ä½¿ç”¨ js åŒ…"></a>ts é¡¹ç›®ä½¿ç”¨ js åŒ…</h2><p>ts é¡¹ç›®å¼•å…¥ js åŒ…ä¼šæŠ¥é”™ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨é¡¹ç›®çš„ä»»æ„ä½ç½®æ–°å»ºä¸€ä¸ª<code>xxx.d.ts</code>æ–‡ä»¶ï¼Œå†…å®¹å¡«å…¥ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">declare <span class="built_in">module</span> <span class="string">'ã€import çš„ç¬¬ä¸‰æ–¹åº“åã€‘'</span>;</span><br></pre></td></tr></table></figure><p>å³å¯è§£å†³æŠ¥é”™</p><blockquote><p>TODO: å‘å¸ƒä¸€ä¸ª typescript çš„ npm åŒ…</p></blockquote><h2 id="nginx-åŒä¸€ç«¯å£ä¸åŒè·¯å¾„æ˜ å°„åˆ°ä¸åŒé¡¹ç›®"><a href="#nginx-åŒä¸€ç«¯å£ä¸åŒè·¯å¾„æ˜ å°„åˆ°ä¸åŒé¡¹ç›®" class="headerlink" title="nginx åŒä¸€ç«¯å£ä¸åŒè·¯å¾„æ˜ å°„åˆ°ä¸åŒé¡¹ç›®"></a>nginx åŒä¸€ç«¯å£ä¸åŒè·¯å¾„æ˜ å°„åˆ°ä¸åŒé¡¹ç›®</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">location /project1 &#123;</span><br><span class="line">  alias /xxx/project1</span><br><span class="line">  index index.html</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">location /project2 &#123;</span><br><span class="line">  alias /xxx/project2</span><br><span class="line">  index index.html</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="2023-10-20"><a href="#2023-10-20" class="headerlink" title="2023-10-20"></a>2023-10-20</h1><p>å‘ç°ä¸€ä¸ªé—®é¢˜ Object.defineProperty ä¸€æ—¦è®¾ç½®äº† set æ–¹æ³•ï¼Œå°±æ²¡åŠæ³•è®¾ç½®å€¼åˆ°è¯¥å±æ€§ä¸Šäº†ï¼Œåªèƒ½é€šè¿‡ get çš„æ—¶å€™è¿”å›å¯¹åº”å€¼æ¥è¾¾åˆ°ä¸å½±å“åŸæ¥ä»£ç çš„ç›®çš„ã€‚æ¯”å¦‚ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = &#123; <span class="attr">a</span>: <span class="number">1</span> &#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(a, <span class="string">"a"</span>, &#123;</span><br><span class="line">  <span class="keyword">set</span>(x) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(x);</span><br><span class="line">    <span class="keyword">this</span>.b = x;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="keyword">get</span>() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.b;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line">a.a = <span class="number">8</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a);</span><br><span class="line"><span class="built_in">console</span>.log(a.a);</span><br></pre></td></tr></table></figure><p>å°è¯•åœ¨ set é‡Œé¢å†™<code>this.a = x;</code>ä¼šå¯¼è‡´æ­»å¾ªç¯ï¼Œè€Œå†™<code>return x;</code>åˆ™ä¾æ—§æ²¡æœ‰è®¾ç½®ä¸Š a.a</p><h1 id="2023-10-18"><a href="#2023-10-18" class="headerlink" title="2023-10-18"></a>2023-10-18</h1><h2 id="å¦‚ä½•å‘å¸ƒè‡ªå·±çš„-npm-åŒ…ï¼Ÿ"><a href="#å¦‚ä½•å‘å¸ƒè‡ªå·±çš„-npm-åŒ…ï¼Ÿ" class="headerlink" title="å¦‚ä½•å‘å¸ƒè‡ªå·±çš„ npm åŒ…ï¼Ÿ"></a>å¦‚ä½•å‘å¸ƒè‡ªå·±çš„ npm åŒ…ï¼Ÿ</h2><ol><li>åˆ°<code>https://www.npmjs.com/</code>æ³¨å†Œè´¦å·</li><li><code>npm init -y</code>æ–°å»ºä¸€ä¸ªé¡¹ç›®</li><li>åœ¨æ§åˆ¶å°<code>npm login</code>ç™»å½•è‡ªå·±è´¦å·</li><li>åˆ°é¡¹ç›®ç›®å½•ä¸‹<code>npm publish --access public</code>ï¼Œå‘å¸ƒå…¬å¼€åŒ…ï¼ˆç§æœ‰åŒ…è¦æ”¶è´¹ï¼‰</li></ol><blockquote><p>æ³¨æ„äº‹é¡¹ï¼Œæ–°å»ºé¡¹ç›®çš„ç›®å½•ä¸èƒ½æ˜¯ä¸­æ–‡ä¼šæŠ¥é”™ï¼Œå¦‚æœæ²¡å……é’±<code>--access public</code>æ˜¯å¿…é¡»çš„ï¼ŒåŒ…åå¯èƒ½ä¼šè·Ÿå·²æœ‰çš„åŒ…åå†²çªï¼Œå¯ä»¥é€šè¿‡<code>npm search xxx</code>æŸ¥è¯¢</p></blockquote><h2 id="npm-ä¾èµ–åŒ…ç‰ˆæœ¬å·"><a href="#npm-ä¾èµ–åŒ…ç‰ˆæœ¬å·" class="headerlink" title="npm ä¾èµ–åŒ…ç‰ˆæœ¬å·"></a>npm ä¾èµ–åŒ…ç‰ˆæœ¬å·</h2><p><a href="https://blog.51cto.com/u_15127697/3633383" target="_blank" rel="noopener">npm è¯­ä¹‰ç‰ˆæœ¬(npm ä¾èµ–åŒ…ç‰ˆæœ¬çš„~ã€&gt;ã€^ç¬¦å·å„ä»£è¡¨ä»€ä¹ˆï¼Ÿ)</a></p><h1 id="2023-10-17"><a href="#2023-10-17" class="headerlink" title="2023-10-17"></a>2023-10-17</h1><p>SVG é»˜è®¤å¼€äº†æŠ—é”¯é½¿ï¼Œä¼šæŠŠ 1 åƒç´ çš„çº¿æ¡ç”¨ 2 åƒç´ æ˜¾ç¤º</p><p>SVG å¦‚æœæƒ³å±•ç¤ºçœŸå®çš„åƒç´ ï¼ˆå…³é—­æŠ—é”¯é½¿ï¼‰ï¼Œå¯ä»¥è®¾ç½® cssï¼š<code>shape-rendering: crispEdges</code></p><p>ä½† HTML5 canvas ä¸èƒ½è¿™æ ·è¾¾åˆ°ç›®çš„</p><p><a href="https://stackoverflow.com/questions/11353499/svg-canvas-shape-rendering-crispedges-via-javascript" target="_blank" rel="noopener">graphics - SVG / Canvas :: shape-rendering=&quot;crispEdges&quot; via JavaScript? - Stack Overflow</a></p><p>canvas å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹æ³•æ¥è¾¾åˆ°ç›®çš„ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å½“çº¿å®½ä¸ºå¶æ•°æ—¶ï¼Œåæ ‡åº”æŒ‡å®šä¸ºæ•´æ•°ã€‚å¦åˆ™åæ ‡åº”æŒ‡å®šä¸ºæ•´æ•°+0.5pxã€‚</span><br></pre></td></tr></table></figure><p><a href="https://blog.csdn.net/qq_33933205/article/details/107337882" target="_blank" rel="noopener">canvas å›¾åƒé‡å å¤„ç† - Kaiqisan</a></p><h1 id="2023-10-16"><a href="#2023-10-16" class="headerlink" title="2023-10-16"></a>2023-10-16</h1><p>åœ¨ disabled çš„ input ä¸Šé¢ï¼Œå³é”®ï¼Œçˆ¶çº§ div çš„ onMouseDown è¿›ä¸äº†ï¼Œè¦æ€ä¹ˆåŠï¼Ÿå¯ä»¥åœ¨äº‹ä»¶çš„æ•è·é˜¶æ®µç›‘å¬ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">elem.addEventListener(..., &#123;<span class="attr">capture</span>: <span class="literal">true</span>&#125;)</span><br><span class="line"><span class="comment">// æˆ–è€…ï¼Œç”¨ &#123;capture: true&#125; çš„åˆ«å "true"</span></span><br><span class="line">elem.addEventListener(..., <span class="literal">true</span>)</span><br></pre></td></tr></table></figure><p>DOM äº‹ä»¶æ ‡å‡†æè¿°äº†äº‹ä»¶ä¼ æ’­çš„ 3 ä¸ªé˜¶æ®µï¼š</p><p>æ•è·é˜¶æ®µï¼ˆCapturing phaseï¼‰â€”â€” äº‹ä»¶ï¼ˆä» Windowï¼‰å‘ä¸‹èµ°è¿‘å…ƒç´ ã€‚<br>ç›®æ ‡é˜¶æ®µï¼ˆTarget phaseï¼‰â€”â€” äº‹ä»¶åˆ°è¾¾ç›®æ ‡å…ƒç´ ã€‚<br>å†’æ³¡é˜¶æ®µï¼ˆBubbling phaseï¼‰â€”â€” äº‹ä»¶ä»å…ƒç´ ä¸Šå¼€å§‹å†’æ³¡ã€‚</p><p>å¦‚æœæ˜¯ react çš„è¯ï¼Œå°±ç”¨ onMouseDownCaptureã€‚</p><p>ä¸è¿‡æœ€åå‘ç°ä¾ç„¶ä¸è¡Œï¼Œè¦ç”¨ onPointerDownCapture æ‰å¯ä»¥ã€‚</p><h1 id="2023-08-11"><a href="#2023-08-11" class="headerlink" title="2023-08-11"></a>2023-08-11</h1><p><a href="https://pjonori.blog/posts/systems-math-explosions/" target="_blank" rel="noopener">Systems, math and explosions (in no particular order)</a></p><p>è¿™ç¯‡æ–‡ç« è®²ç³»ç»Ÿæ˜¯æ€ä¹ˆå˜å¤æ‚çš„ï¼ˆå› è¿æ¥è€Œå¤æ‚ï¼‰ï¼Œä»¥åŠæ€ä¹ˆæ¶ˆé™¤å¤æ‚å’Œæ··ä¹±ï¼ˆå‡å°‘èŠ‚ç‚¹ï¼‰ã€‚</p><p><a href="https://pjonori.blog/" target="_blank" rel="noopener">PJ Onoriâ€™s blog</a></p><h1 id="2023-08-10"><a href="#2023-08-10" class="headerlink" title="2023-08-10"></a>2023-08-10</h1><p><a href="https://www.ruanyifeng.com/blog/2015/11/circular-dependency.html" target="_blank" rel="noopener">JavaScript æ¨¡å—çš„å¾ªç¯åŠ è½½</a></p><h1 id="2023-08-07"><a href="#2023-08-07" class="headerlink" title="2023-08-07"></a>2023-08-07</h1><h2 id="html-ç©ºæ ¼è‡ªåŠ¨åˆå¹¶çš„é—®é¢˜"><a href="#html-ç©ºæ ¼è‡ªåŠ¨åˆå¹¶çš„é—®é¢˜" class="headerlink" title="html ç©ºæ ¼è‡ªåŠ¨åˆå¹¶çš„é—®é¢˜"></a>html ç©ºæ ¼è‡ªåŠ¨åˆå¹¶çš„é—®é¢˜</h2><p>HTML æä¾›äº† 5 ç§ç©ºæ ¼å®ä½“ï¼ˆspace entityï¼‰ï¼Œå®ƒä»¬æ‹¥æœ‰ä¸åŒçš„å®½åº¦ï¼Œéæ–­è¡Œç©ºæ ¼( )æ˜¯å¸¸è§„ç©ºæ ¼çš„å®½åº¦ï¼Œå¯è¿è¡Œäºæ‰€æœ‰ä¸»æµæµè§ˆå™¨ã€‚å…¶ä»–å‡ ç§ç©ºæ ¼( <code>&amp;ensp;&amp;emsp;&amp;thinsp;&amp;zwnj;&amp;zwj;</code>ï¼‰åœ¨ä¸åŒæµè§ˆå™¨ä¸­å®½åº¦å„å¼‚ã€‚</p><p><code>&amp;nbsp;</code>å®ƒå«ä¸æ¢è¡Œç©ºæ ¼ï¼Œå…¨ç§° No-Break Spaceï¼Œå®ƒæ˜¯æœ€å¸¸è§å’Œæˆ‘ä»¬ä½¿ç”¨æœ€å¤šçš„ç©ºæ ¼ï¼ŒæŒ‰ä¸‹ space é”®äº§ç”Ÿçš„ç©ºæ ¼ã€‚åœ¨ HTML ä¸­ï¼Œå¦‚æœä½ ç”¨ç©ºæ ¼é”®äº§ç”Ÿæ­¤ç©ºæ ¼ï¼Œç©ºæ ¼æ˜¯ä¸ä¼šç´¯åŠ çš„ï¼ˆåªç®— 1 ä¸ªï¼‰ã€‚è¦ä½¿ç”¨ html å®ä½“è¡¨ç¤ºæ‰å¯ç´¯åŠ ï¼Œè¯¥ç©ºæ ¼å æ®å®½åº¦å—å­—ä½“å½±å“æ˜æ˜¾è€Œå¼ºçƒˆã€‚</p><p><code>&amp;ensp;</code>å®ƒå«&quot;åŠè§’ç©ºæ ¼&quot;ï¼Œå…¨ç§°æ˜¯ En Spaceï¼Œen æ˜¯å­—ä½“æ’å°å­¦çš„è®¡é‡å•ä½ï¼Œä¸º em å®½åº¦çš„ä¸€åŠã€‚æ ¹æ®å®šä¹‰ï¼Œå®ƒç­‰åŒäºå­—ä½“åº¦çš„ä¸€åŠï¼ˆå¦‚ 16px å­—ä½“ä¸­å°±æ˜¯ 8pxï¼‰ã€‚åä¹‰ä¸Šæ˜¯å°å†™å­—æ¯ n çš„å®½åº¦ã€‚æ­¤ç©ºæ ¼ä¼ æ‰¿ç©ºæ ¼å®¶æ—ä¸€è´¯çš„ç‰¹æ€§ï¼šé€æ˜çš„ï¼Œå…¶å æ®çš„å®½åº¦æ­£å¥½æ˜¯ 1/2 ä¸ªä¸­æ–‡å®½åº¦ï¼Œè€Œä¸”åŸºæœ¬ä¸Šä¸å—å­—ä½“å½±å“ã€‚</p><p><code>&amp;emsp;</code>å®ƒå«â€œå…¨è§’ç©ºæ ¼â€ï¼Œå…¨ç§°æ˜¯ Em Spaceï¼Œem æ˜¯å­—ä½“æ’å°å­¦çš„è®¡é‡å•ä½ï¼Œç›¸å½“äºå½“å‰æŒ‡å®šçš„ç‚¹æ•°ã€‚ä¾‹å¦‚ï¼Œ1 em åœ¨ 16px çš„å­—ä½“ä¸­å°±æ˜¯ 16pxã€‚æ­¤ç©ºæ ¼ä¹Ÿä¼ æ‰¿ç©ºæ ¼å®¶æ—ä¸€è´¯çš„ç‰¹æ€§ï¼šé€æ˜çš„ï¼Œå…¶å æ®çš„å®½åº¦æ­£å¥½æ˜¯ 1 ä¸ªä¸­æ–‡å®½åº¦ï¼Œè€Œä¸”åŸºæœ¬ä¸Šä¸å—å­—ä½“å½±å“ã€‚</p><p><code>&amp;thinsp;</code>å®ƒå«çª„ç©ºæ ¼ï¼Œå…¨ç§°æ˜¯ Thin Spaceã€‚æˆ‘ä»¬ä¸å¦¨ç§°ä¹‹ä¸º&quot;ç˜¦å¼±ç©ºæ ¼&quot;;ï¼Œå°±æ˜¯è¯¥ç©ºæ ¼å æ®çš„å®½åº¦æ¯”è¾ƒå°ã€‚å®ƒæ˜¯ em ä¹‹å…­åˆ†ä¹‹ä¸€å®½ã€‚</p><p><code>&amp;zwnj;</code>å®ƒå«é›¶å®½ä¸è¿å­—ï¼Œå…¨ç§°æ˜¯ Zero Width Non Joinerï¼Œç®€ç§°&quot;ZWNJ&quot;ï¼Œæ˜¯ä¸€ä¸ªä¸æ‰“å°å­—ç¬¦ï¼Œæ”¾åœ¨ç”µå­æ–‡æœ¬çš„ä¸¤ä¸ªå­—ç¬¦ä¹‹é—´ï¼ŒæŠ‘åˆ¶æœ¬æ¥ä¼šå‘ç”Ÿçš„è¿å­—ï¼Œæ”¹ä¸ºä»¥è¿™ä¸¤ä¸ªå­—ç¬¦åŸæœ¬çš„å­—å½¢æ¥ç»˜åˆ¶ã€‚Unicode ä¸­çš„é›¶å®½ä¸è¿å­—å­—ç¬¦æ˜ å°„ä¸º<code>&amp;ldquo;&amp;rdquo</code>;ï¼ˆzero width non-joinerï¼ŒU+200Cï¼‰ï¼ŒHTML å­—ç¬¦å€¼å¼•ç”¨ä¸º:<code>&amp;zwnj</code>;</p><p><code>&amp;zwj;</code>å®ƒå«é›¶å®½è¿å­—ï¼Œå…¨ç§°æ˜¯ Zero Width Joinerï¼Œç®€ç§°â€œZWJâ€ï¼Œæ˜¯ä¸€ä¸ªä¸æ‰“å°å­—ç¬¦ï¼Œæ”¾åœ¨æŸäº›éœ€è¦å¤æ‚æ’ç‰ˆè¯­è¨€ï¼ˆå¦‚é˜¿æ‹‰ä¼¯è¯­ã€å°åœ°è¯­ï¼‰çš„ä¸¤ä¸ªå­—ç¬¦ä¹‹é—´ï¼Œä½¿å¾—è¿™ä¸¤ä¸ªæœ¬ä¸ä¼šå‘ç”Ÿè¿å­—çš„å­—ç¬¦äº§ç”Ÿäº†è¿å­—æ•ˆæœã€‚é›¶å®½è¿å­—ç¬¦çš„ Unicode ç ä½æ˜¯ U+200D(HTML: â€ <code>&amp;zwj;</code>ï¼‰ã€‚</p><p>æ­¤å¤–ï¼Œæµè§ˆå™¨è¿˜ä¼šæŠŠä»¥ä¸‹å­—ç¬¦å½“ä½œç©ºç™½è¿›è¡Œè§£æï¼šç©ºæ ¼ï¼ˆ<code>&amp;#x0020;</code>ï¼‰ã€åˆ¶è¡¨ä½ï¼ˆ<code>&amp;#x0009;</code>ï¼‰ã€æ¢è¡Œï¼ˆ<code>&amp;#x000A;</code>ï¼‰å’Œå›è½¦ï¼ˆ <code>&amp;#x000D;</code>ï¼‰è¿˜æœ‰ä¸­æ–‡å…¨è§’ç©ºæ ¼ï¼ˆ<code>&amp;#12288;</code>ï¼‰ç­‰ç­‰ã€‚</p><blockquote><p>ç”¨<code>tspan</code>æ ‡ç­¾å’Œ<code>xml:space=&quot;preserve&quot;</code>ä¹Ÿå¯ä»¥è§£å†³</p></blockquote><h1 id="2023-08-02"><a href="#2023-08-02" class="headerlink" title="2023-08-02"></a>2023-08-02</h1><p>æœ€è¿‘æƒ³æŠŠæŸä¸ªæ¶ˆæ¯æ”¾åœ¨ç»„ä»¶æ–‡ä»¶ä¸­è¿›è¡Œç›‘å¬ï¼Œä½†å‘ç°æ¶ˆæ¯æ€»çº¿å¯èƒ½è¿˜æ²¡æ³¨å†Œå¥½ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥ç”¨<code>DOMContentLoaded</code>è¿™ä¸ªäº‹ä»¶ã€‚</p><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/DOMContentLoaded_event" target="_blank" rel="noopener">Window: DOMContentLoaded event</a></p><ol><li>é»˜è®¤æƒ…å†µä¸‹ï¼Œè„šæœ¬åªé˜»å¡å…¶åçš„ dom å…ƒç´ è§£æ</li><li>defer å‘Šè¯‰æµè§ˆå™¨ï¼Œè„šæœ¬éœ€è¦ç­‰ HTML è§£æå®Œåæ‰§è¡Œï¼ˆå¤šä¸ª defer è„šæœ¬æŒ‰å‡ºç°é¡ºåºæ‰§è¡Œï¼‰</li><li>async å‘Šè¯‰æµè§ˆå™¨ï¼Œè„šæœ¬å¼‚æ­¥ä¸‹è½½ï¼ˆä¸ HTML è§£æä¸€èµ·è¿›è¡Œï¼‰ï¼Œä¸‹è½½å®Œåä¼šç«‹å³æ‰§è¡Œï¼ˆä¸ä¼šç­‰ HTML è§£æå®Œï¼‰</li></ol><p>æ‰€ä»¥ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœè„šæœ¬ä¸ HTML æœ‰å…³ï¼Œå°±ç”¨ deferï¼Œæ— å…³å°±ç”¨ async</p><h1 id="2023-07-26"><a href="#2023-07-26" class="headerlink" title="2023-07-26"></a>2023-07-26</h1><h2 id="localeCompare"><a href="#localeCompare" class="headerlink" title="localeCompare"></a>localeCompare</h2><p>js è‡ªç„¶æ’åºï¼š<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/localeCompare" target="_blank" rel="noopener">localeCompare</a></p><p><a href="https://idealark.cn/archives/12/" target="_blank" rel="noopener">ç”¨ localeCompare å®ç°å­—ç¬¦ä¸²è‡ªç„¶æ’åº</a></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr.sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> b.localeCompare(a));</span><br></pre></td></tr></table></figure><h2 id="å¯¹è±¡éå†çš„é€Ÿåº¦æ¯”è¾ƒ"><a href="#å¯¹è±¡éå†çš„é€Ÿåº¦æ¯”è¾ƒ" class="headerlink" title="å¯¹è±¡éå†çš„é€Ÿåº¦æ¯”è¾ƒ"></a>å¯¹è±¡éå†çš„é€Ÿåº¦æ¯”è¾ƒ</h2><p><code>Object.keys()</code>ï¼Œ<code>Object.values()</code>ï¼Œ<code>Object.entries()</code>çš„æ€§èƒ½å·®å¼‚å¦‚ä½•å‘¢ï¼Ÿ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> res = &#123;&#125;;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;<span class="number">100</span>_0000;i++)&#123;</span><br><span class="line">    res[i]=i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> count=<span class="number">0</span>;</span><br><span class="line"><span class="comment">// console.time('Object.keys()')</span></span><br><span class="line"><span class="comment">// for(let k of Object.keys(res||&#123;&#125;))&#123;</span></span><br><span class="line"><span class="comment">//     count++;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// console.timeEnd('Object.keys()')</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// count=0;</span></span><br><span class="line"><span class="comment">// console.time('Object.values()')</span></span><br><span class="line"><span class="comment">// for(let v of Object.values(res||&#123;&#125;))&#123;</span></span><br><span class="line"><span class="comment">//     count++;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// console.timeEnd('Object.values()')</span></span><br><span class="line"></span><br><span class="line">count=<span class="number">0</span>;</span><br><span class="line"><span class="built_in">console</span>.time(<span class="string">'Object.entries()'</span>)</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> [k,v] <span class="keyword">of</span> <span class="built_in">Object</span>.entries(res||&#123;&#125;))&#123;</span><br><span class="line">    count++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.timeEnd(<span class="string">'Object.entries()'</span>)</span><br></pre></td></tr></table></figure><p>æµ‹è¯•ç»“æœæ˜¯ values()é€Ÿåº¦æœ€å¿«ï¼Œvalues()é€Ÿåº¦&gt;keys()é€Ÿåº¦&gt;entries()é€Ÿåº¦</p><p>values()å¤§æ¦‚åªæœ‰ keys()æ‰§è¡Œæ—¶é—´çš„ååˆ†ä¹‹ä¸€ï¼Œè€Œ keys æ‰§è¡Œæ—¶é—´å¤§æ¦‚æ˜¯ entries çš„ä¸€åŠ</p><p>è€Œå†™æ³•ä¸ŠæŠŠ<code>Object.keys</code>å†™åœ¨ for é‡Œé¢å’Œ for å¤–é¢å…¶å®æ˜¯ä¸€æ ·çš„é€Ÿåº¦ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> v <span class="keyword">of</span> <span class="built_in">Object</span>.keys(res||&#123;&#125;))</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> values = <span class="built_in">Object</span>.keys(res||&#123;&#125;);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> v <span class="keyword">of</span> values)</span><br></pre></td></tr></table></figure><p>for å¾ªç¯åªä¼šåœ¨åˆå§‹åŒ–çš„æ—¶å€™è®¡ç®—ä¸€æ¬¡<code>Object.keys</code>ï¼Œä»¥ä¸‹ä»£ç å¯ä»¥éªŒè¯ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = &#123;&#125;;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">  a[i] = i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> k <span class="keyword">of</span> <span class="built_in">Object</span>.keys(a || &#123;&#125;)) &#123;</span><br><span class="line">  a[k + <span class="string">"a"</span>] = k + <span class="string">"a"</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"1"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(a);</span><br></pre></td></tr></table></figure><p><code>1</code>åªä¼šæ‰“å° 10 æ¬¡</p><p>ä»¥ä¸‹å†™æ³•ç±»ä¼¼ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = &#123;&#125;;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>_0000; i++) &#123;</span><br><span class="line">  a[i] = i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> count = <span class="number">0</span>;</span><br><span class="line"><span class="built_in">console</span>.time(<span class="string">"a"</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> k <span class="keyword">of</span> <span class="built_in">Object</span>.keys(a || &#123;&#125;)) &#123;</span><br><span class="line">  a[k] = k + <span class="string">"a"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.timeEnd(<span class="string">"a"</span>);</span><br><span class="line">count = <span class="number">0</span>;</span><br><span class="line"><span class="built_in">console</span>.time(<span class="string">"b"</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, keys = <span class="built_in">Object</span>.keys(a || &#123;&#125;); i &lt; keys.length; i++) &#123;</span><br><span class="line">  a[keys[i]] = keys[i] + <span class="string">"a"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.timeEnd(<span class="string">"b"</span>);</span><br></pre></td></tr></table></figure><h2 id="for-of-å’Œ-for-in"><a href="#for-of-å’Œ-for-in" class="headerlink" title="for of å’Œ for in"></a><code>for of</code> å’Œ <code>for in</code></h2><p><code>for of</code>ç”¨äºéå†å¯è¿­ä»£å¯¹è±¡ï¼ˆæ•°ç»„ä¹‹ç±»çš„ï¼‰ï¼Œ<code>for in</code>ç”¨äºéå†å¯¹è±¡</p><p><code>for in</code>é€Ÿåº¦è·Ÿ<code>for of</code>+<code>Object.keys()</code>å·®ä¸å¤šï¼ŒåŒºåˆ«æ˜¯ in ä¼šéå†åˆ° prototype ä¸Šçš„å±æ€§ï¼Œè€Œåè€…åˆ™ä¸ä¼šã€‚æ‰€ä»¥å¦‚æœä¸æƒ³éå†åˆ°åŸå‹ä¸Šçš„å±æ€§ï¼Œè¦ä¹ˆåˆ«ç”¨<code>for in</code>ï¼Œè¦ä¹ˆè¦å¤šå†™ä¸€ä¸ª obj.hasOwnProperty çš„åˆ¤æ–­</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">  a = <span class="string">"a"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">  b = <span class="string">"b"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> bb = <span class="keyword">new</span> B();</span><br><span class="line">bb.__proto__.c = <span class="string">"c"</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> k <span class="keyword">in</span> bb) &#123;</span><br><span class="line">  <span class="keyword">if</span> (bb.hasOwnProperty(k)) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(k);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// console.log(k)</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> k <span class="keyword">of</span> <span class="built_in">Object</span>.keys(bb || &#123;&#125;)) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(k);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®˜æ–¹æ–‡æ¡£ï¼š</p><ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/for...of" target="_blank" rel="noopener">for of</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...in" target="_blank" rel="noopener">for in</a></li></ul><h2 id="for-ofå’Œ-C-è¯­è¨€è¯­æ³•çš„éå†é€Ÿåº¦æ¯”è¾ƒ"><a href="#for-ofå’Œ-C-è¯­è¨€è¯­æ³•çš„éå†é€Ÿåº¦æ¯”è¾ƒ" class="headerlink" title="for ofå’Œ C è¯­è¨€è¯­æ³•çš„éå†é€Ÿåº¦æ¯”è¾ƒ"></a><code>for of</code>å’Œ C è¯­è¨€è¯­æ³•çš„éå†é€Ÿåº¦æ¯”è¾ƒ</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> res = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">100</span>_0000);</span><br><span class="line"><span class="keyword">let</span> count = <span class="number">0</span>;</span><br><span class="line"><span class="built_in">console</span>.time(<span class="string">"a"</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; res.length; i++) &#123;</span><br><span class="line">  count++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.timeEnd(<span class="string">"a"</span>);</span><br><span class="line">count = <span class="number">0</span>;</span><br><span class="line"><span class="built_in">console</span>.time(<span class="string">"b"</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">of</span> res) &#123;</span><br><span class="line">  count++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.timeEnd(<span class="string">"b"</span>);</span><br></pre></td></tr></table></figure><p>å¤§æ¦‚æœ‰ 6 å€çš„å·®è·</p><h1 id="2023-07-19"><a href="#2023-07-19" class="headerlink" title="2023-07-19"></a>2023-07-19</h1><p>æ¶ˆæ¯æ€»çº¿å’Œå‡½æ•°è°ƒç”¨çš„åŒºåˆ«ï¼šæ¶ˆæ¯æ€»çº¿ç”¨äº†ä¸€ä¸ªé›†åˆæ¥æ”¶é›†äº‹ä»¶å›è°ƒå‡½æ•°ï¼Œå¯¼è‡´äº†æ¶ˆæ¯æ€»çº¿å¯ä»¥åœ¨å¤–éƒ¨é›¶æ•£çš„æ³¨å†Œå›è°ƒï¼Œè€Œå‡½æ•°è°ƒç”¨åˆ™ç›¸å½“äºæ˜¯åœ¨æ¶ˆæ¯å‘å‡ºçš„åœ°æ–¹é›†ä¸­æ³¨å†Œæ¶ˆæ¯ç›‘å¬ã€‚<strong>æ‰€ä»¥æ¶ˆæ¯æ€»çº¿å¾ˆå¥½çš„å¯¹ä¾èµ–è¿›è¡Œäº†å€’ç½®ï¼Œå› ä¸ºï¼Œæ˜¯äº‹ä»¶å›è°ƒå‡½æ•°ä¾èµ–äº†äº‹ä»¶ï¼Œè€Œä¸æ˜¯äº‹ä»¶ä¾èµ–äº†äº‹ä»¶çš„å“åº”å‡½æ•°</strong>ã€‚</p><blockquote><p>æ‰€ä»¥ä»æœ¬è´¨ä¸Šæ¥è¯´ï¼Œå°±æ˜¯ A ä¾èµ– Bï¼Œè¿˜æ˜¯ B ä¾èµ– A çš„é—®é¢˜ã€‚ä½ æœ‰ä¸€æ®µé€»è¾‘ A å’Œä¸€æ®µé€»è¾‘ Bï¼Œå…¶ä¸­ B è¦åœ¨ A ä¹‹åæ‰§è¡Œï¼Œå¦‚æœä½ è®¤ä¸ºåº”è¯¥æ˜¯ A ä¾èµ–äº† Bï¼Œé‚£ä¹ˆç›´æ¥è°ƒç”¨å³å¯ï¼Œå¦‚æœä½ è®¤ä¸ºæ˜¯ B ä¾èµ–äº† Aï¼Œé‚£ä¹ˆå°±ç”¨æ¶ˆæ¯æ€»çº¿ã€‚</p></blockquote><p>ç”¨æµè§ˆå™¨çš„ window.postMessage æˆ–è€… worker.postMessageï¼Œå¯ä»¥æŠŠæ¶ˆæ¯å‘åˆ°å…¶ä»–çš„ window æˆ–è€… worker æ¥æ‰§è¡Œäº‹ä»¶å›è°ƒå‡½æ•°ã€‚ä½†è¿™æ ·çš„è¯å°±æ˜¯å¼‚æ­¥æ‰§è¡Œäº†ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">window1.postMessage(<span class="string">"hello"</span>, <span class="string">"*"</span>);</span><br><span class="line">window2.addEventListener(<span class="string">"message"</span>, (event) =&gt; &#123;</span><br><span class="line">  <span class="comment">// event.source is window1</span></span><br><span class="line">  <span class="comment">// event.data is "hello"</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>å¼‚æ­¥çš„ä¸æ˜¯æ¶ˆæ¯æ€»çº¿ï¼Œè€Œæ˜¯ postMessageã€‚</p><h1 id="2023-07-17"><a href="#2023-07-17" class="headerlink" title="2023-07-17"></a>2023-07-17</h1><p>ç§»åŠ¨ iframe å…ƒç´ ä¼šé€ æˆ iframe é‡æ–°åŠ è½½ srcï¼Œæ‰€ä»¥å¦‚æœæƒ³ç§»åŠ¨ iframe è€Œä¸å¼•èµ·åˆ·æ–°å°±åªèƒ½ç”¨ cssã€‚</p><blockquote><p><a href="https://cloud.tencent.com/developer/ask/sof/102869" target="_blank" rel="noopener">å¦‚ä½•åœ¨ä¸ä¸¢å¤±çŠ¶æ€çš„æƒ…å†µä¸‹åœ¨ DOM ä¸­ç§»åŠ¨ iFrameï¼Ÿ</a><br>æ— è®ºä½•æ—¶é™„åŠ  iframe å¹¶åº”ç”¨äº† src å±æ€§ï¼Œå®ƒéƒ½ä¼šè§¦å‘ä¸€ä¸ªåŠ è½½æ“ä½œï¼Œè¿™ä¸é€šè¿‡ JS åˆ›å»º Image æ ‡è®°æ—¶ç±»ä¼¼ã€‚å› æ­¤ï¼Œå½“æ‚¨åˆ é™¤å¹¶é™„åŠ å®ƒä»¬æ—¶ï¼Œå®ƒä»¬æ˜¯å…¨æ–°çš„å®ä½“ï¼Œå®ƒä»¬ä¼šåˆ·æ–°ã€‚è¿™å°±æ˜¯ window.location = window.location é‡æ–°åŠ è½½é¡µé¢çš„æ–¹å¼ã€‚<br>æˆ‘æ‰€çŸ¥é“çš„é‡æ–°å®šä½ iframes çš„å”¯ä¸€æ–¹æ³•æ˜¯é€šè¿‡ CSSã€‚</p></blockquote><p>æ‰€ä»¥æœ€å¥½çš„æ–¹æ³•å®é™…ä¸Šæ˜¯å¼ƒç”¨ iframeï¼Œæ”¹ç”¨ div æˆ–è€… canvasã€‚</p><p>å¦å¤–å°±æ˜¯æˆ‘å‘ç°ç§»åŠ¨ dom å…ƒç´ åªéœ€è¦ appendChild åˆ°æ–°çš„ä½ç½®å³å¯ï¼Œå¹¶ä¸éœ€è¦åˆ é™¤åŸ domã€‚</p><h2 id="importmap"><a href="#importmap" class="headerlink" title="importmap"></a>importmap</h2><p>javascript ç°åœ¨æ”¯æŒè·¨è„šæœ¬ import äº†ï¼š<a href="https://web.dev/import-maps-in-all-modern-browsers/" target="_blank" rel="noopener">JavaScript import maps are now supported cross-browser</a></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"importmap"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">  &#123;</span></span><br><span class="line"><span class="javascript">    <span class="string">"imports"</span>: &#123;</span></span><br><span class="line"><span class="javascript">      <span class="string">"browser-fs-access"</span>: <span class="string">"https://unpkg.com/browser-fs-access@0.33.0/dist/index.modern.js"</span></span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>Select a text file<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"module"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123; fileOpen &#125; <span class="keyword">from</span> <span class="string">"browser-fs-access"</span>;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> button = <span class="built_in">document</span>.querySelector(<span class="string">"button"</span>);</span></span><br><span class="line"><span class="javascript">  button.addEventListener(<span class="string">"click"</span>, <span class="keyword">async</span> () =&gt; &#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> file = <span class="keyword">await</span> fileOpen(&#123;</span></span><br><span class="line"><span class="javascript">      mimeTypes: [<span class="string">"text/plain"</span>],</span></span><br><span class="line"><span class="undefined">    &#125;);</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(<span class="keyword">await</span> file.text());</span></span><br><span class="line"><span class="undefined">  &#125;);</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="2023-07-08"><a href="#2023-07-08" class="headerlink" title="2023-07-08"></a>2023-07-08</h1><p>å…³äº iframe çš„åŸºæœ¬çŸ¥è¯†ï¼š</p><ol><li>è·å–å¤–å±‚ windowï¼š<code>window.parent</code></li><li>è·å–é¡¶å±‚ window: <code>window.top</code></li><li>è·å–å½“å‰æ–‡æ¡£æ‰€åœ¨çš„ iframe å…ƒç´ : <code>window.frameElement</code></li><li>è·å–å½“å‰æ–‡æ¡£å†…æ‰€æœ‰çš„ iframe: <code>window.frames</code>ï¼Œè¿™æ˜¯ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œå¯ä»¥åƒæ•°ç»„ä¸€æ ·ä½¿ç”¨</li></ol><h1 id="2023-07-07"><a href="#2023-07-07" class="headerlink" title="2023-07-07"></a>2023-07-07</h1><p>åœ¨ç«‹åˆ› EDA çš„ç¼–ç¨‹ä¸­ç»å¸¸é‡åˆ°çš„é—®é¢˜ï¼š</p><ol><li>å…¬ç”¨æ··ä¹±ï¼Œä»£ç è…çƒ‚ï¼ˆå‚æ•°æ— çº¦å®šï¼Œéšæ„ä¿®æ”¹ï¼‰</li><li>æŸäº›åœ°æ–¹æ²¡æœ‰åŒæ­¥æ›´æ–°ï¼ˆæ¯”å¦‚ä¿®æ”¹åç§°ï¼Œéœ€è¦åŒæ­¥æ›´æ–°å±æ€§é¢æ¿ï¼Œåº•éƒ¨åº“ï¼Œtab é¡µï¼Œç”»å¸ƒç­‰ç­‰è¯¸å¤šåœ°æ–¹ï¼‰</li></ol><h1 id="2023-07-06"><a href="#2023-07-06" class="headerlink" title="2023-07-06"></a>2023-07-06</h1><p>æœ€è¿‘åŒäº‹é‡åˆ°ä¸€ä¸ª react çš„å‘ï¼Œä»–æŠŠ root ç¼“å­˜äº†èµ·æ¥ï¼Œç„¶åå‘ç°æ•´ä¸ªç»„ä»¶ä¸æ›´æ–°ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root = root || ReactDOMClient.createRoot(dom);</span><br><span class="line">root.render(&lt;App &#123;...props&#125;&gt;&lt;<span class="regexp">/App&gt;);</span></span><br></pre></td></tr></table></figure><p>ä¸ç¼“å­˜å°±å¯ä»¥æ›´æ–°äº†ã€‚</p><p>å®é™…ä¸Š react çš„ useState æ˜¯åªåœ¨åˆå§‹åŒ–çš„æ—¶å€™ç”¨å‚æ•°çš„å€¼çš„ï¼Œè€Œæƒ³è¦è®©ç»„ä»¶é‡æ–°åˆå§‹åŒ–ï¼Œå¯ä»¥åŠ  keyï¼Œkey æ”¹å˜ï¼Œå°±ä¼šé‡æ–°åˆå§‹åŒ–ã€‚</p><p>çˆ¶ç»„ä»¶ renderï¼Œå­ç»„ä»¶ä¹Ÿä¼š renderï¼Œä½†ä¸ä¸€å®šä¼šç”¨ useState é‡Œé¢çš„å€¼ï¼ˆé™¤éå­ç»„ä»¶é‡æ–°åˆå§‹åŒ–ï¼‰</p><p>çˆ¶ç»„ä»¶é‡æ–°åˆå§‹åŒ–ï¼Œå­ç»„ä»¶ä¹Ÿä¼šé‡æ–°åˆå§‹åŒ–ï¼Œä¸”ä¸€å®šä¼šç”¨ useState é‡Œé¢çš„å€¼</p><h1 id="2023-06-15"><a href="#2023-06-15" class="headerlink" title="2023-06-15"></a>2023-06-15</h1><p><a href="https://forum-zh.obsidian.md/t/topic/19728/3" target="_blank" rel="noopener">å¦‚ä½•åœ¨ win7 ä¸Šå®‰è£… obsidian</a></p><p>ç®€è€Œè¨€ä¹‹å°±æ˜¯å» github ä¸Šä¸‹è½½ 1.1.x çš„è€ç‰ˆæœ¬çš„ obsidianï¼Œæˆ‘ä¸‹è½½çš„æ˜¯ 1.1.16</p><h1 id="2023-06-13"><a href="#2023-06-13" class="headerlink" title="2023-06-13"></a>2023-06-13</h1><p>æå®šäº† obsidian å¤šç«¯åŒæ­¥ï¼Œé€šè¿‡ git æ’ä»¶è‡ªåŠ¨å’Œè¿œç«¯ github åŒæ­¥ã€‚å¯ä»¥æ„‰å¿«çš„åœ¨æ‰‹æœºä¸Šç åšå®¢äº†ã€‚è€Œä¸”æ®è¯´ obsidian æŒºå¥½ç”¨çš„ï¼Œåº”è¯¥æ¯” vscode å†™åšå®¢å¼ºå§ã€‚</p><p>æ·»åŠ äº† google analyticsï¼ŒGA4ã€‚åœ¨ä¸»é¢˜é‡Œé¢æ‰¾åˆ°<code>google-analytics.swig</code>ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if theme.google_analytics %&#125;</span><br><span class="line">&lt;script async src=&quot;https://www.googletagmanager.com/gtag/js?id=&#123;&#123; theme.google_analytics &#125;&#125;&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  window.dataLayer = window.dataLayer || [];</span><br><span class="line">  function gtag()&#123;dataLayer.push(arguments);&#125;</span><br><span class="line">  gtag(&apos;js&apos;, new Date());</span><br><span class="line"></span><br><span class="line">  gtag(&apos;config&apos;, &apos;&#123;&#123; theme.google_analytics &#125;&#125;&apos;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><p>ä¸»é¢˜é…ç½®æ–‡ä»¶<code>_config.yml</code>ä¸­æ·»åŠ å˜é‡ï¼š<code>google_analytics: G-xxx</code></p><p><a href="https://analytics.google.com/analytics/web/#/p383781563/reports/intelligenthome" target="_blank" rel="noopener">è°·æ­Œåˆ†æçœ‹æ¿</a></p><h1 id="2023-06-10"><a href="#2023-06-10" class="headerlink" title="2023-06-10"></a>2023-06-10</h1><p>æäº†ä¸¤å¤© kcptunï¼Œæœ€åå‘ç°å±…ç„¶æ›´æ–°ä¸€ä¸‹ç‰ˆæœ¬å°±è§£å†³äº†é—®é¢˜</p><p>é—®é¢˜æè¿°ï¼š</p><p>æ‰‹æœºä¸Šç”¨ kcptun æœ‰é—®é¢˜ï¼ˆçº¯ shadowsocks æ— é—®é¢˜ï¼‰ï¼Œä½†ç”µè„‘ä¸Šæ²¡é—®é¢˜ã€‚</p><p>æˆ‘è§£å†³é—®é¢˜æ˜¯ä¸»çº¿æ˜¯æŠŠæŠ¥é”™ä¿¡æ¯æ”¾åˆ°è°·æ­Œä¸Šé¢æœï¼Œè¿™å·²ç»æ˜¯æˆ‘æƒ¯ç”¨çš„æ‰‹æ®µäº†ï¼Œæœäº†ä¸€å¤§æ³¢ï¼ŒæŠŠå¯èƒ½çš„æ–¹æ³•éƒ½è¯•äº†ä¸€éï¼Œæ­£å½“æˆ‘å¿«è¦æ”¾å¼ƒçš„æ—¶å€™ï¼Œæˆ‘è¿˜æ˜¯æœåˆ°äº†ä¸€ä¸ªç­”æ¡ˆï¼š<code>Upgrading to latest kcptun solve this problem</code>ï¼Œä½†æ˜¯ç”¨å…¶ä»–çš„æŠ¥é”™ä¿¡æ¯æœåˆ°çš„ï¼Œä¸€å…±æœ‰ä¸¤ä¸ªæŠ¥é”™ä¿¡æ¯ï¼Œåœ¨å®‰å“ç‰ˆ shadowsocks 5.3.3 ä¸Šæ˜¯ï¼š<code>unable to resolve host &quot;cp.cloudflare.com&quot;: no address associated with hostname</code>ï¼Œåœ¨å®‰å“ç‰ˆ shadowsocks 4.8.7 ä¸Šæ˜¯ï¼š<code>libsslocal exits too fast (exit code 70)</code></p><p>ä»¥ä¸‹æ˜¯æˆ‘è¯•è¿‡çš„åŠæ³•ï¼š</p><ol><li>æŠŠ shadowsocks æœåŠ¡ç«¯æ¢æˆ goï¼Œ<a href="https://github.com/shadowsocks/go-shadowsocks2ã€‚Pythonç‰ˆä¹Ÿè¯•è¿‡ï¼Œshadowsocks-libevä¹Ÿè¯•è¿‡" target="_blank" rel="noopener">https://github.com/shadowsocks/go-shadowsocks2ã€‚Pythonç‰ˆä¹Ÿè¯•è¿‡ï¼Œshadowsocks-libevä¹Ÿè¯•è¿‡</a></li><li>æ¢å®¢æˆ·ç«¯ç‰ˆæœ¬ï¼Œå®‰å“ç‰ˆ shadowsocks 5.3.3ï¼Œ5.2.6ï¼Œ5.1.1ï¼Œ4.8.7</li><li>æ¢ kcptun çš„ç«¯å£</li><li>åœ¨æœåŠ¡å™¨å¼€æ”¾ 53 ç«¯å£ï¼Œå®‰è£… dns æœåŠ¡</li></ol><p>ç»“è®ºï¼Œä»¥åå‡ºé—®é¢˜ï¼Œç¬¬ä¸€è§£å†³æ–¹æ¡ˆåº”è¯¥æ˜¯ï¼Œ<strong>ç¡®ä¿æ‰€æœ‰è½¯ä»¶ç‰ˆæœ¬éƒ½æ˜¯æœ€æ–°çš„</strong>ã€‚</p><h2 id="ä½¿ç”¨-VPS-æŒ–çŸ¿æŒ–ç‚¹æœ¬å›æ¥"><a href="#ä½¿ç”¨-VPS-æŒ–çŸ¿æŒ–ç‚¹æœ¬å›æ¥" class="headerlink" title="ä½¿ç”¨ VPS æŒ–çŸ¿æŒ–ç‚¹æœ¬å›æ¥"></a>ä½¿ç”¨ VPS æŒ–çŸ¿æŒ–ç‚¹æœ¬å›æ¥</h2><p>ä¹Œé¾Ÿå¸è¿ç§»åˆ°äº† FTMï¼Œè€Œä¸”æ„Ÿè§‰è¿™ä¸ªé¡¹ç›®å·²ç»æ­»äº¡äº†ï¼ŒæœåŠ¡å™¨è¿˜æ˜¯ç»§ç»­æŒ–é—¨ç½—å¸å§ï¼Œè¯´çœŸçš„è™šæ‹Ÿè´§å¸çš„ç”Ÿå‘½åŠ›æ‰æ˜¯æœ€é‡è¦çš„</p><p>å¦‚ä½•é¿å… CPU å æ»¡ï¼š<a href="https://www.azurew.com/life/%E6%8C%96%E7%9F%BF/7650.htmlï¼Œæˆ‘é‡‡ç”¨çš„æ˜¯åŠ -tå‚æ•°ï¼Œé™åˆ¶çº¿ç¨‹æ•°" target="_blank" rel="noopener">https://www.azurew.com/life/%E6%8C%96%E7%9F%BF/7650.htmlï¼Œæˆ‘é‡‡ç”¨çš„æ˜¯åŠ -tå‚æ•°ï¼Œé™åˆ¶çº¿ç¨‹æ•°</a></p><h2 id="ä¸‹è½½-github-release-æ–‡ä»¶"><a href="#ä¸‹è½½-github-release-æ–‡ä»¶" class="headerlink" title="ä¸‹è½½ github release æ–‡ä»¶"></a>ä¸‹è½½ github release æ–‡ä»¶</h2><p>é“¾æ¥æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget --no-check-certificate --content-disposition https://github.com/xmrig/xmrig/releases/download/v6.19.3/xmrig-6.19.3-linux-x64.tar.gz</span><br><span class="line"></span><br><span class="line">curl -LJO https://github.com/ctripcorp/apollo/releases/download/v1.5.1/apollo-adminservice-1.5.1-github.zip</span><br></pre></td></tr></table></figure><h1 id="2023-06-08"><a href="#2023-06-08" class="headerlink" title="2023-06-08"></a>2023-06-08</h1><p>æœ‰è¿™æ ·ä¸€ä¸ª bugï¼Œåœ¨æ‹–åŠ¨ä¸€ä¸ªä¸‰è§’å›¾æ ‡ï¼ˆä¸“é—¨ç”¨äºæ‹–æ‹½çš„ç»„ä»¶ï¼‰çš„æ—¶å€™ï¼Œå…‰æ ‡è¦æ˜¾ç¤º<code>col-resize</code>ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">cursor</span>: <span class="selector-tag">col-resize</span>;</span><br></pre></td></tr></table></figure><p>é¡¹ç›®ä¸­æœ‰ä¸¤ä¸ªå…¶ä»–çš„ç»„ä»¶çš„è¡¨ç°éƒ½æ˜¯ç¬¦åˆè¦æ±‚çš„ï¼ˆæ‹–åŠ¨æ—¶å€™æ˜¯<code>col-resize</code>ï¼‰ï¼Œä½†æˆ‘ä¸æ¸…æ¥šï¼ŒåŸç”Ÿçš„è¡¨ç°æ˜¯ä»€ä¹ˆï¼Œæ‰€ä»¥ä¸€ç›´ä»¥ä¸ºæ˜¯æˆ‘è¿™è¾¹çš„ä»£ç æœ‰é—®é¢˜ã€‚</p><p>åæ¥å‘ç°åŸæ¥æ˜¯é‚£ä¸¤ä¸ªç»„ä»¶åšäº†ç‰¹æ®Šå¤„ç†ï¼Œåœ¨ mousemove çš„æ—¶å€™æŠŠè¿™ä¸ª cursor çš„æ ·å¼åŠ åˆ°äº† body ä¸Šã€‚</p><p>æœ‰çš„æ—¶å€™é—®é¢˜çš„å…³é”®åœ¨äºä½ é”å®šçš„èŒƒå›´ï¼Œå‡å¦‚ä¸€å¼€å§‹å°±å…ˆå…¥ä¸ºä¸»æ‰¾é”™äº†æ–¹å‘ï¼Œé‚£å°±æ ¹æœ¬ä¸å¯èƒ½è§£å†³é—®é¢˜äº†ã€‚</p><p>æƒ³è¦å¼„æ¸…æ¥šåŸç”Ÿçš„è¡¨ç°ï¼Œå…¶å®å¯ä»¥å†™ä¸ªç®€å•çš„ä¾‹å­ï¼Œæˆ–è€…ä½ çš„ç»„ä»¶è¶³å¤Ÿç®€å•ï¼Œä½ å°±å¯ä»¥è‡ªä¿¡çš„è®¤ä¸ºï¼Œé—®é¢˜ä¸å‡ºåœ¨ä½ è¿™è¾¹ï¼Œè½¬è€Œå¼€å§‹æ€è€ƒå…¶ä»–çš„å¯èƒ½æ€§ã€‚</p><h1 id="2023-06-07"><a href="#2023-06-07" class="headerlink" title="2023-06-07"></a>2023-06-07</h1><h2 id="vite-æ‰“åŒ…ä½¿ç”¨ç›¸å¯¹è·¯å¾„"><a href="#vite-æ‰“åŒ…ä½¿ç”¨ç›¸å¯¹è·¯å¾„" class="headerlink" title="vite æ‰“åŒ…ä½¿ç”¨ç›¸å¯¹è·¯å¾„"></a>vite æ‰“åŒ…ä½¿ç”¨ç›¸å¯¹è·¯å¾„</h2><p>å‘çˆ¹çš„ vite æ‰“åŒ…é»˜è®¤ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼Œæƒ³è¦ä½¿ç”¨ç›¸å¯¹è·¯å¾„å¯ä»¥åœ¨é…ç½®ä¸­å¡«ï¼š<code>base: &#39;./&#39;</code></p><p><a href="http://www.oceanpresent.art/posts/hard-boiled-wonderland/viteassetpath" target="_blank" rel="noopener">ä¸ºä»€ä¹ˆ vite æ‰“åŒ…å dist æ–‡ä»¶æ— æ³•ç›´æ¥è¿è¡Œ</a></p><h2 id="ResizeObserver"><a href="#ResizeObserver" class="headerlink" title="ResizeObserver"></a>ResizeObserver</h2><p>ç›‘å¬ dom çš„å®½é«˜å˜åŒ–ï¼š<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/ResizeObserver" target="_blank" rel="noopener">ResizeObserver</a></p><p>æ¯”å¦‚æˆ‘åšä¸€ä¸ª scrollButton ç»„ä»¶ï¼ˆç”¨æ¥æ›¿ä»£é¼ æ ‡æ»šè½®ï¼Œå®ç°ç‚¹å‡»è§¦å‘ scrollï¼‰ï¼Œå°±è¦ç›‘å¬æ»šåŠ¨å¯¹è±¡çˆ¶çº§çš„å®½é«˜å˜åŒ–æ¥æ§åˆ¶è¿™ä¸ª scrollButton ç»„ä»¶çš„æ˜¾ç¤ºéšè—</p><h2 id="nginx"><a href="#nginx" class="headerlink" title="nginx"></a>nginx</h2><p>nginx çš„é…ç½®ä½ç½®ï¼š<code>/etc/nginx</code>ä¸­ï¼Œåœ¨è¯¥ç›®å½•ä¸‹ï¼Œä¸»è¦çš„é…ç½®æ–‡ä»¶æ˜¯ nginx.conf</p><h1 id="2023-06-06"><a href="#2023-06-06" class="headerlink" title="2023-06-06"></a>2023-06-06</h1><p>ä¹°äº†å›½å¤–çš„åŸŸåå’ŒæœåŠ¡å™¨ï¼Œè¿™æ ·å°±å¯ä»¥é¿å…å›½å†…ç‰¹åˆ«éº»çƒ¦çš„å¤‡æ¡ˆäº†ï¼Œè¯è¯´å›½å¤–çš„åŸŸåå’ŒæœåŠ¡å™¨çœŸæ˜¯ä¾¿å®œå•Šï¼š</p><ul><li>æœåŠ¡å™¨ï¼ˆVPSï¼‰ï¼š<a href="https://www.racknerd.com/" target="_blank" rel="noopener">racknerd.com</a></li><li>åŸŸåï¼š<a href="https://www.name.com/" target="_blank" rel="noopener">name.com</a></li></ul><p>æœåŠ¡å™¨è´­ä¹°å‚è€ƒäº†ä¸€ç¯‡æ–‡ç« ï¼š<a href="https://p3terx.com/archives/cheap-vps-racknerd.htmlï¼Œå¤šäºè¿™ç¯‡æ–‡ç« æ‰ä¹°åˆ°äº†ä¾¿å®œçš„ã€‚" target="_blank" rel="noopener">https://p3terx.com/archives/cheap-vps-racknerd.htmlï¼Œå¤šäºè¿™ç¯‡æ–‡ç« æ‰ä¹°åˆ°äº†ä¾¿å®œçš„ã€‚</a></p><p>Windows å¹³å°å¥½ç”¨çš„è¿œç¨‹ shell å·¥å…·ï¼š<a href="https://github.com/kingToolbox/WindTerm" target="_blank" rel="noopener">WindTerm</a><br>Mac OS å¹³å°å¥½ç”¨çš„è¿œç¨‹ shell å·¥å…·ï¼š<a href="http://www.hostbuf.com/t/988.html" target="_blank" rel="noopener">FinalShell</a></p><blockquote><p>ç°åœ¨ Windows å¹³å°ä¹Ÿæœ‰ FinalShell äº†ï¼Œä½“éªŒç»ˆäºåˆç»Ÿä¸€èµ·æ¥äº†</p></blockquote><p>ä»¥å‰æ­ wordpress åšå®¢çš„æ—¶å€™ï¼Œè¢«ç›—è¿‡ä¸¤æ¬¡ï¼Œè·ŸåŒäº‹è®¨è®ºäº†ä¹‹åï¼Œå‘ç°å¯èƒ½æ˜¯å› ä¸ºæˆ‘ä½¿ç”¨äº† root è´¦å·è¿œç¨‹ç™»å½•ï¼Œè¦è®ºå®‰å…¨æ€§çš„è¯ï¼Œæœ€å¥½çš„æ–¹å¼æ˜¯ï¼š</p><ol><li>ç¦æ­¢ root è´¦å·è¿œç¨‹ç™»å½•ï¼ˆé‚£ä¹ˆåˆ«äººæƒ³è¦ç™»å½•ï¼Œå°±åªèƒ½çŒœä½ çš„è´¦å·å+å¯†ç ï¼Œå¦‚æœä½ å¼€æ”¾äº† root ç™»å½•ï¼Œåˆ«äººå°±åªéœ€è¦çŒœ root å¯†ç ï¼‰</li><li>æŠŠ ssh ç«¯å£æ”¹ä¸ºé 22 ç«¯å£ï¼Œé‚£é»‘å®¢æƒ³è¦ç ´è§£ï¼Œå°±éœ€è¦çŒœç«¯å£</li><li>æ™®é€šè´¦å·ä¸ç»™ root æƒé™ï¼Œè¿™æ ·å³ä¾¿æ™®é€šè´¦å·è¢«ç›—ï¼Œæƒ…å†µä¹Ÿä¸ç®—ä¸¥é‡</li><li>è®¾ç½®ä¸€ä¸ªå¼ºçš„ root å¯†ç </li></ol><p>è¿™æ ·ä¸€å¥—ç»„åˆæ‹³æ‰“ä¸‹æ¥ï¼Œé»‘å®¢æƒ³è¦è·å–ä½ æœåŠ¡å™¨çš„æœ€é«˜æƒé™ï¼Œé¦–å…ˆè¦çŸ¥é“ä½ çš„ ssh ç«¯å£ï¼Œç„¶åè¦çŸ¥é“ä¸€å¯¹æ™®é€šè´¦å·å¯†ç ï¼Œæœ€åè¦çŸ¥é“ root çš„å¯†ç ï¼Œæ‰èƒ½æœ€ç»ˆè·å¾—æœ€é«˜æƒé™ã€‚ç›¸æ¯”äºåªé  root å¯†ç çš„å¼ºåº¦ï¼Œå®‰å…¨äº†è®¸å¤šè®¸å¤šã€‚</p><p>ä»¥ä¸‹æ˜¯éœ€è¦ç”¨åˆ°çš„ linux å‘½ä»¤ï¼š</p><ul><li>æ–°å»ºç”¨æˆ·ï¼š<code>useradd &lt;yourname&gt;</code></li><li>ä¿®æ”¹ç”¨æˆ·å¯†ç ï¼š<code>passwd &lt;yourname&gt;</code></li><li>ä¿®æ”¹ ssh ç«¯å£å·ï¼šç¼–è¾‘<code>/etc/ssh/sshd_config</code>æ–‡ä»¶ï¼Œä¿®æ”¹<code>#Port 22</code>ä¸ºï¼š<code>Port xxxx</code></li><li>ç¦æ­¢ root è´¦å·è¿œç¨‹ç™»å½•ï¼šç¼–è¾‘<code>/etc/ssh/sshd_config</code>æ–‡ä»¶ï¼Œä¿®æ”¹<code>#PermitRootLogin yes</code>ä¸ºï¼š<code>PermitRootLogin no</code></li></ul><p>ä¿®æ”¹å®Œ<code>/etc/ssh/sshd_config</code>æ–‡ä»¶åï¼Œéœ€è¦é‡å¯ä¸€ä¸‹æœåŠ¡ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">setenforce 0</span><br><span class="line">sudo service sshd restart</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹å®Œç«¯å£ï¼Œè¿˜è¦è®©é˜²ç«å¢™æ”¾è¡Œæ­¤ç«¯å£ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// æ”¾è¡ŒæŒ‡å®šç«¯å£</span><br><span class="line">firewall-cmd --zone=public --add-port=xxxx/tcp --permanent</span><br><span class="line">// é‡å¯é˜²ç«å¢™</span><br><span class="line">systemctl restart firewalld.service</span><br><span class="line">// é‡æ–°è½½å…¥é…ç½®</span><br><span class="line">firewall-cmd --reload</span><br></pre></td></tr></table></figure><h2 id="centos-å®‰è£…-nginx"><a href="#centos-å®‰è£…-nginx" class="headerlink" title="centos å®‰è£… nginx"></a>centos å®‰è£… nginx</h2><p>yum install æ²¡æœ‰å¯ç”¨è½¯ä»¶åŒ… nginxã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">å·²åŠ è½½æ’ä»¶ï¼šfastestmirror</span><br><span class="line">Loading mirror speeds from cached hostfile</span><br><span class="line"> * base: mirror.lzu.edu.cn</span><br><span class="line"> * extras: mirror.lzu.edu.cn</span><br><span class="line"> * updates: mirror.lzu.edu.cn</span><br><span class="line">æ²¡æœ‰å¯ç”¨è½¯ä»¶åŒ… nginxã€‚</span><br><span class="line">é”™è¯¯ï¼šæ— é¡»ä»»ä½•å¤„ç†</span><br></pre></td></tr></table></figure><p>åŸå› æ˜¯ nginx ä½äºç¬¬ä¸‰æ–¹çš„ yum æºé‡Œé¢ï¼Œè€Œä¸åœ¨ centos å®˜æ–¹ yum æºé‡Œé¢</p><p>è§£å†³æ–¹æ³•ï¼š</p><p>å®‰è£…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install epel-release</span><br></pre></td></tr></table></figure><p>æ›´æ–°</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum update</span><br></pre></td></tr></table></figure><p>é‡æ–°è¯•ä¸€ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y nginx</span><br></pre></td></tr></table></figure><h2 id="æ˜¾å¡æŒ–çŸ¿"><a href="#æ˜¾å¡æŒ–çŸ¿" class="headerlink" title="æ˜¾å¡æŒ–çŸ¿"></a>æ˜¾å¡æŒ–çŸ¿</h2><p>å¸å®‰ç°åœ¨ä¹Ÿæœ‰çŸ¿æ± äº†ï¼š<a href="https://pool.binance.com/zh-CN" target="_blank" rel="noopener">å¸å®‰çŸ¿æ± </a></p><p>æˆ‘ç”¨çš„æ˜¾å¡ï¼š<code>NVIDIA GeForce RTX 4060 Laptop GPU 8GB</code>ï¼ŒæŒ–çŸ¿è½¯ä»¶ï¼š<code>GMiner</code>ï¼ŒæŒ–<code>ETC</code></p><p>é€Ÿåº¦ï¼š<code>31.10MH/s</code>ï¼Œæ•ˆèƒ½ï¼š<code>403.85KH/W</code></p><p>ç”µè´¹éƒ½æ”¶ä¸å›æ¥</p><h2 id="hexo-éƒ¨ç½²åï¼ŒCNAME-ä¼šè¢«è‡ªåŠ¨åˆ é™¤ï¼Œæ€ä¹ˆåŠï¼Ÿ"><a href="#hexo-éƒ¨ç½²åï¼ŒCNAME-ä¼šè¢«è‡ªåŠ¨åˆ é™¤ï¼Œæ€ä¹ˆåŠï¼Ÿ" class="headerlink" title="hexo éƒ¨ç½²åï¼ŒCNAME ä¼šè¢«è‡ªåŠ¨åˆ é™¤ï¼Œæ€ä¹ˆåŠï¼Ÿ"></a>hexo éƒ¨ç½²åï¼ŒCNAME ä¼šè¢«è‡ªåŠ¨åˆ é™¤ï¼Œæ€ä¹ˆåŠï¼Ÿ</h2><p>å°†éœ€è¦ä¸Šä¼ è‡³ github çš„å†…å®¹æ”¾åœ¨ source æ–‡ä»¶å¤¹ï¼Œä¾‹å¦‚ CNAMEã€favicon.icoã€images ç­‰ã€‚</p><p><a href="https://www.zhihu.com/question/28814437/answer/44207790" target="_blank" rel="noopener">hexo éƒ¨ç½²åï¼ŒCNAME ä¼šè¢«è‡ªåŠ¨åˆ é™¤ï¼Œæ€ä¹ˆåŠï¼Ÿ - æ²‰ç®€çš„å›ç­” - çŸ¥ä¹</a></p><h2 id="æ‹¿å›¾ç‰‡ç”Ÿæˆ-icon"><a href="#æ‹¿å›¾ç‰‡ç”Ÿæˆ-icon" class="headerlink" title="æ‹¿å›¾ç‰‡ç”Ÿæˆ icon"></a>æ‹¿å›¾ç‰‡ç”Ÿæˆ icon</h2><p><a href="https://www.logosc.cn/logo/favicon" target="_blank" rel="noopener">å…è´¹ Favicon.ico å›¾æ ‡åœ¨çº¿ç”Ÿæˆå™¨</a></p><h1 id="2023-06-05"><a href="#2023-06-05" class="headerlink" title="2023-06-05"></a>2023-06-05</h1><h2 id="utterances"><a href="#utterances" class="headerlink" title="utterances"></a>utterances</h2><p>æŠŠåšå®¢çš„è¯„è®ºæ’ä»¶ä»æ¥å¿…åŠ›æ¢æˆäº† github issuesï¼Œç”¨çš„æ˜¯ utterances æ’ä»¶ï¼Œä¸»è¦å‚è€ƒäº†è¿™ç¯‡æ–‡ç« ï¼š<a href="https://blog.lanweihong.com/posts/24011/ï¼Œä»–çš„æ–‡ç« æœ‰ä¸€å¤„é”™è¯¯å¯¼è‡´æˆ‘ä¸€å¼€å§‹æ²¡æœ‰æˆåŠŸï¼š" target="_blank" rel="noopener">https://blog.lanweihong.com/posts/24011/ï¼Œä»–çš„æ–‡ç« æœ‰ä¸€å¤„é”™è¯¯å¯¼è‡´æˆ‘ä¸€å¼€å§‹æ²¡æœ‰æˆåŠŸï¼š</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if theme.utterance and theme.utterance.enable %&#125;</span><br><span class="line"></span><br><span class="line">!function()&#123;var e=document.createElement(&quot;script&quot;);e.type=&quot;text/javascript&quot;,e.async=!0,e.setAttribute(&quot;issue-term&quot;,&quot;&#123;&#123; theme.utterance.issue_term &#125;&#125;&quot;),e.setAttribute(&quot;theme&quot;,&quot;&#123;&#123; theme.utterance.theme &#125;&#125;&quot;),e.setAttribute(&quot;repo&quot;,&quot;&#123;&#123; theme.utterance.repo &#125;&#125;&quot;),e.crossorigin=&quot;anonymous&quot;,e.src=&quot;https://utteranc.es/client.js&quot;,document.getElementById(&quot;utterance-container&quot;).appendChild(e)&#125;()</span><br><span class="line"></span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><p>å°†å¦‚ä¸Šå†…å®¹æ›¿æ¢ä¸ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if theme.utterance and theme.utterance.enable %&#125;</span><br><span class="line"></span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">(function()&#123;</span><br><span class="line">    var e=document.createElement(&quot;script&quot;);</span><br><span class="line">    e.type=&quot;text/javascript&quot;,</span><br><span class="line">    e.async=!0,</span><br><span class="line">    e.setAttribute(&quot;issue-term&quot;,&quot;&#123;&#123; theme.utterance.issue_term &#125;&#125;&quot;),</span><br><span class="line">    e.setAttribute(&quot;theme&quot;,&quot;&#123;&#123; theme.utterance.theme &#125;&#125;&quot;),</span><br><span class="line">    e.setAttribute(&quot;repo&quot;,&quot;&#123;&#123; theme.utterance.repo &#125;&#125;&quot;),</span><br><span class="line">    e.crossorigin=&quot;anonymous&quot;,</span><br><span class="line">    e.src=&quot;https://utteranc.es/client.js&quot;,</span><br><span class="line">    document.getElementById(&quot;utterance-container&quot;).appendChild(e)</span><br><span class="line">    &#125;)()</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><p>å°±æˆåŠŸäº†</p><p>æˆ‘çš„åšå®¢ä¸€ç›´æ˜¯é›¶è¯„è®ºï¼Œè€Œä¸”æµè§ˆé‡ä¹Ÿä¸é«˜ï¼Œè¿™æ–¹é¢éœ€è¦æ”¹å–„ä¸€ä¸‹äº†ï¼Œä¸»è¦æ˜¯ SEO åšçš„ä¸å¥½ï¼Œè¿˜æœ‰å°±æ˜¯å¹³å¸¸ä¹Ÿæ²¡æœ‰å®£ä¼ è¿‡ï¼Œå†å°±æ˜¯æ–‡ç« æ›´æ–°çš„æ¯”è¾ƒå°‘ï¼Œè™½ç„¶ notes æ›´æ–°å¾ˆé¢‘ç¹ã€‚</p><h2 id="ç½‘æ ¼å¸ƒå±€"><a href="#ç½‘æ ¼å¸ƒå±€" class="headerlink" title="ç½‘æ ¼å¸ƒå±€"></a>ç½‘æ ¼å¸ƒå±€</h2><p>æœ€è¿‘æ AwesomeWeb é¡¹ç›®ï¼Œå‘ç°ç”¨ flex å¸ƒå±€æ²¡æ³•æ»¡è¶³è¿™æ ·ä¸€ä¸ªéœ€æ±‚ï¼šå¤šè¡Œçš„æƒ…å†µä¸‹ï¼Œæ—¢å‡åŒ€ï¼Œåˆä»å·¦å¼€å§‹ï¼Œæ¯”å¦‚ç¬¬ä¸€è¡Œå››ä¸ªå…ƒç´ ï¼Œç¬¬äºŒè¡Œä¸‰ä¸ªå…ƒç´ ã€‚è¦å®ç°è¿™ç§å¸ƒå±€å°±åªèƒ½ç”¨ grid å¸ƒå±€äº†ï¼Œflex å¸ƒå±€ç¡®å®åªé€‚åˆä¸€ç»´çš„æƒ…å†µï¼Œä½† grid å¸ƒå±€å¯ä»¥å¾ˆè‡ªç”±çš„æå®šäºŒç»´å¸ƒå±€ã€‚</p><h1 id="2023-06-02"><a href="#2023-06-02" class="headerlink" title="2023-06-02"></a>2023-06-02</h1><p>react router ç”¨çš„æ¯”è¾ƒå°‘ï¼Œå‚è€ƒä»¥ä¸‹å‡ ç¯‡æ–‡ç« ï¼š</p><ul><li><a href="https://zhuanlan.zhihu.com/p/431389907" target="_blank" rel="noopener">react-router-dom ä½¿ç”¨æŒ‡å—ï¼ˆæœ€æ–° V6.0.1ï¼‰</a></li><li><a href="https://www.freecodecamp.org/chinese/news/react-router-in-5-minutes-2/" target="_blank" rel="noopener">5 åˆ†é’Ÿå†…äº†è§£ React Routerâ€”â€”åˆå­¦è€…æ•™ç¨‹</a></li><li><a href="https://juejin.cn/post/7102047013818073096" target="_blank" rel="noopener">React è·¯ç”±ä½¿ç”¨</a></li></ul><h1 id="2023-06-01"><a href="#2023-06-01" class="headerlink" title="2023-06-01"></a>2023-06-01</h1><h2 id="æ­£åˆ™è¡¨è¾¾å¼çš„å‘"><a href="#æ­£åˆ™è¡¨è¾¾å¼çš„å‘" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼çš„å‘"></a>æ­£åˆ™è¡¨è¾¾å¼çš„å‘</h2><p><img src="../images/2023/æ­£åˆ™è¡¨è¾¾å¼çš„å‘1.png" alt="æ­£åˆ™è¡¨è¾¾å¼çš„å‘1"></p><p><code>g</code>çš„ä½œç”¨æ˜¯å…¨å±€æœç´¢ï¼Œä¸åŠ <code>g</code>çš„è¯ï¼ŒåŒ¹é…åˆ°ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹å°±åœæ­¢äº†åŒ¹é…ï¼ŒåŠ äº†<code>g</code>å°±ä¼šåŒ¹é…ä¸Šæ‰€æœ‰åŒ¹é…é¡¹ã€‚ä½†æˆ‘ä»¬åœ¨ç”¨ test çš„æ—¶å€™ï¼Œå…¶å®å¹¶ä¸éœ€è¦<code>g</code>ï¼Œå› ä¸ºåŒ¹é…åˆ°ä¸€ä¸ªå°±æ˜¯ true äº†ã€‚ä½†å¦‚æœåŠ äº†<code>g</code>çš„è¯ï¼Œæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡çš„ lastindex å±æ€§å°±ä¼šç¼–ç¨‹æœ€åä¸€ä¸ªåŒ¹é…é¡¹ï¼Œé‚£ä½ ç»§ç»­å†ç”¨è¿™ä¸ªæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡çš„è¯ï¼Œå°±æ˜¯ä»æœ€åä¸€ä¸ªåŒ¹é…é¡¹ä¹‹åå¼€å§‹åŒ¹é…äº†ï¼Œå°±å•¥ä¹Ÿæ‰¾ä¸åˆ°ï¼ˆå•¥ä¹Ÿæ‰¾ä¸åˆ°ä¹‹åï¼Œå°±ä¼šæŠŠ lastindex åˆç½®ä¸º 0ï¼‰</p><p><img src="../images/2023/æ­£åˆ™è¡¨è¾¾å¼çš„å‘2.png" alt="æ­£åˆ™è¡¨è¾¾å¼çš„å‘2"></p><p>å®é™…ä¸Šæˆ‘è§‰å¾— js åº”è¯¥åœ¨ä½¿ç”¨ test æ—¶ï¼Œå±è”½æ‰<code>g</code></p><h2 id="UI-ç¾å­¦"><a href="#UI-ç¾å­¦" class="headerlink" title="UI ç¾å­¦"></a>UI ç¾å­¦</h2><p>æˆ‘å‘ç° UI å°±æ˜¯è¦åŒ€ç§°æ‰å¥½çœ‹ï¼Œæ¯”å¦‚è¦å‡åŒ€çš„å¹³é“ºç•Œé¢ï¼Œç•™è¶³ç¼éš™ï¼ˆpadding å’Œ marginï¼‰ï¼Œå°±æ˜¯å¥½çœ‹çš„å…³é”®è¦ç´ ï¼ŒæŒ¤åœ¨ä¸€èµ·å°±ä¸å¥½çœ‹äº†ã€‚äººä½“ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œå¯ä»¥è¯´åŒ€ç§°æ˜¯ä¸ªè¯•é‡‘çŸ³ã€‚</p><h2 id="é›ªç¢§å›¾"><a href="#é›ªç¢§å›¾" class="headerlink" title="é›ªç¢§å›¾"></a>é›ªç¢§å›¾</h2><p>æ ¹æ®é›ªç¢§å›¾+<code>background-position</code>+å›ºå®šçš„å›¾ç‰‡å®½é«˜ï¼Œå¯ä»¥ä»é›ªç¢§å›¾ä¸­æŠ½å–æŸä¸ªå›¾ç‰‡ã€‚</p><p>ä»¥ä¸‹æ¥è‡ª chatgpt çš„å›ç­”ï¼ˆè¾“å…¥ï¼šé›ªç¢§å›¾ï¼‰ï¼š</p><p>é›ªç¢§å›¾ï¼ˆSpriteï¼‰æ˜¯ä¸€ç§åœ¨ç½‘é¡µè®¾è®¡å’Œå¼€å‘ä¸­å¸¸ç”¨çš„æŠ€æœ¯ï¼Œç”¨äºå°†å¤šä¸ªå°å›¾æ ‡ã€æŒ‰é’®æˆ–å…¶ä»–å›¾åƒå…ƒç´ åˆå¹¶åˆ°ä¸€å¼ å¤§å›¾ä¸­ã€‚è¿™ä¸ªå¤§å›¾è¢«ç§°ä¸ºé›ªç¢§å›¾æˆ–ç²¾çµå›¾ã€‚ä½¿ç”¨é›ªç¢§å›¾å¯ä»¥å‡å°‘é¡µé¢åŠ è½½æ—¶é—´ï¼Œå› ä¸ºåªéœ€è¦åŠ è½½ä¸€å¼ å¤§å›¾è€Œä¸æ˜¯å¤šå¼ å°å›¾ã€‚åœ¨é¡µé¢ä¸Šæ˜¾ç¤ºä¸åŒçš„å›¾åƒå…ƒç´ æ—¶ï¼Œå¯ä»¥é€šè¿‡ CSS æ¥æ§åˆ¶æ˜¾ç¤ºçš„ä½ç½®å’Œå°ºå¯¸ï¼Œä»è€Œå®ç°ä¸åŒå…ƒç´ çš„æ˜¾ç¤ºã€‚</p><p>åˆ›å»ºé›ªç¢§å›¾çš„ä¸€èˆ¬æ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li>æ”¶é›†éœ€è¦åˆå¹¶åˆ°é›ªç¢§å›¾ä¸­çš„å°å›¾æ ‡æˆ–å›¾åƒå…ƒç´ ã€‚</li><li>å°†è¿™äº›å°å›¾æ ‡æŒ‰ç…§ä¸€å®šçš„è§„åˆ™æ’åˆ—åœ¨ä¸€å¼ å¤§å›¾ä¸Šï¼Œé€šå¸¸æ˜¯æ°´å¹³æˆ–å‚ç›´æ’åˆ—ã€‚</li><li>ä½¿ç”¨å›¾åƒç¼–è¾‘å·¥å…·ï¼ˆå¦‚ Adobe Photoshopã€GIMP ç­‰ï¼‰è°ƒæ•´å›¾åƒå¤§å°å’Œä½ç½®ï¼Œç¡®ä¿å®ƒä»¬æ­£ç¡®åœ°å¯¹é½ã€‚</li><li>ä¿å­˜é›ªç¢§å›¾ä¸ºä¸€å¼ å›¾åƒæ–‡ä»¶ï¼Œé€šå¸¸æ˜¯ PNG æ ¼å¼ã€‚</li><li>åœ¨ç½‘é¡µä¸­ä½¿ç”¨ CSS æ¥å¼•ç”¨é›ªç¢§å›¾ï¼Œå¹¶é€šè¿‡è®¾ç½®èƒŒæ™¯ä½ç½®ã€å°ºå¯¸ç­‰å±æ€§æ¥æ§åˆ¶æ˜¾ç¤ºä¸åŒçš„å›¾åƒå…ƒç´ ã€‚</li></ol><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ CSS ä»£ç ï¼Œå±•ç¤ºå¦‚ä½•ä½¿ç”¨é›ªç¢§å›¾ä¸­çš„å›¾åƒå…ƒç´ ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">Copy</span> <span class="selector-tag">code</span> <span class="selector-class">.icon</span> &#123;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">"sprites.png"</span>);</span><br><span class="line">  <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.icon-home</span> &#123;</span><br><span class="line">  <span class="attribute">background-position</span>: <span class="number">0</span> <span class="number">0</span>; <span class="comment">/* é›ªç¢§å›¾ä¸­homeå›¾æ ‡çš„ä½ç½® */</span></span><br><span class="line">  <span class="attribute">width</span>: <span class="number">32px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">32px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.icon-mail</span> &#123;</span><br><span class="line">  <span class="attribute">background-position</span>: -<span class="number">32px</span> <span class="number">0</span>; <span class="comment">/* é›ªç¢§å›¾ä¸­mailå›¾æ ‡çš„ä½ç½® */</span></span><br><span class="line">  <span class="attribute">width</span>: <span class="number">32px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">32px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œ<code>.icon</code>ç±»æŒ‡å®šäº†ä½¿ç”¨é›ªç¢§å›¾ä½œä¸ºèƒŒæ™¯å›¾åƒï¼Œå¹¶ç¦æ­¢é‡å¤èƒŒæ™¯å›¾åƒã€‚<code>.icon-home</code>å’Œ<code>.icon-mail</code>ç±»åˆ†åˆ«è¡¨ç¤ºäº†ä½¿ç”¨é›ªç¢§å›¾ä¸­çš„ home å›¾æ ‡å’Œ mail å›¾æ ‡ã€‚é€šè¿‡è®¾ç½®<code>background-position</code>å±æ€§ï¼Œå¯ä»¥æŒ‡å®šåœ¨é›ªç¢§å›¾ä¸­çš„ä½ç½®ã€‚åŒæ—¶ï¼Œé€šè¿‡è®¾ç½® width å’Œ height å±æ€§ï¼Œå¯ä»¥æ§åˆ¶æ˜¾ç¤ºçš„å°ºå¯¸ã€‚</p><p>ä½¿ç”¨é›ªç¢§å›¾å¯ä»¥æé«˜ç½‘é¡µåŠ è½½é€Ÿåº¦å’Œæ€§èƒ½ï¼Œå‡å°‘ HTTP è¯·æ±‚æ¬¡æ•°ï¼Œå¹¶ä¸”å¯¹äºç§»åŠ¨è®¾å¤‡å’Œä½å¸¦å®½ç¯å¢ƒå°¤å…¶æœ‰ç›Šã€‚</p><h1 id="2023-05-30"><a href="#2023-05-30" class="headerlink" title="2023-05-30"></a>2023-05-30</h1><p>å¦‚ä½•ç™½å«–åˆ°å…è´¹çš„ office å®˜æ–¹è½¯ä»¶ï¼š<a href="https://www.youtube.com/watch?v=VSjRx7Hoa60&amp;ab_channel=%E9%9B%B6%E5%BA%A6%E8%A7%A3%E8%AF%B4" target="_blank" rel="noopener">Wordã€Excelã€Pointpot æœ€å¼ºå…è´¹å®‰è£…æ•™ç¨‹ï¼ | é›¶åº¦è§£è¯´</a></p><h1 id="2023-05-29"><a href="#2023-05-29" class="headerlink" title="2023-05-29"></a>2023-05-29</h1><p>ç”µè„‘ä¸å¤Ÿè½»å·§ä¾¿æºï¼Œæ‰‹æœºçš„ç³»ç»Ÿä¸å¤Ÿæœ‰ç”Ÿäº§åŠ›ï¼Œå¯¹äºç¼–ç¨‹å¼€å‘æ¥è¯´ç”šè‡³éƒ½æ²¡æœ‰ chrome è°ƒè¯•å·¥å…·ï¼Œå½“ç„¶æ‰‹æœºå±å¹•å¤ªå°ä¹Ÿæ˜¯ä¸ªé—®é¢˜ï¼Œä½†æˆ‘è¿˜æ˜¯æäº†ä¸ª aidlux æ¥æŠ˜è…¾ä¸€ç•ªã€‚æƒ³è¦åœ¨ aidlux é‡Œé¢ç”¨ä¸Šç”µè„‘ç‰ˆçš„ chromeï¼Œå°±è¦é€šè¿‡ xfce4 æ¥è¿è¡Œï¼Œä¸€è¿›å»å°±è®©é€‰æ˜¯ wayland è¿˜æ˜¯ vnc æ–¹å¼ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªæ–¹å¼æœ‰ä½•åŒºåˆ«å‘¢ï¼Ÿ</p><h2 id="Wayland-ä¸-VNC-æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢"><a href="#Wayland-ä¸-VNC-æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢" class="headerlink" title="Wayland ä¸ VNC æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢"></a>Wayland ä¸ VNC æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢</h2><p>å»ºè®®åœ¨å¹³æ¿å’Œæ‰‹æœºä¸Šé¢ä½¿ç”¨ Waylandï¼Œå¯åŠ¨çš„è¿‡ç¨‹éœ€è¦ä¸€ç‚¹æ—¶é—´ï¼Œä½†æ˜¯å¯åŠ¨è¿‡åä¸è¿‡æ˜¯ xfce æœ¬èº«è¿˜æ˜¯é‡Œé¢çš„ç¨‹åºè¿è¡Œçš„é€Ÿåº¦æ›´å¿«ï¼Œä½†æ˜¯ wayland ä¹Ÿæœ‰ä¸€äº›ç¼ºç‚¹ï¼Œå°±æ˜¯æœ‰éƒ¨åˆ†è¾ƒè€çš„åº”ç”¨ç¨‹åºä¸æ”¯æŒï¼Œä¾‹å¦‚è°·æ­Œæ‹¼éŸ³éœ€è¦ fcitx5 ä»¥åçš„ç‰ˆæœ¬ã€‚</p><p>å¦‚æœæ˜¯é€šè¿‡ç”µè„‘ç«¯å»è®¿é—®ï¼Œåˆ™ä½¿ç”¨ VNC çš„æ–¹å¼ï¼Œå› ä¸ºæµè§ˆå™¨éœ€è¦ç½‘ç»œåè®®å»æˆ–çš„æ¸²æŸ“ã€‚</p><p>VNC çš„é€Ÿåº¦è™½ç„¶æ…¢ä¸€ç‚¹,ä½†æ˜¯å…¼å®¹æ€§æ›´å¥½ï¼Œå‡ ä¹æ”¯æŒæ‰€æœ‰çš„ Linux æ¡Œé¢è½¯ä»¶ã€‚</p><p>è‡³äºé€‰æ‹© Wayland è¿˜æ˜¯ VNCï¼Œå¯ä»¥å…ˆåœ¨ Wayland ä¸­è¯•è¯•ä½ è¦è¿è¡Œçš„ç¨‹åºï¼Œå¦‚æœæ²¡æœ‰è¿è¡ŒæŠ¥é”™ï¼Œé—ªé€€ç­‰æƒ…å†µï¼Œé‚£ä¹ˆå°±å¯ä»¥é€‰æ‹© Wayland çš„æ–¹å¼ï¼Œå¦‚æœæœ‰å°±éœ€è¦é€‰ç”¨ VNC çš„æ–¹å¼ã€‚</p><p>å‚è€ƒï¼š<a href="https://zhuanlan.zhihu.com/p/584177202" target="_blank" rel="noopener">AidLux ä¸­æ­£ç¡®ä½¿ç”¨ Wayland çš„æ–¹å¼ - çŸ¥ä¹</a></p><h1 id="2023-05-27"><a href="#2023-05-27" class="headerlink" title="2023-05-27"></a>2023-05-27</h1><p>ä¸€ç›´éƒ½æƒ³æµ‹ä¸€ä¸‹æ–°ä¹°çš„ç«å½± t6a çš„è·‘åˆ†ï¼Œæˆ‘æœ‹å‹å†™äº†ä¸ªå¥‡æ€ªçš„æµ‹è¯• CPU çš„ç¨‹åºï¼š<a href="http://118.190.10.34/mini-span-tree-kruskal-js/" target="_blank" rel="noopener">æœ€å°ç”Ÿæˆæ ‘ kruskal ç®—æ³• js å®ç°</a>ï¼Œæµ‹è¯•ç»“æœæ˜¯æ’ç”µæºå¼€ balance æ¨¡å¼ï¼Œ118msã€‚è¿˜è¡Œ</p><h1 id="2023-05-26"><a href="#2023-05-26" class="headerlink" title="2023-05-26"></a>2023-05-26</h1><p>æ€ä¹ˆç”¨æŒ‰é’®æ§åˆ¶æ»šåŠ¨æ•ˆæœï¼ˆäº§å“ç»ç†è¯´æŸäº›ç”¨æˆ·æ²¡æœ‰é¼ æ ‡æ»šè½®ï¼‰ï¼Œå…¶å®è·Ÿæ»šè½®çš„ä»£ç æ˜¯ä¸€æ ·çš„ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">targetElem.scrollLeft += evt.deltaY; <span class="comment">// æŠŠevt.deltaYæ›¿æ¢æˆæ¯æ¬¡ç‚¹å‡»æŒ‰é’®ï¼Œè¦æ»šåŠ¨çš„è·ç¦»</span></span><br></pre></td></tr></table></figure><h1 id="2023-05-24"><a href="#2023-05-24" class="headerlink" title="2023-05-24"></a>2023-05-24</h1><p>å…¬å¸é¡¹ç›®é‡åˆ°ä¸€ä¸ªè¡¨æƒ…ç¬¦å·å¯¼è‡´æ‰“å¼€å›¾é¡µå¤±è´¥çš„é—®é¢˜ï¼ŒåŸå› æ˜¯è½¬ç é”™è¯¯ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">svgStr.replace(</span><br><span class="line">  /[^\x00-\x7f]/g,</span><br><span class="line">  (s) =&gt; <span class="string">"&amp;#x"</span> + s.codePointAt(<span class="number">0</span>).toString(<span class="number">16</span>) + <span class="string">";"</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>æ­£ç¡®çš„è½¬ç åº”è¯¥æ˜¯è¿™æ ·ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">unicodeEncode</span>(<span class="params">s: <span class="built_in">string</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> arr = <span class="built_in">Array</span>.from(s);</span><br><span class="line">  <span class="keyword">let</span> res = <span class="string">""</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">    res += <span class="string">"&amp;#x"</span> + <span class="built_in">Number</span>(arr[i].codePointAt(<span class="number">0</span>)).toString(<span class="number">16</span>) + <span class="string">";"</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œè¦æä¸€ä¸‹ä¸¤ä¸ª apiï¼š<code>charCodeAt</code>å’Œ<code>codePointAt</code>ï¼Œç”¨ codePointAt æ‰èƒ½è§£æå‡ºæ­£ç¡®çš„ unicode ç¼–ç ï¼Œå¦å¤–å°±æ˜¯ç”¨æ•°ç»„æ¥æ‰¿è½½å­—ç¬¦ä¸²ï¼Œæ‰èƒ½è·å¾—æ­£ç¡®çš„å­—ç¬¦é•¿åº¦ï¼Œå¦åˆ™ä¸€ä¸ªè¡¨æƒ…ç¬¦å·å°±ä¼šè¢«åˆ¤æ–­æˆé•¿åº¦æ˜¯ 2</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">"ğŸ˜"</span>.length); <span class="comment">// 2</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Array</span>.from(<span class="string">"ğŸ˜"</span>).length); <span class="comment">// 1</span></span><br></pre></td></tr></table></figure><p>æœ€åè¯´ä¸€ä¸‹ï¼Œå…¶å®ä¸ç”¨è½¬ç å°±èƒ½è§£æå‡ºæ­£ç¡®çš„ dom äº†ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> DOMParser().parseFromString(<span class="string">'&lt;a value="ğŸ˜"&gt;ğŸ˜&lt;/a&gt;'</span>, <span class="string">"text/xml"</span>);</span><br></pre></td></tr></table></figure><h1 id="2023-05-20"><a href="#2023-05-20" class="headerlink" title="2023-05-20"></a>2023-05-20</h1><p>å¾ˆå°‘è‡ªå·±æ­å»ºé¡¹ç›®ï¼Œæˆ‘å‘ç°æˆ‘å¯èƒ½è¿æ­å»ºé¡¹ç›®éƒ½ä¸æ˜¯å¾ˆç†Ÿç»ƒï¼Œæœ€è¿‘æƒ³è‡ªå·±åšä¸€ä¸ªè§†é¢‘ appï¼Œè§†é¢‘èµ„æºç”¨åŠªåŠªçš„ï¼Œé‚£ä¹ˆå¦‚ä½•æ­å»ºä¸€ä¸ª react+typescript+webpack çš„åº”ç”¨å‘¢ï¼Ÿ</p><p><a href="https://jsramblings.com/creating-a-react-app-with-webpack/" target="_blank" rel="noopener">Creating a React app with Webpack</a><br><a href="https://jsramblings.com/create-a-react-and-typescript-app-with-webpack/" target="_blank" rel="noopener">Create a React and Typescript app with Webpack</a></p><h1 id="2023-05-18"><a href="#2023-05-18" class="headerlink" title="2023-05-18"></a>2023-05-18</h1><p>å®‰å“ç³»ç»Ÿå¯ä»¥å®‰è£… linux å•¦:aidluxï¼Œå„å¤§åº”ç”¨å•†åº—éƒ½æœ‰ä¸‹è½½ã€‚å®‰å“å¹³æ¿é…åˆè¿™ä¸ª appï¼Œç”Ÿäº§åŠ›ç”© iPad å‡ æ¡è¡—å‘€ï¼Œæˆ‘è¿™æ¡ä¿¡æ¯å°±æ˜¯ç”¨ aidlux é‡Œé¢çš„ vscode ç¼–è¾‘å¹¶å‘å¸ƒçš„ã€‚</p><h1 id="2023-05-15"><a href="#2023-05-15" class="headerlink" title="2023-05-15"></a>2023-05-15</h1><p>æµ‹è¯• replit+githubpagesï¼Œæ¯”è¾ƒéš¾æï¼Œreplit çš„æ§åˆ¶å°ç¯å¢ƒå¹¶éå®Œå…¨å¯ç”¨çš„ linux ç¯å¢ƒï¼Œè¿å®‰è£…è½¯ä»¶éƒ½ä¸è®©ã€‚</p><p>æœ‰äº›é“¾æ¥æ˜¯åœ¨æœ¬é¡µæ‰“å¼€ï¼Œæœ‰äº›æ˜¯æ–°å¼€ä¸€é¡µï¼Œæ–°å¼€ä¸€é¡µéœ€è¦ç»™æ ‡ç­¾å¡«å±æ€§ï¼š<code>target=&quot;_blank&quot;</code></p><h1 id="2023-05-14"><a href="#2023-05-14" class="headerlink" title="2023-05-14"></a>2023-05-14</h1><p>ä¹‹å‰çœ‹é›¶åº¦è§£è¯´çš„æ—¶å€™ï¼Œç»å¸¸çœ‹åˆ°ä¸€ä¸ªè½¯ä»¶ï¼šIDMï¼Œä»Šå¤©æˆ‘ä¹Ÿä¸‹è½½äº†è¿™ä¸ªè½¯ä»¶ï¼Œä¸‹è½½ç½‘å€ï¼š<a href="https://www.internetdownloadmanager.cn/download" target="_blank" rel="noopener">https://www.internetdownloadmanager.cn/download</a></p><p>æ¿€æ´»æ–¹æ³•ï¼š<a href="https://www.ygxz.in/idea/1650/" target="_blank" rel="noopener">https://www.ygxz.in/idea/1650/</a></p><p>è„šæœ¬æˆ‘ä¹Ÿå­˜äº†ä¸€ä»½ï¼š<a href="../assets/IDM æ¿€æ´»å·¥å…·.cmd">IDM æ¿€æ´»å·¥å…·.cmd</a></p><h1 id="2023-05-10"><a href="#2023-05-10" class="headerlink" title="2023-05-10"></a>2023-05-10</h1><h2 id="express-use-next"><a href="#express-use-next" class="headerlink" title="express use next"></a>express use next</h2><p>å‰ç«¯æ­å»ºæœ¬åœ°å¼€å‘ç¯å¢ƒï¼Œä¸€èˆ¬éƒ½ç”¨ node çš„ express æ¡†æ¶ï¼Œå…¶ä¸­ app use ä¸­çš„ next å‡½æ•°çš„å«ä¹‰æ˜¯ï¼Œå½“å¯¹åŒä¸€ä¸ªè·¯å¾„å®šä¹‰äº†å¤šä¸ªå›è°ƒå‡½æ•°ï¼Œè¦è°ƒç”¨ next()æ‰ä¼šæ‰§è¡Œä¸‹ä¸€ä¸ªå›è°ƒå‡½æ•°ã€‚</p><p>å‚è€ƒï¼š<a href="https://www.geeksforgeeks.org/what-is-the-use-of-next-function-in-express-js/" target="_blank" rel="noopener">What is the use of next() function in Express.js ? - GeeksforGeeks</a></p><h2 id="vscode-ä¸Šç§»ä¸€è¡Œä»£ç çš„å¿«æ·é”®"><a href="#vscode-ä¸Šç§»ä¸€è¡Œä»£ç çš„å¿«æ·é”®" class="headerlink" title="vscode ä¸Šç§»ä¸€è¡Œä»£ç çš„å¿«æ·é”®"></a>vscode ä¸Šç§»ä¸€è¡Œä»£ç çš„å¿«æ·é”®</h2><p><code>alt+up/down</code></p><h1 id="2023-05-03"><a href="#2023-05-03" class="headerlink" title="2023-05-03"></a>2023-05-03</h1><p>æœ€è¿‘å¼€å§‹ç”¨ rider å¼€å‘ unity æ¸¸æˆï¼Œå¾ˆå¤šç¼–è¾‘å™¨çš„ä¹ æƒ¯è·Ÿ vscode ä¸ä¸€æ ·ï¼Œæ¯”å¦‚ vscode æ‰“å¼€æ–‡ä»¶å·¦ä¾§ç›®å½•æ ‘ä¼šè‡ªåŠ¨å®šä½åˆ°ç›¸åº”çš„æ–‡ä»¶ï¼Œæ„Ÿè§‰è¿˜æ˜¯å¾ˆæ–¹ä¾¿çš„ï¼Œåœ¨ rider å¯ä»¥è¿›è¡Œç›¸åº”çš„è®¾ç½®ï¼š</p><p><img src="../images/2023/riderç›®å½•æ ‘è‡ªåŠ¨å®šä½åˆ°æ–‡ä»¶.jpg" alt="riderç›®å½•æ ‘è‡ªåŠ¨å®šä½åˆ°æ–‡ä»¶"></p><h1 id="2023-05-02"><a href="#2023-05-02" class="headerlink" title="2023-05-02"></a>2023-05-02</h1><p>æœ€è¿‘ä¹°äº†ä¸€å°ç«å½± t6a ç¬”è®°æœ¬ï¼Œæ€§ä»·æ¯”å¾ˆé«˜ï¼Œé‡æ–°éƒ¨ç½²åšå®¢çš„æ—¶å€™é‡åˆ°æŠ¥é”™ï¼š<code>bash: hexo: command not found</code>ï¼Œéœ€è¦å®‰è£…<code>hexo-cli</code>ï¼Œæœ€å¥½æ˜¯å…¨å±€ï¼š<code>npm i hexo-cli -g</code></p><h1 id="2023-04-28"><a href="#2023-04-28" class="headerlink" title="2023-04-28"></a>2023-04-28</h1><p>ä»¥å‰ä¸€ç›´æ˜¯ç”¨ä¸€ä¸ªå…¬å…±çš„ ChatGPT è´¦å·ï¼Œç”±äºæ¯æ¬¡ç”¨éƒ½è¦ç™»å½•å¾ˆéº»çƒ¦ï¼Œä»Šå¤©ç»ˆäºè‡ªå·±åˆ›å»ºäº†ä¸€ä¸ªè´¦å·ï¼Œåˆ›å»ºè´¦å·æœ‰ä¸¤ä¸ªå¿…è¦æ¡ä»¶ï¼š</p><ol><li>å›½å¤–æ‰‹æœºå·</li><li>ç¿»å¢™çš„æ¢¯å­</li></ol><p>å›½å¤–æ‰‹æœºå·æˆ‘ä¸€ç›´æ²¡å¼„è¿‡ï¼Œè¿™æ¬¡ä¹°äº†ä¸€ä¸ª 2 ç¾å…ƒçš„æœåŠ¡ï¼š<a href="https://sms-activate.org/" target="_blank" rel="noopener">https://sms-activate.org/</a></p><h1 id="2023-04-21"><a href="#2023-04-21" class="headerlink" title="2023-04-21"></a>2023-04-21</h1><p>useEffect çš„å˜é‡ç›‘å¬æœ‰ä»€ä¹ˆå‘ï¼ŸuseEffect çš„å˜é‡ç›‘å¬æ˜¯ç”¨çš„ Object.is()ï¼Œå¯¹äºå¯¹è±¡æ˜¯æ²¡æ³•æ·±å…¥å¯¹æ¯”çš„ï¼Œåªæ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„åœ°å€</p><p>è¯•éªŒ demoï¼š<a href="https://replit.com/@liuqinh2s/useEffect#src/App.tsx" target="_blank" rel="noopener">useEffect - Replit</a></p><h1 id="2023-04-18"><a href="#2023-04-18" class="headerlink" title="2023-04-18"></a>2023-04-18</h1><p>æœ€è¿‘å…»äº†å¤šè‚‰ï¼Œåœ¨çœ‹å¤šè‚‰çš„å…»æ®–å¸¸è¯†çš„æ—¶å€™ï¼Œçœ‹åˆ°å¤šè‚‰å¿…é¡»è¦ç…§ç´«å¤–çº¿è€Œéæ™®é€šçš„é˜³å…‰ï¼Œç‰¹åˆ«æ˜¯ä¸èƒ½éš”ç€ç»ç’ƒæ™’å¤ªé˜³ï¼Œå°±åœ¨ç½‘ä¸Šæœäº†ä¸€ä¸‹ç»ç’ƒéš”ç¦»ç´«å¤–çº¿ï¼Œç»“æœè¿˜çœŸæ¶¨çŸ¥è¯†äº†ï¼š</p><ul><li><a href="http://m.ce.cn/bwzg/202007/16/t20200716_35335869.shtml" target="_blank" rel="noopener">é€è¿‡çª—æˆ·ç»ç’ƒç…§å°„è¿›æ¥çš„é˜³å…‰ä¼šæŠŠä½ æ™’é»‘ä¹ˆï¼Ÿ_ä¸­å›½ç»æµç½‘</a></li><li><a href="https://zh.wikipedia.org/wiki/%E7%B4%AB%E5%A4%96%E7%BA%BF" target="_blank" rel="noopener">ç´«å¤–çº¿-ç»´åŸºç™¾ç§‘</a></li></ul><h2 id="scrollbar-çš„ç ”ç©¶"><a href="#scrollbar-çš„ç ”ç©¶" class="headerlink" title="scrollbar çš„ç ”ç©¶"></a>scrollbar çš„ç ”ç©¶</h2><p>chrome çš„ scrollbar å¯å®šåˆ¶æ€§æ¯”è¾ƒé«˜ï¼š</p><p><a href="https://segmentfault.com/a/1190000012800450" target="_blank" rel="noopener">https://segmentfault.com/a/1190000012800450</a></p><p>firefox çš„ scrollbar è¿å®½åº¦éƒ½æ— æ³•å®šåˆ¶ pxï¼š</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/scrollbar-width" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/CSS/scrollbar-width</a></p><p>é¼ æ ‡æ»šè½®æ¨ªå‘æ»šåŠ¨ï¼š<a href="https://codepen.io/zxuqian/pen/KKWyxjaï¼Œå°±æ˜¯æŠŠdeltaYåŠ åˆ°scrollLeftä¸Š" target="_blank" rel="noopener">https://codepen.io/zxuqian/pen/KKWyxjaï¼Œå°±æ˜¯æŠŠdeltaYåŠ åˆ°scrollLeftä¸Š</a></p><h1 id="2023-03-20"><a href="#2023-03-20" class="headerlink" title="2023-03-20"></a>2023-03-20</h1><p>ä¸ºä»€ä¹ˆè¦ä¿æŒé¥±æ»¡çš„ç²¾åŠ›ï¼Œå› ä¸ºæˆ‘å‘ç°ï¼Œåœ¨ç²¾ç¥çŠ¶æ€ä¸å¥½çš„æ—¶å€™ï¼Œäººæ›´åŠ å®¹æ˜“å¤±æ§ï¼Œæ¯”å¦‚ç²¾ç¥çŠ¶æ€ä¸ä½³çš„æ—¶å€™ï¼Œä¼šå»ç©æ¸¸æˆï¼Œçœ‹æŠ–éŸ³ã€‚è€Œæƒ³è¦å­¦ä¹ ï¼Œæˆ–è€…åšäº›æ¯”è¾ƒå¤æ‚ï¼Œæ¯ç‡¥ï¼Œæœ‰éš¾åº¦çš„äº‹æƒ…ï¼Œæ˜¯éœ€è¦æ¶ˆè€—å¤§é‡ç²¾åŠ›çš„ï¼Œè¿™äº›äº‹åªèƒ½åœ¨ç²¾ç¥çŠ¶æ€å¥½çš„æ—¶å€™æ‰èƒ½åšå¥½ã€‚</p><h1 id="2023-03-08"><a href="#2023-03-08" class="headerlink" title="2023-03-08"></a>2023-03-08</h1><p>æ€ä¹ˆè·å– window ä¸‹çš„ iframeï¼š<code>window.frames</code></p><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/frames" target="_blank" rel="noopener">Window.frames</a></p><p>æ€ä¹ˆåˆ¤æ–­å½“å‰çš„æ‰§è¡Œç¯å¢ƒæ˜¯ä¸æ˜¯åœ¨ iframe é‡Œé¢ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™ <code>console.log(window.frameElement)</code> ä¸€å®šå¯ä»¥æ‰“å°å‡ºå½“å‰ iframe çš„ã€‚</p><h1 id="2023-03-02"><a href="#2023-03-02" class="headerlink" title="2023-03-02"></a>2023-03-02</h1><p>useRef ä»Šå¤©åˆå­¦ä¼šäº†ä¸€ç‚¹ï¼Œå¯¹äºéåŸç”Ÿç»„ä»¶ï¼Œå¿…é¡»è¦å†™ useImperativeHandleï¼Œå¦åˆ™æ‹¿ä¸åˆ°ä¸œè¥¿ï¼ŒåŸç”Ÿç»„ä»¶åˆ™ä¸ç”¨å†™è¿™ä¸ªï¼Œé»˜è®¤æ‹¿åˆ°çš„ ref.current å°±æ˜¯ dom å¯¹è±¡</p><h1 id="2023-02-28"><a href="#2023-02-28" class="headerlink" title="2023-02-28"></a>2023-02-28</h1><p>ä¸€ç›´ä»¥æ¥éƒ½å¯¹ useEffect æœ‰ä¸ªè¯¯è§£ï¼Œä»¥ä¸ºå®ƒçš„ä½œç”¨èŒƒå›´æ˜¯å…¨å±€çš„ï¼Œæˆ‘çš„æ„æ€æ˜¯åœ¨ç»„ä»¶å¤–éƒ¨æ”¹äº†æŸä¸ªå˜é‡ï¼Œæˆ‘å¯ä»¥åœ¨ç»„ä»¶å†…ç›‘å¬åˆ°ï¼Œå®é™…ä¸Šæ˜¯ä¸è¡Œçš„ã€‚</p><p><strong>useEffect çš„è§¦å‘å‰æå¿…é¡»æ˜¯ç»„ä»¶æ­£åœ¨ renderï¼Œå¦‚æœç»„ä»¶ä¸ renderï¼Œæ ¹æœ¬ä¸ä¼šè§¦å‘</strong></p><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> globalData = &#123; <span class="attr">data</span>: &#123; <span class="attr">a</span>: <span class="number">0</span> &#125; &#125;;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> App = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"è§¦å‘ç›‘å¬"</span>);</span><br><span class="line">  &#125;, [globalData.data]);</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;&gt;</span><span class="tag">&lt;/&gt;</span>;</span></span><br><span class="line"><span class="xml">&#125;;</span></span><br><span class="line"><span class="xml">setTimeout(() =&gt; &#123;</span></span><br><span class="line"><span class="xml">  console.log("ç”±æˆ‘è§¦å‘çš„ç›‘å¬");</span></span><br><span class="line"><span class="xml">  globalData.data = &#123; a: 1 &#125;;</span></span><br><span class="line"><span class="xml">&#125;, 1000);</span></span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šä»£ç æ˜¯ä¸ä¼šè§¦å‘ç›‘å¬çš„ï¼Œå› ä¸ºç»„ä»¶æ²¡æœ‰ renderï¼Œä¹Ÿå°±ä¸ä¼šæ‰§è¡Œ useEffect()å‡½æ•°ï¼Œä¹Ÿå°±ä¸ä¼šå¯¹æ¯”å˜é‡ï¼Œè¿›ç›‘å¬å‡½æ•°ã€‚å®ƒä¸åƒæ¶ˆæ¯æ€»çº¿å’Œ dom äº‹ä»¶è¿™ç§å…¨å±€çš„ç›‘å¬ï¼Œå®ƒä»…é™äºç»„ä»¶ render çš„è¿‡ç¨‹ä¸­ç›‘å¬</p><p>å¦‚æœè¦å®ç°å…¨å±€çš„ç›‘å¬ï¼Œå°±è¦è‡ªå·±å®ç°ä¸€ä¸ª useWatch äº†ï¼Œè‡ªå·±å®ç°ä¸€ä¸ª useWatch æ¯”è¾ƒå¤æ‚ï¼Œå…ˆåŸ‹ä¸ªå‘ï¼Œä»¥åå†å¡«ã€‚</p><h1 id="2023-02-23"><a href="#2023-02-23" class="headerlink" title="2023-02-23"></a>2023-02-23</h1><p>åˆš commit çš„ä»£ç æƒ³æ’¤å›åˆ°å·¥ä½œåŒºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --soft HEAD</span><br></pre></td></tr></table></figure><p>æƒ³ä¸€æ­¥å¹¶ä½œä¸¤æ­¥ï¼Œå½»åº•æŠ¹é™¤ç—•è¿¹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard HEAD</span><br></pre></td></tr></table></figure><p>å¯¹ git è¿˜æ˜¯ä¸å¤Ÿç†Ÿæ‚‰ï¼Œä¹‹åæŠ½ç©ºå†å·©å›ºä¸€ä¸‹</p><p>ä¸¤ç§æ–¹å¼ä¸æ¸…é™¤æœ¬åœ°æäº¤å’Œæ¸…é™¤æœ¬åœ°æäº¤çš„æ–¹æ³•</p><p>1ã€å›é€€åˆ°ä¸Šæ¬¡æäº¤å¹¶æ¸…é™¤æœ¬åœ°æäº¤çš„ä»£ç </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard HEAD^</span><br></pre></td></tr></table></figure><p>2ã€å›é€€åˆ°ä¸Šæ¬¡æäº¤ä¸æ¸…é™¤æœ¬åœ°æäº¤çš„ä»£ç </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --soft HEAD~1</span><br></pre></td></tr></table></figure><h1 id="2023-02-14"><a href="#2023-02-14" class="headerlink" title="2023-02-14"></a>2023-02-14</h1><p>js æœ€ç®€å•çš„æ‰“åŒ…æ˜¯ç”¨ rollup.jsï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rollup main.js --file bundle.js</span><br></pre></td></tr></table></figure><p><a href="https://www.ruanyifeng.com/blog/2022/05/rollup.html" target="_blank" rel="noopener">æ‰“åŒ…å·¥å…· rollup.js å…¥é—¨æ•™ç¨‹ - é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿—</a></p><p>æ¯” webpack ç®€å•æ˜“ç”¨</p><h1 id="2023-02-10"><a href="#2023-02-10" class="headerlink" title="2023-02-10"></a>2023-02-10</h1><p>æœ€è¿‘æƒ³è‡ªå·±åšäº›è½¯ä»¶çš„æƒ³æ³•è¶Šæ¥è¶Šå¼ºçƒˆï¼Œæ„Ÿè§‰ä¸€ç›´ä¸ºå…¬å¸æ‰“å·¥ä¸æ˜¯å‡ºè·¯ï¼Œå¿…é¡»è¦å¦å¯»å‡ºè·¯ï¼š</p><ol><li>ä¸€æ–¹é¢æˆ‘å¯ä»¥æŠŠè‡ªå·±åšå®¢ä¸­çš„ç²¾åéƒ¨åˆ†å‘å¸ƒåˆ°å…¶ä»–çš„æµé‡å¹³å°è·å–æµé‡å’Œå…³æ³¨ï¼Œä»¥åŠè®¤è¯†æ›´å¤šçš„äººï¼Œå¢åŠ è‡ªå·±çš„æœºé‡ï¼Œå’Œè¡Œä¸šæ°›å›´ã€‚</li><li>æˆ‘å¯ä»¥æ¨¡ä»¿å…¶ä»–çš„å·¥å…·ç±»ç½‘ç«™ï¼Œè‡ªå·±å®ç°ä¸€äº›ç®€å•çš„å°å·¥å…·ï¼Œç”šè‡³å½“åšæœåŠ¡å‘å¸ƒå‡ºå»ï¼Œèµšé’±</li></ol><p>çœ‹åˆ°å‡ ä¸ªä¸é”™çš„ç½‘ç«™ï¼š</p><ol><li><a href="http://www.atoolbox.net/" target="_blank" rel="noopener">http://www.atoolbox.net/</a></li><li><a href="https://www.juhe.cn/" target="_blank" rel="noopener">https://www.juhe.cn/</a></li></ol><p>æ¥ä¸‹æ¥æˆ‘æ‰“ç®—ç ”ç©¶ä¸€ä¸‹æ•°ç‹¬çš„ç”Ÿæˆï¼Œè‡ªå·±åšä¸€ä¸ªæ•°ç‹¬å°æ¸¸æˆ</p><h2 id="useContext-çš„ä½¿ç”¨"><a href="#useContext-çš„ä½¿ç”¨" class="headerlink" title="useContext çš„ä½¿ç”¨"></a>useContext çš„ä½¿ç”¨</h2><p>ç”¨èµ·æ¥å¾ˆç®€å•å°±æ˜¯ä¸€å¥ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> context = useContext(xxxContext);</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯å‡†å¤‡è¿™ä¸ªç¯å¢ƒå˜é‡çš„å†™æ³•ç¨å¾®æœ‰ç‚¹å¤æ‚ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å…ˆå®šä¹‰ä¸€ä¸ªå…¨å±€å˜é‡</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> xxxContext = React.createContext &lt; xxxType &gt; &#123;&#125;;</span><br><span class="line"><span class="comment">// ç„¶åç”¨è¿™ä¸ª.ProvideråŒ…è£¹èµ·æ¥ï¼Œå†ä¼ å…¥ä¸€ä¸ªvalue</span></span><br><span class="line">&lt;xxxContext.Provider value=&#123;&#123;&#125;&#125;&gt;...&lt;<span class="regexp">/xxxContext.Provider&gt;;</span></span><br></pre></td></tr></table></figure><h1 id="2023-02-09"><a href="#2023-02-09" class="headerlink" title="2023-02-09"></a>2023-02-09</h1><p>svg use å¯ä»¥ç”¨æ¥å¤åˆ¶ä¸€ä¸ª svg å…ƒç´ ï¼š</p><p><a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/use" target="_blank" rel="noopener">svg use</a></p><p>AI å­¦ä¹ ï¼š<a href="https://zhuanlan.zhihu.com/p/414450099" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/414450099</a></p><h1 id="2023-02-08"><a href="#2023-02-08" class="headerlink" title="2023-02-08"></a>2023-02-08</h1><p>åˆ‡è§’æ•ˆæœï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#58a</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(135deg, transparent 15px, red 0) top left, <span class="built_in">linear-gradient</span>(</span><br><span class="line">        -135deg,</span><br><span class="line">        transparent 15px,</span><br><span class="line">        yellow 0</span><br><span class="line">      ) top right,</span><br><span class="line">    <span class="built_in">linear-gradient</span>(-45deg, transparent 15px, green 0) bottom right, <span class="built_in">linear-gradient</span>(</span><br><span class="line">        45deg,</span><br><span class="line">        transparent 15px,</span><br><span class="line">        blue 0</span><br><span class="line">      ) bottom left;</span><br><span class="line">  <span class="attribute">background-size</span>: <span class="number">50%</span> <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://codepen.io/liuqinh2s/pen/XWBKvEe" target="_blank" rel="noopener">æ•ˆæœæ¼”ç¤º</a></p><h1 id="2023-02-07"><a href="#2023-02-07" class="headerlink" title="2023-02-07"></a>2023-02-07</h1><p>ä¸€æœˆä»½çš„ç›®æ ‡ï¼šé‡‘é“²é“²ä¹‹æˆ˜æ‰“ä¸Šå¤§å¸ˆæ®µä½ï¼Œå¹¶å†™ä¸€ä»½æ¸¸æˆæ”»ç•¥ï¼Œå·²ç»å®Œæˆäº†ã€‚2 æœˆä»½æˆ‘æ‰“ç®—çœ‹å®Œè¿™æœ¬ã€ŠCSS æ­ç§˜ã€‹ï¼Œå› ä¸ºå·²ç»æ‹–äº†å¾ˆä¹…äº†ï¼Œè™½ç„¶è¯´å‰é¢çœ‹çš„ä¸å°‘å†…å®¹å·²ç»å¿˜äº†ï¼Œä½†æ˜¯å…ˆå®Œæ•´çš„çœ‹å®Œä¸€éå†è¯´ã€‚</p><p>æŠŠä¸€ä¸ªå›¾ç‰‡è£å‰ªå‡ºè±å½¢ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">clip-path</span>: <span class="selector-tag">polygon</span>(50% 0, 100% 50%, 50% 100%, 0 50%);</span><br></pre></td></tr></table></figure><p><a href="https://codepen.io/liuqinh2s/pen/mdjOgvz?editors=1111" target="_blank" rel="noopener">æ•ˆæœæ¼”ç¤º</a></p><h1 id="2023-01-30-1"><a href="#2023-01-30-1" class="headerlink" title="2023-01-30"></a>2023-01-30</h1><p>é‡åˆ°ä¸€ä¸ª<code>cannot access &quot;xxx&quot; before initialization</code>çš„é—®é¢˜ï¼Œxxx æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œå¦‚æœè¿™ä¸ªæŠ½è±¡ç±»æ²¡æœ‰ import ä»»ä½•å…¶ä»–çš„ä¸œè¥¿åº”è¯¥ä¸ä¼šæŠ¥é”™æ‰å¯¹ï¼Œæ‰€ä»¥é—®é¢˜æ˜¯å‡ºåœ¨å®ƒçš„å¼•ç”¨ä¸Šã€‚æœ€åæŸ¥åˆ°æ˜¯å¾ªç¯å¼•ç”¨äº†ã€‚</p><h1 id="2023-01-12"><a href="#2023-01-12" class="headerlink" title="2023-01-12"></a>2023-01-12</h1><p>ä»Šæ—©ä¸Šå°è¯•ç»™å¤šçœ‹ app å¯¼å…¥ mobi æ ¼å¼çš„ç”µå­ä¹¦ï¼Œæ‰å‘ç° mobi æ ¼å¼åŸæ¥ç«Ÿæ˜¯ kindle è‡ªå·±å®¶çš„æ ¼å¼ï¼Œä¸è¿‡ä¹Ÿè¢«åæ¥çš„ azw ç³»åˆ—æ›¿ä»£äº†ï¼Œç°åœ¨éƒ½æ˜¯ azw3 æ ¼å¼ã€‚äºæ˜¯æˆ‘åªå¥½è½¬æˆ epub æ ¼å¼ï¼Œç„¶åæˆ‘å‘ç°å¤šçœ‹ app çš„çœ‹ä¹¦ä½“éªŒæ¯” kindle app è¿˜å¥½ã€‚åªèƒ½è¯´ kindle ä¸æ€è¿›å–å§ã€‚è€Œä¸”äººå®¶å·²ç»é€€å‡ºäº†ä¸­å›½ï¼Œå¦å¤–æˆ‘çš„ kindle paper white3 ç”¨äº† 9 å¹´ä¹Ÿåœ¨å‰å‡ æ—¥ç»ˆäºå¯¿ç»ˆæ­£å¯äº†ï¼ˆä¼°è®¡æ˜¯ä¸»æ¿åäº†ï¼‰ï¼Œå¦å¤–ä¸ºäº†è´¯å½»æˆ‘çš„ä¸€ä¸ªæ‰‹æœºä¸€å°ç”µè„‘çš„æç®€ä¸»ä¹‰é£æ ¼ï¼Œä¸æ‰“ç®—ä¿®æˆ–è€…ä¹°ä¸ªæ–°çš„ kindle äº†ã€‚ä»¥åéƒ½ä¸ä¼šå†ç”¨ kindleï¼Œç”µè„‘ä¸Šçœ‹ç”µå­ä¹¦ç”¨ calibreï¼Œæ‰‹æœºä¸Šç”¨å¤šçœ‹ã€‚</p><h1 id="2023-01-10"><a href="#2023-01-10" class="headerlink" title="2023-01-10"></a>2023-01-10</h1><p>css å¦‚ä½•ç”Ÿæˆä¸€ä¸ªæ¤­åœ†ï¼Ÿ</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">border-radius</span>: 50%;</span><br></pre></td></tr></table></figure><p>å¦‚ä½•ç”Ÿæˆä¸€ä¸ªåŠæ¤­åœ†ï¼š</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">border-radius: 50% / 100% 100% 0 0;</span><br><span class="line">border-radius: 100% 0 0 100% / 50%;</span><br></pre></td></tr></table></figure><p>è¿™ä¸¤ç§éƒ½æ˜¯ç®€å†™æ¨¡å¼ï¼Œæ¯”æ–¹è¯´<code>border-radius: 50% / 100% 100% 0 0;</code>æ˜¯<code>border-radius: 50% 50% 50% 50% / 100% 100% 0 0;</code>çš„ç®€å†™ï¼Œæ–œæ åŒºåˆ†å®½é«˜</p><blockquote><p>ä¸è¿‡ï¼ŒçœŸæ­£ç®€æ´çš„æ–¹æ³•è¿˜æ˜¯ä½¿ç”¨ border-radius è¿™ä¸ªç®€å†™å±æ€§ï¼Œå› ä¸º<br>æˆ‘ä»¬å¯ä»¥å‘å®ƒä¸€æ¬¡æ€§æä¾›ç”¨ç©ºæ ¼åˆ†å¼€çš„å¤šä¸ªå€¼ã€‚å¦‚æœæˆ‘ä»¬ä¼ ç»™å®ƒå››ä¸ªå€¼ï¼Œè¿™<br>å››ä¸ªå€¼å°±ä¼šè¢«åˆ†åˆ«ä»å·¦ä¸Šè§’å¼€å§‹ä»¥é¡ºæ—¶é’ˆé¡ºåºåº”ç”¨åˆ°å…ƒç´ çš„å„ä¸ªæ‹è§’ã€‚å¦‚æœ<br>æˆ‘ä»¬æä¾›çš„å€¼å°‘äºå››ä¸ªï¼Œåˆ™å®ƒä»¬ä¼šä»¥ CSS çš„å¸¸è§„æ–¹å¼é‡å¤ï¼Œç±»ä¼¼äº borderwidth çš„å€¼ã€‚å¦‚æœåªæä¾›äº†ä¸‰ä¸ªå€¼ï¼Œåˆ™æ„å‘³ç€ç¬¬å››ä¸ªå€¼ä¸ç¬¬äºŒå€¼ç›¸åŒï¼›å¦‚æœ<br>åªæœ‰ä¸¤ä¸ªå€¼ï¼Œåˆ™æ„å‘³ç€ç¬¬ä¸‰ä¸ªå€¼ä¸ç¬¬ä¸€ä¸ªç›¸åŒã€‚</p></blockquote><p>å››åˆ†ä¹‹ä¸€æ¤­åœ†ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">border-radius</span>: 100% 0 0 0;</span><br></pre></td></tr></table></figure><h1 id="2023-01-09"><a href="#2023-01-09" class="headerlink" title="2023-01-09"></a>2023-01-09</h1><p>ä¹‹å‰çœ‹è¿‡ä¸€ç¯‡æ–‡ç« ï¼Œè®²ä¸­å›½çš„æ¯ä¸ªæœä»£å·®ä¸å¤šéƒ½æ´»ä¸è¿‡ 300 å¹´ï¼Œå› ä¸ºæŒç»­ä¸æ–­çš„è´«å¯Œåˆ†åŒ–ï¼ˆåœŸåœ°å…¼å¹¶ï¼‰ï¼Œè®©æ•´ä¸ªç¤¾ä¼šæ°‘ä¸èŠç”Ÿï¼Œç¤¾ä¼šåŠ¨è¡ï¼Œé‡æ–°æ´—ç‰Œã€‚ç°åœ¨æ˜¯å»ºå›½ 74 å‘¨å¹´ï¼Œ150 å¹´åè¾¾åˆ°å½“æœçš„é¡¶å³°ï¼Œä¹Ÿå°±æ˜¯ 2099 å¹´ï¼Œæˆ‘ä»¬è¿™ä¸€ä»£è¿˜èƒ½æ´»çš„æ¯”è¾ƒæ»‹æ¶¦ï¼Œåé¢å‡ ä»£åŸºæœ¬ä¸Šæ˜¯æ´»çš„ä¸åƒäººæ ·äº†ã€‚æ¯ä¸€ä»£äººéƒ½æœ‰æ¯ä¸€ä»£äººçš„å®¿å‘½ã€‚è¿™æ˜¯å†å²çš„è¿›ç¨‹ã€‚</p><h1 id="2023-01-08"><a href="#2023-01-08" class="headerlink" title="2023-01-08"></a>2023-01-08</h1><p>ä¸­åˆåƒé¥­çš„æ—¶å€™ï¼Œè®¨è®ºåˆ°æ˜¥èŠ‚çš„è½¦ç¥¨é—®é¢˜ï¼Œçªç„¶å‘ç°æˆ‘æ²¡æœ‰å¾ˆå¥½çš„åˆ©ç”¨åŒºé—´æ¥è§£å†³è½¦ç¥¨é—®é¢˜ï¼Œ<strong>ä¼—æ‰€å‘¨çŸ¥ï¼šåŒºé—´é€‰å¾—è¶Šå¤§ï¼Œæ”¾çš„ç¥¨è¶Šå¤šï¼Œè¶Šå®¹æ˜“ä¹°åˆ°ç¥¨</strong>ã€‚æˆ‘æŠ¢åˆ°çš„æ˜¯ä¸€ç­‰åº§ï¼Œä¸€ç­‰åº§æ¯”äºŒç­‰åº§è´µäº† 200 å—ï¼Œå¦‚æœæˆ‘åŠ ç‚¹åŒºé—´æŠ¢äºŒç­‰åº§ï¼Œè¯´ä¸å®šæ¯”æˆ‘ä¸€ç­‰åº§è¦ä¾¿å®œã€‚ä»¥åä¸€å®šè¦è®°ä½è¿™ä¸€ç‚¹ï¼Œé«˜é“å…¬å¸æ˜¯å¸Œæœ›æ‰€æœ‰äººéƒ½ä»å§‹å‘ç«™åšåˆ°ç»ˆç‚¹ç«™çš„ï¼Œè¿™æ ·å®ƒæ‰èƒ½èµšå¾—æœ€å¤šï¼Œæ‰€ä»¥æ•…æ„æŠŠåŒºé—´è¶Šå¤§çš„ç¥¨å¼„å¾—è¶Šå¤šï¼Œæ®è¯´å§‹å‘ç«™åˆ°ç»ˆç‚¹ç«™çš„ç¥¨ï¼Œæ˜¯å…¶ä»–åŒºé—´çš„ä¸‰å€ã€‚</p><h1 id="2023-01-07"><a href="#2023-01-07" class="headerlink" title="2023-01-07"></a>2023-01-07</h1><p>æ€ä¹ˆé˜²æ­¢é‡å¤æ·»åŠ åŒä¸€ä¸ªäº‹ä»¶å›è°ƒå‡½æ•°ï¼Ÿ</p><p>ç­”æ¡ˆæ˜¯åœ¨æ¯æ¬¡æ·»åŠ å‰éƒ½ off æ‰æ—§çš„ï¼Œä½†æ˜¯ä¸€å®šè¦æ³¨æ„ï¼Œè¦æŒ‡å®šå›è°ƒå‡½æ•°ï¼Œä¸ç„¶æ‰€æœ‰çš„äº‹ä»¶å›è°ƒå‡½æ•°éƒ½è¢«ç§»é™¤äº†ï¼ˆå½±å“åˆ°å…¶ä»–åœ°æ–¹ï¼‰ã€‚è€Œä¸”åªéœ€è¦ä¸€ä¸ª off å°±èƒ½ç§»é™¤æ‰ n ä¸ªé‡å¤çš„ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">  $dom.on(<span class="string">"click"</span>, func1);</span><br><span class="line">&#125;</span><br><span class="line">$dom.off(<span class="string">"click"</span>, func1);</span><br></pre></td></tr></table></figure><p>å¦å¤– off å’Œ one æ˜¯æœ‰åŒºåˆ«çš„ï¼Œone æ·»åŠ çš„å¤šä¸ª func1ï¼Œæ‰§è¡Œå®Œä¸€ä¸ªåæ˜¯ä¸ä¼šå½±å“åˆ°å…¶ä»–çš„ one æ‰§è¡Œ:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">  $dom.one(<span class="string">"click"</span>, func1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·å†™å›è°ƒå‡½æ•°è¿˜æ˜¯èƒ½æ‰§è¡Œ n æ¬¡ï¼Œä½†ä¸‹é¢çš„ä»£ç å›è°ƒå‡½æ•°åªä¼šæ‰§è¡Œä¸€æ¬¡</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">  $dom.off(<span class="string">"click"</span>, func1);</span><br><span class="line">  $dom.on(<span class="string">"click"</span>, func1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="calibre-åˆ†äº«ç”µå­ä¹¦åˆ°-kindleï¼Œä¹¦åè‡ªåŠ¨å˜æ‹¼éŸ³"><a href="#calibre-åˆ†äº«ç”µå­ä¹¦åˆ°-kindleï¼Œä¹¦åè‡ªåŠ¨å˜æ‹¼éŸ³" class="headerlink" title="calibre åˆ†äº«ç”µå­ä¹¦åˆ° kindleï¼Œä¹¦åè‡ªåŠ¨å˜æ‹¼éŸ³"></a>calibre åˆ†äº«ç”µå­ä¹¦åˆ° kindleï¼Œä¹¦åè‡ªåŠ¨å˜æ‹¼éŸ³</h2><p>è§£å†³åŠæ³•ï¼š<a href="https://bookfere.com/post/1042.html" target="_blank" rel="noopener">https://bookfere.com/post/1042.html</a></p><h1 id="2023-01-06"><a href="#2023-01-06" class="headerlink" title="2023-01-06"></a>2023-01-06</h1><p>å¹´åº¦è®¡åˆ’åŸºæœ¬ä¸Šæ˜¯è¿™æ ·ï¼š</p><ol><li>æˆ’æ¸¸æˆï¼ŒçŸ­è§†é¢‘ï¼Œå°é»„ç‰‡</li><li>çœ‹ä¹¦ï¼Œçœ‹é•¿è§†é¢‘ï¼Œå­¦ä¹ æ–°æŠ€èƒ½</li><li>å­¦è‹±è¯­ï¼Œæ•°å­¦</li></ol><p>è¦çœ‹çš„ä¹¦æœ‰å“ªäº›ï¼Ÿä»Šå¹´çš„ç¬¬ä¸€æœ¬ä¹¦æ˜¯ï¼šã€ŠCSS æ­ç§˜ã€‹</p><h2 id="CSS-æ­ç§˜è¯»ä¹¦ç¬”è®°"><a href="#CSS-æ­ç§˜è¯»ä¹¦ç¬”è®°" class="headerlink" title="CSS æ­ç§˜è¯»ä¹¦ç¬”è®°"></a>CSS æ­ç§˜è¯»ä¹¦ç¬”è®°</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">background</span>: <span class="selector-tag">repeating-linear-gradient</span>(</span><br><span class="line">  60<span class="selector-tag">deg</span>,</span><br><span class="line">  <span class="selector-tag">red</span>,</span><br><span class="line">  <span class="selector-tag">blue</span> 15<span class="selector-tag">px</span>,</span><br><span class="line">  <span class="selector-tag">green</span> 0,</span><br><span class="line">  <span class="selector-tag">yellow</span> 30<span class="selector-tag">px</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>green 0 çš„æ„æ€æ˜¯ä»€ä¹ˆï¼Ÿ</p><blockquote><p>ä¸ºäº†é¿å…æ¯æ¬¡æ”¹åŠ¨æ¡çº¹å®½åº¦æ—¶éƒ½è¦ä¿®æ”¹ä¸¤ä¸ªæ•°å­—ï¼Œæˆ‘ä»¬å¯ä»¥å†æ¬¡ä»è§„èŒƒé‚£é‡Œæ‰¾åˆ°æ·å¾„ã€‚â€œå¦‚æœæŸä¸ªè‰²æ ‡çš„ä½ç½®å€¼æ¯”æ•´ä¸ªåˆ—è¡¨ä¸­åœ¨å®ƒä¹‹å‰çš„è‰²æ ‡çš„ä½ç½®å€¼éƒ½è¦å°ï¼Œåˆ™è¯¥è‰²æ ‡çš„ä½ç½®å€¼ä¼šè¢«è®¾ç½®ä¸ºå®ƒå‰é¢æ‰€æœ‰è‰²æ ‡ä½ç½®å€¼çš„æœ€å¤§å€¼ã€‚â€è¿™æ„å‘³ç€ï¼Œå¦‚æœæˆ‘ä»¬æŠŠç¬¬äºŒä¸ªè‰²æ ‡çš„ä½ç½®å€¼è®¾ç½®ä¸º 0ï¼Œé‚£å®ƒçš„ä½ç½®å°±æ€»æ˜¯ä¼šè¢«æµè§ˆå™¨è°ƒæ•´ä¸ºå‰ä¸€ä¸ªè‰²æ ‡çš„ä½ç½®å€¼ï¼Œè¿™ä¸ªç»“æœæ­£æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚</p></blockquote><h1 id="2023-01-05"><a href="#2023-01-05" class="headerlink" title="2023-01-05"></a>2023-01-05</h1><p>å‘ç° react é‡Œé¢ç”¨ä¸äº† dispatchEventï¼Œæœ‰ä¸ªéœ€æ±‚æ˜¯å¯¹è¾“å…¥æ¡†æŒ‰ enter è§¦å‘è·Ÿ onBlur ä¸€æ ·çš„æ•ˆæœï¼Œæˆ‘åœ¨ onKeyUp é‡Œé¢è¿™ä¹ˆå†™ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">onKeyUp=&#123;e =&gt; &#123;</span><br><span class="line">  <span class="keyword">if</span>(e.key === <span class="string">'Enter'</span>)&#123;</span><br><span class="line">    e.target.dispatchEvent(<span class="keyword">new</span> Event(<span class="string">'blur'</span>));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;&#125;</span><br></pre></td></tr></table></figure><p>æ ¹æœ¬æ²¡æ•ˆæœ</p><p>åªå¥½æ”¹æˆè¿™æ ·ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">onKeyDown=&#123;e =&gt; &#123;</span><br><span class="line">  <span class="keyword">if</span>(e.key === <span class="string">'Enter'</span>)&#123;</span><br><span class="line">    e.currentTarget.blur();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;&#125;</span><br></pre></td></tr></table></figure><p>target å’Œ currentTarget çš„åŒºåˆ«ï¼štarget æ˜¯æ³¨å†Œäº‹ä»¶çš„ domï¼Œä½†ä¸ä¸€å®šæ˜¯çœŸæ­£è§¦å‘äº‹ä»¶çš„ domï¼ŒcurrentTarget æ˜¯çœŸæ­£è§¦å‘äº‹ä»¶çš„ domã€‚æœ‰ä¸€ç§å¾ˆå¸¸è§çš„åšæ³•æ˜¯åœ¨ç¥–å…ˆèŠ‚ç‚¹ä¸Šæ³¨å†Œäº‹ä»¶ï¼Œç„¶åå†åœ¨äº‹ä»¶é‡Œé¢åˆ†è¾¨å…·ä½“æ˜¯å“ªä¸ªå­èŠ‚ç‚¹ï¼Œè¿™å°±å«ï¼šäº‹ä»¶å§”æ‰˜ï¼Œå¯ä»¥æœ‰æ•ˆå‡å°‘äº‹ä»¶æ³¨å†Œçš„æ•°é‡</p><h1 id="2023-01-03"><a href="#2023-01-03" class="headerlink" title="2023-01-03"></a>2023-01-03</h1><p>æ–°çš„ä¸€å¹´åˆå¼€å§‹äº†ï¼Œéº»æœ¨äº†ï¼Œä½†è¿˜æ˜¯å¯»æ±‚ç€æ”¹å˜ã€‚æˆ‘è·Ÿæˆ‘å ‚å¼Ÿè¯´äº†ä¸€äº›ä¸œè¥¿ï¼Œæˆ‘è‡ªå·±è§‰å¾—å¾ˆæœ‰é“ç†ï¼Œä¾¿å†™åœ¨è¿™é‡Œå§ï¼š</p><p>æ€»ç»“ï¼šæˆ‘çš„å­¦æ ¡ç”Ÿæ¶¯ç®—æ˜¯æ¯”è¾ƒæˆåŠŸçš„ï¼Œæˆ‘çš„é«˜è€ƒåçš„äººç”Ÿç®—æ˜¯æ¯”è¾ƒå¤±è´¥çš„ï¼ˆä¸Šäº†å¥½å¤§å­¦ï¼Œä½†æ²¡æœ‰åŠªåŠ›ï¼Œå·¥ä½œæ²¡æœ‰æ‰¾å¥½ï¼‰</p><ol><li>å­¦æ ¡ç”Ÿæ¶¯çš„æˆåŠŸï¼Œæˆ‘æ€»ç»“ä¸ºï¼Œè‚¯ç«äº‰ï¼Œæœ‰å…ˆå‘ä¼˜åŠ¿ï¼Œåªè¦å…·å¤‡è¿™ä¸¤æ ·ï¼Œå³å¯æˆåŠŸã€‚å› ä¸ºå­¦æ ¡é‡Œé¢çš„ç›®æ ‡æ˜¯ä¸€è‡´çš„ï¼Œæ¸…æ™°çš„ï¼Œæœ‰å­¦æ ¡çš„åˆ¶åº¦ç®¡ç€ï¼Œåªè¦æœ‰ä¸€å®šçš„å¤©èµ‹ï¼Œæœ‰ç«äº‰æ„è¯†ï¼Œæœ‰ä¼˜åŠ¿èƒ½å°åˆ°ç”œå¤´ï¼Œå°±ä¼šè¶Šæ¥è¶Šä¼˜ç§€ã€‚</li><li>é«˜è€ƒç»“æŸåçš„äººç”Ÿï¼Œå¿…é¡»è½¬æ¢é©±åŠ¨åŠ›ã€‚å› ä¸ºå¤±å»äº†å­¦æ ¡çš„ç®¡æŸï¼Œå’Œæ¸…æ™°çš„ç›®æ ‡ã€‚å¿…é¡»è¦è‡ªå·±ç®¡è‡ªå·±ï¼Œè‡ªå·±ç»™è‡ªå·±å®šç›®æ ‡ã€‚è€Œè¿™æœ€å¥½çš„ä¸€ç§æƒ…å†µæ˜¯æœ‰è‡ªå·±æ‰€çƒ­çˆ±çš„é¢†åŸŸå’Œäº‹ä¸šï¼Œå…´è¶£çˆ±å¥½ã€‚åªè¦æœ‰ï¼Œè¿™ä¹‹åçš„æ•´ä¸ªäººç”Ÿå°±å¯ä»¥å¾ˆæˆåŠŸï¼Œæ²¡æœ‰å°±ä¼šå¾ˆå¤±è´¥ã€‚ä¸€ä»½çƒ­çˆ±çš„äº‹ä¸šï¼Œå¿…é¡»å¯¹è‡ªå·±æœ‰ç€ç‹¬ç‰¹çš„æ„ä¹‰ï¼Œè·Ÿå…¶ä»–äº‹çš„åŒºåˆ«å¾ˆæ˜æ˜¾ã€‚æ¯”å¦‚æˆ‘ç‰¹åˆ«å–œæ¬¢ç§‘å¹»ï¼Œå‘å¾€ç§‘å¹»ä¸­çš„æœªæ¥ä¸–ç•Œï¼Œæˆ‘å¯¹äººç±»æ„è¯†çš„æ•°å­—åŒ–å¾ˆæ„Ÿå…´è¶£ï¼Œä½†è¿™ä¸ªè¿‡äºå‰æ²¿ï¼Œä¸èƒ½å’Œå½“ä¸‹çš„äº‹ç»“åˆã€‚</li></ol><p>ä¸ç®¡æ€ä¹ˆè¯´ï¼Œæˆ‘è§‰å¾—æˆ‘æ–°çš„ä¸€å¹´å¿…é¡»è¦æˆ’ç½‘ç»œæ¸¸æˆï¼ŒçŸ­è§†é¢‘ã€‚åŒæ—¶è¦çœ‹ä¹¦ï¼Œçœ‹é•¿è§†é¢‘ã€‚åˆ«äººæˆ’æ¯’éƒ½å¯ä»¥æˆåŠŸï¼Œæˆ‘æˆ’ä¸ªè¿™ä¸ªæ€ä¹ˆå°±ä¸å¯ä»¥ã€‚</p><h2 id="CSS-è§£å¯†è¯»ä¹¦ç¬”è®°"><a href="#CSS-è§£å¯†è¯»ä¹¦ç¬”è®°" class="headerlink" title="CSS è§£å¯†è¯»ä¹¦ç¬”è®°"></a>CSS è§£å¯†è¯»ä¹¦ç¬”è®°</h2><p>ç›®å‰è¿˜åœ¨çœ‹èƒŒæ™¯ä¸è¾¹æ¡†ï¼Œä¹¦ä¸­æå¾—æ¯”è¾ƒå¤šçš„æ˜¯ DRYï¼ˆDo not Repeat Yourselfï¼‰ï¼Œå°±æ˜¯å°½é‡å°‘çš„å‡å°‘é‡å¤ï¼Œå› ä¸ºé‡å¤æ„å‘³ç€æ”¹åŠ¨ä¸æ–¹ä¾¿ã€‚</p><p>ä¹¦ä¼¼ä¹æ˜¯æŒ‰ä¸€ä¸ªä¸ªéš¾é¢˜è¿›è¡Œç¼–æ’çš„ï¼Œæ¯”å¦‚åŠé€æ˜è¾¹æ¡†ï¼Œå¤šé‡è¾¹æ¡†ï¼Œçµæ´»èƒŒæ™¯å®šä½ã€‚</p><h1 id="2022-12-21"><a href="#2022-12-21" class="headerlink" title="2022-12-21"></a>2022-12-21</h1><p>å¦‚ä½•ç»™å¥³æœ‹å‹æ‹ç…§</p><ol><li>æ„å›¾ï¼Œæ‹å…¨èº«è¿˜æ˜¯ä¸ŠåŠèº«ï¼Œè¿˜æ˜¯å¤´é¢ˆéƒ¨ï¼Œè¦æƒ³æ¸…æ¥š</li></ol><ul><li>æ‹å…¨èº«å¦‚ä½•æ˜¾è…¿é•¿ï¼š<ol><li>ä½æœºä½+æŠŠè…¿æ”¾åœ¨é•œå¤´åä¸‹çš„è¾¹ç¼˜ï¼ˆåŸç†æ˜¯è¿‘å¤§è¿œå°ï¼Œå¹¿è§’ç•¸å˜ï¼‰</li><li>å¦‚æœæ˜¯åç€çš„ï¼Œå°½é‡è®©è…¿ä¼¸å‡ºæ¥ï¼Œç”¨ä¾§é¢å¯¹ç€é•œå¤´</li></ol></li></ul><ol start="2"><li>è¡¨æƒ…ï¼Œä¸€å®šè¦æŠ“æ‹åˆ°å¥½çš„è¡¨æƒ…ï¼Œç¾çš„è¡¨æƒ…ï¼Œè¿‡æ»¤æ‰ä¸å¥½çš„ï¼Œä¸‘çš„</li></ol><ul><li>è„¸å°ï¼šæ–œå‘ä¸Š 45 åº¦</li></ul><ol start="3"><li>å…‰çº¿ï¼Œå…‰çº¿æ˜¯å¦å……è¶³ï¼Œæ˜¯è¦æ‹æ¸…æ™°ï¼Œè¿˜æ˜¯æ•…æ„èƒŒå…‰å–å‰ªå½±ã€‚å…‰çº¿çš„æ–¹å‘</li></ol><ul><li>è„¸ç™½ï¼šè®°å¾—ç‚¹å¯¹ç„¦æ¡†æ—è¾¹çš„å°å¤ªé˜³è°ƒæ•´æ›å…‰è¡¥å¿ï¼Œä¾§å…‰ï¼Œä¾§é€†å…‰</li></ul><ol start="3"><li>åæœŸï¼šç£¨çš®ï¼Œç¾ç™½ï¼ŒèƒŒæ™¯è™šåŒ–</li></ol><h1 id="2022-12-14"><a href="#2022-12-14" class="headerlink" title="2022-12-14"></a>2022-12-14</h1><h2 id="æœç´¢å¼•æ“å°æŠ€å·§"><a href="#æœç´¢å¼•æ“å°æŠ€å·§" class="headerlink" title="æœç´¢å¼•æ“å°æŠ€å·§"></a>æœç´¢å¼•æ“å°æŠ€å·§</h2><p>åŠªåŠªè§†é¢‘çš„æœç´¢ä»æ˜¨å¤©å¼€å§‹å°±æŒ‚äº†ï¼Œé‡åˆ°è¿™ç§æƒ…å†µæˆ‘ä»¬æ€ä¹ˆæœç´¢å‘¢ï¼Ÿå…¶å®å¯ä»¥ç”¨è°·æ­Œçš„æœç´¢å¼•æ“æ¥å®Œæˆè¿™ä¸ªéœ€æ±‚ï¼š</p><p><code>site:nunuyy5.org &quot;æ–—ç½—å¤§é™†&quot;</code></p><p>è¿˜æœ‰ä¸€ä¸ªç”¨æ¥æ‰¾ pdf æˆ–è€…ç§å­çš„æŠ€å·§ï¼š</p><p><code>filetype:pdf &quot;Vue.jsè®¾è®¡ä¸å®ç°&quot;</code></p><h1 id="2022-12-12"><a href="#2022-12-12" class="headerlink" title="2022-12-12"></a>2022-12-12</h1><h2 id="æ·±å…¥å¯¹æ¯”å¯¹è±¡"><a href="#æ·±å…¥å¯¹æ¯”å¯¹è±¡" class="headerlink" title="æ·±å…¥å¯¹æ¯”å¯¹è±¡"></a>æ·±å…¥å¯¹æ¯”å¯¹è±¡</h2><p>æ€ä¹ˆæ·±å…¥æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ï¼ˆä¸ç®¡å¼•ç”¨æ˜¯å¦ç›¸ç­‰ï¼Œåªçœ‹å€¼ï¼‰ï¼Œæœ€ç®€å•çš„åŠæ³•å°±æ˜¯ä½¿ç”¨<code>JSON.stringify</code>ã€‚</p><p><code>===</code>å’Œ<code>Object.is()</code>æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">NaN</span> === <span class="literal">NaN</span>; <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Object</span>.is(<span class="literal">NaN</span>, <span class="literal">NaN</span>); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="number">-0</span> === +<span class="number">0</span>; <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Object</span>.is(<span class="number">-0</span>, +<span class="number">0</span>); <span class="comment">// false</span></span><br></pre></td></tr></table></figure><h2 id="æ–‡æœ¬æº¢å‡ºå¸¸ç”¨å¤„ç†æ‰‹æ®µ"><a href="#æ–‡æœ¬æº¢å‡ºå¸¸ç”¨å¤„ç†æ‰‹æ®µ" class="headerlink" title="æ–‡æœ¬æº¢å‡ºå¸¸ç”¨å¤„ç†æ‰‹æ®µ"></a>æ–‡æœ¬æº¢å‡ºå¸¸ç”¨å¤„ç†æ‰‹æ®µ</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.ellipsis</span> &#123;</span><br><span class="line">  <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">text-overflow</span>: ellipsis;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="width-100-å’Œ-auto-çš„åŒºåˆ«"><a href="#width-100-å’Œ-auto-çš„åŒºåˆ«" class="headerlink" title="width 100%å’Œ auto çš„åŒºåˆ«"></a>width 100%å’Œ auto çš„åŒºåˆ«</h2><p><a href="https://stackoverflow.com/questions/17468733/difference-between-width-auto-and-width-100-percent" target="_blank" rel="noopener">difference between width auto and width 100 percent</a></p><p>å®éªŒ:<a href="https://replit.com/@liuqinh2s1/css-textOverflow#src/App.tsx" target="_blank" rel="noopener">https://replit.com/@liuqinh2s1/css-textOverflow#src/App.tsx</a></p><h2 id="ä¸€ä¸ªå•è¯æ˜¯ä¸ä¼šæ¢è¡Œçš„"><a href="#ä¸€ä¸ªå•è¯æ˜¯ä¸ä¼šæ¢è¡Œçš„" class="headerlink" title="ä¸€ä¸ªå•è¯æ˜¯ä¸ä¼šæ¢è¡Œçš„"></a>ä¸€ä¸ªå•è¯æ˜¯ä¸ä¼šæ¢è¡Œçš„</h2><p>å‘ç°è¡Œå†…å…ƒç´ å±…ç„¶ä¸ä¼šæ¢è¡Œï¼ŒåŸæ¥æ˜¯å› ä¸ºè¢«å½“æˆä¸€ä¸ªå•è¯äº†</p><p>å®éªŒï¼š<a href="https://replit.com/@liuqinh2s1/cssTest2#src/App.tsx" target="_blank" rel="noopener">https://replit.com/@liuqinh2s1/cssTest2#src/App.tsx</a></p><p>ç”¨æ ·å¼å¯ä»¥æ§åˆ¶æ¯ä¸ªå­—æ¯æ¢è¡Œï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">word-break</span>: <span class="selector-tag">break-all</span>;</span><br><span class="line"><span class="selector-tag">word-wrap</span>: <span class="selector-tag">break-word</span>;</span><br></pre></td></tr></table></figure><h1 id="2022-12-09"><a href="#2022-12-09" class="headerlink" title="2022-12-09"></a>2022-12-09</h1><h2 id="Http-è¯·æ±‚çš„æ•°æ®æ ¼å¼"><a href="#Http-è¯·æ±‚çš„æ•°æ®æ ¼å¼" class="headerlink" title="Http è¯·æ±‚çš„æ•°æ®æ ¼å¼"></a>Http è¯·æ±‚çš„æ•°æ®æ ¼å¼</h2><p>Http è¯·æ±‚ä¸­ï¼ŒdataType å’Œ ContentType çš„åŒºåˆ«</p><p>http çš„å¤´å…¶å®æ˜¯å¯ä»¥éšæ„ä¹¦å†™çš„ï¼Œåªè¦æœåŠ¡å™¨èƒ½é€‚é…å°±è¡Œï¼Œå½“ç„¶å¤§éƒ¨åˆ†æ˜¯çº¦å®šçš„ã€‚æˆ‘åªçœ‹åˆ° Content-Typeï¼Œrequest å’Œ response éƒ½æœ‰ï¼Œä½†æ²¡æœ‰ dataTypeã€‚dataType ç”¨äºå®¢æˆ·ç«¯é€šçŸ¥æœåŠ¡å™¨ï¼Œå®¢æˆ·ç«¯éœ€è¦ä»€ä¹ˆç±»å‹çš„è¿”å›æ•°æ®ã€‚è¯´æœ‰ç”¨ä¹Ÿæœ‰ç”¨ï¼Œè¯´æ²¡ç”¨ä¹Ÿæ²¡å•¥ç”¨ï¼ŒæœåŠ¡å™¨ä¼šè¿”å›ä»€ä¹ˆç±»å‹çš„æ•°æ®ï¼Œå®¢æˆ·ç«¯è‚¯å®šæ˜¯çŸ¥é“çš„å•Šï¼Œä¸€å¼€å§‹å°±çº¦å®šäº†</p><p>å¸¸è§çš„æ•°æ®æ ¼å¼ï¼š</p><ol><li><code>application/json</code></li><li><code>application/x-www-form-urlencoded</code></li></ol><h2 id="flexï¼Œflex-growï¼Œflex-shrinkï¼Œflex-basis"><a href="#flexï¼Œflex-growï¼Œflex-shrinkï¼Œflex-basis" class="headerlink" title="flexï¼Œflex-growï¼Œflex-shrinkï¼Œflex-basis"></a>flexï¼Œflex-growï¼Œflex-shrinkï¼Œflex-basis</h2><p>è¿™ä¸ªä¸œè¥¿çš„è®¡ç®—å…¬å¼å®˜ç½‘æ²¡æœ‰å…¬å¸ƒï¼Œå¯¼è‡´åªèƒ½æŸ¥åˆ«äººå†™çš„èµ„æ–™ï¼Œæˆ–è€…è‡ªå·±æ¨å¯¼ã€‚ç»è¿‡å¤šæ¬¡å®éªŒåï¼Œç»“è®ºå¦‚ä¸‹ï¼š</p><p>grow çš„è®¡ç®—è·Ÿè‡ªèº«å®½é«˜æ— å…³ï¼Œç›´æ¥æŒ‰æ¯”ä¾‹åˆ†é…å‰©ä½™çš„ç©ºé—´ï¼Œshrink çš„è®¡ç®—æ˜¯è·Ÿè‡ªèº«å®½é«˜æœ‰å…³çš„ï¼Œéœ€è¦æ ¹æ®è‡ªèº«å®½é«˜ï¼ŒæŒ‰åŠ æƒæ¯”ä¾‹å¹³æ‘Šï¼ˆç¼©å‡ï¼‰è¶…å‡ºçš„ç©ºé—´ã€‚</p><p>å‡è®¾è®¡ç®—çš„æ˜¯æ°´å¹³æ–¹å‘çš„ flexï¼š</p><p>grow çš„ç®—æ³•å¦‚ä¸‹ï¼š</p><p>å•ä¸ªå…ƒç´ éœ€è¦ grow çš„é‡ï¼š<code>(å•ä¸ªå­å…ƒç´  flex-grow/æ€»çš„ flex-grow)*(çˆ¶å®¹å™¨å®½åº¦-å­å…ƒç´ å®½åº¦ä¹‹å’Œ)</code></p><p>shrink çš„ç®—æ³•å¦‚ä¸‹ï¼š</p><p>å‡è®¾ div1 æ˜¯ 100px, flex-shrink:1ï¼›div2 æ˜¯ 200px, flex-shrink:2ï¼›div3 æ˜¯ 300px, flex-shrink: 3ã€‚å®¹å™¨å®½åº¦ 400px</p><p>div1 å…ƒç´ éœ€è¦ shrink çš„é‡ï¼š<code>(100*1)/(100*1+200*2+300*3)*(100+200+300-400)</code></p><p>ä¹Ÿå°±æ˜¯åŠ æƒæ¯”ä¾‹ï¼Œéœ€è¦ç”¨åˆ°è‡ªèº«çš„å®½é«˜</p><p>flex-basis å°±æ˜¯å®½é«˜çš„æ„æ€ï¼Œä½†æ¯”å®½é«˜ä¼˜å…ˆçº§é«˜ï¼Œæ¯”å¦‚å®šä¹‰äº† width: 100px; flex-basis: 0px;é‚£ä¹ˆå°±æ˜¯æŒ‰ 0 å»è¿›è¡Œ flex çš„ã€‚</p><p>å®éªŒåœ°å€ï¼š<a href="https://replit.com/@liuqinh2s1/css-flex#src/App.tsx" target="_blank" rel="noopener">https://replit.com/@liuqinh2s1/css-flex#src/App.tsx</a></p><h1 id="2022-12-08"><a href="#2022-12-08" class="headerlink" title="2022-12-08"></a>2022-12-08</h1><h2 id="react-æ€ä¹ˆåŒºåˆ†çˆ¶ç»„ä»¶å‘èµ·çš„æ¸²æŸ“ï¼Œè¿˜æ˜¯å­ç»„ä»¶è‡ªèº«å‘èµ·çš„æ¸²æŸ“"><a href="#react-æ€ä¹ˆåŒºåˆ†çˆ¶ç»„ä»¶å‘èµ·çš„æ¸²æŸ“ï¼Œè¿˜æ˜¯å­ç»„ä»¶è‡ªèº«å‘èµ·çš„æ¸²æŸ“" class="headerlink" title="react æ€ä¹ˆåŒºåˆ†çˆ¶ç»„ä»¶å‘èµ·çš„æ¸²æŸ“ï¼Œè¿˜æ˜¯å­ç»„ä»¶è‡ªèº«å‘èµ·çš„æ¸²æŸ“"></a>react æ€ä¹ˆåŒºåˆ†çˆ¶ç»„ä»¶å‘èµ·çš„æ¸²æŸ“ï¼Œè¿˜æ˜¯å­ç»„ä»¶è‡ªèº«å‘èµ·çš„æ¸²æŸ“</h2><p>ç”¨ react çš„è¿‡ç¨‹ä¸­é‡åˆ°ä¸€ä¸ªéœ€æ±‚ï¼šå­ç»„ä»¶æ¸²æŸ“çš„æ—¶å€™ï¼Œéœ€è¦çŸ¥é“æ˜¯çˆ¶ç»„ä»¶å‘èµ·çš„ï¼Œè¿˜æ˜¯å­ç»„ä»¶è‡ªèº«å‘èµ·çš„æ¸²æŸ“ã€‚å¦‚æœæ˜¯çˆ¶ç»„ä»¶å‘èµ·çš„ï¼Œå°±ç”¨çˆ¶ç»„ä»¶ä¼ è¿‡æ¥çš„æ•°æ®ï¼Œå¦‚æœæ˜¯å­ç»„ä»¶å‘èµ·çš„ï¼Œå°±ç”¨å­ç»„ä»¶è‡ªèº«çš„æ•°æ®ã€‚</p><p>é‚£ä¹ˆæ€ä¹ˆè¾¾åˆ°è¿™ä¸ªç›®çš„å‘¢ï¼Œæœ‰ä¸¤ç§æ–¹æ¡ˆï¼š</p><p>ï¼ˆ1ï¼‰å¢åŠ ä¸€ä¸ªå˜é‡<code>xxx</code>æ ‡å¿—çˆ¶ç»„ä»¶çš„åˆ·æ–°ï¼Œç„¶åå­ç»„ä»¶ useEffect ç›‘å¬è¿™ä¸ªå˜é‡</p><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  setData(props.data);</span><br><span class="line">&#125;, [props.xxx]); <span class="comment">// ç¡®ä¿æ¯æ¬¡çˆ¶ç»„ä»¶æ¸²æŸ“çš„æ—¶å€™xxxè·Ÿä¸Šæ¬¡ä¸åŒ</span></span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰è¿˜æœ‰ä¸€ä¸ªæ–¹æ¡ˆæ˜¯ä½¿ç”¨ä¸åŒçš„ key å»æ¸²æŸ“å­ç»„ä»¶ï¼ˆè¿™æ ·å°±èƒ½å¼ºåˆ¶åˆ·æ–°å­ç»„ä»¶äº†ï¼‰</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;Child key=&#123;xxx&#125;&gt;<span class="xml"><span class="tag">&lt;/<span class="name">Child</span>&gt;</span></span> <span class="comment">// ç¡®ä¿æ¯æ¬¡çˆ¶ç»„ä»¶æ¸²æŸ“çš„æ—¶å€™xxxè·Ÿä¸Šæ¬¡ä¸åŒ</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸¤ç§åšæ³•ï¼Œè¿˜æœ‰æœ¬è´¨ä¸Šçš„åŒºåˆ«ï¼Œå› ä¸ºç¬¬äºŒç§æ–¹æ³•ä¼šå¯¼è‡´ react çš„è™šæ‹Ÿ dom ä¸­ç›´æ¥å¹²æ‰å­ç»„ä»¶ï¼ˆä»¥åŠå®ƒçš„å­èŠ‚ç‚¹ï¼‰ï¼Œè¿™ä¼šå¯¼è‡´æ•´ä¸ªå­èŠ‚ç‚¹åˆ·æ–°ï¼Œè€Œç¬¬ä¸€ç§æ–¹æ¡ˆåˆ™ä¸ä¼šï¼Œç¬¬ä¸€ç§æ–¹æ¡ˆæ¯”è¾ƒé«˜æ•ˆã€‚</p><p>æµ‹è¯•æ¡ˆä¾‹ï¼š<a href="https://replit.com/@liuqinh2s1/whereIsRerenderComeFrom#src/Sub.tsx" target="_blank" rel="noopener">https://replit.com/@liuqinh2s1/whereIsRerenderComeFrom#src/Sub.tsx</a></p><h2 id="å¦‚ä½•æ‰“åŒ…-chrome-æ‰©å±•ç¨‹åº"><a href="#å¦‚ä½•æ‰“åŒ…-chrome-æ‰©å±•ç¨‹åº" class="headerlink" title="å¦‚ä½•æ‰“åŒ… chrome æ‰©å±•ç¨‹åº"></a>å¦‚ä½•æ‰“åŒ… chrome æ‰©å±•ç¨‹åº</h2><p>åœ¨ chrome æ‰©å±•ç¨‹åºç®¡ç†ä¸­æ‰¾åˆ°äº†ï¼Œå¼€å‘è€…æ¨¡å¼-&gt;æ‰“åŒ…æ‰©å±•ç¨‹åºï¼Œä½†æ˜¯æç¤ºæˆ‘ï¼š<code>æ‰“åŒ…æ‰©å±•ç¨‹åºé”™è¯¯ æŒ‡å®šæ‰©å±•ç¨‹åºçš„ç§æœ‰å¯†é’¥å·²å­˜åœ¨ã€‚è¯·é‡å¤ä½¿ç”¨è¯¥å¯†é’¥ï¼Œæˆ–è€…å…ˆåˆ é™¤å®ƒã€‚</code></p><p>ä¸Šç½‘æŸ¥äº†ä¸€ä¸‹ï¼Œéƒ½è¯´å·²ç»æ‰“åŒ…è¿‡äº†ï¼Œè¦æˆ‘æ‰¾åˆ°ç¬¬ä¸€æ¬¡æ‰“åŒ…çš„ä½ç½®ï¼Œé¬¼è®°å¾—å•Šï¼Œä½†æœ€åè¿˜æ˜¯å€ŸåŠ©ä¸€å®šçš„æ‰‹æ®µæ‰¾åˆ°äº†ã€‚æ‰©å±•ç¨‹åºéƒ½æœ‰è‡ªå·±çš„ idï¼Œç„¶åæˆ‘ç”¨ everythingï¼ˆä¸€ä¸ªå¾ˆå¥½ç”¨çš„æœæ–‡ä»¶è½¯ä»¶æ”¯æŒ Windows ç³»ç»Ÿï¼‰æœç´¢ä¸€ä¸‹è¿™ä¸ª idï¼Œå±…ç„¶çœŸçš„æ‰¾åˆ°äº†ï¼Œæ˜¯ä¸ªç›®å½•åï¼Œè¿˜å¥½æˆ‘æ²¡æœ‰æ‰‹è´±å»æ”¹ç›®å½•åã€‚</p><h1 id="2022-12-07"><a href="#2022-12-07" class="headerlink" title="2022-12-07"></a>2022-12-07</h1><p>æ²¡æƒ³åˆ°ç–«æƒ…è¯´æ”¾å¼€å°±æ”¾å¼€äº†ï¼Œç°åœ¨å¼€å§‹å‡†å¤‡ä¸ªäººé˜²æ§ï¼Œä½†è¯ç‰©å´ä¹°ä¸åˆ°ï¼Œä»¥å‰æ²¡æœ‰åšå‡†å¤‡ï¼Œä»åˆ«å¤„æŠ„äº†ä¸ªæ¸…å•ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">å‰æœŸåƒè¿™ä¸ªï¼š</span><br><span class="line">1. å››å­£æŠ—ç—…æ¯’åˆå‰‚</span><br><span class="line">2. å¤æ–¹ä¸€æ”¯è’¿é¢—ç²’</span><br><span class="line">æµ‘èº«ç–¼åƒï¼šå¤æ–¹æ°¨é…šçƒ·èƒºèƒ¶å›Š</span><br><span class="line">å‘çƒ§åƒï¼š</span><br><span class="line">ä½äº38.5Â°åƒï¼šä¹™çƒ¯æ°¨åŸºé…šç‰‡</span><br><span class="line">é«˜äº38.5Â°åƒï¼šå¸ƒæ´›èŠ¬ç¼“é‡Šèƒ¶å›Š</span><br><span class="line">åæœŸåƒï¼š</span><br><span class="line">1. è¿èŠ±æ¸…ç˜Ÿèƒ¶å›Š</span><br><span class="line">2. è’²åœ°è“æ¶ˆç‚ç‰‡</span><br><span class="line">å’³å—½åƒï¼šæ¶ˆç‚æ­¢å’³ç‰‡</span><br></pre></td></tr></table></figure><h1 id="2022-12-06"><a href="#2022-12-06" class="headerlink" title="2022-12-06"></a>2022-12-06</h1><p><a href="https://juejin.cn/post/6844903937468792846" target="_blank" rel="noopener">react çˆ¶ç»„ä»¶è°ƒç”¨å­ç»„ä»¶çš„å‡½æ•°</a>ï¼š<code>useImperativeHandle</code></p><p>å­ç»„ä»¶ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¿…é¡»æ˜¯ä¸ªå‡½æ•°ï¼Œä¸”å‡½æ•°å‚æ•°æ˜¯propså’Œref</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">children</span>(<span class="params">props, ref</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> func = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"æ‰§è¡Œfunc"</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="comment">// ç”¨useImperativeHandleæš´éœ²ä¸€äº›å¤–éƒ¨refèƒ½è®¿é—®çš„å±æ€§ï¼Œå¿…é¡»è¦å†™è¿™ä¸ªï¼Œä¸ç„¶refä»€ä¹ˆä¹Ÿæ‹¿ä¸åˆ°</span></span><br><span class="line">  useImperativeHandle(ref, () =&gt; &#123;</span><br><span class="line">    <span class="comment">// éœ€è¦å°†æš´éœ²çš„æ¥å£è¿”å›å‡ºå»</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      xxx: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        func();</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>children<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> forwardRef(children);</span><br></pre></td></tr></table></figure><p>çˆ¶ç»„ä»¶ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> childrenRef = useRef(<span class="literal">null</span>);</span><br><span class="line">childrenRef.current.xxx();</span><br><span class="line"><span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">children</span> <span class="attr">ref</span>=<span class="string">&#123;childrenRef&#125;</span> /&gt;</span>;</span></span><br></pre></td></tr></table></figure><p>è¯•éªŒåŸºåœ°ï¼š<a href="https://replit.com/@liuqinh2s/react-practice#README.md" target="_blank" rel="noopener">react-practice</a></p><h1 id="2022-12-05"><a href="#2022-12-05" class="headerlink" title="2022-12-05"></a>2022-12-05</h1><h2 id="css-ä¸¤ç§ç›’æ¨¡å‹"><a href="#css-ä¸¤ç§ç›’æ¨¡å‹" class="headerlink" title="css ä¸¤ç§ç›’æ¨¡å‹"></a>css ä¸¤ç§ç›’æ¨¡å‹</h2><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">box-sizing: border-box; // è¿™ä¸ªä¼šæŠŠè¾¹æ¡†çš„å®½åº¦ï¼Œä»¥åŠpaddingè®¡å…¥widthå’Œheight</span><br><span class="line">box-sizing: content-box; // è¿™ä¸ªä¸ä¼šæŠŠè¾¹æ¡†çš„å®½åº¦ï¼Œä»¥åŠpaddingè®¡å…¥widthå’Œheightï¼Œä¸”è¿™ä¸ªæ˜¯é»˜è®¤å€¼</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ margin åœ¨ä¸¤ç§ç›’æ¨¡å‹éƒ½æ˜¯ä¸è®¡å…¥å®½é«˜çš„</p></blockquote><h2 id="react-å—æ§ç»„ä»¶å’Œéå—æ§ç»„ä»¶"><a href="#react-å—æ§ç»„ä»¶å’Œéå—æ§ç»„ä»¶" class="headerlink" title="react å—æ§ç»„ä»¶å’Œéå—æ§ç»„ä»¶"></a>react å—æ§ç»„ä»¶å’Œéå—æ§ç»„ä»¶</h2><p>ä½¿ç”¨ react çš„è¿‡ç¨‹ä¸­å‘ç°ï¼Œæœ‰çš„æ—¶å€™éœ€è¦å†™å¾ˆå¤šçš„æ›´æ–°ä»£ç ï¼Œæ¯”å¦‚ Input æ ‡ç­¾ï¼Œéœ€è¦åœ¨ onBlur çš„æ—¶å€™æ›´æ–° valueï¼Œéœ€è¦åœ¨ onKeyUpï¼ˆæŒ‰ enterï¼‰çš„æ—¶å€™æ›´æ–° valueï¼Œå¦‚æ­¤ä¼šéå¸¸éº»çƒ¦ï¼Œè¿œä¸å¦‚ä»¥å‰ç”¨ jquery çš„æ—¶å€™ï¼Œç›´æ¥è·å– dom çš„å€¼ã€‚</p><p>å¦‚æœå¯¹äºä¸€ä¸ªç»„ä»¶ï¼Œæˆ‘ä»¬ç”¨ useState æ¥å­˜å‚¨çŠ¶æ€ï¼Œå¹¶åœ¨æ¯ä¸ªæ›´æ–°äº‹ä»¶ä¸­æ›´æ–°å€¼ï¼Œè¿™ç§æˆ‘ä»¬å«ï¼šå—æ§ç»„ä»¶</p><p>è¿˜æœ‰ä¸€ç§å†™æ³•æ˜¯ï¼Œç›´æ¥ä¸ä½¿ç”¨ useStateï¼Œä¹Ÿå°±ä¸ç”¨æ›´æ–°å€¼ï¼Œéœ€è¦æ‹¿å€¼çš„æ—¶å€™ï¼Œç›´æ¥ä» dom è·å–ï¼ˆæ€ä¹ˆè·å– domï¼Ÿç”¨ useRefï¼‰ã€‚</p><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://zh-hans.reactjs.org/docs/uncontrolled-components.html" target="_blank" rel="noopener">https://zh-hans.reactjs.org/docs/uncontrolled-components.html</a></p><h1 id="2022-12-02"><a href="#2022-12-02" class="headerlink" title="2022-12-02"></a>2022-12-02</h1><p>react æ€ä¹ˆè·å– childrenï¼Œæ¯”å¦‚<code>&lt;Button&gt;&lt;span&gt;AA&lt;/span&gt;&lt;/Button&gt;</code></p><p><a href="https://reactjs.org/docs/glossary.html#propschildren" target="_blank" rel="noopener">https://reactjs.org/docs/glossary.html#propschildren</a></p><p>ä½†é—®é¢˜æ¥äº†ï¼Œæ—¢ç„¶ children å äº† props çš„ä¸€ä¸ªé”®ï¼Œå¦‚æœè¿™æ ·å†™å‘¢ï¼š<code>&lt;Button children=&quot;BB&quot;&gt;&lt;span&gt;AA&lt;/span&gt;&lt;/Button&gt;</code></p><p>å¦‚æœæ˜¯ ts çš„è¯ä¼šæŠ¥é”™ï¼š<code>&#39;children&#39; are specified twice. The attribute named &#39;children&#39; will be overwritten.</code></p><p>ç„¶å node æ§åˆ¶å°ä¹Ÿä¼šå‘å‡ºè­¦å‘Šï¼Œä½†ä¾æ—§æ˜¯å¯ä»¥è¿è¡Œçš„ï¼Œä¸” children æœ€ç»ˆç»“æœä¼šæ˜¯ï¼š<code>&lt;span&gt;AA&lt;/span&gt;</code></p><p>é¡ºå¸¦è¯´ä¸€å¥ replit.com æ˜¯çœŸå¥½ç”¨å•Šï¼Œæ¯” codepen å¼ºå¤ªå¤šäº†ã€‚</p><h1 id="2022-12-01"><a href="#2022-12-01" class="headerlink" title="2022-12-01"></a>2022-12-01</h1><p>å®‰è£…å…è´¹çš„æ­£ç‰ˆçš„æ¿€æ´»çš„ officeï¼Œå®˜æ–¹æä¾›çš„ç™½å«–æ¸ é“ï¼š</p><p><a href="https://www.youtube.com/watch?v=VSjRx7Hoa60&amp;t=319s&amp;ab_channel=%E9%9B%B6%E5%BA%A6%E8%A7%A3%E8%AF%B4" target="_blank" rel="noopener">https://www.youtube.com/watch?v=VSjRx7Hoa60&amp;t=319s&amp;ab_channel=%E9%9B%B6%E5%BA%A6%E8%A7%A3%E8%AF%B4</a></p><h1 id="2022-11-27"><a href="#2022-11-27" class="headerlink" title="2022-11-27"></a>2022-11-27</h1><p>ç”¨äº† 7 å¹´çš„ macbook pro A1398 æ¬¾ï¼Œæœ€è¿‘æƒ³æ¢ä¸ªå±å¹•ä»¥åŠé”®å¸½ï¼ŒF é”®å¸½è¢«ç£¨æ‰æ¼†äº†ã€‚å°è¯•è‡ªå·±æ‹†äº†ä¸€ä¸‹é”®å¸½ï¼Œè¿˜çœŸæ˜¯å¤æ‚ï¼Œå¼€æœºé”®çš„é”®å¸½æ”¯æ¶å·®ç‚¹è£…ä¸å›å»äº†ã€‚ä¸Šæ·˜å®æœäº†ä¸€ä¸‹ä»·æ ¼ï¼Œå• F é”®å¸½å’Œä¸‹é¢çš„è½¯å«å°±è¦ 20 å—ï¼ŒF é”®å¸½+å¼€æœºé”®é”®å¸½è¦ 30ï¼Œèƒ¶æ°´è¦ 5 å—ã€‚ä½†æ˜¯ä¸€ä¸ªé”®ç›˜å¸¦ C å£³æ€»æˆæ‰ 130ï¼ŒåŠ ä¸Šæˆ‘è£…å› F é”®åï¼Œå‘ç°è¿™ä¸ªé”®çš„æ‰‹æ„Ÿå’Œå…¶ä»–é”®å±…ç„¶ä¸ä¸€æ ·ã€‚ä»”ç»†è¯•äº†ä¸€ä¸‹ï¼ŒF é”®çš„æ‰‹æ„Ÿæœ€è½¯æ¦»ï¼Œæ„Ÿè§‰å‡ ä¹å¿«è¦åäº†ã€‚æ®è¯´è¦ç»™è½¯å«ä¸‹é¢æ¶‚èƒ¶æ°´å›ºå®šï¼Œä¸è¿‡æˆ‘ä¹Ÿä¸æ¸…æ¥šæ˜¯ä¸æ˜¯æ¶‚äº†èƒ¶æ°´ï¼Œæ‰‹æ„Ÿå°±å¥½äº†ï¼Œæˆ–è€…æ¢äº†è½¯å«å°±å¥½äº†ã€‚</p><p>è¿˜æ˜¯æ¢é”®ç›˜å§ï¼Œæœ€ç¨³å¦¥çš„å†³å®šã€‚</p><h1 id="2022-11-26"><a href="#2022-11-26" class="headerlink" title="2022-11-26"></a>2022-11-26</h1><p>æœ€è¿‘å‘ç° surface ä¸Šæ¨é€çš„ blogï¼Œå†…å®¹å±…ç„¶æ˜¯ç©ºçš„ï¼Œç»è¿‡è°ƒæŸ¥å‘ç°ï¼Œæ˜¯ç”Ÿæˆçš„ index.html å†…å®¹ä¸ºç©ºï¼Œå†ä¸Šç½‘æŸ¥å‘ç°äº†åŸæ¥æ˜¯ node ç‰ˆæœ¬å¤ªé«˜ï¼Œhexo ç‰ˆæœ¬å¤ªä½ï¼Œä¸åŒ¹é…ã€‚æˆ‘é€‰æ‹©äº†å‡çº§ hexo åˆ° 4.2.1ã€‚</p><p><a href="https://alanlee.fun/2021/02/28/hexo-empty-html/" target="_blank" rel="noopener">https://alanlee.fun/2021/02/28/hexo-empty-html/</a></p><p>å…‰æ”¹ package.json ä¸­çš„ç‰ˆæœ¬è¿˜ä¸å¤Ÿï¼Œç”Ÿæˆçš„å†…å®¹æ ·å¼ä¸¢äº†ã€‚æ‰€ä»¥å†³å®šç”¨ hexo å®˜ç½‘æ¨èçš„æ–¹å¼æ¥è§£å†³ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-cli -g</span><br><span class="line">hexo init blog</span><br><span class="line">cd blog</span><br><span class="line">npm install</span><br><span class="line">hexo server</span><br></pre></td></tr></table></figure><p>åœ¨ hexo init çš„æ—¶å€™å‘ç°æ²¡æœ‰æƒé™åˆ›å»ºæ–‡ä»¶å¤¹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ hexo init</span><br><span class="line">INFO  Cloning hexo-starter https://github.com/hexojs/hexo-starter.git</span><br><span class="line">fatal: unable to access <span class="string">'https://github.com/hexojs/hexo-starter.git/'</span>: Failed to connect to github.com port 443 after 21114 ms: Timed out</span><br><span class="line">WARN  git <span class="built_in">clone</span> failed. Copying data instead</span><br><span class="line">FATAL &#123;</span><br><span class="line">  err: [Error: EPERM: operation not permitted, mkdir <span class="string">'C:\'</span>] &#123;</span><br><span class="line">    errno: -4048,</span><br><span class="line">    code: <span class="string">'EPERM'</span>,</span><br><span class="line">    syscall: <span class="string">'mkdir'</span>,</span><br><span class="line">    path: <span class="string">'C:\\'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125; Something<span class="string">'s wrong. Maybe you can find the solution here: %s http://hexo.io/docs/troubleshooting.html</span></span><br></pre></td></tr></table></figure><p>åœ¨ç½‘ä¸ŠæŸ¥äº†ä¸€åœˆï¼Œæ²¡æ‰¾åˆ°åˆé€‚çš„ç­”æ¡ˆï¼Œä¸è¿‡æˆ‘è‡ªå·±çŸ¥é“é—®é¢˜çš„åŸå› ï¼Œå°±æ˜¯å› ä¸ºæƒé™ä¸å¤Ÿéœ€è¦ç”¨ç®¡ç†å‘˜èº«ä»½è¿è¡Œ mkdir è€Œå·²ï¼Œæˆ‘è¯•ç€ä»¥ç®¡ç†å‘˜æ–¹å¼å¯åŠ¨ vscodeï¼Œæ²¡æƒ³åˆ°çœŸçš„æˆåŠŸäº†ï¼Œä¼°è®¡æƒé™å‘ä¸‹ä¼ é€’ç»™äº† vscode çš„ bashï¼Œç„¶ååˆä¼ ç»™äº† bash ä¸­è¿è¡Œçš„ hexoï¼Œä»¥åŠç”± hexo å¯åŠ¨çš„ mkdirã€‚</p><p>ä½†æ˜¯åœ¨ç”¨äº† hexo æœ€æ–°ç‰ˆåå„ç§é—®é¢˜ï¼Œè€Œä¸” next æ–°ç‰ˆä¸»é¢˜æˆ‘ä¹Ÿä¸å–œæ¬¢ï¼Œä¸ºäº†é¿å…æŠ˜è…¾ï¼Œè¿˜æ˜¯å†³å®šä¿ç•™ hexo æ—§ç‰ˆï¼ŒæŠŠ node åˆ‡å›ä½ç‰ˆæœ¬ï¼š12.22.12ã€‚ä½¿ç”¨ nvm å¯ä»¥å¾ˆæ–¹ä¾¿çš„åˆ‡æ¢ç‰ˆæœ¬ï¼Œä¸‹è½½ node ç­‰æ“ä½œã€‚</p><h1 id="2022-11-25"><a href="#2022-11-25" class="headerlink" title="2022-11-25"></a>2022-11-25</h1><p>å®‰è£… Android å­ç³»ç»Ÿï¼š<a href="https://www.cnblogs.com/frank-link/p/16390714.html" target="_blank" rel="noopener">https://www.cnblogs.com/frank-link/p/16390714.html</a></p><p>ä½†æˆ‘å‡çº§åˆ° win11 åï¼Œå†ç”¨è¿™ä¸ªæ–¹æ³•å®‰è£…çš„å®‰å“å­ç³»ç»Ÿæœ‰å¾ˆå¤§é—®é¢˜ï¼Œä»€ä¹ˆåº”ç”¨éƒ½æ‰“ä¸å¼€ï¼Œå®Œå…¨ä¸èƒ½ç”¨ã€‚æˆ‘æ¢äº†ä¸€ç§å®‰è£…æ–¹å¼ï¼Œç°åœ¨å¿«çš„é£èµ·äº†ï¼š<a href="https://www.sysceo.com/article-article_info-id-1854.html" target="_blank" rel="noopener">https://www.sysceo.com/article-article_info-id-1854.html</a></p><p>ç”¨è¿™ä¸ª 360 çš„ win11 å®‰å“åŠ©æ‰‹ï¼š<a href="https://m.xitongzhijia.net/soft/246638.html" target="_blank" rel="noopener">https://m.xitongzhijia.net/soft/246638.html</a></p><p>å®‰è£… linux å­ç³»ç»Ÿï¼Œé‡åˆ°å†…æ ¸å‡çº§çš„é—®é¢˜ï¼Œä» WSL1 å‡çº§åˆ° WSL2ï¼Œéœ€è¦ä¸‹è½½ä¸€ä¸ªå‡çº§å†…æ ¸çš„ç¨‹åºï¼š</p><ul><li><a href="https://github.com/microsoft/WSL/issues/5393" target="_blank" rel="noopener">https://github.com/microsoft/WSL/issues/5393</a></li><li><a href="https://learn.microsoft.com/zh-cn/windows/wsl/install-manual#step-4---download-the-linux-kernel-update-package" target="_blank" rel="noopener">https://learn.microsoft.com/zh-cn/windows/wsl/install-manual#step-4---download-the-linux-kernel-update-package</a></li></ul><p>ä¸‹è½½åœ°å€ï¼š<a href="https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_arm64.msi" target="_blank" rel="noopener">https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_arm64.msi</a></p><p>å…¶ä»–ç›¸å…³èµ„æ–™ï¼š</p><ul><li><a href="https://www.cnblogs.com/aedjesse/p/14085217.html" target="_blank" rel="noopener">https://www.cnblogs.com/aedjesse/p/14085217.html</a></li><li><a href="https://cloud.tencent.com/developer/article/1632713" target="_blank" rel="noopener">https://cloud.tencent.com/developer/article/1632713</a></li><li><a href="https://zhuanlan.zhihu.com/p/258563812" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/258563812</a></li></ul><p>å®‰è£…çš„ kali linux æ˜¯æœ€å°å‹çš„ï¼Œå¦‚æœæƒ³æ‰©å……å·¥å…·åº“ï¼Œçœ‹è¿™é‡Œï¼š</p><ul><li><a href="https://www.kali.org/docs/troubleshooting/common-minimum-setup/" target="_blank" rel="noopener">https://www.kali.org/docs/troubleshooting/common-minimum-setup/</a></li></ul><h1 id="2022-11-24"><a href="#2022-11-24" class="headerlink" title="2022-11-24"></a>2022-11-24</h1><h2 id="å®‰è£…-win11-arm64-ä½"><a href="#å®‰è£…-win11-arm64-ä½" class="headerlink" title="å®‰è£… win11 arm64 ä½"></a>å®‰è£… win11 arm64 ä½</h2><p>æˆ‘æ‹¿åˆ°çš„ surface pro x é»˜è®¤è£…çš„æ˜¯ win10ï¼Œä½†æ˜¯ arm ç‰ˆçš„ win10 ä¸æ”¯æŒ x64 ç¨‹åºï¼Œå¯¼è‡´å¾ˆå¤šè½¯ä»¶éƒ½æ— æ³•ä½¿ç”¨ï¼Œç»è¿‡ä¸€ç•ªä¸Šç½‘æŸ¥æ‰¾å‘ç° win11 æ˜¯å¯ä»¥æ”¯æŒ x64 ç¨‹åºçš„æ¨¡æ‹Ÿçš„ï¼Œè€Œä¸”è¿˜æ”¯æŒå®‰å“æ¨¡æ‹Ÿï¼Œç®€ç›´å¤ªæ£’ã€‚æäº†ä¸€æ™šä¸Šç»ˆäºå®‰è£…å¥½äº† win11ï¼Œæˆ‘æ²¡æœ‰ä½¿ç”¨ U ç›˜æ¥å®‰è£…ï¼Œè€Œæ˜¯ç›´æ¥ä¸‹è½½ ISO æ–‡ä»¶ï¼Œç„¶åç‚¹å‡» setup.exe ç›´æ¥å®‰è£…ã€‚å®‰è£…å®Œåï¼ŒåŸå…ˆçš„ç¨‹åºå’Œè®¾ç½®å…¨éƒ½åœ¨ï¼Œéå¸¸çš„æ–¹ä¾¿ï¼ˆè¿™æ ·éƒ½ä¸ç”¨ç®¡é©±åŠ¨çš„é—®é¢˜äº†ï¼Œä¸€ç›´å¬è¯´ surface pro x çš„é©±åŠ¨ä¸å¥½æ‰¾ï¼‰ã€‚</p><p>windows11 arm64 ç‰ˆä¸‹è½½åœ°å€ï¼š<a href="https://next.itellyou.cn/ï¼Œè¿™ä¹ˆå¤šå¹´ä¸€ç›´æ˜¯åœ¨itellyouä¸‹è½½æ­£ç‰ˆè½¯ä»¶çš„ï¼ŒçœŸçš„éå¸¸æ–¹ä¾¿ã€‚å¦‚æœè§‰å¾—ä¸‹è½½æ…¢ï¼Œå¯ä»¥ä½¿ç”¨è¿…é›·ã€‚" target="_blank" rel="noopener">https://next.itellyou.cn/ï¼Œè¿™ä¹ˆå¤šå¹´ä¸€ç›´æ˜¯åœ¨itellyouä¸‹è½½æ­£ç‰ˆè½¯ä»¶çš„ï¼ŒçœŸçš„éå¸¸æ–¹ä¾¿ã€‚å¦‚æœè§‰å¾—ä¸‹è½½æ…¢ï¼Œå¯ä»¥ä½¿ç”¨è¿…é›·ã€‚</a></p><h2 id="æ¿€æ´»-jetbrains-å®¶çš„è½¯ä»¶"><a href="#æ¿€æ´»-jetbrains-å®¶çš„è½¯ä»¶" class="headerlink" title="æ¿€æ´» jetbrains å®¶çš„è½¯ä»¶"></a>æ¿€æ´» jetbrains å®¶çš„è½¯ä»¶</h2><ul><li><a href="https://www.cnblogs.com/nihaorz/p/16517730.html" target="_blank" rel="noopener">https://www.cnblogs.com/nihaorz/p/16517730.html</a></li><li><a href="https://www.binfoo.com/2820" target="_blank" rel="noopener">https://www.binfoo.com/2820</a></li></ul><p>å¤´ä¸€æ¬¡å‘ç°æ¿€æ´»è¿™ä¹ˆç®€å•ï¼ŒçœŸçš„å¼ºçƒˆæ¨èã€‚</p><p>æ“ä½œæ­¥éª¤ï¼š</p><ol><li>æ‰“å¼€æ¿€æ´»ç ´è§£å®˜æ–¹ç½‘ç«™ï¼š<a href="https://search.censys.io/" target="_blank" rel="noopener">https://search.censys.io/</a></li><li>æœç´¢æ¡†è¾“å…¥ï¼šservices.http.response.headers.location: account.jetbrains.com/fls-authã€‚</li><li>ç‚¹å‡»æœç´¢ï¼Œåœ¨è¿”å›çš„ç»“æœéšä¾¿æ‰¾ä¸€ä¸ªç‚¹è¿›å»ï¼ŒæŸ¥æ‰¾åˆ° HTTP/302ã€‚</li><li>å¤åˆ¶ç½‘å€åˆ° Jetbrainsï¼Œé€‰æ‹©è®¸å¯è¯æœåŠ¡å™¨/License serverï¼Œç²˜è´´åˆšåˆšå¤åˆ¶çš„ç½‘å€ï¼Œæ¿€æ´»ã€‚</li><li>å¦‚æœå‘ç°æœåŠ¡å™¨ä¸å¯ç”¨ï¼Œå¯ä»¥ç»§ç»­å°è¯•æ›´æ¢ä¸€ä¸ªè¿›è¡Œæ¿€æ´»ã€‚</li></ol><p>å¯ä»¥æ„‰å¿«çš„å¼€å§‹ç¼–ç¨‹äº†</p><h1 id="2022-11-23"><a href="#2022-11-23" class="headerlink" title="2022-11-23"></a>2022-11-23</h1><p>æ–°ä¹°äº†ä¸ª surface pro xï¼Œå‘ç° windows å•†åº—æŒ‚ä»£ç†è®¿é—®ä¸äº†ï¼Œè§£å†³åŠæ³•ï¼š</p><p><a href="https://zhuanlan.zhihu.com/p/55906778" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/55906778</a></p><p>ä¸ç”¨å…¶ä»–è½¯ä»¶ï¼Œä»¥ç®¡ç†å‘˜æƒé™å¯åŠ¨ powershell æ•²ä¸‹é¢å‘½ä»¤å³å¯ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">foreach ($n in (get-appxpackage).packagefamilyname) &#123;checknetisolation loopbackexempt -a -n=&quot;$n&quot;&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœåªæƒ³å¯¹æŸä¸ªç‰¹å®š UWP åº”ç”¨è®¾ç½®ä»£ç†ï¼Œç”¨ $n=(get-appxpackage <em>åº”ç”¨åçš„ç‹¬ç‰¹éƒ¨åˆ†ï¼Œæ¯”å¦‚é‚®ä»¶åº”ç”¨æ˜¯commu</em>).packagefamilyname | checknetisolation loopbackexempt -a -n=&quot;$n&quot;</p><p>npm i ä¹‹åé‡åˆ° hexo æ‰¾ä¸åˆ°çš„é—®é¢˜ï¼š<code>bash: hexo: command not found</code></p><p>å…¶å®å°±æ˜¯éœ€è¦å…¨å±€å®‰è£…ä¸€ä¸‹ hexoï¼š<code>npm install -g hexo</code></p><p>è¿˜å¯ä»¥ä½¿ç”¨ npx æ¥æ‰§è¡Œï¼Œè¿™æ ·å°±ä¸ç”¨å…¨å±€å®‰è£…äº†ï¼š<code>npx hexo</code>ï¼Œnpx ä¼šè‡ªåŠ¨ä¸‹è½½ç¼ºå¤±çš„æ¨¡å—ï¼Œä½†æ˜¯ç”¨å®Œå°±åˆ äº†ï¼Œä¸ä¼šç•™ä¸‹ç—•è¿¹ï¼Œä¸‹æ¬¡å†ç”¨è¿˜æ˜¯è¦è”ç½‘ä¸‹è½½è¯¥æ¨¡å—ã€‚</p><h1 id="2022-11-22"><a href="#2022-11-22" class="headerlink" title="2022-11-22"></a>2022-11-22</h1><p>å¦‚ä½•é€šè¿‡å±€åŸŸç½‘æŠŠç”µå­ä¹¦ä¼ è¾“åˆ° kindle å‘¢ï¼Ÿ</p><ul><li><a href="https://www.bilibili.com/read/cv9457950" target="_blank" rel="noopener">https://www.bilibili.com/read/cv9457950</a></li></ul><p>ç­”æ¡ˆæ˜¯ä½¿ç”¨ calibreï¼Œé€šè¿‡è¿™ä¸ªè½¯ä»¶æ­å»ºä¸€ä¸ªå±€åŸŸç½‘æœåŠ¡å™¨ï¼Œç„¶åç”¨ kindle çš„æµè§ˆå™¨åŠŸèƒ½è®¿é—®æœåŠ¡å™¨ç½‘å€ï¼Œå°±å¯ä»¥ä¸‹è½½ç”µå­ä¹¦å•¦ï¼Œéå¸¸çš„æ–¹ä¾¿å®ç”¨ã€‚æˆ‘åŸå…ˆä¸€ç›´æ˜¯é€šè¿‡å‘é€åˆ°é‚®ç®±çš„æ–¹å¼æ¥ä¼ è¾“ç”µå­ä¹¦çš„ï¼Œè¿™ä¸ªæ˜¯è¦èµ°å…¬ç½‘çš„ï¼Œä½†è¿™ç§æ–¹å¼å¯¹æ–‡ä»¶å¤§å°æœ‰é™åˆ¶ï¼Œå¿…é¡»è¦å°äº 50Mï¼Œè€Œä¸”ä¼ è¾“é€Ÿåº¦ä¹Ÿå¤§ä¸å¦‚å±€åŸŸç½‘ã€‚</p><h1 id="2022-11-17"><a href="#2022-11-17" class="headerlink" title="2022-11-17"></a>2022-11-17</h1><p>js ä¸­??æ˜¯ä»€ä¹ˆè¡¨è¾¾å¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alert(username ?? <span class="string">"Guest"</span>);</span><br></pre></td></tr></table></figure><p>è¿™é‡Œçš„åŒé—®å·ç§°ä¸º<strong>ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦</strong>ï¼Œå®ƒæ˜¯ ES2020 çš„ä¸€ä¸ªæ–°ç‰¹æ€§ï¼Œå®ƒçš„ä½œç”¨æ˜¯å½“ä¸€ä¸ªè¡¨è¾¾å¼æ˜¯ null æˆ–è€… undefined æ—¶ä¸ºå˜é‡è®¾ç½®ä¸€ä¸ªé»˜è®¤å€¼ã€‚</p><p>æ¯”||æ›´ç²¾ç¡®ä¸€ç‚¹ã€‚åƒ<code>&#39;&#39;</code>ï¼Œ<code>0</code>ï¼Œ<code>false</code>è¿™äº›éƒ½æ˜¯å®é™…å€¼ã€‚æœ‰çš„æ—¶å€™æ˜¯å¸Œæœ›ä½¿ç”¨è¿™äº›å€¼çš„ã€‚è¿™ä¸ªè¯­æ³•ç³–çš„ä½œç”¨è·Ÿè‡ªå·±å®šä¹‰çš„ isUndef å·®ä¸å¤šï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alert(isUndef(username) ? <span class="string">"Guest"</span> : username);</span><br></pre></td></tr></table></figure><p>ç»ˆäºå¯ä»¥ä¸ç”¨è‡ªå·±å®ç°ä¸€ä¸ªå‡½æ•°æ¥åšè¿™ä»¶äº‹äº†ã€‚</p><h1 id="2022-11-16"><a href="#2022-11-16" class="headerlink" title="2022-11-16"></a>2022-11-16</h1><h2 id="trigger-å’Œ-Event"><a href="#trigger-å’Œ-Event" class="headerlink" title="trigger å’Œ Event"></a>trigger å’Œ Event</h2><p>jquery å†™æ³•ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">"xxx"</span>).trigger(<span class="string">"blur"</span>);</span><br></pre></td></tr></table></figure><p>åŸç”Ÿ js å†™æ³•ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dom.dispatchEvent(<span class="keyword">new</span> Event(<span class="string">"blur"</span>));</span><br></pre></td></tr></table></figure><h1 id="2022-11-15"><a href="#2022-11-15" class="headerlink" title="2022-11-15"></a>2022-11-15</h1><p>try catch èƒ½æ•è·å¼‚æ­¥çš„é”™è¯¯å—ï¼Œç­”æ¡ˆæ˜¯ä¸èƒ½ã€‚ä½†å¦‚æœç”¨ await å°±å¯ä»¥ã€‚</p><p>å‚è€ƒèµ„æ–™ï¼š<a href="https://juejin.cn/post/6850418110907088910" target="_blank" rel="noopener">https://juejin.cn/post/6850418110907088910</a></p><p>ä»¥ä¸‹ä»£ç èƒ½æ•è·åˆ°ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// å¼‚æ­¥ï¼Œå¾®ä»»åŠ¡</span></span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">await</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"gadsgsdg"</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(error);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">f();</span><br></pre></td></tr></table></figure><p>ä»¥ä¸‹ä»£ç ä¸èƒ½æ•è·åˆ°ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// å¼‚æ­¥ï¼Œå¾®ä»»åŠ¡</span></span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"gadsgsdg"</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(error);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">f();</span><br></pre></td></tr></table></figure><h1 id="2022-11-14"><a href="#2022-11-14" class="headerlink" title="2022-11-14"></a>2022-11-14</h1><p>ä¸€ç›´ä»¥æ¥éƒ½åªä¼š import å’Œ export çš„è¯­æ³•ï¼Œä½†æ˜¯ä¸ä¼š require çš„ã€‚ä»Šå¤©å­¦ä¹ äº†ä¸€ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// module.js</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(str);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  a: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"exports from module"</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  test,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// sample.js</span></span><br><span class="line"><span class="keyword">var</span> obj = <span class="built_in">require</span>(<span class="string">"./module.js"</span>);</span><br><span class="line">obj.a(); <span class="comment">// exports from module</span></span><br><span class="line"><span class="keyword">let</span> &#123; test &#125; = <span class="built_in">require</span>(<span class="string">"./module.js"</span>);</span><br><span class="line">test(<span class="string">"this is a test"</span>);</span><br></pre></td></tr></table></figure><h1 id="2022-11-07"><a href="#2022-11-07" class="headerlink" title="2022-11-07"></a>2022-11-07</h1><h2 id="clientHeight"><a href="#clientHeight" class="headerlink" title="clientHeight"></a>clientHeight</h2><p>æœ€è¿‘ eda é¡¹ç›®åœ¨è¿›è¡Œä¸¤ä¸ªé‡æ„ï¼Œé‡æ„å®Œå°±æ˜¯ 2.0 ç‰ˆäº†ï¼Œä¸€ä¸ªæ˜¯åŸç†å›¾çš„æ•°æ®é©±åŠ¨é‡æ„ï¼Œä¸€ä¸ªæ˜¯ UI çš„ react é‡æ„ï¼Œæˆ‘æ‰“ç®—åšä¸ª List ç»„ä»¶ï¼Œéœ€è¦ä¸Šè™šæ‹Ÿæ»šåŠ¨ã€‚</p><p>å…ˆæ¥äº†è§£ä¸€ä¸‹ï¼š<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Element/clientHeight" target="_blank" rel="noopener">clientHeight</a></p><p>clientHeight = CSS height + CSS padding - æ°´å¹³æ»šåŠ¨æ¡é«˜åº¦ï¼ˆå¦‚æœå­˜åœ¨ï¼‰</p><h2 id="è¿ç»­ç‚¹å‡»é¼ æ ‡æ¬¡æ•°"><a href="#è¿ç»­ç‚¹å‡»é¼ æ ‡æ¬¡æ•°" class="headerlink" title="è¿ç»­ç‚¹å‡»é¼ æ ‡æ¬¡æ•°"></a>è¿ç»­ç‚¹å‡»é¼ æ ‡æ¬¡æ•°</h2><p>åœ¨å†™ onClick äº‹ä»¶çš„æ—¶å€™ï¼Œå­¦åˆ°ä¸€ä¸ªä¸œè¥¿ï¼š<code>event.detail</code>ï¼Œè¿™ä¸ªæ˜¯ä¸ª number ç±»å‹ï¼Œä»£è¡¨è¿ç»­ç‚¹å‡»é¼ æ ‡çš„æ¬¡æ•°ï¼Œå­¦ä¹ èµ„æ–™å¦‚ä¸‹ï¼š</p><ul><li><a href="https://bobbyhadz.com/blog/react-double-click-event" target="_blank" rel="noopener">https://bobbyhadz.com/blog/react-double-click-event</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/click_event" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Web/API/Element/click_event</a></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> handleClick = <span class="function">(<span class="params">event</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(event.detail);</span><br><span class="line">  <span class="keyword">switch</span> (event.detail) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>: &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"single click"</span>);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>: &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"double click"</span>);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">3</span>: &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"triple click"</span>);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">default</span>: &#123;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="useState-çš„å‘"><a href="#useState-çš„å‘" class="headerlink" title="useState çš„å‘"></a>useState çš„å‘</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; useState, useEffect &#125; <span class="keyword">from</span> <span class="string">"https://esm.sh/react@18"</span>;</span><br><span class="line"><span class="keyword">import</span> ReactDOM <span class="keyword">from</span> <span class="string">"https://esm.sh/react-dom@18"</span>;</span><br><span class="line"><span class="keyword">const</span> obj = &#123; <span class="attr">text</span>: <span class="string">"2"</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> Hello = <span class="function">(<span class="params">&#123; props &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"render"</span>);</span><br><span class="line">  <span class="keyword">const</span> [bb, setBB] = useState(props);</span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// let one = JSON.parse(JSON.stringify(obj))</span></span><br><span class="line">    <span class="comment">// one.text='3'</span></span><br><span class="line">    <span class="comment">// setBB(one);</span></span><br><span class="line">    <span class="comment">// å›è°ƒå‡½æ•°ä¼šè¢«reactè°ƒç”¨ï¼Œreactä¼šä¼ å…¥bbç»™å›è°ƒå‡½æ•°</span></span><br><span class="line">    setBB(<span class="function">(<span class="params">obj</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (bb === obj) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="literal">true</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      obj.text = <span class="string">"3"</span>;</span><br><span class="line">      <span class="keyword">return</span> obj; <span class="comment">// ä¸ä¼šå¼•èµ·ç»„ä»¶æ¸²æŸ“</span></span><br><span class="line">      <span class="comment">// return JSON.parse(JSON.stringify(obj));  // ä¼šå¼•èµ·ç»„ä»¶æ¸²æŸ“</span></span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;, []);</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;bb.text&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> root = ReactDOM.createRoot(<span class="built_in">document</span>.getElementById(<span class="string">"root"</span>));</span><br><span class="line">root.render(<span class="xml"><span class="tag">&lt;<span class="name">Hello</span> <span class="attr">props</span>=<span class="string">&#123;obj&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">Hello</span>&gt;</span></span>);</span><br></pre></td></tr></table></figure><p>è¿è¡Œåœ°å€ï¼š<a href="https://codepen.io/liuqinh2s/pen/eYKdqeo?editors=0010" target="_blank" rel="noopener">https://codepen.io/liuqinh2s/pen/eYKdqeo?editors=0010</a></p><p>å¦‚æœ useState ä¼ å…¥çš„å¯¹è±¡çš„å¼•ç”¨æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œå®ƒå°±ä¸ä¼šæ›´æ–°ã€‚æ‰€ä»¥ä¿®æ”¹å¯¹è±¡å°±åªèƒ½æ·±æ‹·è´äº†ã€‚</p><h1 id="2022-11-06"><a href="#2022-11-06" class="headerlink" title="2022-11-06"></a>2022-11-06</h1><p>github çªç„¶æŠ½é£ï¼Œpush çš„æ—¶å€™æŠ¥é”™ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">âœ  blog git:(master) git push</span><br><span class="line">kex_exchange_identification: <span class="built_in">read</span>: Connection reset by peer</span><br><span class="line">fatal: æ— æ³•è¯»å–è¿œç¨‹ä»“åº“ã€‚</span><br><span class="line"></span><br><span class="line">è¯·ç¡®è®¤æ‚¨æœ‰æ­£ç¡®çš„è®¿é—®æƒé™å¹¶ä¸”ä»“åº“å­˜åœ¨ã€‚</span><br></pre></td></tr></table></figure><p>ä¹‹å‰ä¹Ÿé‡åˆ°è¿‡ä¸€æ¬¡ï¼Œä¸»è¦å‚è€ƒè¿™ä¸¤ç¯‡æ–‡ç« ï¼š</p><ul><li><a href="https://getiot.tech/github/github-errata-port-443-connection-refused.html" target="_blank" rel="noopener">https://getiot.tech/github/github-errata-port-443-connection-refused.html</a></li><li><a href="https://www.jianshu.com/p/61b12cc1f818" target="_blank" rel="noopener">https://www.jianshu.com/p/61b12cc1f818</a></li></ul><p>ä¸Šæ¬¡æ˜¯æ–°å»ºäº†ä¸€ä¸ªæœ¬åœ°é…ç½®æ–‡ä»¶ï¼š<code>~/.ssh/config</code>ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Host github.com</span><br><span class="line">Hostname ssh.github.com</span><br><span class="line">Port 443</span><br></pre></td></tr></table></figure><p>å½“ç„¶è¿™æ¬¡æ˜¯å®ƒè‡ªå·±åˆå¥½äº†</p><h1 id="2022-11-05"><a href="#2022-11-05" class="headerlink" title="2022-11-05"></a>2022-11-05</h1><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakMap" target="_blank" rel="noopener">WeakMap</a>ï¼Œ<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakSet" target="_blank" rel="noopener">WeakSet</a>æ˜¯ä»€ä¹ˆï¼Ÿ</p><ol><li>å®ƒä»¬çš„é”®éƒ½åªèƒ½æ˜¯å¯¹è±¡</li><li>é”®å¦‚æœæ²¡æœ‰è¢«å¼•ç”¨çš„è¯ï¼Œä¼šè¢«å›æ”¶ï¼ˆå®¹å™¨æœ¬èº«çš„å¼•ç”¨ä¸ç®—ï¼‰ï¼Œé˜²æ­¢å†…å­˜æ³„éœ²</li><li>é”®éƒ½ä¸å¯éå†ï¼ˆå› ä¸ºéšæ—¶ä¼šè¢«å›æ”¶ï¼‰</li></ol><h1 id="2022-11-02"><a href="#2022-11-02" class="headerlink" title="2022-11-02"></a>2022-11-02</h1><p>åŒäº‹åˆ†äº«äº†ä¸€ä¸ªæ¡ˆä¾‹ï¼Œè¿”å›çš„æ˜¯å€¼ç±»å‹ï¼Œä½†ä¾æ—§å¯ä»¥ä¿®æ”¹å±æ€§ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> lib = <span class="function">(<span class="params">(</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> profile = &#123;</span><br><span class="line">    version: <span class="string">"1.0.1"</span>,</span><br><span class="line">    name: <span class="string">"clouser"</span>,</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="keyword">get</span>(key) &#123;</span><br><span class="line">      <span class="keyword">return</span> profile[key];</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><p>ä¸Šä¾‹ä¸­ï¼Œå¦‚æœä¸åŠ¨å·²æœ‰çš„ä»£ç ï¼Œè¦ä¿®æ”¹ profile çš„ nameï¼Œæ€ä¹ˆä¿®æ”¹ï¼Ÿ</p><p>å¢é‡ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = <span class="built_in">Symbol</span>(<span class="number">1</span>);</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(<span class="built_in">Object</span>.prototype, a, &#123;</span><br><span class="line">  <span class="keyword">get</span>() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">const</span> profile = lib.get(a);</span><br><span class="line">profile.name = <span class="string">"changed name"</span>;</span><br></pre></td></tr></table></figure><p>é€šè¿‡åœ¨ profile çš„åŸå‹é“¾ä¸Šå®šä¹‰ä¸€ä¸ªå±æ€§ï¼Œç„¶åå±æ€§çš„ get æ–¹æ³•ä¸­è¿”å› profile å¯¹è±¡æœ¬èº«ã€‚</p><p>ä¿®å¤è¿™ä¸ªæ¼æ´ï¼Œå¯ä»¥è¿™æ ·ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> profile = <span class="built_in">Object</span>.create(<span class="literal">null</span>);</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±è®© profile çš„åŸå‹æ˜¯ null äº†ï¼Œè¦è®© profile çš„åŸå‹æ˜¯ Object.prototype åˆ™è¿™æ ·å†™ï¼š<code>const profile = Object.create(Object.prototype);</code></p><h1 id="2022-10-27"><a href="#2022-10-27" class="headerlink" title="2022-10-27"></a>2022-10-27</h1><p>é‡åˆ°ä¸€ä¸ªæ¯”è¾ƒéš¾çš„é¢˜ç›®ï¼Œçœ‹äº†ç­”æ¡ˆæ‰è§£å‡ºæ¥ã€‚å…ˆæ˜¯çœ‹äº†è®¨è®ºé‡Œé¢çš„æç¤ºè¯´ç”¨å‰ç¼€å’Œ+å•è°ƒé˜Ÿåˆ—ï¼Œä½†å…¶å®è·Ÿå•è°ƒé˜Ÿåˆ—æ²¡å•¥å…³ç³»ï¼Œæ¯•ç«Ÿé˜Ÿåˆ—æœ¬èº«å­˜çš„æ˜¯ä¸‹æ ‡ <code>i</code>ï¼Œå´è¦è½¬æ¢æˆ <code>preSum[i]</code> å†å»è®¨è®ºå•è°ƒæ€§ã€‚è€Œä¸”è¿™é¢˜ä¸€å®šè¦ç»è¿‡ç²¾å¦™çš„åˆ†ææ‰èƒ½ç»´æŠ¤å¥½è¿™ä¸ªæŸ¥è¯¢é˜Ÿåˆ—ï¼ˆç”¨äºæ›¿ä»£æš´åŠ›è§£æ³•ä¸­çš„ç¬¬äºŒå±‚ for å¾ªç¯ï¼Œå‡å°‘æŸ¥æ‰¾èŒƒå›´ï¼‰ï¼Œæœ€åæ‰å‹‰å¼ºå‘ç°è¿™ä¸ªæŸ¥è¯¢é˜Ÿåˆ—ç±»ä¼¼å•è°ƒé˜Ÿåˆ—ï¼Œå¦‚æœå…ˆç›´æ¥å†™å¥½å•è°ƒé˜Ÿåˆ—çš„æ•°æ®ç»“æ„å†å»è§£é¢˜ï¼Œæ€•æ˜¯æ ¹æœ¬å°±æƒ³ä¸æ¸…é¢˜ç›®äº†ã€‚</p><p>å¦å¤–æ—¶éš”å¤šå¹´åï¼Œæˆ‘åˆè‡ªå·±æ‰‹å†™äº†<a href="https://gist.github.com/liuqinh2s/2a419b21947b55a1f77f88c8082f9cf6" target="_blank" rel="noopener">åŒé“¾è¡¨</a>ï¼Œä½†ç”¨åœ¨è¿™é¢˜ä¸Šå±…ç„¶åè€Œè¶…æ—¶äº†ï¼ˆç”¨ js è‡ªå¸¦çš„æ•°ç»„ä¸ä¼šè¶…æ—¶ï¼‰</p><p>å‘ç°åŸæ¥æ˜¯å› ä¸ºæœç´¢çš„æ—¶å€™ï¼Œå›ºå®šä»å‰å¾€åæœå¯¼è‡´çš„ï¼Œä½†åƒå¤´å°¾æ“ä½œçš„æ—¶å€™ï¼Œåº”è¯¥ç›´æ¥æŒ‡å®šèŠ‚ç‚¹æ ¹æœ¬å°±ä¸ç”¨æœç´¢ï¼Œè§£å†³æ‰è¿™ä¸ªé—®é¢˜åï¼Œé€Ÿåº¦éå¸¸å¿«äº†ã€‚</p><h1 id="2022-10-26"><a href="#2022-10-26" class="headerlink" title="2022-10-26"></a>2022-10-26</h1><p>.then çš„ä¼˜å…ˆçº§æ¯” await é«˜ï¼Œæ‰€ä»¥è¿™æ ·å†™æ˜¯æœ‰åŒºåˆ«çš„ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> func().then(); <span class="comment">// å…ˆæ‰§è¡Œ.then</span></span><br><span class="line">(<span class="keyword">await</span> func()).then(); <span class="comment">// å…ˆæ‰§è¡Œawait</span></span><br></pre></td></tr></table></figure><h1 id="2022-10-19"><a href="#2022-10-19" class="headerlink" title="2022-10-19"></a>2022-10-19</h1><p>AI ä½œç”»ç°åœ¨å¾ˆç«ï¼Œæˆ‘ä¹Ÿå°ç©äº†ä¸€æŠŠï¼š<a href="https://6pen.art/" target="_blank" rel="noopener">https://6pen.art/</a></p><p>AI ä½œç”»ç½‘ç«™æ”¶é›†ï¼š<a href="https://github.com/hua1995116/awesome-ai-painting" target="_blank" rel="noopener">https://github.com/hua1995116/awesome-ai-painting</a></p><h1 id="2022-10-17"><a href="#2022-10-17" class="headerlink" title="2022-10-17"></a>2022-10-17</h1><p>æ€ä¹ˆéªŒè¯ï¼Œæµè§ˆå™¨çš„ localStorage æ˜¯å•ä¸ªå­—æ®µé™åˆ¶ä¸º 5Mï¼Œè¿˜æ˜¯æ•´ä¸ª localStorage é™åˆ¶ä¸º 5Mã€‚å¯ä»¥è‡ªå·±å†™ä»£ç éªŒè¯ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">localStorage.setItem(</span><br><span class="line">  <span class="string">"a"</span>,</span><br><span class="line">  <span class="built_in">Array</span>(<span class="number">5</span> * <span class="number">1024</span> * <span class="number">1024</span> - <span class="number">1</span>)</span><br><span class="line">    .fill(<span class="string">"0"</span>)</span><br><span class="line">    .join(<span class="string">""</span>)</span><br><span class="line">); <span class="comment">// é€šè¿‡</span></span><br><span class="line">localStorage.setItem(</span><br><span class="line">  <span class="string">"a"</span>,</span><br><span class="line">  <span class="built_in">Array</span>(<span class="number">5</span> * <span class="number">1024</span> * <span class="number">1024</span>)</span><br><span class="line">    .fill(<span class="string">"0"</span>)</span><br><span class="line">    .join(<span class="string">""</span>)</span><br><span class="line">); <span class="comment">// ä¸é€šè¿‡</span></span><br><span class="line">localStorage.setItem(</span><br><span class="line">  <span class="string">"aa"</span>,</span><br><span class="line">  <span class="built_in">Array</span>(<span class="number">5</span> * <span class="number">1024</span> * <span class="number">1024</span> - <span class="number">1</span>)</span><br><span class="line">    .fill(<span class="string">"0"</span>)</span><br><span class="line">    .join(<span class="string">""</span>)</span><br><span class="line">); <span class="comment">// ä¸é€šè¿‡</span></span><br></pre></td></tr></table></figure><p>æ‰¾åˆ°ç©ºçš„ tab è¾“å…¥ä¸Šé¢çš„ä»£ç ï¼Œå†æ‰¾ä¸ªæœ‰ localStorage çš„ç½‘ç«™è¾“å…¥ä¸Šé¢çš„ä»£ç ï¼Œå¾—åˆ°çš„éªŒè¯ç»“æœæ˜¯ï¼š</p><p>æœ‰ localStorage çš„ç½‘ç«™ tab ä¸‰ä¸ªéƒ½é€šä¸è¿‡ï¼Œç©ºçš„ tab èƒ½é€šè¿‡ç¬¬ä¸€ä¸ªã€‚</p><p>ç”±æ­¤å¾—åˆ°ç»“è®ºï¼Œ5M çš„é™åˆ¶æ˜¯é’ˆå¯¹æ•´ä¸ª localStorage è€Œè¨€çš„ï¼ˆä¸æ˜¯å•ä¸ªå­—æ®µï¼‰ï¼Œä¸”æ˜¯ key+valueï¼Œè€Œéå•çº¯çš„ valueã€‚</p><p>å¦å¤–æˆ‘ä»¬è¿˜é¡ºå¸¦éªŒè¯äº† js çš„&#39;0&#39;æ˜¯ 1 å­—èŠ‚å¤§å°ã€‚</p><h1 id="2022-10-13"><a href="#2022-10-13" class="headerlink" title="2022-10-13"></a>2022-10-13</h1><p>js ä¸­çš„å­—ç¬¦éƒ½æ˜¯ä¸¤å­—èŠ‚çš„ï¼Œæ€ä¹ˆæŸ¥çœ‹ä¸€ä¸ªå­—ç¬¦çš„ç¼–ç å‘¢ï¼Œç”¨<code>str.charCodeAt(0)</code>ï¼Œä»ç¼–ç å˜å­—ç¬¦ç”¨ï¼š<code>String.fromCharCode(code)</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> code = <span class="string">"ä¸­"</span>.charCodeAt(<span class="number">0</span>);</span><br><span class="line"><span class="built_in">console</span>.log(code, code.toString(<span class="number">16</span>), <span class="built_in">escape</span>(<span class="string">"ä¸­"</span>), <span class="built_in">unescape</span>(<span class="string">"\u4E2D"</span>));</span><br><span class="line"><span class="keyword">const</span> str = <span class="built_in">String</span>.fromCharCode(code);</span><br><span class="line"><span class="built_in">console</span>.log(str);</span><br></pre></td></tr></table></figure><p>js å­—ç¬¦ç¼–ç çš„æ•…äº‹ï¼š<a href="https://www.ruanyifeng.com/blog/2014/12/unicode.html" target="_blank" rel="noopener">Unicode ä¸ JavaScript è¯¦è§£ - é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿—</a></p><blockquote><p>ä»€ä¹ˆæƒ…å†µä¸‹ charCodeAt å’Œ codePointAt ä¼šå¾—åˆ°ä¸ä¸€æ ·çš„å€¼<br>åœ¨ BMPï¼ˆåŸºæœ¬å¤šæ–‡ç§å¹³é¢ï¼‰é‡Œé¢çš„å­—ç¬¦å°±æ˜¯ä¸€æ ·çš„ç»“æœï¼Œä¸åœ¨ BMP é‡Œé¢å°±ä¸ä¸€æ ·</p></blockquote><h1 id="2022-10-11"><a href="#2022-10-11" class="headerlink" title="2022-10-11"></a>2022-10-11</h1><p>æ­£åˆ™è¡¨è¾¾å¼ä¸­ï¼Œåœ†æ‹¬å·æ˜¯æ•è·é‡Œé¢çš„åŒ¹é…é¡¹çš„æ„æ€ï¼Œé‚£ä¹ˆæ€ä¹ˆä¸æ•è·å‘¢ï¼Ÿè¿™æ ·å†™ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(?:x)</span><br></pre></td></tr></table></figure><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Regular_Expressions" target="_blank" rel="noopener">æ­£åˆ™è¡¨è¾¾å¼</a></p><h1 id="2022-10-10"><a href="#2022-10-10" class="headerlink" title="2022-10-10"></a>2022-10-10</h1><p>æ˜¨å¤©åšäº†ä¸€é“ leetcodeï¼Œæœ€åéœ€è¦ç”¨ eval æ¥è§£æå››åˆ™è¿ç®—ï¼š<a href="https://leetcode.cn/problems/score-of-parentheses/" target="_blank" rel="noopener">856. æ‹¬å·çš„åˆ†æ•°</a></p><p>é‚£ä¹ˆæ€ä¹ˆæ‰‹å†™ä¸€ä¸ªå››åˆ™è¿ç®—è§£æå™¨å‘¢ï¼Ÿç­”æ¡ˆæ˜¯éœ€è¦ç”¨åˆ° ASTï¼Œåœ¨ç½‘ä¸Šçœ‹åˆ°ä¸€ç¯‡éå¸¸ä¸é”™çš„æ–‡ç« ï¼š<a href="https://juejin.cn/post/6844903977667002375" target="_blank" rel="noopener">å››åˆ™è¿ç®—è¡¨è¾¾å¼å¦‚ä½•è½¬æ¢æˆ AST</a>ï¼Œçœ‹å®Œä¹‹åæ„Ÿè§‰æˆ‘ä¹Ÿä¼šäº†ï¼Œè™½ç„¶ä»£ç æ¯”è¾ƒå¤šï¼Œä½†éå¸¸ç®€å•æ˜“æ‡‚ï¼Œå€¼å¾—å­¦ä¹ å…¶ä¸­çš„ç¼–ç¨‹æ€ç»´ã€‚</p><p>è§£å†³äº†ä¸€é“åŠ¨æ€è§„åˆ’é¢˜ï¼š<a href="https://leetcode.cn/problems/minimum-swaps-to-make-sequences-increasing/" target="_blank" rel="noopener">https://leetcode.cn/problems/minimum-swaps-to-make-sequences-increasing/</a></p><p>äº†è§£äº†ä¸€ä¸‹<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/parent" target="_blank" rel="noopener">window.parent</a></p><h1 id="2022-09-21"><a href="#2022-09-21" class="headerlink" title="2022-09-21"></a>2022-09-21</h1><p>æ‹‰è¿œç«¯åˆ†æ”¯ git å‘½ä»¤ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git fetch origin</span><br><span class="line">git checkout -b pro-ui/dev origin/pro-ui/dev</span><br></pre></td></tr></table></figure><p>åˆ é™¤æœ¬åœ°åˆ†æ”¯ git å‘½ä»¤ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -D pro-ui/dev</span><br></pre></td></tr></table></figure><h1 id="2022-09-15"><a href="#2022-09-15" class="headerlink" title="2022-09-15"></a>2022-09-15</h1><p>æœ€è¿‘æ„Ÿè§‰è‡ªå·± git æ–¹é¢çš„çŸ¥è¯†è¿˜æ˜¯æ¯”è¾ƒå°‘ï¼Œä»Šå¤©çœ‹åˆ°ä¸€ä¸ª--no-track å‚æ•°ï¼Œä¸æ‡‚ä»€ä¹ˆæ„æ€ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1. åˆ›å»ºæ–°åˆ†æ”¯ git checkout -b name/newbranch --no-track origin/pro-xxx/dev</span><br><span class="line">2. åœ¨è¿œç«¯åˆ›å»ºå¹¶è·Ÿè¸ªåˆ†æ”¯ git push --set-upstream origin name/newbranch</span><br></pre></td></tr></table></figure><p>ä¸€å¼€å§‹çŒœ--no-track æ˜¯é’ˆå¯¹åé¢é‚£ä¸ªå‚æ•°<code>origin/pro-xxx/dev</code>ï¼Œä½†æ€»æ„Ÿè§‰æ²¡è¦å¿…è¦ä¸è·Ÿè¸ªè¿™ä¸ªåˆ†æ”¯å‘€ï¼Œåº”è¯¥æ˜¯è¦è·Ÿè¸ªæ‰å¯¹ã€‚åæ¥æ‰äº†è§£åˆ°ï¼Œ--no-track æ˜¯æŒ‡ä¸è·Ÿè¸ªå½“å‰æ‰€åœ¨åˆ†æ”¯ï¼Œè€Œå»è·Ÿè¸ª<code>origin/pro-xxx/dev</code>ï¼Œå¦å¤–è¿™ä¸ªä¸æ˜¯è¿œç«¯çš„åˆ†æ”¯ï¼Œè€Œæ˜¯è¿œç«¯åˆ†æ”¯åœ¨æœ¬åœ°å¯¹åº”çš„åˆ†æ”¯ï¼Œå› ä¸ºç»è¿‡è¯•éªŒï¼Œé€šè¿‡è¿™ä¸ªåˆ›å»ºçš„åˆ†æ”¯å¹¶ä¸æ˜¯æœ€æ–°çš„ä»£ç ï¼Œæ‰€ä»¥åœ¨åˆ›å»ºæ–°åˆ†æ”¯ä¹‹å‰ï¼Œæœ€å¥½å…ˆæ‹‰ä¸€ä¸‹<code>pro-xxx/dev</code>çš„ä»£ç ã€‚</p><p>åœ¨ä¸åˆ‡æ¢åˆ†æ”¯çš„æƒ…å†µä¸‹ï¼Œæ‹‰æŒ‡å®šè¿œç«¯åˆ†æ”¯çš„ä»£ç åˆ°æœ¬åœ°æŒ‡å®šåˆ†æ”¯ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git pull origin pro-ui/dev:pro-ui/dev</span><br></pre></td></tr></table></figure><h1 id="2022-09-14"><a href="#2022-09-14" class="headerlink" title="2022-09-14"></a>2022-09-14</h1><p>å…³äº git å·¥ä½œæµï¼Œæˆ‘ä»¬å›¢é˜Ÿæ¨äº†ä¸€ä¸ªå·¥ä½œæµæ–¹å¼ï¼Œé‡‡ç”¨ï¼š</p><ol><li>æ–°å»ºä¸´æ—¶åˆ†æ”¯</li><li>git rebase</li><li>merge request<br>çš„æ–¹å¼è¿›è¡Œå¼€å‘ã€‚</li></ol><p>ä¹‹å‰ä¸€ç›´éƒ½æ²¡ç”¨è¿‡ git rebaseï¼ˆä¸äº†è§£ä¸æ•¢ç”¨ï¼‰ï¼Œä»Šå¤©æŠ½ç©ºçœ‹äº†è¿™ç¯‡æ–‡ç« ï¼š<a href="https://morningspace.github.io/tech/git-merge-stories-6/ï¼Œå¯¹git" target="_blank" rel="noopener">https://morningspace.github.io/tech/git-merge-stories-6/ï¼Œå¯¹git</a> rebase ç®—æ˜¯åŸºæœ¬ç†è§£äº†ã€‚</p><h1 id="2022-09-06"><a href="#2022-09-06" class="headerlink" title="2022-09-06"></a>2022-09-06</h1><p>çœ‹é›¶åº¦è§£è¯´çš„æ—¶å€™ï¼Œä»–è®²åˆ°ä¸€ä¸ªè¯­éŸ³è½¬æ–‡å­—çš„ç½‘ç«™ï¼Œæˆ‘çªç„¶æƒ³èµ·æ¥å¾®ä¿¡å¥½åƒè‡ªå¸¦äº†ä¸€ä¸ªè¿™ä¸ªåŠŸèƒ½ï¼Œäºæ˜¯è¯•äº†ä¸€ä¸‹ï¼ŒçœŸçš„å¾ˆæ–¹ä¾¿ï¼Œåœ¨è¾“å…¥è¯­éŸ³çš„æ—¶å€™è¯´å®Œè¯å¾€å³ä¸Šæ»‘åŠ¨å°±èƒ½ä»¥æ–‡å­—çš„å½¢å¼å‘é€å‡ºå»äº†ã€‚è€Œä¸”å¾®ä¿¡å¥½åƒè¿˜æœ‰è‡ªå¸¦çš„ç¿»è¯‘ï¼Œå¯ä»¥ç¿»è¯‘è‹±æ–‡ï¼ŒéŸ©æ–‡ä»€ä¹ˆçš„ã€‚å¾®ä¿¡éƒ½è¿™ä¹ˆæ–¹ä¾¿äº†ï¼Œé‚£å°±æ²¡æœ‰å¿…è¦ç”¨å…¶ä»–çš„ç½‘ç«™å·¥å…·äº†ã€‚</p><h2 id="å…³äº-git-å·¥ä½œä¹ æƒ¯"><a href="#å…³äº-git-å·¥ä½œä¹ æƒ¯" class="headerlink" title="å…³äº git å·¥ä½œä¹ æƒ¯"></a>å…³äº git å·¥ä½œä¹ æƒ¯</h2><p>æœ€å¥½çš„ä¹ æƒ¯æ˜¯å¼€è‡ªå·±çš„åˆ†æ”¯ï¼Œåˆå¹¶ç”¨ merge requestã€‚</p><p>å¦‚æœç¡¬è¦åœ¨ dev åˆ†æ”¯å¼€å‘çš„è¯ï¼Œä¸€å®šè¦è´¯å½»è¿œç«¯ä¼˜å…ˆåŸåˆ™ï¼Œæ¯æ¬¡å‡†å¤‡æäº¤è‡ªå·±çš„ä»£ç äº†éƒ½åšå¦‚ä¸‹æ“ä½œï¼š</p><ol><li>git stash</li><li>git pull</li><li>git stash pop</li><li>è§£å†³å¯èƒ½å­˜åœ¨çš„å†²çª</li><li>git commit</li><li>git push</li></ol><p>é¡ºä¾¿è¯´ä¸€ä¸‹ git revert ä¼šäº§ç”Ÿä¸€æ¡æ–°çš„æäº¤è®°å½•ï¼Œå¦‚æœä¸æƒ³äº§ç”Ÿæäº¤è®°å½•å°±ç”¨ git resetã€‚</p><p>ä»Šå¤©å‘ç”Ÿäº†ä¸€ä¸ªåˆå¹¶äº‹æ•…ï¼Œæˆ‘å…ˆ git commitï¼Œç„¶å pull å‘ç°æœ‰å†²çªï¼Œä½†çœ‹èµ·æ¥å¾ˆå¥‡æ€ªï¼ˆå¤šäº† 100 å¤šä¸ªæ–‡ä»¶éœ€è¦æäº¤ï¼‰ï¼Œæˆ‘å°±æƒ³å“ªé‡Œå‡ºé—®é¢˜äº†ï¼Œå°± git revert äº†ä¸€ä¸‹ï¼Œç„¶åå† git pullï¼Œgit cherry-pick ä¹‹å‰çš„ commitï¼Œç„¶å git pushã€‚æœ€ç»ˆå¯¼è‡´çš„ç»“æœæ˜¯å¦ä¸€ä½åŒäº‹åœ¨ merge æ—¶åˆ é™¤äº†æŸä½åŒäº‹çš„ä»£ç ã€‚æ€»ä¹‹è¿™å¥—åšæ³•å¾ˆä¸å¥½ï¼Œä»¥åè¿˜æ˜¯ç”¨å›ä¸Šé¢æåˆ°çš„æµç¨‹ã€‚</p><h1 id="2022-09-01"><a href="#2022-09-01" class="headerlink" title="2022-09-01"></a>2022-09-01</h1><p>å½“ cherry-pick äº§ç”Ÿå†²çªï¼Œæ€ä¹ˆé€€å‡º cherry-pickï¼Ÿ</p><p>ç­”æ¡ˆæ˜¯ç”¨ï¼š<code>git cherry-pick --abort</code></p><p>cherry-pick çš„å‚æ•°æŒºå¤šçš„ï¼Œå¯ä»¥è‡ªå·±åœ¨å‘½ä»¤è¡Œçœ‹ä¸€ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">$ git cherry-pick</span><br><span class="line">usage: git cherry-pick [&lt;options&gt;] &lt;commit-ish&gt;...</span><br><span class="line">   or: git cherry-pick &lt;subcommand&gt;</span><br><span class="line"></span><br><span class="line">    --quit                end revert or cherry-pick sequence</span><br><span class="line">    --continue            resume revert or cherry-pick sequence</span><br><span class="line">    --abort               cancel revert or cherry-pick sequence</span><br><span class="line">    --skip                skip current commit and continue</span><br><span class="line">    --cleanup &lt;mode&gt;      how to strip spaces and #comments from message</span><br><span class="line">    -n, --no-commit       don&apos;t automatically commit</span><br><span class="line">    -e, --edit            edit the commit message</span><br><span class="line">    -s, --signoff         add Signed-off-by:</span><br><span class="line">    -m, --mainline &lt;parent-number&gt;</span><br><span class="line">                          select mainline parent</span><br><span class="line">    --rerere-autoupdate   update the index with reused conflict resolution if possible</span><br><span class="line">    --strategy &lt;strategy&gt;</span><br><span class="line">                          merge strategy</span><br><span class="line">    -X, --strategy-option &lt;option&gt;</span><br><span class="line">                          option for merge strategy</span><br><span class="line">    -S, --gpg-sign[=&lt;key-id&gt;]</span><br><span class="line">                          GPG sign commit</span><br><span class="line">    -x                    append commit name</span><br><span class="line">    --ff                  allow fast-forward</span><br><span class="line">    --allow-empty         preserve initially empty commits</span><br><span class="line">    --allow-empty-message</span><br><span class="line">                          allow commits with empty messages</span><br><span class="line">    --keep-redundant-commits</span><br><span class="line">                          keep redundant, empty commits</span><br></pre></td></tr></table></figure><h1 id="2022-08-31"><a href="#2022-08-31" class="headerlink" title="2022-08-31"></a>2022-08-31</h1><p>git åˆå¹¶çš„æ—¶å€™ï¼Œå¦‚æœæœ¬åœ°ä»£ç è¿‡æ—§ï¼ˆæ¯”å¦‚æœ¬åœ°ä»£ç æ˜¯ä¸¤ä¸ªæœˆå‰çš„ï¼‰ï¼Œå¯èƒ½ä¼šå‘ç”Ÿä¸€äº›æ„æƒ³ä¸åˆ°çš„é—®é¢˜ï¼Œåˆå¹¶çš„æ—¶å€™æŠ›å¼ƒäº†çº¿ä¸Šåˆ†æ”¯çš„è®¸å¤šä»£ç å’Œæ–‡ä»¶ï¼Œä½† commit è®°å½•é‡Œé¢å´æ²¡æœ‰ä½“ç°ã€‚è¿™ä¸ªæ—¶å€™æƒ³è¦ revert å‘ç°æŠ¥é”™äº†ï¼š</p><p><code>git revert is a merge but no -m</code></p><blockquote><p>å› ä¸ºéœ€è¦å›æ»šçš„ commit æ˜¯ä¸€ä¸ª merge åŠ¨ä½œï¼Œéœ€è¦æ˜¾ç¤ºç»™å‡º-mï¼ˆmainlineï¼‰é€‰æ‹©å‘Šè¯‰ git å›æ»šå…·ä½“å“ªä¸€ä¸ª mainlineã€‚</p></blockquote><p>è§£å†³åŠæ³•æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯ git reset åˆ°åˆå¹¶å‰ï¼Œç„¶å force pushï¼ˆè¿™ç§åŠæ³•çš„å¥½å¤„æ˜¯ä¸ä¼šäº§ç”Ÿå¤šä½™çš„ commitï¼‰ï¼Œä½†å¦‚æœå¼€äº†åˆ†æ”¯ä¿æŠ¤ï¼Œæ— æ³•å¼ºæ¨ï¼Œå°±åªå¥½æ¢å¦ä¸€ç§åŠæ³•ï¼Œè¿˜æ˜¯ git revertï¼Œä½†è¦å¤šåŠ ä¸€ä¸ª-m å‚æ•°ï¼š<a href="https://blog.csdn.net/yanlaifan/article/details/115761272" target="_blank" rel="noopener">https://blog.csdn.net/yanlaifan/article/details/115761272</a></p><p>å…ˆçœ‹çœ‹ç”¨:<code>git show commitHash</code>æŸ¥çœ‹ merge äº†å“ªä¸¤ä¸ª mainlineï¼Œç„¶åæŒ‡å®šå›æ»šåˆ°å“ªä¸ª mainlineï¼š</p><p><code>git revert commitHash -m 2</code>ï¼Œå›æ»šåˆ°ç¬¬äºŒä¸ª mainlineã€‚</p><p>è¿™æ ·çš„è¯å°±èƒ½æˆåŠŸ revert äº†ï¼Œè™½ç„¶æ‰¾å›äº†ä¹‹å‰ mainline2 çš„ä»£ç ï¼Œä½†è¿™ç§åšæ³•çš„ç¼ºç‚¹æ˜¯ mainline1 å’Œ mainline2 çš„æ‰€æœ‰ä¸åŒçš„ä»£ç è¡Œçš„ commit ä¿¡æ¯å…¨éƒ¨å˜æˆ revert è¿™ä¸ª commit çš„ä¿¡æ¯äº†</p><h1 id="2022-08-25"><a href="#2022-08-25" class="headerlink" title="2022-08-25"></a>2022-08-25</h1><blockquote><p>åŸç†ï¼šconst é™å®šå¼•ç”¨ä¸å¯æ›´æ”¹ï¼Œas const é™å®šå†…å®¹ä¸å¯æ›´æ”¹ï¼Œå½“å†…å®¹å¯ä»¥æ”¹çš„æ—¶å€™ï¼Œæ˜¾ç„¶ typeof æ— æ³•å‡†ç¡®é™å®šï¼ˆåªèƒ½é™å®šåˆ° string,number è¿™äº›é€šç”¨çš„ç±»å‹ï¼Œæ²¡åŠæ³•é™å®šåˆ°&#39;a&#39;, 1 è¿™äº›å…·ä½“çš„å€¼ï¼‰ï¼Œå½“å†…å®¹ä¸å¯æ”¹äº†ï¼Œè‡ªç„¶ä¼šå¸®ä½ ç¼©å‡åˆ°å…·ä½“å€¼ã€‚</p></blockquote><p>typescript çš„ä¸€äº›å¸¸è§ç”¨æ³•ï¼š</p><h2 id="ä½¿ç”¨æ•°ç»„ä¸­é™å®šçš„-string"><a href="#ä½¿ç”¨æ•°ç»„ä¸­é™å®šçš„-string" class="headerlink" title="ä½¿ç”¨æ•°ç»„ä¸­é™å®šçš„ string"></a>ä½¿ç”¨æ•°ç»„ä¸­é™å®šçš„ string</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = [<span class="string">"a"</span>, <span class="string">"b"</span>] <span class="keyword">as</span> <span class="keyword">const</span>;</span><br><span class="line"><span class="keyword">let</span> b: (<span class="keyword">typeof</span> a)[<span class="built_in">number</span>] = <span class="string">"c"</span>;</span><br></pre></td></tr></table></figure><p>ä¸Šè¿°ä»£ç ä¼šæŠ¥é”™ï¼Œå› ä¸º <code>typeof a[number]</code> é™å®šäº† b çš„ç±»å‹æ˜¯<code>&#39;a&#39;|&#39;b&#39;</code>ï¼Œ<code>as const</code>æ—¢å¯ä»¥è®© a æ˜¯ readonly ç±»å‹ï¼Œåˆå¯ä»¥è®© <code>typeof a[number]</code> ä» string ç±»å‹ç¼©çª„åˆ° <code>&#39;a&#39;|&#39;b&#39;</code></p><blockquote><p>typeof a ç±»å‹æ˜¯ readonly [&#39;a&#39;, &#39;b&#39;]</p></blockquote><p>å¯ä»¥å°†ä¸Šé¢çš„ä»£ç æ”¹å†™ä¸ºï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a: readonly [<span class="string">"a"</span>, <span class="string">"b"</span>] = [<span class="string">"a"</span>, <span class="string">"b"</span>];</span><br><span class="line"><span class="keyword">let</span> b: (<span class="keyword">typeof</span> a)[<span class="built_in">number</span>] = <span class="string">"c"</span>;</span><br></pre></td></tr></table></figure><p>ä½†è¿™ä¸ªè¦å†™ä¸¤éæ•°ç»„ï¼Œçœ‹èµ·æ¥ä¸å¤ªå¥½çœ‹</p><h2 id="ä½¿ç”¨å¯¹è±¡ä¸­é™å®šçš„-string"><a href="#ä½¿ç”¨å¯¹è±¡ä¸­é™å®šçš„-string" class="headerlink" title="ä½¿ç”¨å¯¹è±¡ä¸­é™å®šçš„ string"></a>ä½¿ç”¨å¯¹è±¡ä¸­é™å®šçš„ string</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  a: <span class="string">"a"</span>,</span><br><span class="line">  b: <span class="string">"b"</span>,</span><br><span class="line">&#125; <span class="keyword">as</span> <span class="keyword">const</span>;</span><br><span class="line"><span class="keyword">let</span> b: Item&lt;<span class="keyword">typeof</span> obj&gt; = <span class="string">"c"</span>;</span><br></pre></td></tr></table></figure><p>è¿™æ ·å¯ä»¥è·å–å¯¹è±¡çš„ valueï¼Œæ¯å¤šä¸€å±‚ï¼Œå°±å¯ä»¥å¤šåŠ ä¸€ä¸ª Itemã€‚</p><p>é‚£æ€ä¹ˆè·å–å¯¹è±¡çš„ key å‘¢ï¼Ÿä»£ç å¦‚ä¸‹ï¼š<code>keyof typeof</code></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  <span class="string">'a'</span>: <span class="string">'a'</span>,</span><br><span class="line">  <span class="string">'b'</span>: <span class="string">'b'</span></span><br><span class="line">  <span class="string">'c'</span>: &#123;</span><br><span class="line">    <span class="string">'d'</span>: <span class="string">'d'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125; <span class="keyword">as</span> <span class="keyword">const</span>;</span><br><span class="line"><span class="keyword">let</span> b: keyof <span class="keyword">typeof</span> obj = <span class="string">'d'</span>;</span><br></pre></td></tr></table></figure><p>è€Œä¸”è¿™ä¸ªæ˜¯ä¸ç”¨ as const ä¹Ÿå¯ä»¥çš„</p><h2 id="é™å®šä¸€ä¸ªå¯¹è±¡çš„-key-ä¸å¦ä¸€ä¸ªå¯¹è±¡çš„-key-å®Œå…¨åŒ¹é…"><a href="#é™å®šä¸€ä¸ªå¯¹è±¡çš„-key-ä¸å¦ä¸€ä¸ªå¯¹è±¡çš„-key-å®Œå…¨åŒ¹é…" class="headerlink" title="é™å®šä¸€ä¸ªå¯¹è±¡çš„ key ä¸å¦ä¸€ä¸ªå¯¹è±¡çš„ key å®Œå…¨åŒ¹é…"></a>é™å®šä¸€ä¸ªå¯¹è±¡çš„ key ä¸å¦ä¸€ä¸ªå¯¹è±¡çš„ key å®Œå…¨åŒ¹é…</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">enum</span> DOCTYPE &#123;</span><br><span class="line">  DEVICE = <span class="number">1</span>,</span><br><span class="line">  SYMBOL = <span class="number">2</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> a: Record&lt;DOCTYPE, <span class="built_in">string</span>&gt; = &#123;</span><br><span class="line">  [DOCTYPE.DEVICE]: <span class="string">"aaaa"</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>è¿™æ ·å†™ä¼šæŠ¥é”™ï¼Œåº”è¯¥å°‘äº†ä¸€ä¸ª keyã€‚è¿™ä¸ª Record çš„ä½œç”¨å°±æ˜¯æ–°å»ºä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡çš„ key å®Œå…¨æ²¿ç”¨æ—§å¯¹è±¡çš„ã€‚</p><h2 id="å¦‚æœä¸æƒ³é™å®šå®Œå…¨ä¸€è‡´ï¼Œè¦æ€ä¹ˆå†™"><a href="#å¦‚æœä¸æƒ³é™å®šå®Œå…¨ä¸€è‡´ï¼Œè¦æ€ä¹ˆå†™" class="headerlink" title="å¦‚æœä¸æƒ³é™å®šå®Œå…¨ä¸€è‡´ï¼Œè¦æ€ä¹ˆå†™"></a>å¦‚æœä¸æƒ³é™å®šå®Œå…¨ä¸€è‡´ï¼Œè¦æ€ä¹ˆå†™</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">enum</span> DOCTYPE &#123;</span><br><span class="line">  DEVICE = <span class="number">1</span>,</span><br><span class="line">  SYMBOL = <span class="number">2</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> aa = &#123;</span><br><span class="line">  [key <span class="keyword">in</span> keyof <span class="keyword">typeof</span> DOCTYPE]?: <span class="built_in">string</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> a: aa = &#123;</span><br><span class="line">  [DOCTYPE.DEVICE]: <span class="string">"aaaa"</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>åªéœ€è¦åœ¨ key åé¢åŠ ä¸ªé—®å·ï¼Œå°±è·Ÿå…¶ä»–çš„ä»»æ„ key ä¸€æ ·å¤„ç†ï¼ˆä»Šå¤©è¢«è¿™ä¹ˆä¸€ä¸ªç®€å•çš„é—®é¢˜éš¾ä½äº†ï¼Œè¯´æ˜ä¸ä¼šä¸¾ä¸€åä¸‰ï¼‰</p><h2 id="æ€ä¹ˆè·å–-enum-çš„-key-å’Œ-value-ç±»å‹"><a href="#æ€ä¹ˆè·å–-enum-çš„-key-å’Œ-value-ç±»å‹" class="headerlink" title="æ€ä¹ˆè·å– enum çš„ key å’Œ value ç±»å‹"></a>æ€ä¹ˆè·å– enum çš„ key å’Œ value ç±»å‹</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="keyword">enum</span> Direction &#123;</span><br><span class="line">  a = <span class="string">"vertical"</span>,</span><br><span class="line">  b = <span class="string">"horizontal"</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> k = keyof <span class="keyword">typeof</span> Direction;</span><br><span class="line"><span class="keyword">type</span> v = <span class="string">`<span class="subst">$&#123;Direction&#125;</span>`</span>;</span><br></pre></td></tr></table></figure><h1 id="2022-08-23"><a href="#2022-08-23" class="headerlink" title="2022-08-23"></a>2022-08-23</h1><p>æ²¡ä»€ä¹ˆç”¨ï¼Œä½†ç”¨èµ·æ¥å¾ˆçˆ½çš„å¿«æ·é”®ï¼ŒVscode æ¸…é™¤æ²¡æœ‰ç”¨åˆ°çš„ import è¯­å¥ï¼š</p><p>Mac:<br>option+shift+O</p><p>windows:<br>Alt+shift+O</p><h2 id="é«˜å†…èšï¼Œä½è€¦åˆ"><a href="#é«˜å†…èšï¼Œä½è€¦åˆ" class="headerlink" title="é«˜å†…èšï¼Œä½è€¦åˆ"></a>é«˜å†…èšï¼Œä½è€¦åˆ</h2><ul><li>é«˜å†…èšæ˜¯å‡å°‘äº†ä»£ç é‡ï¼Œå¢åŠ å¤ç”¨ï¼Œé¿å…æ”¹äº†è¿™é‡Œè¿˜è¦æ”¹é‚£é‡Œ</li><li>ä½è€¦åˆæ˜¯å¢åŠ äº†ä»£ç é‡ï¼Œå‡å°‘å¤ç”¨ï¼Œé¿å…æ”¹äº†è¿™é‡Œå´åŠ¨åˆ°äº†é‚£é‡Œ</li></ul><p>æœ¬è´¨ä¸Šéƒ½æ˜¯ä¸ºäº†å°‘ä¿®æ”¹ä»£ç ï¼Œå‡å°‘å·¥ä½œé‡</p><h1 id="2022-08-01"><a href="#2022-08-01" class="headerlink" title="2022-08-01"></a>2022-08-01</h1><p>é‡æ–°åšäº†ä¸€éè¿™ä¸ª CSS é€‰æ‹©å™¨è®­ç»ƒï¼š<a href="https://css-speedrun.netlify.app/" target="_blank" rel="noopener">CSS Speedrun | Test your CSS Skills</a></p><p>æœ‰äº›æˆ‘è¿˜æ˜¯ç”¨çš„æŒºå°‘çš„ï¼Œæ¯”å¦‚<code>:nth-child(2n+3)</code>ï¼Œ<code>img ~ p</code>ï¼Œ<code>a + span</code>ï¼Œ<code>:enable</code>ï¼Œå¹³å¸¸ç”¨çš„æœ€å¤šçš„åº”è¯¥å°±æ˜¯å±æ€§é€‰æ‹©å™¨äº†ï¼Œéƒ½è¿˜æ˜¯é åŠ å±æ€§æ¥æ ‡è®°çš„</p><h1 id="2022-07-25"><a href="#2022-07-25" class="headerlink" title="2022-07-25"></a>2022-07-25</h1><p>HTTP3.0 å±…ç„¶éƒ½æœ‰äº†ï¼Œè€Œä¸”å±…ç„¶æ”¾å¼ƒäº† TCP ä½œä¸ºä¼ è¾“å±‚åè®®ï¼š<a href="https://mp.weixin.qq.com/s/LMjVtUshf67i1gbJI2zDSA" target="_blank" rel="noopener">HTTP 3.0 å½»åº•æ”¾å¼ƒ TCPï¼ŒTCP åˆ°åº•åšé”™äº†ä»€ä¹ˆï¼Ÿ</a></p><h2 id="npm-çš„ä¾èµ–ç‰ˆæœ¬é—®é¢˜-ï¼Œ-ï¼Œ-ä»¥åŠä¸å¸¦å‰ç¼€çš„åŒºåˆ«"><a href="#npm-çš„ä¾èµ–ç‰ˆæœ¬é—®é¢˜-ï¼Œ-ï¼Œ-ä»¥åŠä¸å¸¦å‰ç¼€çš„åŒºåˆ«" class="headerlink" title="npm çš„ä¾èµ–ç‰ˆæœ¬é—®é¢˜: ^ï¼Œ~ï¼Œ*ä»¥åŠä¸å¸¦å‰ç¼€çš„åŒºåˆ«"></a>npm çš„ä¾èµ–ç‰ˆæœ¬é—®é¢˜: <code>^</code>ï¼Œ<code>~</code>ï¼Œ<code>*</code>ä»¥åŠä¸å¸¦å‰ç¼€çš„åŒºåˆ«</h2><ul><li><code>~</code>ä¼šåŒ¹é…æœ€è¿‘çš„å°ç‰ˆæœ¬ä¾èµ–åŒ…ï¼Œæ¯”å¦‚~1.2.3 ä¼šåŒ¹é…æ‰€æœ‰ 1.2.x ç‰ˆæœ¬ï¼Œä½†æ˜¯ä¸åŒ…æ‹¬ 1.3.0</li><li><code>^</code>ä¼šåŒ¹é…æœ€æ–°çš„å¤§ç‰ˆæœ¬ä¾èµ–åŒ…ï¼Œæ¯”å¦‚^1.2.3 ä¼šåŒ¹é…æ‰€æœ‰ 1.x.x çš„åŒ…ï¼ŒåŒ…æ‹¬ 1.3.0ï¼Œä½†æ˜¯ä¸åŒ…æ‹¬ 2.0.0</li><li>å†™<code>*</code>ï¼Œè¿™æ„å‘³ç€å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„ä¾èµ–åŒ…</li><li>ç‰ˆæœ¬å·ä¸å¸¦å‰ç¼€ï¼Œåˆ™å›ºå®šå®‰è£…è¿™ä¸ªç‰ˆæœ¬</li></ul><p>æœ€å package-lock.json ä¼šé”ä½ç‰ˆæœ¬ï¼Œæ‰€ä»¥å¦‚æœæƒ³è¦é‡æ–°å®‰è£…ï¼Œè¦åˆ æ‰é‡Œé¢çš„ç›¸å…³é…ç½®</p><h1 id="2022-07-22"><a href="#2022-07-22" class="headerlink" title="2022-07-22"></a>2022-07-22</h1><p>ç¿»è‡ªå·±çš„è±†åˆ—å‘ç°æ”¶è—äº† 15 ç¯‡æ–‡ç« ï¼Œä½†æ²¡å•¥å°è±¡ï¼Œäºæ˜¯ä¸€ä¸ªä¸€ä¸ªæ‰“å¼€çœ‹ï¼Œå…¶ä¸­æœ‰ä¸€ç¯‡æ˜¯è®²æ¶ˆè´¹å“å‘³çš„ï¼Œä¸€ç›´è§‰å¾—è‡ªå·±åœ¨ç©¿è¡£æ‰“æ‰®æ–¹é¢æ³¨æ„å¾—æ¯”è¾ƒæ™šï¼Œä¸Šé¢æ¨èçš„å‡ æ¬¾ä¸œè¥¿ï¼Œçœ‹èµ·æ¥è¿˜ä¸é”™ï¼Œåˆ°æ—¶å€™æŒ‘ä¸€äº›ä¹°ã€‚</p><p><a href="https://www.douban.com/note/540009246/?_i=8412550refpEge,8470363refpEge" target="_blank" rel="noopener">å¤§å­¦å››å¹´å¿…å¤‡å•å“æ¸…å•â€”â€”ç”·ç”Ÿç¯‡</a></p><p><a href="https://www.chiphell.com/article-25725-1.html" target="_blank" rel="noopener">æ´»åŠ¨--CHH ç¬¬ä¸‰å±Šæ¡Œé¢ Show æ´»åŠ¨</a></p><h1 id="2022-07-21"><a href="#2022-07-21" class="headerlink" title="2022-07-21"></a>2022-07-21</h1><p>å¸®ç»„å‘˜è§£å†³ä¸€ä¸ª tinymce.js åœ¨ nextjs ä¸­æŠ¥é”™çš„é—®é¢˜ï¼ŒåŸå› æ˜¯ tinymc.js ä¸­ä½¿ç”¨äº† navigatorï¼ŒæœåŠ¡ç«¯æ²¡æœ‰è¿™ä¸ªå¯¹è±¡ã€‚</p><p>nextjs é‡åˆ°å¿…é¡»åœ¨å®¢æˆ·ç«¯æ¸²æŸ“çš„å†…å®¹ï¼Œè¦æ€ä¹ˆåŠå‘¢ï¼Ÿç­”æ¡ˆæ˜¯åˆ¤æ–­ç¯å¢ƒï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="built_in">window</span> !== <span class="string">'undefined'</span>)&#123;</span><br><span class="line">  <span class="comment">// æ‰§è¡Œå¿…é¡»åœ¨å®¢æˆ·ç«¯æ‰§è¡Œçš„ä»£ç </span></span><br><span class="line">  <span class="built_in">require</span>(<span class="string">'tinymce'</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="2022-07-17"><a href="#2022-07-17" class="headerlink" title="2022-07-17"></a>2022-07-17</h1><p>çŒ«ç ‚è¦æ€ä¹ˆé€‰ï¼Ÿä»Šå¤©åšäº†ä¸€ä¸‹åŠŸè¯¾</p><p>é¦–å…ˆè¦çŸ¥é“çŒ«ç ‚çš„å››ä¸ªé‡è¦å±æ€§ï¼š</p><ul><li>æ˜“ç»“å—</li><li>å¸å‘³ï¼Œé™¤è‡­</li><li>å°˜å°‘</li><li>ä¸ç²˜åº•ï¼Œä¸ç²˜é“²</li></ul><p>ç„¶åæ˜¯çŒ«ç ‚åˆ†ç±»ï¼Œä¸»è¦åˆ†ä¸ºè¿™å››ç±»ï¼š</p><ul><li>è†¨æ¶¦åœŸçŒ«ç ‚<ul><li>ä¼˜ç‚¹ï¼š<strong>è†¨æ¶¦åœŸçŒ«ç ‚æ˜¯å†å²æœ€æ‚ ä¹…çš„çŒ«ç ‚ï¼Œåœ¨ç»“å›¢ä¸Šé¢æœ‰éå¸¸å‡ºè‰²çš„è¡¨ç°</strong>ã€‚è†¨æ¶¦åœŸçŒ«ç ‚çš„å¸æ°´æ€§æ˜¯ä¸é”™çš„ï¼Œå¯ä»¥å°†ç²ªä¾¿é‡Œçš„æ°´åˆ†å’Œå°¿æ¶²å®Œå…¨å¸æ”¶ï¼Œå‡ç»“æˆä¸€ä¸ªå¤§ç¡¬å›¢ï¼Œæ¸…ç†èµ·æ¥æ¯”è¾ƒæ–¹ä¾¿ï¼Œè€Œä¸”æ¯”è¾ƒç¬¦åˆçŒ«å’ªåœ¨é‡å¤–çš„æ„Ÿè§‰ï¼Œ<strong>å¯¹çŒ«å’ªçš„è„šæ„Ÿä¹Ÿæ¯”è¾ƒå¥½ã€‚ä¸”ä¾¿å®œã€‚</strong></li><li>ç¼ºç‚¹ï¼šä¾¿å®œçš„ç²‰å°˜ç‰¹åˆ«å¤§ï¼Œå¹¶ä¸”<strong>ä¸èƒ½å†²å•æ‰€</strong>ã€‚</li></ul></li><li>æ¾æœ¨çŒ«ç ‚</li><li>æ°´æ™¶çŒ«ç ‚</li><li>è±†è…çŒ«ç ‚<ul><li>ä¼˜ç‚¹ï¼šå¯ä»¥ç›´æ¥å†²å•æ‰€</li></ul></li></ul><p>å¦‚æœä¸è€ƒè™‘ç›´æ¥å†²å•æ‰€çš„è¯ï¼Œè‚¯å®šæ˜¯è†¨æ¶¦åœŸå’Œæ··åˆçŒ«ç ‚æœ€å¥½ã€‚</p><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ul><li><a href="https://zhuanlan.zhihu.com/p/308486564" target="_blank" rel="noopener">æ–°æ‰‹è†¨æ¶¦åœŸçŒ«ç ‚æ¨èï¼ˆå«è¯¦ç»†æ¸…å•æ”»ç•¥ï¼‰</a></li><li><a href="https://zhuanlan.zhihu.com/p/437674365" target="_blank" rel="noopener">2022 å¹´çŒ«ç ‚é€‰è´­æ¨èï¼ˆè†¨æ¶¦åœŸã€è±†è…ç ‚ã€æ··åˆç ‚ï¼‰- çŸ¥ä¹</a></li></ul><p>ç¬¬äºŒç¯‡æ–‡ç« çš„æµ‹è¯•æ‰‹æ³•æŒºæœ‰æ„æ€çš„ã€‚</p><h1 id="2022-07-06"><a href="#2022-07-06" class="headerlink" title="2022-07-06"></a>2022-07-06</h1><p>ç›®å‰ lceda çš„åŸç†å›¾å’Œé¢æ¿é¡¹ç›®éƒ½è¿˜æ˜¯ç”¨çš„ svg æ¥åšç”»å¸ƒï¼Œä½†å¯¹äº svg çš„å¾ˆå¤šä¸œè¥¿å…¶å®æˆ‘å¹¶ä¸ç†Ÿæ‚‰ï¼Œä»Šå¤©çœ‹äº†ä¸€ç¯‡æ–‡ç« äº†è§£äº†ä¸€ä¸‹ text å’Œ tspan çš„ dx å’Œ dy çš„ç”¨æ³•ï¼š</p><p><a href="https://blog.csdn.net/zz00008888/article/details/121099382" target="_blank" rel="noopener">SVG æ–‡æœ¬ï¼ˆä¸€ï¼‰textã€tspan çš„åŸºæœ¬ä½¿ç”¨</a></p><p>dx å’Œ dy å¯ä»¥æ˜¯ä¸€ä¸²ä»¥ç©ºæ ¼åˆ†ç•Œçš„æ•°å­—ï¼Œè¿™æ ·å°±å¯ä»¥å¾®è°ƒæ¯ä¸ªå­—ç¬¦äº†ï¼Œæ¯ä¸ªæ•°å­—ä¼šå½±å“ä¹‹åçš„æ‰€æœ‰å­—ç¬¦ï¼Œè€Œä¸”å¤šä¸ª tspan çš„ dx å’Œ dy å‰ä¸€ä¸ª tspan ä¼šå½±å“åé¢çš„ã€‚è¿™ä¸ªè®¾è®¡çœ‹èµ·æ¥è¿˜ä¸é”™ã€‚</p><h1 id="2022-07-05"><a href="#2022-07-05" class="headerlink" title="2022-07-05"></a>2022-07-05</h1><p>crypto.subtle åœ¨ä¸å®‰å…¨çš„ä¸Šä¸‹æ–‡ä¸­æ˜¯ undefinedï¼Œæ¯”å¦‚å½“ç½‘ç«™æ˜¯ http çš„æ—¶å€™ã€‚</p><p><a href="https://stackoverflow.com/questions/46468104/how-to-use-subtlecrypto-in-chrome-window-crypto-subtle-is-undefined" target="_blank" rel="noopener">How to use SubtleCrypto in chrome (window.crypto.subtle is undefined)</a></p><h1 id="2022-06-30"><a href="#2022-06-30" class="headerlink" title="2022-06-30"></a>2022-06-30</h1><p>textarea ä¸­æŒ‰ä½ ctrlï¼Œaltï¼Œshift ä»¥åŠ win è¿™å‡ ä¸ªé”®ï¼Œå†æŒ‰ enterï¼Œæœ‰çš„èƒ½æ¢è¡Œæœ‰çš„ä¸èƒ½ï¼š</p><p>èƒ½æ¢è¡Œçš„ï¼š</p><ul><li>shift</li></ul><p>ä¸èƒ½æ¢è¡Œçš„ï¼ˆä»€ä¹ˆéƒ½ä¸è§¦å‘ï¼‰ï¼š</p><ul><li>ctrl</li><li>alt</li><li>win</li></ul><blockquote><p>æ€ä¹ˆæ§åˆ¶å…‰æ ‡ä½ç½®ï¼šè®©è¾“å…¥æ¡†çš„ selectionStart ç­‰äº selectionEnd</p></blockquote><h1 id="2022-06-23"><a href="#2022-06-23" class="headerlink" title="2022-06-23"></a>2022-06-23</h1><h2 id="å¼‚æˆ–äº¤æ¢"><a href="#å¼‚æˆ–äº¤æ¢" class="headerlink" title="å¼‚æˆ–äº¤æ¢"></a>å¼‚æˆ–äº¤æ¢</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">swapTwoNumber</span>(<span class="params">a, b</span>)</span>&#123;</span><br><span class="line">  a ^= b;</span><br><span class="line">  b ^= a;</span><br><span class="line">  a ^= b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¼‚æˆ–äº¤æ¢åœ¨äº¤æ¢åŒä¸€ä¸ªæ•°ï¼ˆå†…å­˜åœ°å€ç›¸åŒï¼Œè€Œéä»…ä»…æ•°å€¼ç›¸åŒï¼‰çš„æ—¶å€™ï¼Œä¼šæŠŠè¿™ä¸ªæ•°å˜æˆ 0ï¼Œæ¯”å¦‚ swap(x,x)ï¼Œç”±äºæ‰§è¡Œç¬¬ä¸€æ­¥<code>a ^= b;</code>çš„æ—¶å€™ï¼Œå·²ç»è®© x å˜æˆäº† 0ï¼Œæ‰€ä»¥åé¢å†æ‰§è¡Œå‰©ä¸‹ä¸¤æ­¥çš„æ—¶å€™ä¹Ÿå˜ä¸å›æ¥äº†ã€‚</p><h1 id="2022-06-17"><a href="#2022-06-17" class="headerlink" title="2022-06-17"></a>2022-06-17</h1><h2 id="å¼¹æ¡†ç­‰å¾…ç”¨æˆ·äº¤äº’"><a href="#å¼¹æ¡†ç­‰å¾…ç”¨æˆ·äº¤äº’" class="headerlink" title="å¼¹æ¡†ç­‰å¾…ç”¨æˆ·äº¤äº’"></a>å¼¹æ¡†ç­‰å¾…ç”¨æˆ·äº¤äº’</h2><p>å¦‚ä½•å®ç°ï¼šåœ¨ä¸€ä¸ªå¼¹æ¡†çš„å›è°ƒï¼ˆç”¨æˆ·ç‚¹å‡»æ˜¯æˆ–è€…å¦ï¼‰ä¹‹åæ‰æ‰§è¡Œæ¥ä¸‹æ¥çš„é€»è¾‘ï¼Ÿ</p><p>ç­”æ¡ˆæ˜¯ï¼š<strong>ç”¨ Promise å°±å¯ä»¥é˜»æ–­ä»£ç æµç¨‹</strong>ï¼Œå¼¹æ¡†ä¹‹åçš„é€»è¾‘å¿…é¡»ç­‰å¾…å¼¹æ¡†çš„å›è°ƒå‡½æ•°ä¸­çš„ resolve æˆ– reject è¢«æ‰§è¡Œï¼Œæ‰èƒ½æ¥ç€æ‰§è¡Œï¼Œè€Œå›è°ƒå‡½æ•°åˆ™å¿…é¡»ç­‰å¾…ç”¨æˆ·çš„ç‚¹å‡»ï¼Œè¿™æ ·å°±å®ç°äº†ä¸€ä¸ªç­‰å¾…ç”¨æˆ·äº¤äº’çš„é€»è¾‘ã€‚</p><h2 id="TS-è¡¨è¾¾ä¸€ä¸ªå¯¹è±¡ç±»å‹"><a href="#TS-è¡¨è¾¾ä¸€ä¸ªå¯¹è±¡ç±»å‹" class="headerlink" title="TS è¡¨è¾¾ä¸€ä¸ªå¯¹è±¡ç±»å‹"></a>TS è¡¨è¾¾ä¸€ä¸ªå¯¹è±¡ç±»å‹</h2><p>TS æˆ‘ä¸€ç›´ç”¨çš„æ¯”è¾ƒå°‘ï¼Œä¹‹å‰è¿˜æƒ³ä¸€ä¸ªå¯¹è±¡ key å’Œ value éƒ½æ˜¯ stringï¼Œç”¨ ts æ€ä¹ˆè¡¨ç¤ºï¼š<code>let v: {[key:string]:string}</code></p><h1 id="2022-06-16"><a href="#2022-06-16" class="headerlink" title="2022-06-16"></a>2022-06-16</h1><p>åœ¨ä½¿ç”¨ <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLInputElement/setSelectionRange" target="_blank" rel="noopener">HTMLInputElement.setSelectionRange()</a>æ—¶å‘ç°ä¸€ä¸ªé—®é¢˜ï¼Œè¶…å‡º input çš„å®½åº¦çš„ä½ç½®æ— æ³•è¢«å®šä½åˆ°ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒä¸ä¼šæ»šåŠ¨æ–‡æœ¬ï¼Œå¦‚æœæƒ³æ»šåŠ¨åˆ°æŒ‡å®šä½ç½®æ€ä¹ˆåŠå‘¢ï¼Ÿç›®å‰è¿˜ä¸çŸ¥é“æ€ä¹ˆè§£å†³ã€‚</p><h1 id="2022-06-15"><a href="#2022-06-15" class="headerlink" title="2022-06-15"></a>2022-06-15</h1><p>æœ€è¿‘å·¥ä½œå¾ˆæ‚ä¹±ï¼Œäº‹æƒ…å¾ˆå¤šï¼Œä»Šå¤©äº†è§£äº†ä¸€ä¸‹æ–œåˆ‡æ˜¯ä»€ä¹ˆï¼Œæˆ‘åŸå…ˆä»¥ä¸ºæ˜¯å¹³ç§»+æ—‹è½¬ï¼Œæ²¡æƒ³åˆ°æ ¹æœ¬ä¸æ˜¯ï¼Œæ–œåˆ‡å…¶å®æ˜¯å€¾æ–œã€‚æœ€è¿‘åŒäº‹åœ¨åšæ–œåˆ‡æ¤­åœ†çš„å››ç‚¹æ§åˆ¶ï¼Œè¿™æ˜¯ä»–å†™çš„å…³äºå›¾å½¢å˜æ¢çš„åŸºç¡€çš„åšå®¢ï¼š<a href="https://zengxiaoluan.com/matrix-image" target="_blank" rel="noopener">https://zengxiaoluan.com/matrix-image</a> ã€‚ä»ä»Šå¤©å¼€å§‹æ‰“ç®—æŠŠä¹‹å‰ wordpress è¢«é»‘ä¸¢å¤±çš„åšå®¢è¡¥ä¸€è¡¥äº†ï¼Œä¸»è¦æ˜¯ä¸€äº›å‰ç«¯çš„é¢è¯•è€ƒå¯Ÿç‚¹ä»¥åŠå·¥ä½œä¸­é‡åˆ°çš„é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆï¼Œå¤§éƒ¨åˆ†å¯èƒ½éƒ½æƒ³ä¸èµ·æ¥äº†ï¼Œèƒ½è¡¥å¤šå°‘æ˜¯å¤šå°‘å§ã€‚æµè§ˆå™¨ä¹¦ç­¾å’Œæˆ‘æ¥ç¬”è®°éƒ½æœ‰ç‚¹ä¹±ï¼Œæœ‰ç©ºä¹Ÿè¦æ•´ç†ä¸€ä¸‹ã€‚</p><h1 id="2022-06-12"><a href="#2022-06-12" class="headerlink" title="2022-06-12"></a>2022-06-12</h1><p>ä»Šæ—©ä¸Šä¸€èµ·æ¥å‘ç°æœåŠ¡å™¨å±…ç„¶è¿ä¸ä¸Šäº†ï¼Œè¯•äº†ä¸€ä¸‹å±…ç„¶ ping ä¸é€šäº†ï¼Œä¼°è®¡æ˜¯è¿™ä¸ª ip åˆè¢«å¢™äº†ã€‚ä¸ºäº†å°½å¿«å¼„å¥½ç¿»å¢™çš„ï¼Œæˆ‘è¯•äº†æœ‹å‹å‘ç»™æˆ‘çš„ clashX ä»¥åŠç¿»å¢™é…ç½®ï¼ŒçœŸçš„ä¸é”™ï¼Œé€Ÿåº¦éå¸¸å¿«ã€‚</p><p>ä¸»è¦å‚è€ƒäº†è¿™ç¯‡æ–‡ç« ï¼š<a href="https://github.com/Hackl0us/SS-Rule-Snippet" target="_blank" rel="noopener">https://github.com/Hackl0us/SS-Rule-Snippet</a></p><p>Clash é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/Dreamacro/clash" target="_blank" rel="noopener">https://github.com/Dreamacro/clash</a></p><p>ClashX é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/yichengchen/clashX/" target="_blank" rel="noopener">https://github.com/yichengchen/clashX/</a></p><p>ClashX windows ä¸‹è½½åœ°å€ï¼š<a href="https://github.com/Fndroid/clash_for_windows_pkg/releases/tag/0.19.25" target="_blank" rel="noopener">https://github.com/Fndroid/clash_for_windows_pkg/releases/tag/0.19.25</a></p><p>ClashX Pro macOS ä¸‹è½½åœ°å€ï¼š<a href="https://install.appcenter.ms/users/clashx/apps/clashx-pro/distribution_groups/public" target="_blank" rel="noopener">https://install.appcenter.ms/users/clashx/apps/clashx-pro/distribution_groups/public</a></p><p>ClashX Android ä¸‹è½½åœ°å€ï¼š<a href="https://github.com/Kr328/ClashForAndroid/releases/tag/v2.5.9" target="_blank" rel="noopener">https://github.com/Kr328/ClashForAndroid/releases/tag/v2.5.9</a></p><p>è´­ä¹°é“¾æ¥ï¼š<a href="https://portal.shadowsocks.nz/login" target="_blank" rel="noopener">https://portal.shadowsocks.nz/login</a></p><p>Clash æ–‡æ¡£ï¼š<a href="https://lancellc.gitbook.io/clash/" target="_blank" rel="noopener">https://lancellc.gitbook.io/clash/</a></p><p>å‘ç°ä¿®æ”¹ ClashX çš„ç«¯å£ä¸ç”Ÿæ•ˆï¼Œåæ¥æ‰¾åˆ°äº†åŸå› ï¼ŒåŸæ¥å¿…é¡»è¦ä¿®æ”¹ config.yaml æ–‡ä»¶æ‰è¡Œï¼š<a href="https://github.com/yichengchen/clashX/#Advance" target="_blank" rel="noopener">https://github.com/yichengchen/clashX/#Advance</a> Configï¼Œå…¶å®é»˜è®¤é…ç½®é‡Œçš„æ³¨é‡Šä¹Ÿå†™äº†è¿™ä¸ªå‘ï¼Œä½†æ˜¯æˆ‘çäº†æ²¡çœ‹åˆ°ï¼š</p><p><img src="../images/2022/ClashXé»˜è®¤é…ç½®.jpg" alt="ClashXé»˜è®¤é…ç½®"></p><p>æˆ‘æ˜¯åœ¨ github çš„ issue é‡Œé¢æœåˆ°çš„ï¼Œåæ­£ä¸‡äº‹è§£å†³ä¸äº†æ issueã€‚</p><h1 id="2022-06-11"><a href="#2022-06-11" class="headerlink" title="2022-06-11"></a>2022-06-11</h1><h2 id="wordpress-åšå®¢è¢«é»‘"><a href="#wordpress-åšå®¢è¢«é»‘" class="headerlink" title="wordpress åšå®¢è¢«é»‘"></a>wordpress åšå®¢è¢«é»‘</h2><p>æœ€è¿‘æƒ³æŠŠ wordpress ä¸Šçš„æ–‡ç« è¿ç§»åˆ° github.ioã€‚ä»Šå¤©ä¸€æ‰“å¼€æˆ‘çš„ wordpress åšå®¢ï¼Œçªç„¶ç›´æ¥è·³åˆ° wordpress çš„å®‰è£…ç•Œé¢ï¼Œæˆ‘æ„Ÿè§‰æŒºå¥‡æ€ªçš„ï¼Œæœ‰ç§ä¸å¥½çš„é¢„æ„Ÿã€‚æ‰“å¼€æ•°æ®åº“ä¸€çœ‹æœç„¶åˆè¢«é»‘äº†ï¼Œé™¤äº† wordpress æ•°æ®åº“ï¼Œé¡ºå¸¦å…¶ä»–å‡ ä¸ª mysql çš„æ•°æ®åº“ä¹Ÿè¢«é»‘äº†ã€‚å› ä¸ºæˆ‘è¿˜åœ¨æˆ‘æœåŠ¡å™¨ä¸Šè·‘ç€æˆ‘è‡ªå·±å†™çš„é‡åŒ–äº¤æ˜“çš„è„šæœ¬ï¼Œmysql çš„æŸä¸ªæ•°æ®åº“é‡Œé¢æœ‰å¸å®‰çš„ api keyï¼Œå“å¾—æˆ‘ç«‹é©¬å»å¸å®‰åˆ  apiã€‚æˆ‘æ‹…å¿ƒå¯èƒ½ linux æœåŠ¡å™¨çš„è´¦å·å¯†ç éƒ½è¢«é»‘äº†ï¼Œè€Œä¸”ä¹Ÿæœ‰å¯èƒ½åœ¨æˆ‘æœåŠ¡å™¨æ”¾äº†ä»€ä¹ˆå…¶ä»–å¯æ€•çš„ç—…æ¯’ï¼Œå¹²è„†è¿˜æ˜¯é‡ç½®ä¸€ä¸‹æœåŠ¡å™¨ï¼Œä»¥åŠç›¸å…³çš„æ‰€æœ‰è´¦å·å¯†ç ã€‚</p><p>ä¸Šæ¬¡æˆ‘çš„ wordpress è¢«æ”»å‡»è¿˜æ˜¯ 2016 å¹´çš„äº‹äº†ï¼Œå½“æ—¶æˆ‘æ‰æ²¡ç”¨å‡ ä¸ªæœˆï¼Œå†™äº†å¤§æ¦‚ä¸‰ç¯‡æ–‡ç« ï¼Œå°±è¢«é»‘äº†ï¼Œå½“æ—¶é»‘å®¢ç•™ä¸‹æ¥çš„æ˜¯ä¸ª QQï¼Œè¿™æ¬¡æ˜¯ä¸ªæ¯”ç‰¹å¸åœ°å€ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">readme:</span><br><span class="line">To recover your lost Database send 0.0115 Bitcoin (BTC) to our Bitcoin address: bc1qtr4px3ngv80tz2j9e49jxcmtqthfnw8xhux4as  After this, contact us by email with your Server IP or Domain Name and a Proof of Payment (Payment ID). Your Database is downloaded and backed up on our servers. Backups that we have right now: chaobi, e_business, stock, wordpress. Any email without your server IP Address or Domain Name and a Proof of Payment together will be ignored. If we dont receive your payment in the next 10 Days, we will delete or leak your sensitive information.</span><br><span class="line"></span><br><span class="line">BTC_address:</span><br><span class="line">bc1qtr4px3ngv80tz2j9e49jxcmtqthfnw8xhux4as</span><br><span class="line"></span><br><span class="line">email:</span><br><span class="line">support@dbrestore2022.to</span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2022/06/11/rbelB5sHhZQLofY.png" alt="image.png"></p><p>å¯æƒœæˆ‘å†™äº†è¿™ä¹ˆå¤šæ–‡ç« éƒ½è¿˜æ²¡æœ‰å¤‡ä»½</p><h2 id="åŠç†èº«ä»½è¯"><a href="#åŠç†èº«ä»½è¯" class="headerlink" title="åŠç†èº«ä»½è¯"></a>åŠç†èº«ä»½è¯</h2><p>ä»Šå¤©é¡ºå¸¦æŠŠèº«ä»½è¯é‡æ–°åŠäº†ä¸€ä¸‹ï¼ŒåŠç†èº«ä»½è¯å‰é¦–å…ˆéœ€è¦å»ç…§ç›¸é¦†ç…§ä¸€å¼ èº«ä»½è¯è¯ä»¶ç…§ï¼Œç„¶åå†å»æ´¾å‡ºæ‰€æˆ·æ”¿å®¤åŠç†ã€‚è¯ä»¶ç…§éœ€è¦ä¸Šä¼ åˆ°ä¸€ä¸ªç…§ç‰‡è´¨é‡æ£€æµ‹ç½‘ç«™ä¸Šè¿›è¡Œæ ¸å¯¹ï¼Œå¹¶äº§ç”Ÿä¸€ä¸ªç¼–å·ã€‚å»æˆ·æ”¿å®¤çš„æ—¶å€™æä¾›è¿™ä¸ªç¼–å·ä»–ä»¬å°±å¯ä»¥æ‰¾åˆ°è¿™ä¸ªç…§ç‰‡äº†ã€‚</p><p>æˆ‘æ˜¯åœ¨æ·±åœ³æœ¬åœ°å®ä¸Šé¢æŸ¥åˆ°å½“åœ°æ´¾å‡ºæ‰€æˆ·æ”¿å®¤çš„åœ°å€çš„ï¼š</p><p><a href="http://m.bendibao.com/bsy616684.html" target="_blank" rel="noopener">http://m.bendibao.com/bsy616684.html</a></p><p>æ™¯ç”°çš„æˆ·æ”¿å®¤å·²ç»ä»åŸæ¥çš„åœ°æ–¹æ¬åˆ°é¦™èœœæ¹–äº†ï¼Œåœ¨é«˜å¾·åœ°å›¾ä¸Šå¯ä»¥æœå¾—åˆ°é¦™èœœæ¹–çš„æˆ·æ”¿å®¤åœ°å€ï¼š<code>ç¦ç”°å…¬å®‰åˆ†å±€é¦™èœœæ¹–æˆ·æ”¿æœåŠ¡ä¸­å¿ƒ</code>ï¼Œå¦å¤–ä»–ä»¬çš„åŠå…¬æ—¶é—´ä¹Ÿæ”¹äº†ï¼Œä¸‹åˆ 4 ç‚¹å°±æ”¶æ‘Šäº†ã€‚</p><h1 id="2022-06-10"><a href="#2022-06-10" class="headerlink" title="2022-06-10"></a>2022-06-10</h1><p>ä»Šå¤©å‘ç°ä¸€ä¸ª bug è·Ÿ tagName æœ‰å…³ï¼ŒåŸå› æ˜¯ document æ²¡æœ‰ tagNameï¼Œ<strong>document.tagName æ˜¯ undefined</strong>ï¼Œå¯¼è‡´ä»£ç æŠ¥é”™ã€‚</p><h2 id="toJSON-æ–¹æ³•"><a href="#toJSON-æ–¹æ³•" class="headerlink" title="toJSON()æ–¹æ³•"></a>toJSON()æ–¹æ³•</h2><p>ä¸€ä¸ªå¯¹è±¡å®šä¹‰äº† toJSON æ–¹æ³•çš„è¯ï¼ŒJSON.stringify å°±ä¼šå»è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œè¿”å›å®šåˆ¶åŒ–çš„å­—ç¬¦ä¸²ã€‚</p><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify" target="_blank" rel="noopener">https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify</a></p><p>If an object being stringified has a property named toJSON whose value is a function, then the toJSON() method customizes JSON stringification behavior: instead of the object being serialized, the value returned by the toJSON() method when called will be serialized. JSON.stringify() calls toJSON with one parameter:</p><ul><li>if this object is a property value, the property name</li><li>if it is in an array, the index in the array, as a string</li><li>an empty string if JSON.stringify() was directly called on this object</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> bonnie = &#123;</span><br><span class="line">  name: <span class="string">'Bonnie Washington'</span>,</span><br><span class="line">  age: <span class="number">17</span>,</span><br><span class="line">  class: 'Year 5 Wisdom',</span><br><span class="line">  isMonitor: <span class="literal">false</span>,</span><br><span class="line">  toJSON: <span class="function"><span class="keyword">function</span>(<span class="params">key</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// Clone object to prevent accidentally performing modification on the original object</span></span><br><span class="line">    <span class="keyword">const</span> cloneObj = &#123; ...this &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">delete</span> cloneObj.age;</span><br><span class="line">    <span class="keyword">delete</span> cloneObj.isMonitor;</span><br><span class="line">    cloneObj.year = <span class="number">5</span>;</span><br><span class="line">    cloneObj.class = <span class="string">'Wisdom'</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (key) &#123;</span><br><span class="line">      cloneObj.code = key;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> cloneObj;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">JSON</span>.stringify(bonnie);</span><br><span class="line"><span class="comment">// Returns '&#123;"name":"Bonnie Washington","class":"Wisdom","year":5&#125;'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> students = &#123;bonnie&#125;;</span><br><span class="line"><span class="built_in">JSON</span>.stringify(students);</span><br><span class="line"><span class="comment">// Returns '&#123;"bonnie":&#123;"name":"Bonnie Washington","class":"Wisdom","year":5,"code":"bonnie"&#125;&#125;'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> monitorCandidate = [bonnie];</span><br><span class="line"><span class="built_in">JSON</span>.stringify(monitorCandidate)</span><br><span class="line"><span class="comment">// Returns '[&#123;"name":"Bonnie Washington","class":"Wisdom","year":5,"code":"0"&#125;]'</span></span><br></pre></td></tr></table></figure><h2 id="å¤§å‹è½¯ä»¶çš„è®¾è®¡å¾ˆé‡è¦"><a href="#å¤§å‹è½¯ä»¶çš„è®¾è®¡å¾ˆé‡è¦" class="headerlink" title="å¤§å‹è½¯ä»¶çš„è®¾è®¡å¾ˆé‡è¦"></a>å¤§å‹è½¯ä»¶çš„è®¾è®¡å¾ˆé‡è¦</h2><p>ä¸º EDA å†™äº†å¿«ä¸‰å¹´ä»£ç äº†ï¼Œæˆ‘çš„æ„Ÿè§‰å°±æ˜¯å¯¹äºç¨å¾®å¤æ‚ä¸€ç‚¹çš„è½¯ä»¶ï¼Œè®¾è®¡çœŸçš„å¾ˆé‡è¦ã€‚åœ¨æ–°åŠ æŸä¸ªéœ€æ±‚åï¼Œå¯èƒ½å› ä¸ºä¸å¥½çš„è®¾è®¡äº§ç”Ÿå¾ˆå¤š bugï¼Œä¹Ÿæœ‰å¯èƒ½å› ä¸ºåŸå…ˆå­˜åœ¨çš„ä»£ç è®¾è®¡ä¸åˆç†ï¼Œå¯¼è‡´æ–°éœ€æ±‚å¾ˆéš¾å†™ï¼Œåˆ°å¤„éƒ½è¦åŸ‹ç‚¹ã€‚</p><p>æˆ‘çš„ leader å†™äº†è¿™æ®µè¯ï¼Œæˆ‘è§‰å¾—å¾ˆå¯¹ï¼š</p><blockquote><p>å¾ˆå¤šç³Ÿç³•çš„è®¾è®¡éš¶å±äºæŸä¸ªæ›´å¤§çš„ç³Ÿç³•è®¾è®¡ï¼Œè€Œè¿™ä¸ªæ›´å¤§çš„ç³Ÿç³•è®¾è®¡å¯ä»¥è¢«ä¸€ä¸¤è¡Œç²¾å¦™çš„ä»£ç æ•´ä¸ªä»£æ›¿æ‰ï¼Œä½ åœ¨å±€éƒ¨ä¼˜åŒ–åŠå¤©æ¯«æ— æ„ä¹‰ã€‚</p></blockquote><h1 id="2019-02-27"><a href="#2019-02-27" class="headerlink" title="2019-02-27"></a>2019-02-27</h1><p>Java åå°„ï¼Œåå°„çš„ä½œç”¨åŒ…æ‹¬ï¼Œåœ¨è¿è¡Œæ—¶åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ‰€å±çš„ç±»ï¼Œç»™æŸä¸ªæœªçŸ¥çš„ç±»æ–°å»ºä¸€ä¸ªå¯¹è±¡ï¼Œè·å–ä»»æ„ä¸€ä¸ªç±»çš„æˆå‘˜å˜é‡å’Œæ–¹æ³•ï¼Œå¹¶è°ƒç”¨ã€‚å¦‚æœä½ æ˜¯åˆå­¦åå°„ï¼Œè¿™ä¹ˆè¯´ä½ ä¸€å®šä¸çŸ¥é“æˆ‘åœ¨è¯´ä»€ä¹ˆã€‚ä½†ä¸¾ä¸ªä¾‹å­å°±æ¯”è¾ƒå®¹æ˜“ç†è§£äº†ã€‚é‚£å°±æ˜¯ç”¨é…ç½®æ–‡ä»¶åŠ¨æ€æ§åˆ¶ç¨‹åºè¦åŠ è½½çš„ç±»ï¼š</p><p>ä¸¾ä¸ªä¾‹å­æˆ‘ä»¬çš„é¡¹ç›®åº•å±‚æœ‰æ—¶æ˜¯ç”¨ mysqlï¼Œæœ‰æ—¶ç”¨ oracleï¼Œéœ€è¦åŠ¨æ€åœ°æ ¹æ®å®é™…æƒ…å†µåŠ è½½é©±åŠ¨ç±»ï¼Œè¿™ä¸ªæ—¶å€™åå°„å°±æœ‰ç”¨äº†ï¼Œå‡è®¾ com.java.dbtest.myqlConnectionï¼Œcom.java.dbtest.oracleConnection è¿™ä¸¤ä¸ªç±»æˆ‘ä»¬è¦ç”¨ï¼Œè¿™æ—¶å€™æˆ‘ä»¬çš„ç¨‹åºå°±å†™å¾—æ¯”è¾ƒåŠ¨æ€åŒ–ï¼Œé€šè¿‡ Class tc = Class.forName(&quot;com.java.dbtest.TestConnection&quot;);é€šè¿‡ç±»çš„å…¨ç±»åè®© jvm åœ¨æœåŠ¡å™¨ä¸­æ‰¾åˆ°å¹¶åŠ è½½è¿™ä¸ªç±»ï¼Œè€Œå¦‚æœæ˜¯ oracle åˆ™ä¼ å…¥çš„å‚æ•°å°±å˜æˆå¦ä¸€ä¸ªäº†ã€‚è¿™æ—¶å€™å°±å¯ä»¥çœ‹åˆ°åå°„çš„å¥½å¤„äº†ï¼Œè¿™ä¸ªåŠ¨æ€æ€§å°±ä½“ç°å‡º java çš„ç‰¹æ€§äº†ï¼ä¸¾å¤šä¸ªä¾‹å­ï¼Œå¤§å®¶å¦‚æœæ¥è§¦è¿‡ springï¼Œä¼šå‘ç°å½“ä½ é…ç½®å„ç§å„æ ·çš„ bean æ—¶ï¼Œæ˜¯ä»¥é…ç½®æ–‡ä»¶çš„å½¢å¼é…ç½®çš„ï¼Œä½ éœ€è¦ç”¨åˆ°å“ªäº› bean å°±é…å“ªäº›ï¼Œspring å®¹å™¨å°±ä¼šæ ¹æ®ä½ çš„éœ€æ±‚å»åŠ¨æ€åŠ è½½ï¼Œä½ çš„ç¨‹åºå°±èƒ½å¥å£®åœ°è¿è¡Œã€‚</p><p>åœ¨ä½¿ç”¨ Python çš„æ—¶å€™æˆ‘å°±é€šè¿‡ç”¨é…ç½®æ¥æ§åˆ¶ä»£ç ã€‚ä½“éªŒéå¸¸æ£’ã€‚å…¶å®åå°„çš„ä½œç”¨å°±æ˜¯é€šè¿‡é…ç½®æ§åˆ¶ä»£ç ã€‚</p><h2 id="æ˜¯å¦è¦ä¼ æ•°ç»„é•¿åº¦çš„é—®é¢˜"><a href="#æ˜¯å¦è¦ä¼ æ•°ç»„é•¿åº¦çš„é—®é¢˜" class="headerlink" title="æ˜¯å¦è¦ä¼ æ•°ç»„é•¿åº¦çš„é—®é¢˜"></a>æ˜¯å¦è¦ä¼ æ•°ç»„é•¿åº¦çš„é—®é¢˜</h2><p>Java ä¸­æ•°ç»„æ˜¯ä¸€ä¸ªå¯¹è±¡è€Œéåƒ C++ä¸€æ ·çš„åŸå§‹ç±»å‹ï¼Œæ‰€ä»¥å¯ä»¥å¯¹æ•°ç»„æ±‚é•¿åº¦çš„æ—¶å€™æ˜¯è¿™ä¹ˆå†™ï¼š<code>arr.length()</code>ï¼Œè€Œ C++åˆ™æ²¡æœ‰è¿™ä¹ˆæ–¹ä¾¿çš„ä¸œè¥¿ï¼Œæ‰€ä»¥ä¼ å‚çš„æ—¶å€™ï¼ŒJava å¯ä»¥ä¸ä¼ æ•°ç»„é•¿åº¦ï¼ŒC++å¿…é¡»è¦ä¼ ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">func(arr, lengthOfArr);</span><br></pre></td></tr></table></figure><h2 id="spring-boot"><a href="#spring-boot" class="headerlink" title="spring boot"></a>spring boot</h2><p>éšç€è®¡ç®—æœºçš„å‘å±•ï¼Œåœ¨åº”ç”¨ç¨‹åºå¼€å‘ä¸­ï¼Œå¾ˆå¤šä¸œè¥¿éƒ½æ…¢æ…¢å·¥å…·åŒ–äº†ï¼Œå¤§é‡ç®€å•é‡å¤çš„å·¥ä½œç›´æ¥äº¤ç»™è®¡ç®—æœºå°±å¥½äº†ï¼Œç•™ç»™äººä»¬çš„åªæ˜¯ä¸šåŠ¡é€»è¾‘è·Ÿæ¶æ„è°ƒä¼˜ã€‚spring boot 2 å°±æ˜¯ä¸€ä¸ªéå¸¸å¥½ç”¨çš„ Java web é›†æˆæ¡†æ¶ã€‚å­¦ä¹ æœ€å¥½çš„æ–¹æ³•å°±æ˜¯é€šè¿‡ <strong>ä¾‹å­</strong> æ¥é¢†æ‚Ÿå’Œä½“ä¼šåˆ°å…¶ä¸­æŠ½è±¡çš„çŸ¥è¯†ï¼ˆå…±æ€§ï¼‰ã€‚å¯¹äºå·¥å…·çš„ä½¿ç”¨åˆ™æ›´åŠ å¼ºè°ƒåŠ¨æ‰‹å®è·µã€‚</p><p>å…ˆå‚è€ƒä¸€ä¸‹ç½‘ä¸Šçš„èµ„æ–™ï¼š</p><ul><li><a href="https://www.zhihu.com/question/53729800" target="_blank" rel="noopener">çŸ¥ä¹ï¼šSpring Boot è¦å¦‚ä½•å­¦ä¹ ï¼Ÿ</a></li><li><a href="https://www.bilibili.com/video/av44560321?from=search&amp;seid=7097190869964471137" target="_blank" rel="noopener">bilibiliï¼šã€è‡ªç”¨ã€‘å°šç¡…è°· spring boot å…¨å¥—è§†é¢‘æ•™ç¨‹</a></li></ul><!--more--><h3 id="ç¬¬ä¸€æ­¥å¿«é€Ÿå…¥é—¨"><a href="#ç¬¬ä¸€æ­¥å¿«é€Ÿå…¥é—¨" class="headerlink" title="ç¬¬ä¸€æ­¥å¿«é€Ÿå…¥é—¨"></a>ç¬¬ä¸€æ­¥å¿«é€Ÿå…¥é—¨</h3><p>å¦‚æœå¯¹ spring boot ä¸€ç‚¹éƒ½ä¸äº†è§£çš„è¯ï¼Œè¦å…ˆäº†è§£ä¸€ä¸‹ spring boot æ˜¯ä»€ä¹ˆï¼Œå®ƒçš„å‘å±•å†ç¨‹ï¼Œä»è€Œå»ºç«‹èµ·ä¸€ä¸ªç®€å•çš„å°è±¡ã€‚å¯ä»¥å…ˆçœ‹ B ç«™çš„æ•™å­¦è§†é¢‘çš„å‰å‡ ä¸ªæ¦‚è¦ä»‹ç»çš„è§†é¢‘ã€‚ç„¶åå¤§è‡´æµè§ˆä¸€ä¸‹éœ€è¦å­¦ä¹ çš„å†…å®¹ï¼Œä½ ä¼šå‘ç°éƒ½æ˜¯æŒ‰æ¨¡å—åˆ’åˆ†çš„ï¼Œæ¯”å¦‚ï¼šå·¥ç¨‹é…ç½®ã€æ—¥å¿—ç®¡ç†ã€æ•°æ®åº“ã€ç¼“å­˜ç­‰ç­‰ã€‚</p><p>æœ‰äº†å¤§æ¦‚çš„äº†è§£ï¼Œå°±å¯ä»¥åŠ¨æ‰‹å†™ä¸€ä¸ª<code>hello world</code>äº†ã€‚</p><ul><li><a href="http://blog.didispace.com/spring-boot-learning-1/" target="_blank" rel="noopener">Spring Boot å¿«é€Ÿå…¥é—¨</a></li><li><a href="http://blog.didispace.com/spring-initializr-in-intellij/" target="_blank" rel="noopener">ä½¿ç”¨ Intellij ä¸­çš„ Spring Initializr æ¥å¿«é€Ÿæ„å»º Spring Boot/Cloud å·¥ç¨‹</a></li></ul><p>ç”±äºæˆ‘ä»¥å‰åšè¿‡<code>spring+springMVC+mybatis</code>çš„é¡¹ç›®ï¼Œæ‰€ä»¥å­¦ä¹  springboot2 å¯¹æˆ‘æ¥è¯´æ˜¯æ¯”è¾ƒè½»æ¾çš„ã€‚</p><p>ä¸€èˆ¬æ¥è¯´åç«¯éƒ½ä¼šç”¨åˆ°æ•°æ®åº“ï¼Œæ‰€ä»¥ä¸€ä¸ªå®Œæ•´çš„ Hello World ç¨‹åºæ€ä¹ˆå¯ä»¥ä¸æ¥é€šæ•°æ®åº“å‘¢ï¼Ÿ</p><p><a href="https://www.bysocket.com/?p=1610" target="_blank" rel="noopener">Springboot æ•´åˆ Mybatis çš„å®Œæ•´ Web æ¡ˆä¾‹</a></p><blockquote><p>ç¼–ç¨‹æ€æƒ³ä¸­æœ‰ä¸€æ¡å¾ˆé‡è¦çš„åŸåˆ™å°±æ˜¯ï¼š<strong>å°½é‡å°‘çš„æ”¹åŠ¨å·²æœ‰çš„ä»£ç </strong>ï¼ŒåŸå› æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚æ”¹åŠ¨ä¸€ä¸ªè¢«å¤šå¤„ä½¿ç”¨çš„å‡½æ•°æœ‰å¯èƒ½ä¼šå¯¹å¾ˆå¤šåœ°æ–¹é€ æˆå½±å“ã€‚æ‰€ä»¥æˆ‘ä»¬å°±è¦ <strong>å°½é‡è®©æˆ‘ä»¬çš„ä»£ç çµæ´»èµ·æ¥ï¼Œå¯é‡å¤ç”¨èµ·æ¥</strong>ï¼ŒJava çš„åå°„å°±èµ·åˆ°äº†è¿™ä¸ªä½œç”¨ï¼ŒSpring æ¡†æ¶æœ€é‡è¦çš„ä½œç”¨å°±æ˜¯è®©çµæ´»çš„éƒ¨åˆ†å˜æˆé…ç½®ï¼Œç¨‹åºåŠ¨æ€åŠ è½½é…ç½®å°±èƒ½æ”¹å˜ä»£ç çš„è¡Œä¸ºã€‚å›è°ƒä¹ŸåŒæ ·æ˜¯åœ¨è´¯å½»è¿™ä¸€æ€æƒ³ã€‚<strong>å¯é‡ç”¨</strong> æ˜¯ç¼–ç¨‹æ€æƒ³çš„ç²¾é«“ä¹‹ä¸€ï¼Œç”šè‡³æ‰€æœ‰çš„æŠ½è±¡å°±éƒ½æ˜¯ä¸ºäº†è¿™ä¸€ç›®çš„ï¼Œæ— è®ºæ˜¯<code>å˜é‡</code>ã€<code>å‡½æ•°</code>ã€<code>å¯¹è±¡</code>ã€<code>æ•°æ®ç»“æ„</code>ã€<code>åº“</code>ã€<code>API</code>éƒ½æ˜¯æŠŠæ­»çš„ä»£ç å˜æˆæ´»çš„ï¼ŒæŠŠä¸èƒ½é‡å¤ä½¿ç”¨çš„ä»£ç å˜æˆå¯ä»¥é‡å¤ä½¿ç”¨çš„ä»£ç ã€‚<a href="#é˜¿é‡Œå’Œèš‚èšå…«è£å…«è€»">é˜¿é‡Œå’Œèš‚èšå…«è£å…«è€»</a></p></blockquote><h2 id="é˜¿é‡Œå’Œèš‚èšå…«è£å…«è€»"><a href="#é˜¿é‡Œå’Œèš‚èšå…«è£å…«è€»" class="headerlink" title="é˜¿é‡Œå’Œèš‚èšå…«è£å…«è€»"></a>é˜¿é‡Œå’Œèš‚èšå…«è£å…«è€»</h2><p>ä»¥åŠ¨æ‰‹å®è·µä¸ºè£ï¼Œä»¥åªçœ‹ä¸ç»ƒä¸ºè€»ã€‚</p><p>ä»¥æ‰“å°æ—¥å¿—ä¸ºè£ï¼Œä»¥å‡ºé”™ä¸æŠ¥ä¸ºè€»ã€‚</p><p>ä»¥å±€éƒ¨å˜é‡ä¸ºè£ï¼Œä»¥å…¨å±€å˜é‡ä¸ºè€»ã€‚</p><p>ä»¥å•å…ƒæµ‹è¯•ä¸ºè£ï¼Œä»¥æ‰‹å·¥æµ‹è¯•ä¸ºè€»ã€‚</p><p>ä»¥ä»£ç é‡ç”¨ä¸ºè£ï¼Œä»¥å¤åˆ¶ç²˜è´´ä¸ºè€»ã€‚</p><p>ä»¥å¤šæ€åº”ç”¨ä¸ºè£ï¼Œä»¥åˆ†æ”¯åˆ¤æ–­ä¸ºè€»ã€‚</p><p>ä»¥å®šä¹‰å¸¸é‡ä¸ºè£ï¼Œä»¥é­”æ³•æ•°å­—ä¸ºè€»ã€‚</p><p>ä»¥æ€»ç»“æ€è€ƒä¸ºè£ï¼Œä»¥ä¸æ±‚ç”šè§£ä¸ºè€»ã€‚</p><p>ä»¥å¯é…ç½®ä¸ºè£ ï¼Œä»¥ç¡¬ç¼–ç ä¸ºè€»</p><p>ä»¥å¯äº’å¤‡ä¸ºè£ ï¼Œä»¥å•ç‚¹ä¸ºè€»</p><p>ä»¥å¯æ— çŠ¶æ€ä¸ºè£ ï¼Œä»¥æœ‰çŠ¶æ€ä¸ºè€»</p><p>ä»¥å¯éšä¾¿é‡å¯ä¸ºè£ ï¼Œä»¥ä¸èƒ½è¿ç§»ä¸ºè€»</p><p>ä»¥æ•´ä½“äº¤ä»˜ä¸ºè£ï¼Œä»¥éƒ¨åˆ†äº¤ä»˜ä¸ºè€»</p><p>ä»¥æ ‡å‡†åŒ–ä¸ºè£ï¼Œä»¥ç‰¹æ®ŠåŒ–ä¸ºè€»</p><p>ä»¥è‡ªåŠ¨åŒ–è¿ç»´ä¸ºè£ï¼Œä»¥äººè‚‰åŒ–è¿ç»´ä¸ºè€»</p><p>ä»¥æ— äººå€¼å®ˆä¸ºè£ï¼Œä»¥äººå·¥å€¼ç­ä¸ºè€»</p><h1 id="2019-02-20"><a href="#2019-02-20" class="headerlink" title="2019-02-20"></a>2019-02-20</h1><p>ä»Šå¤©è”åˆæŸ¥è¯¢ä¸€ä¸ª 40 ä¸‡å’Œ 1 ä¸‡çš„è¡¨ï¼Œå‘ç°å¼„äº†ç´¢å¼•éƒ½æ²¡å•¥æ•ˆæœï¼Œæœ€åå‘ç°æ˜¯å­—ç¬¦é›†ä¸åŒå¯¼è‡´çš„ã€‚æŠŠä¸¤ä¸ªç´¢å¼•çš„å­—ç¬¦é›†å¼„æˆä¸€æ ·çš„å°±è¡Œäº†ã€‚è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œmysql8 æ²¡æœ‰ç¼“å­˜å¯¼è‡´æŸ¥è¯¢å¾ˆæ…¢ï¼Œmysql5.7 æœ‰ç¼“å­˜ç¬¬äºŒæ¬¡æŸ¥è¯¢å¿«çš„é£èµ·ã€‚è¿˜æœ‰åŒä¸€ä¸ªè¯­å¥ mysql8 èŠ±äº† 100 ç§’ï¼Œmysql5.7 åªèŠ±äº† 10 ç§’ï¼ŒåŸå› å¯èƒ½æ˜¯å¯¹è¯­å¥çš„è§£é‡Šä¸ä¸€æ ·ã€‚åœ¨å°†æ•°æ®åº“å¯¼å…¥åˆ° mysql5.7 çš„æ—¶å€™é‡åˆ°ä¸€ä¸ªé”™è¯¯ï¼š<code>2006: mysql server has gone away</code>ã€‚ä½¿ç”¨ï¼š<code>set global max_allowed_packet=268435456;</code>è§£å†³äº†ã€‚åº”è¯¥æ˜¯å•ç¬” insert å¤ªå¤§å¯¼è‡´çš„ï¼ŒæŠŠé…ç½®è®¾é«˜ä¸€ç‚¹å°± OK äº†ã€‚</p><h1 id="2019-02-19"><a href="#2019-02-19" class="headerlink" title="2019-02-19"></a>2019-02-19</h1><p>ä»Šå¤©ç»ˆäºè§£å†³äº†ä¸€ä¸ªå›°æ‰°æˆ‘ä¸€å¹´ä¹‹ä¹…çš„é—®é¢˜ï¼Œç½‘æ˜“äº‘éŸ³ä¹å’ŒçŸ¥ä¹è´¦å·çš„ç™»é™†å¼‚å¸¸ã€‚æˆ‘å¯¹æ¯”äº†ä¸åŒçš„ç½‘ç»œç¯å¢ƒï¼ˆIPï¼‰ï¼Œä¸åŒçš„è´¦å·ï¼ˆåˆ«äººçš„çŸ¥ä¹è´¦å·ï¼‰ï¼Œä¸åŒçš„æµè§ˆå™¨ã€‚ç»„åˆæµ‹è¯•æœ€åå‘ç°æ—¢ä¸æ˜¯ IP çš„å•æ–¹é¢çš„é—®é¢˜ï¼Œä¹Ÿä¸æ˜¯è´¦å·çš„å•æ–¹é¢é—®é¢˜ï¼Œä¹Ÿä¸æ˜¯æµè§ˆå™¨çš„å•æ–¹é¢çš„é—®é¢˜ã€‚è€Œå½“æˆ‘ä½¿ç”¨æ— ç—•æµè§ˆçš„æ—¶å€™å¹¶æ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œæ‰€ä»¥åº”è¯¥æ˜¯ chrome æµè§ˆå™¨è®°ä½äº†æŸäº›ä¸œè¥¿ã€‚æœ€åå‘ç°é—®é¢˜å‡ºåœ¨ chrome æµè§ˆå™¨çš„è´¦å·åŒæ­¥ä¸Šï¼Œå¯èƒ½æ˜¯å› ä¸ºæˆ‘çš„è°·æ­Œè´¦å·åœ¨å†å²ä¸Šæ›¾è®°å½•äº†ä¸€æ¬¡çŸ¥ä¹å¼‚å¸¸ç™»é™†çš„ cookieï¼Œæ‰€ä»¥ä¹‹åçš„æ¯ä¸€æ¬¡ç™»é™†éƒ½ä½¿ç”¨è¿™ä¸ª cookieï¼Œè€Œä¸”æ¸…ç©ºéƒ½æ˜¯æ— æ•ˆçš„ï¼Œåœ¨ä½ ç™»é™†çš„æ—¶å€™åˆä¼šç»™ä½ è‡ªåŠ¨æ·»åŠ ã€‚ä¹‹åæˆ‘å…ˆç™»å‡º chrome è´¦å·ï¼Œå¹¶åŒæ—¶æ¸…ç©ºæ‰€æœ‰æ•°æ®ï¼Œç„¶åå†ç™»é™†çŸ¥ä¹è´¦å·ï¼Œç„¶åå†ç™»é™† chrome è´¦å·åŒæ­¥ä¸€æ¬¡æ­£ç¡®çš„çŸ¥ä¹ç™»é™†ã€‚é—®é¢˜å°±å¾—åˆ°äº†è§£å†³ã€‚</p><p>çŸ¥ä¹é—®é¢˜çš„æ ¹æºï¼š</p><ul><li><a href="https://jiasule.v2ex.com/t/533482" target="_blank" rel="noopener">https://jiasule.v2ex.com/t/533482</a></li><li><a href="https://www.v2ex.com/t/521180" target="_blank" rel="noopener">https://www.v2ex.com/t/521180</a></li></ul><p>ç­”æ¡ˆå°±æ˜¯ï¼šå‘ç°ä¸€ä¸ªåœ¨å¼€å¯ IPFS ä¼´ä¾£æ—¶ï¼ŒçŸ¥ä¹çš„å¤§éƒ¨åˆ†æ¥å£éƒ½ä¼šæŠ¥è¯·æ±‚å‚æ•°å¼‚å¸¸çš„ BUGã€‚ã€‚</p><h1 id="2019-01-17"><a href="#2019-01-17" class="headerlink" title="2019-01-17"></a>2019-01-17</h1><p>ä¸€ä¸ªå¥‡æ€ªçš„é—®é¢˜ï¼Œæˆ‘é…ç½®å¥½äº† github çš„ ssh keyï¼Œä½†æ¯æ¬¡ push éƒ½è·Ÿæˆ‘ç´¢è¦è´¦å·å¯†ç ã€‚åŸå› æ˜¯æˆ‘ clone çš„æ—¶å€™ç”¨çš„ http æ¨¡å¼ï¼Œåœ¨é¡¹ç›®çš„.git/config é‡Œé¢å¯ä»¥ä¿®æ”¹ï¼Œæ”¹ä¸º ssh æ¨¡å¼å³å¯ã€‚æ„Ÿè°¢ stackoverflow çš„å°å“¥ï¼š<a href="https://stackoverflow.com/questions/10909221/why-is-github-asking-for-username-password-when-following-the-instructions-on-sc" target="_blank" rel="noopener">Why is Github asking for username/password when following the instructions on screen and pushing a new repo?</a></p><h1 id="2018-11-28"><a href="#2018-11-28" class="headerlink" title="2018-11-28"></a>2018-11-28</h1><p>ä¸€åˆ‡ä¸ºäº†å¯é‡ç”¨ã€‚</p><p>ä»£ç å†™å¾—èƒ½çœ‹æ‡‚ä¾¿äºç»´æŠ¤ï¼Œè¿™æ ·ä»£ç å°±èƒ½æ›´é•¿ä¹…çš„å¯é‡ç”¨ã€‚</p><p>ä»£ç æ¨¡å—åŒ–ï¼Œæ˜¯ä¸ºäº†é™ä½è€¦åˆï¼Œå‡å°‘ä¾èµ–ï¼Œæ¨¡å—å†…éƒ¨é«˜å†…èšï¼Œæ¨¡å—ä¹‹é—´ä½è€¦åˆï¼Œæ¨¡å—å¯é‡ç”¨ã€‚</p><p>æ¨¡å—çš„ç²’åº¦åº”è¯¥ä»¥é‡ç”¨çš„çµæ´»æ€§ä¸ºæŒ‡å¯¼åŸåˆ™ï¼Œä¸èƒ½ä¸€å‘³è¿½æ±‚å°ï¼Œä½†åŸºæœ¬çš„å®¢è§‚è§„å¾‹æ˜¯ï¼šæ¯”è¾ƒå°çš„æ¨¡å—æ›´çµæ´»ï¼Œæ›´å®¹æ˜“é‡ç”¨ã€‚</p><p>ä¸€ä¸ªè®¾è®¡è‰¯å¥½çš„æ¨¡å—çš„å®¢è§‚æ ‡å‡†æ˜¯ï¼šå¯ä»¥éšæ„ç»„åˆï¼Œå³æ’å³ç”¨ã€‚</p><p>å°è£…æ˜¯ä¸ºäº†æ›´å¥½çš„æŠŠä»£ç çš„æ”¹åŠ¨æ§åˆ¶åœ¨æ¨¡å—å†…éƒ¨ï¼Œä»è€Œå‡å°‘å¤–éƒ¨çš„æ”¹åŠ¨éœ€æ±‚ã€‚API å°½é‡ä¸å˜ï¼Œå¯¹å¤–çš„æ¥å£å°½é‡ä¸å˜ã€‚<a href="http://wiki.jikexueyuan.com/project/java-enhancement/java-one.html" target="_blank" rel="noopener">ç†è§£ Java çš„ä¸‰å¤§ç‰¹æ€§ä¹‹å°è£…</a></p><p>ç»§æ‰¿åˆ™æ˜¯èµ¤è£¸è£¸çš„åœ¨é‡ç”¨ä»£ç ã€‚</p><h1 id="2018-11-19"><a href="#2018-11-19" class="headerlink" title="2018-11-19"></a>2018-11-19</h1><p>çœ‹äº†æŸäººçš„ spring boot ä»£ç ï¼Œå‘ç°åå°çš„é”™è¯¯ç å’Œé”™è¯¯ä¿¡æ¯ç®¡ç†çš„ä¸€ä¸ªä¼˜é›…çš„åšæ³•ï¼šä½¿ç”¨ä¸€ä¸ªæšä¸¾ç±»å°è£…è¿™ä¸¤ä¸ªå±æ€§ï¼Œå¹¶ä½¿æ„é€ å‡½æ•°ç§æœ‰åŒ–ã€‚ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> ExceptionMsg &#123;</span><br><span class="line">    SUCCESS(<span class="string">"000000"</span>, <span class="string">"æ“ä½œæˆåŠŸ"</span>),</span><br><span class="line">    FAILED(<span class="string">"999999"</span>, <span class="string">"æ“ä½œå¤±è´¥"</span>),</span><br><span class="line">    ParamError(<span class="string">"000001"</span>, <span class="string">"å‚æ•°é”™è¯¯ï¼"</span>),</span><br><span class="line"></span><br><span class="line">    LoginNameOrPassWordError(<span class="string">"000100"</span>, <span class="string">"ç”¨æˆ·åæˆ–è€…å¯†ç é”™è¯¯ï¼"</span>),</span><br><span class="line">    EmailUsed(<span class="string">"000101"</span>, <span class="string">"è¯¥é‚®ç®±å·²è¢«æ³¨å†Œ"</span>),</span><br><span class="line">    UserNameUsed(<span class="string">"000102"</span>, <span class="string">"è¯¥ç™»å½•åç§°å·²å­˜åœ¨"</span>),</span><br><span class="line">    EmailNotRegister(<span class="string">"000103"</span>, <span class="string">"è¯¥é‚®ç®±åœ°å€æœªæ³¨å†Œ"</span>),</span><br><span class="line">    LinkOutdated(<span class="string">"000104"</span>, <span class="string">"è¯¥é“¾æ¥å·²è¿‡æœŸï¼Œè¯·é‡æ–°è¯·æ±‚"</span>),</span><br><span class="line">    PassWordError(<span class="string">"000105"</span>, <span class="string">"å¯†ç è¾“å…¥é”™è¯¯"</span>),</span><br><span class="line">    UserNameLengthLimit(<span class="string">"000106"</span>, <span class="string">"ç”¨æˆ·åé•¿åº¦è¶…é™"</span>),</span><br><span class="line">    LoginNameNotExists(<span class="string">"000107"</span>, <span class="string">"è¯¥ç”¨æˆ·æœªæ³¨å†Œ"</span>),</span><br><span class="line">    UserNameSame(<span class="string">"000108"</span>, <span class="string">"æ–°ç”¨æˆ·åä¸åŸç”¨æˆ·åä¸€è‡´"</span>),</span><br><span class="line"></span><br><span class="line">    FavoritesNameIsNull(<span class="string">"000200"</span>, <span class="string">"æ”¶è—å¤¹åç§°ä¸èƒ½ä¸ºç©º"</span>),</span><br><span class="line">    FavoritesNameUsed(<span class="string">"000201"</span>, <span class="string">"æ”¶è—å¤¹åç§°å·²è¢«åˆ›å»º"</span>),</span><br><span class="line"></span><br><span class="line">    CollectExist(<span class="string">"000300"</span>, <span class="string">"è¯¥æ–‡ç« å·²è¢«æ”¶è—"</span>),</span><br><span class="line"></span><br><span class="line">    FileEmpty(<span class="string">"000400"</span>, <span class="string">"ä¸Šä¼ æ–‡ä»¶ä¸ºç©º"</span>),</span><br><span class="line">    LimitPictureSize(<span class="string">"000401"</span>, <span class="string">"å›¾ç‰‡å¤§å°å¿…é¡»å°äº2M"</span>),</span><br><span class="line">    LimitPictureType(<span class="string">"000402"</span>, <span class="string">"å›¾ç‰‡æ ¼å¼å¿…é¡»ä¸º'jpg'ã€'png'ã€'jpge'ã€'gif'ã€'bmp'"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">ExceptionMsg</span><span class="params">(String code, String msg)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.code = code;</span><br><span class="line">        <span class="keyword">this</span>.msg = msg;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String code;</span><br><span class="line">    <span class="keyword">private</span> String msg;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> code;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getMsg</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> msg;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="2018-11-03"><a href="#2018-11-03" class="headerlink" title="2018-11-03"></a>2018-11-03</h1><p>No programming language is perfect. There is not even a single best language; there are only languages well suited or perhaps poorly suited for particular purposes.</p><p>Shell scripting hearkens back to the classic UNIX philosophy of breaking complex projects into simpler subtasks, of chaining together components and utilities.</p><blockquote><p>Unix çš„å“²å­¦å°±æ˜¯å°†å¤æ‚çš„ä»»åŠ¡æ‰“ç ´æˆå¤šä¸ªç®€å•çš„å°ä»»åŠ¡ï¼Œç„¶åæŠŠå·¥ä½œæµæ‹¼æ¥èµ·æ¥ã€‚ç”šè‡³åœ¨è®¾è®¡è½¯ä»¶å’Œå·¥å…·å‹çš„ç¨‹åºæ—¶ä¹Ÿæ˜¯éµå¾ªè¿™ç§æ€æƒ³ï¼Œè¿™ç§åšæ³•å¯¹ç¨‹åºå‘˜æ¥è¯´æ˜¯ä¸€ç§ç›´è§‰ï¼Œè¿™ç§æ€æƒ³å°±è•´å«åœ¨ç¼–ç¨‹ä¸­ï¼Œä½†æ™®é€šç”¨æˆ·åªå–œæ¬¢å‚»ç“œå¼æ“ä½œã€‚è€Œ Windows åˆ™å€¾å‘äºè¿åˆæ™®é€šç”¨æˆ·ï¼Œæ‰“é€ é›†æˆç¯å¢ƒï¼Œå°½ç®¡è®¸å¤šé›†æˆç¯å¢ƒéƒ½ç”±ä¸å°‘é‡å¤çš„å°è½®å­ç»„æˆï¼Œä½†æˆ‘ä»¬ä¸ç¼ºç¡¬ç›˜ç©ºé—´å’Œå†…å­˜ç©ºé—´ã€‚</p></blockquote><p>è¿ç”¨æŠ½è±¡æ˜¯èµ°å‘ä»£ç ä¼˜åŒ–çš„ç¬¬ä¸€æ­¥ã€‚é¢å‘æ¥å£ç¼–ç¨‹ã€‚é¢å‘æŠ½è±¡ç¼–ç¨‹ã€‚</p><p>æ¶ˆé™¤é‡å¤éƒ¨åˆ†ã€‚ ä¼˜ç§€è®¾è®¡çš„æ ¹æœ¬æ˜¯ï¼šæ¶ˆé™¤é‡å¤éƒ¨åˆ†ï¼ï¼ˆDRY = Donâ€™t repeat yourselfï¼‰</p><p>å›è°ƒå’Œå¤šæ€éƒ½æ˜¯ä¸ºäº†è§£è€¦ï¼Œå®ç°æ›´å¥½çš„æ¨¡å—åŒ–ï¼Œå‡çº§ä»£ç æ—¶å€™æ”¹åŠ¨æ›´å°‘çš„ä»£ç </p><p>æˆ‘å‘ç°æˆ‘å–æ¶ˆ Homeã€catagoriesã€aboutã€tags ç­‰åŸç”Ÿç›®å½•ä¹‹åï¼Œæ‰“å¼€åšå®¢ç½‘ç«™çš„é¦–é¡µï¼Œæœ‰ä¸ªç‚¹ä¼šåœç•™åœ¨ç¬¬ä¸€ä¸ªç›®å½•ä¸Šï¼Œä¹Ÿå°±æ˜¯ç›®å‰çš„â€œä¿¡æ¯ç§‘å­¦â€è¿™ä¸ªç›®å½•ä¸Šã€‚æ‰€ä»¥æˆ‘æƒ³æ¢å¤é¦–é¡µè¿™ä¸ªç›®å½•ï¼ˆä¹‹å‰å–æ¶ˆè¿™ä¸ªç›®å½•æ˜¯å› ä¸ºç‚¹å‡»æˆ‘çš„åšå®¢åï¼Œä¹Ÿå°±æ˜¯æˆ‘çš„ç½‘åï¼šliuqinh2s çš„æ—¶å€™ï¼Œä¼šè·³è½¬åˆ°é¦–é¡µï¼Œä¹Ÿå°±æ˜¯ç½‘ç«™æ ¹ç›®å½•ï¼Œæˆ‘ä¸æƒ³æä¸¤ä¸ªæœ‰ç›¸åŒä½œç”¨çš„æŒ‰é’®ï¼Œä½†å…¶å®æˆ‘é”™äº†ï¼Œç”¨æˆ·å¹¶ä¸çŸ¥é“é‚£ä¸ªå¯ä»¥ç‚¹å‡»ï¼Œå°±åƒå®‰å“çš„ä¾§æ»‘å‡ºèœå•ä¸€æ ·ï¼Œç”¨æˆ·å¹¶ä¸çŸ¥é“ä¾§æ»‘å¯ä»¥å‡ºèœå•ï¼Œæ‰€ä»¥æ‰éœ€è¦ä¸€ä¸ªèœå•æŒ‰é’®ï¼‰ï¼Œæ¢å¤è¿™ä¸ªé¦–é¡µç›®å½•æ˜¯è®¾è®¡ä¸Šçš„å¿…è¦ã€‚</p><blockquote><p>è®¾è®¡æ€ç»´å°±æ˜¯è¦é¢å‘ç”¨æˆ·ï¼Œä¸è¦ä»¥ä¸ºç”¨æˆ·çŸ¥é“é‚£äº›éšå«çš„åŠŸèƒ½ç‚¹ã€‚</p></blockquote><ol><li>è‰²å½©çš„æ¦‚å¿µï¼šè‰²å½©æ˜¯ç‰©ä½“å‘å‡ºæˆ–åå°„çš„å…‰åœ¨è§†è§‰ç³»ç»Ÿä¸­çš„å½¢æˆçš„ååº”ï¼Œè¿™ç§ååº”ä½¿äººä»¬å¾—ä»¥ä»è§†è§‰ä¸ŠåŒºåˆ†ç‰©ä½“çš„å¤§å°ã€å½¢çŠ¶ã€ç»“æ„å’Œå±æ€§ç­‰å¤–éƒ¨ç‰¹å¾ã€‚</li><li>è‰²å½©çš„ä¸‰ç‰¹æ€§ï¼šäº®åº¦ Luminanceï¼Œè‰²è°ƒ Hueï¼Œé¥±å’Œåº¦ Saturationï¼ˆè‰²è°ƒçš„æ·±æµ…ç¨‹åº¦ï¼‰å„ç§å•è‰²å…‰é¥±å’Œåº¦æœ€é«˜ï¼Œå•è‰²å…‰ä¸­æºå…¥ç™½å…‰è¶Šå¤šï¼Œé¥±å’Œåº¦è¶Šä½ï¼Œç™½å…‰å ç»å¤§éƒ¨åˆ†æ—¶ï¼Œé¥±å’Œåº¦æ¥è¿‘äºé›¶ï¼Œç™½å…‰çš„é¥±å’Œåº¦ç­‰äºé›¶ã€‚æ³¨æ„åŒºåˆ†äº®åº¦å’Œé¥±å’Œåº¦ã€‚</li><li>è‰²å½©æ¨¡å‹ï¼šRGBï¼ŒCMYKï¼ˆé¢œæ–™çš„ä¸‰åŸè‰²ï¼šC é’ï¼ŒM å“ï¼ŒY é»„ï¼Œ+K é»‘ï¼Œåº”ç”¨äºå°åˆ·å·¥ä¸šï¼‰ã€‚RGB æ˜¯åŠ è‰²æ¨¡å‹ï¼ŒCMYK æ˜¯å‡è‰²æ¨¡å‹ã€‚HSVï¼ˆH æ˜¯è‰²ç›¸å³è‰²è°ƒï¼ŒS æ˜¯é¥±å’Œåº¦ï¼ˆå–å€¼ 0~100%ï¼‰ï¼ŒV æ˜¯äº®åº¦å€¼ Valueï¼ˆå–å€¼ 0~100%ï¼‰ï¼‰ã€‚YUVã€‚</li></ol><p>å’Œåˆ†æ²»ç®—æ³•æ¯”è¾ƒç±»ä¼¼ï¼Œä½†ä¸åŒçš„æ˜¯åˆ†æ²»ç®—æ³•æŠŠåŸé—®é¢˜åˆ’å½’ä¸ºå‡ ä¸ªç›¸äº’ç‹¬ç«‹çš„å­é—®é¢˜ï¼Œä»è€Œä¸€ä¸€è§£å†³ï¼Œè€ŒåŠ¨æ€è§„åˆ’åˆ™æ˜¯é’ˆå¯¹å­é—®é¢˜æœ‰é‡å çš„æƒ…å†µçš„ä¸€ç§è§£å†³æ–¹æ¡ˆã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> ç¼–ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é‡æ–°æ•´ç†åšå®¢</title>
      <link href="/blog/2024/11/12/%E9%87%8D%E6%96%B0%E6%95%B4%E7%90%86%E5%8D%9A%E5%AE%A2/"/>
      <url>/blog/2024/11/12/%E9%87%8D%E6%96%B0%E6%95%B4%E7%90%86%E5%8D%9A%E5%AE%A2/</url>
      
        <content type="html"><![CDATA[<p>è®°å½•ä¿¡æ¯æœ€å¥½çš„æ–¹å¼è¿˜æ˜¯æ—¥å¿—ï¼Œå°±æ˜¯æŒ‰æ—¶é—´ç¼–æ’çš„æ„æ€ã€‚æ£€ç´¢çš„æœ€å¥½æ–¹å¼æ˜¯æœç´¢ï¼Œç»Ÿè®¡å½’çº³æœ€å¥½çš„æ–¹å¼æ˜¯æ ‡ç­¾ï¼ˆç›®å½•æ˜¯æ ‘çŠ¶ï¼Œè€Œæ ‡ç­¾æ˜¯ç½‘çŠ¶ï¼‰ã€‚</p><a id="more"></a><h2 id="é‡æ–°æ•´ç†åšå®¢"><a href="#é‡æ–°æ•´ç†åšå®¢" class="headerlink" title="é‡æ–°æ•´ç†åšå®¢"></a>é‡æ–°æ•´ç†åšå®¢</h2><p>ä¹‹å‰æˆ‘æ–°å¼€ä¸€ç¯‡æ–‡ç« ä¼šéå¸¸çš„æ…é‡ï¼Œå› ä¸ºæŠŠæ–‡ç« å®šä½ä¸ºæ¯”è¾ƒæˆç†Ÿçš„ä½œå“ï¼Œä½†ç°åœ¨æƒ³æ¥è¿™ä¸ªå®šä½åº”è¯¥æ˜¯é”™çš„ï¼Œå…ˆå¤šè¾“å‡ºï¼Œè°ˆä½œå“è¿˜ä¸ºæ—¶å°šæ—©ã€‚</p><p>æ­¤æ¬¡ï¼Œæˆ‘ä¼šæŠŠæ‰€æœ‰çš„æ ç›®éƒ½å…³é—­ï¼Œä¸€ä¸ªåŸå› æ˜¯æœç´¢çš„æ—¶å€™ï¼Œä¸ä¼šæœæ ç›®ä¸­çš„å†…å®¹ï¼Œå¦ä¸€ä¸ªæ˜¯æ ç›®è¿‡å¤šï¼Œçœ‹ç€ä¹Ÿä¸å¤Ÿç®€æ´ï¼Œå¾ˆæ‚ä¹±ã€‚è¿˜æœ‰å°±æ˜¯æœ‰äº›æ ç›®ï¼Œæˆ‘å¹¶æ²¡æœ‰ä¸€ç›´æ›´æ–°ä¸‹å»ã€‚ä»¥å‰è®°å½•çš„ä¸œè¥¿ï¼Œä¹Ÿæœ‰ä¸å°‘æœ‰ä»·å€¼çš„ï¼Œåé¢ä¼šæ…¢æ…¢æ¬è¿åˆ°å‡ ç¯‡æ–°çš„æ—¥å¿—ä¸­å»ï¼Œæ–¹ä¾¿æœªæ¥æ£€ç´¢ã€‚</p><h2 id="æœ€å°åŒ–ç”Ÿæ´»æ¨¡å‹"><a href="#æœ€å°åŒ–ç”Ÿæ´»æ¨¡å‹" class="headerlink" title="æœ€å°åŒ–ç”Ÿæ´»æ¨¡å‹"></a>æœ€å°åŒ–ç”Ÿæ´»æ¨¡å‹</h2><p>ç”Ÿæ´»ä¸­æœ‰éå¸¸å¤šçš„äº‹æƒ…ï¼Œåº”è¯¥è¦ä¸“æ³¨äºè‡ªå·±çœŸæ­£æƒ³åšï¼Œå€¼å¾—åšçš„äº‹æƒ…ä¸Šï¼Œé¿å¼€çäº‹ï¼Œé¿å¼€è¯±æƒ‘ã€‚æ‰“é€ ä¸€ä¸ªæœ€å°åŒ–ç”Ÿæ´»æ¨¡å‹ã€‚</p><p>ä¸‹é¢æˆ‘å°è¯•æƒ³å‡ºï¼Œæˆ‘åˆ°åº•è¦ä¸“æ³¨äºä»€ä¹ˆã€‚</p><ol><li>èº«ä½“å¥åº·</li><li>é‡‘é’±ï¼Œåœ°ä½ï¼ŒæƒåŠ›ï¼Œç¤¾ä¼šå½±å“åŠ›</li><li>äº²æœ‹å¥½å‹çš„æ”¯æŒï¼Œå¿—åŒé“åˆçš„äººçš„æ”¯æŒã€‚å›¢ç»“å‘¨å›´çš„äºº</li><li>æ›´å¤šçš„ä¸ªäººæŠ€èƒ½ï¼Œæ¯”å¦‚è‹±è¯­èƒ½åŠ›ï¼Œç¼–ç¨‹èƒ½åŠ›</li></ol><p>ä»¥ä¸Šéƒ½æ¯”è¾ƒæŠ½è±¡ï¼Œé«˜å±‹å»ºç“´ã€‚è½å®åˆ°å…·ä½“äº‹æƒ…ä¸Šé¢ï¼Œè¯¥å¦‚ä½•å‘¢ï¼Ÿä¸‹é¢åˆ—å‡ºå…·ä½“ç›¸å…³äº‹é¡¹ï¼š</p><h3 id="èº«ä½“å¥åº·"><a href="#èº«ä½“å¥åº·" class="headerlink" title="èº«ä½“å¥åº·"></a>èº«ä½“å¥åº·</h3><p>ä¹‹å‰å†™è¿‡ä¸€ç¯‡é”»ç‚¼èº«ä½“ç›¸å…³çš„æ–‡ç« ï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">é•¿æœŸä¸è¿åŠ¨çš„å±å®³ï¼š</span><br><span class="line"></span><br><span class="line"><span class="bullet">1. </span>ç­‹è†œç²˜è¿ï¼Œè‚Œè‚‰æ´»åŠ¨å—é™ï¼Œå…³èŠ‚æ´»åŠ¨å—é™</span><br><span class="line"><span class="bullet">2. </span>æ‹®æŠ—è‚Œè‚‰å¤±è¡¡ï¼Œè‚Œè‚‰è€æŸå’Œé€€åŒ–ï¼Œå„å¤„é…¸ç—›</span><br><span class="line"><span class="bullet">3. </span>æ²¡æœ‰ä½“èƒ½å’ŒåŠ›é‡</span><br><span class="line"><span class="bullet">4. </span>å¾ˆå®¹æ˜“ç–²æƒ«ï¼Œç²¾ç¥èé¡</span><br><span class="line"></span><br><span class="line">åˆ†ä¸‰ä¸ªæ–¹é¢ï¼š</span><br><span class="line"></span><br><span class="line"><span class="bullet">1. </span>ä½“èƒ½ï¼ˆæœ‰æ°§ï¼šè·‘æ­¥ï¼Œè·³ç»³ï¼‰</span><br><span class="line"><span class="bullet">2. </span>èº«ä½“çµæ´»åº¦ï¼ŒæŸ”éŸ§æ€§ï¼ˆæ‹‰ä¼¸ï¼‰</span><br><span class="line"><span class="bullet">3. </span>åŠ›é‡</span><br><span class="line"></span><br><span class="line"><span class="section"># å¥èº«ä¹¦ç±</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">- </span>å›šå¾’å¥èº«</span><br><span class="line"></span><br><span class="line"><span class="quote">&gt; å¸Œæœ›èƒ½æ‰¾åˆ°ä¸€ä¸ªè‡ªå·±æ‹‰ä¼¸çš„å¥½æ–¹æ³•ï¼Œæ¯”å¦‚èº«ä½“çš„æ¯ä¸ªéƒ¨ä½ï¼Œå¦‚ä½•æœ€å°‘å™¨æ¢°çš„æ‹‰ä¼¸</span></span><br><span class="line"></span><br><span class="line"><span class="section"># å·²å­¦ä¼š</span></span><br><span class="line"></span><br><span class="line"><span class="section">## 0 å™¨æ¢°ï¼Œä¸éœ€è¦å¹²å‡€åœ°é¢</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">1. </span>å¼“æ­¥ï¼šæ‹‰ä¼¸å¤§è…¿å¤–å±‚</span><br><span class="line"><span class="bullet">2. </span>æ‰‹æŒæŒ‰æ‘©ï¼Œæœ‰åˆ©äºæ¾è§£æ‰‹æŒç­‹è†œï¼Œä¸ºç»ƒæŠ“æ¡åšå‡†å¤‡ï¼ˆå·¦å³æ‰‹äº’ç›¸æŒ‰ï¼‰</span><br><span class="line"><span class="bullet">3. </span>å«è„šå°–è¹²ï¼šå¢å¼ºè„šæŒæŠ“æ¡åŠ›</span><br><span class="line"><span class="bullet">4. </span>æ·±è¹²ï¼šè‡€+å¤§è…¿</span><br><span class="line"><span class="bullet">5. </span>æ²‰è‚©ï¼šç¼“è§£æ–œæ–¹è‚Œ</span><br><span class="line"><span class="bullet">6. </span>ç«™å¼ä½“å‰å±ˆï¼šæ‹‰ä¼¸åè…¿ï¼Œè¦å¤šç»ƒï¼Œæˆ‘åè…¿ç»·çš„ç‰¹åˆ«ç´§</span><br><span class="line"></span><br><span class="line"><span class="section">## 0 å™¨æ¢°ï¼Œä½†éœ€è¦ç‘œä¼½å«æˆ–è€…åºŠ</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">1. </span>ä¾§èººèƒ¸å±•ï¼šå¢åŠ èƒ¸æ¤çµæ´»åº¦ï¼ˆç‘œä¼½å« or åºŠï¼‰</span><br><span class="line"><span class="bullet">2. </span>é’è›™è¶´ï¼šæ‹‰ä¼¸èƒ¯ï¼Œé«‹å…³èŠ‚ï¼ˆç‘œä¼½å« or åºŠï¼‰</span><br><span class="line"><span class="bullet">3. </span>ä»°å§å¤´éƒ¨ 0 æ”¯æ’‘ï¼šå¯ä»¥å¢å¼ºé¢ˆéƒ¨å‰é¢è‚Œè‚‰çš„åŠ›é‡ï¼Œæ ¹æ²»é¢ˆæ¤é—®é¢˜ï¼ˆéœ€è¦åºŠï¼‰</span><br><span class="line"><span class="bullet">4. </span>å·è…¹ï¼šè…¹éƒ¨è®­ç»ƒ</span><br><span class="line"><span class="bullet">5. </span>ä¿¯å§æ’‘ï¼šèƒ¸+è‚©</span><br><span class="line"><span class="bullet">6. </span>å¹³æ¿æ”¯æ’‘ï¼šè…¹éƒ¨ç¨³å®šæ€§</span><br><span class="line"><span class="bullet">7. </span>è…¹å¼å‘¼å¸è®­ç»ƒï¼šå¢å¼ºè…¹æ¨ªè‚Œï¼Œæ²»ç–—è‚‹éª¨å¤–ç¿»ï¼Œç¼“è§£è‚©é¢ˆè‚Œè‚‰</span><br><span class="line"></span><br><span class="line"><span class="section">## 0 å™¨æ¢°ï¼Œéœ€è¦æ¤…å­</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">1. </span>é«˜é€ŸæŠ¬å‰è„šæŒï¼šç»ƒä¹ å°è…¿å‰ä¾§è‚Œè‚‰ï¼Œå¦‚æœå¹³å¸¸èµ°è·¯è„šæŒæŠ¬ä¸èµ·æ¥ï¼Œå°è…¿åä¾§å¾ˆå®¹æ˜“è¿‡åº¦å‘åŠ›ï¼Œè¦å¤šç»ƒ</span><br><span class="line"></span><br><span class="line"><span class="section">## ç®€å•å™¨æ¢°</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">1. </span>å°æœ¨æ£+ç‘œä¼½å«ï¼Œè¸©ä¸Šå»ï¼ŒæŒ‰æ‘©è¶³åº•ï¼Œå¯ä»¥æ²»ç–—è¶³å¼“å¡Œé™·ï¼Œè¶³åº•æŠ“æ¡åŠ›ï¼Œé‡å¿ƒåœ¨è„šåè·Ÿç­‰é—®é¢˜</span><br></pre></td></tr></table></figure><h3 id="é‡‘é’±ï¼Œç¤¾ä¼šå½±å“åŠ›"><a href="#é‡‘é’±ï¼Œç¤¾ä¼šå½±å“åŠ›" class="headerlink" title="é‡‘é’±ï¼Œç¤¾ä¼šå½±å“åŠ›"></a>é‡‘é’±ï¼Œç¤¾ä¼šå½±å“åŠ›</h3><p>ä½œä¸ºä¸€ä¸ªæ™®æ™®é€šé€šçš„ç¤¾ä¼šé½¿è½®ï¼Œè®²é‡‘é’±å’Œç¤¾ä¼šå½±å“åŠ›ï¼Œæ˜¾ç„¶æœ‰ç‚¹å›°éš¾ã€‚ç›®å‰æˆ‘åœ¨é‡‘é’±æ–¹é¢çš„è¿œå¤§è®¡åˆ’ï¼Œä¸»è¦æ˜¯æŠ•æœºï¼Œè€ŒæŠ•æœºåœ¨å®ç°é‡‘é’±è‡ªç”±æ–¹é¢ä¹Ÿç¡®å®æ˜¯ä¸€æ¡ç»å…¸çš„è·¯å­ã€‚ä½†å®ç°ç¤¾ä¼šå½±å“åŠ›ï¼ŒæŠ•æœºåˆ™å¤©ç„¶ä¸å…·å¤‡ï¼Œå› ä¸ºä¸»æµä»·å€¼è§‚ä¸å¼˜æ‰¬ï¼Œé™¤éåšåˆ°éå¸¸éå¸¸å‡ºåï¼Œè¯´ä¸å®šè¿˜æ˜¯ä¼šæœ‰äº›å½±å“åŠ›ã€‚æˆ‘çš„æŠ•æœºèƒ½åŠ›ä¸»è¦æ˜¯é  7 å¹´çš„å¸åœˆç»å†é€ å°±çš„ã€‚</p><p>ä½†æœ‰ä¸€æ ·ä¸œè¥¿ï¼Œå¤©ç„¶çš„å°±ä¼šå¸¦æ¥ç¤¾ä¼šå½±å“åŠ›ï¼Œé‚£å°±æ˜¯åœ¨ç¤¾äº¤åª’ä½“ä¸Šè¾“å‡ºå†…å®¹ï¼Œå†™ä½œï¼Œå‰ªè§†é¢‘ï¼Œåšæ’­å®¢ï¼Œäº¤å‹ï¼Œç›´æ’­ï¼Œè¿éº¦ã€‚ç›®å‰æˆ‘åœ¨è¿™æ–¹é¢å°šä¸ç§¯æï¼Œç‰¹åˆ«æ˜¯å‰ªè§†é¢‘æ ¹æœ¬æ²¡æœ‰åŸºç¡€ã€‚</p><h3 id="å›¢ç»“å‘¨å›´çš„äºº"><a href="#å›¢ç»“å‘¨å›´çš„äºº" class="headerlink" title="å›¢ç»“å‘¨å›´çš„äºº"></a>å›¢ç»“å‘¨å›´çš„äºº</h3><p>è¿™æ–¹é¢çš„èƒ½åŠ›ï¼Œä¸é«˜ä¸ä½ï¼Œè¯´ä¸é«˜ï¼Œæ˜¯å› ä¸ºæˆ‘çˆ¶æ¯å¯¹æˆ‘çš„æ”¯æŒä¸€èˆ¬ã€‚åœ¨å¸åœˆçš„å¤´å‡ å¹´ï¼Œæˆ‘çˆ¶æ¯å§‹ç»ˆä¸æ„¿çœŸæ­£ç›¸ä¿¡æˆ‘ï¼Œè¿˜æŠŠç»™æˆ‘æŠ•èµ„å¸åœˆçš„é’±ä¹°äº†æˆ¿ã€‚åœ¨å®¶ä¸­åœ°ä½æ¯”è¾ƒä½ï¼Œä½†å®¶åº­éå¸¸å’Œç¦ï¼Œä¹Ÿç®—åº•å­ä¸é”™ã€‚ç­‰åé¢æˆ‘ç»æµèƒ½åŠ›è¶…è¿‡çˆ¶æ¯ï¼Œä¼°è®¡ä¼šæ›´ç›¸ä¿¡æˆ‘ä¸€äº›ã€‚</p><p>å›¢ç»“æœ‹å‹è¿™æ–¹é¢ï¼Œæˆ‘æœ‰æ¯”è¾ƒè¦å¥½çš„æœ‹å‹ï¼Œä½†ä»ç®—ä¸ä¸Šè‡³äº¤ã€‚ä¸äººçš„å…³ç³»å§‹ç»ˆåœç•™åœ¨ç•¥ç²—æµ…çš„æ°´å¹³ï¼Œå¯èƒ½æ˜¯æˆ‘é•¿æœŸç»™æœ‹å‹çŒè¾“ç‹¼æ€§æ€ç»´çš„åŸå› æ‰€è‡´ï¼ˆæ˜¯ç‹¼å°±å¾—åƒè‚‰å¾—ä¼¤äººï¼‰ï¼Œå¾€åæˆ‘å¯ä»¥ä¸å†è®²ï¼Œå…¶å®æˆ‘ä¸€ç›´è®²ç»™æœ‹å‹å¬ï¼Œå®é™…ä¸Šæ˜¯è®²ç»™è‡ªå·±å¬ï¼Œè®²ç»™æˆ‘è¿™ä¸ªåšäº†å‡ åå¹´æ¸©é¡ºç»µç¾Šçš„äººå¬ã€‚</p><p>ä¸è€å©†å…³ç³»æŒºå¥½ï¼Œå°šæ— å­å¥³ã€‚</p><p>ä¸äº²æˆšå…³ç³»æ·¡ã€‚</p><h3 id="ä¸ªäººæŠ€èƒ½"><a href="#ä¸ªäººæŠ€èƒ½" class="headerlink" title="ä¸ªäººæŠ€èƒ½"></a>ä¸ªäººæŠ€èƒ½</h3><p>ç›®å‰ç¼–ç¨‹èƒ½åŠ›å°šå¯ï¼Œä¾é ç¼–ç¨‹æ¥å…»æ´»è‡ªå·±ã€‚è‹±è¯­èƒ½åŠ›å¾ˆçƒ‚ï¼Œå´å§‹ç»ˆä¸æ„¿åšæŒè¿ç»­æ€§æœ‰è§„åˆ’çš„åˆ»æ„ç»ƒä¹ ã€‚ä¹Ÿæ²¡æœ‰å…¶ä»–çš„æŠ€èƒ½ç‰¹é•¿äº†ï¼Œä¸šä½™æ—¶é—´åŸºæœ¬å…¨åœ¨çœ‹ç©æ¸¸æˆï¼Œç©æ¸¸æˆçš„ç©ºé—²åˆåœ¨çœ‹çŸ­è§†é¢‘ï¼Œçœ‹çŸ­è§†é¢‘çš„ç©ºé—²åˆåœ¨çœ‹çˆ½å‰§åŠ¨æ¼«ã€‚</p><p>ç†æ€§è„‘æ€»ç»“å‡ºæ¥ä¸Šé¢è¿™äº›ä¸œè¥¿ï¼Œèƒ½è½åœ°çš„è§„åˆ’ï¼Œç›®å‰è¿˜æ²¡æƒ³åˆ°ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> æ–¹æ³•è®º </tag>
            
            <tag> è§‚ç‚¹ </tag>
            
            <tag> åšç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æˆ‘å¯¹è¯»ä¹¦çš„çœ‹æ³•</title>
      <link href="/blog/2024/08/26/%E6%88%91%E5%AF%B9%E8%AF%BB%E4%B9%A6%E7%9A%84%E7%9C%8B%E6%B3%95/"/>
      <url>/blog/2024/08/26/%E6%88%91%E5%AF%B9%E8%AF%BB%E4%B9%A6%E7%9A%84%E7%9C%8B%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p>ä¸€ç›´ä»¥æ¥ç¡®å®æœ‰ç‚¹è¯»ä¹¦è¯»å‚»äº†ï¼Œå¦‚æœæˆ‘æœ‰å°å­©ï¼Œæˆ‘å¸Œæœ›ä»–ä»·å€¼è§‚ä¸è¦å‡ºé—®é¢˜ã€‚å­¦æ ¡çš„ä»·å€¼è§‚å¤ªæœ‰é—®é¢˜äº†ã€‚</p><ul><li><a href="https://www.xiaohongshu.com/explore/6670e747000000000e032612" target="_blank" rel="noopener">æ¸…åå½•å–é€šçŸ¥ä¹¦å’Œä¸€ä¸ªäº¿ï¼Œå°æœ‹å‹å¦‚ä½•é€‰ï¼Ÿ</a></li><li><a href="https://www.bilibili.com/video/BV1Gf421z7Px/" target="_blank" rel="noopener">é«˜è€ƒå¤±è´¥=äººç”Ÿå®Œè›‹ï¼Ÿå¤è¯»è€ƒä¸Šäº¤å¤§ï¼Œè¿›å…¥ç¤¾ä¼šæ‰å‘ç°å­¦å†åªæ˜¯ä¸€å¼ çº¸ï¼Œ985 æ ¹æœ¬é…ä¸ä¸Šå­¦ç”Ÿçš„ä¼˜ç§€</a></li></ul><ol><li>é’±ï¼Œè´¢å¯Œé‚£ä¸æ˜¯è‚®è„çš„ä¸œè¥¿ã€‚è§†é‡‘é’±å¦‚ç²ªæ˜¯é”™çš„</li><li>ä»ä¹‰ç¤¼æ™ºä¿¡ï¼Œåœ¨è´µæ—èº«ä¸Šï¼Œé‚£æ˜¯å¤§åŠ æˆã€‚åœ¨ç©·äººèº«ä¸Šï¼Œé‚£æ˜¯å¤§æ·é”ã€‚åº•å±‚äººæ•¢é—¯æ•¢æ‹¼ä½é“å¾·åšè„¸çš®æ˜¯å¤§åŠ æˆã€‚</li><li>ç¤¾ä¼šæ˜¯äººè·Ÿäººçš„ç¤¾ä¼šã€‚äººé™…å…³ç³»ï¼Œæ¯”ä»€ä¹ˆéƒ½é‡è¦ã€‚ç©åˆ°æè‡´ï¼Œå°±æ˜¯æ”¿æ²»</li><li>åˆ©ç›Šå†³å®šè„‘è¢‹ã€‚ä¹Ÿå«å±è‚¡å†³å®šè„‘è¢‹ã€‚åˆ«äººè¯´ä»€ä¹ˆéƒ½æ˜¯ç«™åœ¨è‡ªå·±çš„åˆ©ç›Šï¼ˆæˆ–è€…å¿—å‘ï¼‰ç«‹åœºä¸Šè¯´è¯çš„ã€‚</li><li>é«˜è€ƒæ˜¯ç•™ç»™æœ€åº•å±‚å­©å­çš„é€šé“ã€‚æœ‰å®åŠ›çš„åˆ«å»å·ï¼Œæˆ–è€…èŠ±æ ·å·ã€‚å¥¶èŒ¶å¦¹å¦¹ï¼ˆåˆ˜å¼ºä¸œè€å©†ç« æ³½å¤©ï¼‰å¥ç¾æ“ä¸Šæ¸…åï¼Œé¡¾æ£®ï¼ˆmatrix67ï¼‰ä¿¡æ¯ç«èµ›é“¶ç‰Œä¸ŠåŒ—å¤§ï¼Œå“ªæ€•å­™å‰²ï¼ˆå­™å®‡æ™¨ï¼‰ä¹Ÿæ˜¯è‡ªä¸»æ‹›ç”ŸåŠ äº†åˆ†ï¼ˆè™½ç„¶å­™å‰²åˆ†æ•°å¹¶ä¸ä½ï¼Œç¦»åŒ—å¤§åˆ†æ•°çº¿è¿˜å·®å‡ åˆ†ï¼‰ã€‚</li></ol><a id="more"></a><h2 id="è¯»ä¹¦çš„ä½œç”¨"><a href="#è¯»ä¹¦çš„ä½œç”¨" class="headerlink" title="è¯»ä¹¦çš„ä½œç”¨"></a>è¯»ä¹¦çš„ä½œç”¨</h2><ol><li>æ‰“æ›´é«˜çº§çš„å·¥ï¼Œå¤§å­¦æ¯•ä¸šä¸€èˆ¬èƒ½æ¯”åˆé«˜ä¸­æ¯•ä¸šçš„æ‰“æ›´é«˜çº§çš„å·¥ï¼Œåšå£«ç ”ç©¶ç”Ÿä¸€èˆ¬èƒ½æ¯”å¤§å­¦æ¯•ä¸šæ‰“æ›´é«˜çº§çš„å·¥</li><li>å¯èƒ½å­˜åœ¨æŸäº›æœºé‡ï¼Œå¾®ä¹å…¶å¾®</li><li>æé«˜è‡ªèº«ç´ è´¨ï¼Œé˜²è¯ˆéª—èƒ½åŠ›æé«˜</li></ol><h2 id="è¯»ä¹¦çš„å±å®³"><a href="#è¯»ä¹¦çš„å±å®³" class="headerlink" title="è¯»ä¹¦çš„å±å®³"></a>è¯»ä¹¦çš„å±å®³</h2><ol><li>éœ€è¦èŠ±å¾ˆå¤šå¹´æ—¶é—´ï¼Œæ—¶é—´æˆæœ¬å¾ˆé«˜</li><li>æœä»æ€§è®­ç»ƒï¼Œè¯»ä¹¦æœŸé—´å……æ–¥äº†å¤ªå¤šçš„æœä»è®­ç»ƒï¼Œç”šè‡³ä¼ æˆçŸ¥è¯†æœ¬èº«ä¹Ÿæ˜¯ç”¨æœä»è®­ç»ƒå®Œæˆã€‚ä¼šå¯¼è‡´äººå˜å¾—éå¸¸æœä»ï¼Œä¸åŠ æ€è€ƒè¿·ä¿¡æƒå¨ï¼Œæœä»é¢†å¯¼ï¼Œæ²¡æœ‰ä¸»è§ï¼Œä¸çˆ±æ€è€ƒï¼Œä¸å¤Ÿè‡ªå¾‹ã€‚</li><li>ä¸çŸ¥é“è‡ªå·±è¦åšä»€ä¹ˆï¼Œä»€ä¹ˆéƒ½è¢«å®‰æ’ï¼Œè¯»ä¹¦çš„ç»ˆæç›®æ ‡å°±æ˜¯æ‰“å·¥ï¼Œè¯»äº†å‡ åå¹´ä¸çŸ¥é“è‡ªå·±è¦æ‰“ä»€ä¹ˆå·¥</li><li>ä»·å€¼ä½“ç³»å´©åï¼Œä¸çŸ¥é“é’±æƒè¿œæ¯”è¯»ä¹¦æœ‰ç”¨</li></ol><h2 id="æˆ‘å¯¹æœ‰äº§çš„å®šä¹‰"><a href="#æˆ‘å¯¹æœ‰äº§çš„å®šä¹‰" class="headerlink" title="æˆ‘å¯¹æœ‰äº§çš„å®šä¹‰"></a>æˆ‘å¯¹æœ‰äº§çš„å®šä¹‰</h2><p>å…¨å®¶å¯ä»¥è„±äº§ï¼Œæ™®é€šå®¶åº­ä¸€å¹´èŠ±é”€å¤§æ¦‚ 10 ä¸‡åˆ° 20 ä¸‡ï¼Œå¹´åŒ– 2%çš„è¯ï¼Œéœ€è¦ 500 ä¸‡åˆ° 1000 ä¸‡èµ„äº§ï¼Œä¹Ÿå°±æ˜¯è¯´ 500 ä¸‡æ˜¯å¯Œå†œåˆ°åœ°ä¸»çš„ä¸€ä¸ªé—¨æ§›ã€‚</p><p>å¦‚æœæœ‰ç†æƒ³ï¼Œå…¨å®¶äººä¸€èµ·å¥”ç€æœ‰äº§å»æ</p><h2 id="æˆ‘å¯¹å­å¥³æ•™è‚²é—®é¢˜çš„çœ‹æ³•"><a href="#æˆ‘å¯¹å­å¥³æ•™è‚²é—®é¢˜çš„çœ‹æ³•" class="headerlink" title="æˆ‘å¯¹å­å¥³æ•™è‚²é—®é¢˜çš„çœ‹æ³•"></a>æˆ‘å¯¹å­å¥³æ•™è‚²é—®é¢˜çš„çœ‹æ³•</h2><ol><li>ä»·å€¼ä½“ç³»è¦å¯¹ï¼Œä¸€èˆ¬æ¥è¯´è¯»ä¹¦å‡ºæ¥å°±æ˜¯æ‰“å·¥ï¼Œé’±è¿œæ¯”è¯»ä¹¦é‡è¦ï¼Œä»å°åŸ¹å…»é‡‘é’±è§‚å¿µï¼Œä»å°è¯•å›¾è‡ªå·±èµšé’±</li><li>å¦‚æœæ³¨å®šè¦æ‰“å·¥ï¼Œè¯»åå¤šå¹´å‡ºæ¥ï¼Œè¦çŸ¥é“è‡ªå·±èƒ½æ‰“ä»€ä¹ˆå·¥</li><li>å­¦å†è¿˜æ˜¯è¦é«˜ç‚¹ï¼Œç´ è´¨é«˜ï¼Œé˜²å¾—ä½è¯ˆéª—ï¼Œå®ˆå¾—ä½è´¢</li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> è§‚ç‚¹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æŠ•èµ„æ€»ç»“</title>
      <link href="/blog/2024/08/14/%E6%8A%95%E8%B5%84%E6%80%BB%E7%BB%93/"/>
      <url>/blog/2024/08/14/%E6%8A%95%E8%B5%84%E6%80%BB%E7%BB%93/</url>
      
        <content type="html"><![CDATA[<p>æŠ•èµ„è¦åšçš„æ˜¯ä¸¤æ–¹é¢çš„å·¥ä½œï¼š</p><ol><li>ä»·æ ¼ä½</li><li>è´¨é‡å¥½</li></ol><p>å¦‚æœä½ çš„æŠ•èµ„æ ‡çš„ï¼Œå…·å¤‡ä»¥ä¸Šä¸¤ä¸ªç‰¹å¾ï¼Œé‚£å°±å¯ä»¥èµšåˆ°é’±ã€‚è¿™ä¸¤ä¸ªéƒ½åšå¥½äº†ä¼šä¸ä¼šäºé’±ï¼Œä¹Ÿä¼šï¼Œå› ä¸ºå¾ˆå¤šäººä¼šå—å¸‚åœºæ³¢åŠ¨çš„å½±å“ï¼Œè®¤ä¸ºè‡ªå·±åˆ¤æ–­é”™äº†ï¼Œä»è€Œå‰²è‚‰ç¦»åœºã€‚æ‰€ä»¥ä¼˜ç§€çš„æŠ•èµ„äººä¸å…‰è¦å­¦ä¹ åŸºæœ¬çš„å¸‚åœºç»æµçŸ¥è¯†ï¼Œè¿˜è¦æœ‰è°ƒæŸ¥ç²¾ç¥ï¼Œè¿˜è¦æœ‰è‡ªä¿¡ã€‚</p><a id="more"></a><h1 id="ç‚’å¸çŸ¥è¯†"><a href="#ç‚’å¸çŸ¥è¯†" class="headerlink" title="ç‚’å¸çŸ¥è¯†"></a>ç‚’å¸çŸ¥è¯†</h1><ol><li>æ¯”ç‰¹å¸ç›¸å¯¹å…¶ä»–å¸æ¥è¯´æ›´ç¨³ï¼Œ<strong>æ³¢åŠ¨æ›´å°</strong></li><li>ä¸‹è·Œä¼šå¾ˆè¿…é€Ÿï¼Œ<strong>å½“å¤©å°±ä¼šè·Œåˆ°ä½</strong></li><li>ä¸‹è·Œå<strong>åå¼¹èµšé’±ç‰¹åˆ«å¿«</strong>ï¼Œè€Œä¸”åå¼¹å…ˆå‡ºï¼Œç‰¹åˆ«ç¨³ï¼Œ<strong>å¯ä»¥åº”å¯¹ä»»ä½•æƒ…å†µ</strong></li><li>ä¸€æ®µæ—¶é—´å†…æ¶¨å¤ªå¤šæˆ–è·Œå¤ªå¤šéƒ½ä¼šåè½¬ä¸€ä¸‹ï¼Œå› ä¸º<strong>æœªå¹³ä»“åˆçº¦å¾ˆå¤š</strong>ï¼Œä¸‹è·Œå¾ˆè¿…é€Ÿä¹Ÿæ˜¯ä¸ºäº†çˆ†æ‰è¿™äº›æœªå¹³ä»“åˆçº¦ã€‚</li><li><strong>ä¸Šæ¶¨è¿‡ç¨‹æ˜¯ç­¹ç åˆ†æ•£çš„è¿‡ç¨‹ï¼Œä¸‹è·Œè¿‡ç¨‹æ˜¯ç­¹ç é›†ä¸­çš„è¿‡ç¨‹</strong>ã€‚è¿™é‡Œé¢æ˜¯ä¾›éœ€å…³ç³»å†³å®šçš„ã€‚</li><li><strong>å¸‚åœºæ°¸è¿œä¸ç¼ºçƒ­ç‚¹ï¼Œä¸è®ºæ˜¯ç‰›å¸‚è¿˜æ˜¯ç†Šå¸‚</strong>ã€‚</li><li><strong>å¥½çš„æŠ•æœºæ ‡çš„æ˜¯ç¼“æ¶¨æ€¥è·Œï¼Œä¸å¥½çš„æŠ•æœºæ ‡çš„æ˜¯ç¼“è·ŒçŒ›æ‹‰</strong></li><li>å‡çº¿ç²˜åˆå’Œå¸ƒæ—çº¿æ”¶çª„æ˜¯å˜ç›˜çš„å‰æï¼ˆè¶‹åŠ¿è¡Œæƒ…å¼€å¯çš„å‰æï¼‰</li><li>ç¼©é‡ä»£è¡¨æ²¡æœ‰åˆ†æ­§ï¼Œæ”¾é‡ä»£è¡¨æœ‰åˆ†æ­§ï¼Œç¼©é‡ä¸Šæ¶¨è¿˜ä¼šæ¶¨ï¼Œç¼©é‡ä¸‹è·Œè¿˜ä¼šè·Œã€‚</li></ol><blockquote><p>ä»¥ä¸Šæ˜¯ 2021 å¹´æ¯”ç‰¹å¸ç‰›å¸‚çš„æ€»ç»“</p></blockquote><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><h2 id="åŸåˆ™ç¯‡"><a href="#åŸåˆ™ç¯‡" class="headerlink" title="åŸåˆ™ç¯‡"></a>åŸåˆ™ç¯‡</h2><ol><li>ä¸åšç©º</li><li>ä¸åŠ æ æ†</li><li>ä¸æ‹¿å…¨ä»“ç©æˆäº¤é‡å°çš„åƒåœ¾å¸(äºæŸè¦åœ¨ä¸€å®šèŒƒå›´ï¼Œå› ä¸ºå¯èƒ½å½’é›¶)</li></ol><h2 id="ç›®æ ‡ç¯‡"><a href="#ç›®æ ‡ç¯‡" class="headerlink" title="ç›®æ ‡ç¯‡"></a>ç›®æ ‡ç¯‡</h2><ol><li>æˆäº¤é‡å’Œå¸‚å€¼(å•ä¸ªå¸åˆ¤æ–­ä¾æ®)</li><li>é™æ¯(æ•´ä¸ªå¸‚åœºçš„åˆ¤æ–­ä¾æ®ï¼Œå…¶æœ¬è´¨ä¾æ—§æ˜¯èµ„é‡‘é‡ï¼Œæˆäº¤é‡)</li></ol><h2 id="é£é™©ç¯‡"><a href="#é£é™©ç¯‡" class="headerlink" title="é£é™©ç¯‡"></a>é£é™©ç¯‡</h2><ol><li>æŒ‘é€‰å‡ºèƒ½æ‰¿è½½æ•´ä¸ªæœ¬é‡‘çš„æ ‡çš„</li><li>å¦‚æœ 1 æ— æ³•å®ç°ï¼Œå°±å‡å°ä»“ä½å¯»æ‰¾ç›®æ ‡</li></ol><h2 id="ç­–ç•¥ç¯‡"><a href="#ç­–ç•¥ç¯‡" class="headerlink" title="ç­–ç•¥ç¯‡"></a>ç­–ç•¥ç¯‡</h2><ol><li>é¾™å¤´æˆ˜æ³•ã€‚æœ‰é¾™å¤´çš„æ—¶å€™åªä¹°é¾™å¤´ã€‚æ²¡æœ‰é¾™å¤´å°±ä¼‘æ¯ã€‚ï¼ˆé€‚åˆå­˜é‡èµ„é‡‘å¸‚åœºä¸Šçš„ææ€ï¼‰</li></ol><h1 id="å¤´è„‘æ¸…æ™°çš„æ€è€ƒè¿‡ç¨‹æœ‰"><a href="#å¤´è„‘æ¸…æ™°çš„æ€è€ƒè¿‡ç¨‹æœ‰" class="headerlink" title="å¤´è„‘æ¸…æ™°çš„æ€è€ƒè¿‡ç¨‹æœ‰"></a>å¤´è„‘æ¸…æ™°çš„æ€è€ƒè¿‡ç¨‹æœ‰</h1><ol><li>é¦–å…ˆçœ‹é£é™©æ€»é‡(å†³å®šæŠ•å…¥å¤šå°‘æœ¬é‡‘)</li><li>å…¶æ¬¡çœ‹é£é™©æ”¶ç›Šæ¯”(é¢„è®¡å¤§æ¦‚èƒ½èµšå¤šå°‘)</li><li>èµ°çº¿ï¼Œä»·æ ¼éƒ½æ˜¯è¡¨è±¡ï¼Œå”¯æœ‰æˆäº¤é‡æ˜¯çœŸå®ï¼Œå¸‚åœºæ·±åº¦å†³å®šçœŸå®ä»·æ ¼</li></ol><p>æˆäº¤é‡æ˜¯åšå®çš„åŸºç¡€ï¼Œè€Œå¸‚å€¼æ˜¯æ³¡æ²«å«é‡çš„å¤šå°‘ã€‚å·¦æ‰‹æˆäº¤é‡å³æ‰‹å¸‚å€¼ï¼Œå…¶ä»–éƒ½ä¸çœ‹</p><h1 id="å®æˆ˜ç»“æœåˆ†æ"><a href="#å®æˆ˜ç»“æœåˆ†æ" class="headerlink" title="å®æˆ˜ç»“æœåˆ†æ"></a>å®æˆ˜ç»“æœåˆ†æ</h1><ol><li>æ“…é•¿åšè¶‹åŠ¿è¡Œæƒ…ï¼Œå–œæ¬¢åšå³ä¾§è¿½é«˜</li><li>ä¸é€‚åˆæŠ„åº•</li><li>åšæ³¢æ®µä¹Ÿè¿˜è¡Œ</li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> æŠ•èµ„ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…è´¹æ•°å­—èµ„æº</title>
      <link href="/blog/2024/08/13/free-resource/"/>
      <url>/blog/2024/08/13/free-resource/</url>
      
        <content type="html"><![CDATA[<p>äº’è”ç½‘æ—¶ä»£å‘å±•åˆ°ç°åœ¨ï¼Œä»€ä¹ˆéƒ½è¦æ”¶è´¹äº†ï¼Œè€Œä¸”ä¸å…‰è¦æ”¶è´¹ï¼Œä½¿ç”¨ä½“éªŒè¿˜è¶Šæ¥è¶Šå·®ã€‚æ¯”å¦‚å¬æ­Œï¼Œçœ‹è§†é¢‘ï¼Œå¾€å¾€éƒ½è¦ä¸‹è½½å¥½å‡ ä¸ª APPï¼Œåœ¨å¥½å‡ ä¸ªå¹³å°å……ä¼šå‘˜ã€‚æœ‰æ²¡æœ‰ä»€ä¹ˆåŠæ³•å¯ä»¥å…è´¹è·å¾—è¿™äº›èµ„æºå‘¢ï¼Ÿæœ‰çš„ï¼Œä¸‹é¢åˆ†äº«ä¸€ä¸‹æˆ‘çš„ç»éªŒã€‚</p><a id="more"></a><h2 id="ç¿»å¢™"><a href="#ç¿»å¢™" class="headerlink" title="ç¿»å¢™"></a>ç¿»å¢™</h2><p>ç¿»å¢™æ˜¯æ‰€æœ‰ä¿¡æ¯å·®çš„ç¬¬ä¸€æ­¥ï¼š</p><ul><li><a href="https://portal.shadowsocks.nz/login" target="_blank" rel="noopener">æœºåœºæœåŠ¡è´­ä¹°</a>ï¼š20 ç¾å…ƒä¸€å¹´</li><li><a href="https://clashxhub.com/" target="_blank" rel="noopener">ç¿»å¢™è½¯ä»¶</a></li></ul><h2 id="å¬æ­Œ"><a href="#å¬æ­Œ" class="headerlink" title="å¬æ­Œ"></a>å¬æ­Œ</h2><p>ä½ æœ‰æ²¡æœ‰æƒ³è¿‡å¯ä»¥åœ¨ä¸€ä¸ª app ä¸Šå…è´¹å¬æ‰€æœ‰éŸ³ä¹å¹³å°çš„ VIP æ­Œæ›²å‘¢ã€‚</p><p><a href="https://lxmusic.toside.cn/" target="_blank" rel="noopener">æ´›é›ªéŸ³ä¹</a>ï¼šæ”¯æŒ windows, Mac OS, linux, Androidã€‚ä½†æ˜¯æ´›é›ªéŸ³ä¹å®˜æ–¹çš„éŸ³æºå·²ç»å¤±æ•ˆäº†ï¼Œç°åœ¨éœ€è¦è‡ªå·±æ‰¾éŸ³æºäº†ã€‚</p><p>åœ¨ github ä¸Šå‘ç°æœ‰äººåˆ†äº«äº†ï¼š<a href="https://github.com/lyswhut/lx-music-desktop/issues/1769" target="_blank" rel="noopener">è‡ªå·±æ”¶é›†çš„å‡ ä¸ªå¯ç”¨æº</a></p><p><a href="https://wwp.lanzouq.com/b02fq9w8d" target="_blank" rel="noopener">https://wwp.lanzouq.com/b02fq9w8d</a><br>å¯†ç ï¼šlxmusic</p><p>ä¹Ÿå¯ä»¥ç‚¹è¿™é‡Œç›´æ¥ä¸‹è½½ï¼š<a href="../../../../assets/flower-v1.js">flower-v1.js</a></p><p>è‡³äºæ€ä¹ˆå¯¼å…¥éŸ³æºåˆ°æ´›é›ªéŸ³ä¹ appï¼Œå¯ä»¥è‡ªå·±ä¸Šç½‘æŸ¥ã€‚</p><h2 id="çœ‹ä¹¦"><a href="#çœ‹ä¹¦" class="headerlink" title="çœ‹ä¹¦"></a>çœ‹ä¹¦</h2><ul><li>å…¨çƒæœ€å¤§çš„ç”µå­å›¾ä¹¦é¦†ï¼š<a href="https://zh.singlelogin.rs/" target="_blank" rel="noopener">ZLibrary</a></li><li>PDF æœ€å…¨çš„ç½‘ç«™ï¼š<a href="https://homeofpdf.com/" target="_blank" rel="noopener">PDF ä¹‹å®¶</a></li></ul><h2 id="å¬ä¹¦"><a href="#å¬ä¹¦" class="headerlink" title="å¬ä¹¦"></a>å¬ä¹¦</h2><ul><li>é£é¸Ÿå¬ä¹¦ã€‚ç›®å‰åªæœ‰å®‰å“ç‰ˆï¼ŒIOSç”¨æˆ·ç™½å«–ä¸äº†ã€‚</li></ul><p>æˆ‘å¬è¿‡çš„å‰§æœ‰ï¼š</p><ol><li>ç¼¥ç¼ˆä¹‹æ—…</li><li>åå™¬æ˜Ÿç©º</li><li>é€†å¤©é‚ªç¥</li><li>é®å¤©</li><li>ä»™é€†</li><li>æ–—ç ´è‹ç©¹</li></ol><h2 id="çœ‹è§†é¢‘"><a href="#çœ‹è§†é¢‘" class="headerlink" title="çœ‹è§†é¢‘"></a>çœ‹è§†é¢‘</h2><p>æˆ‘ä¸€ç›´æœ‰çœ‹æ–—ç ´è‹ç©¹å’Œæ–—ç½—å¤§é™†çš„ä¹ æƒ¯ï¼Œæ¯å‘¨å…­éƒ½ä¼šæ”¶çœ‹ã€‚ä½†æ˜¯åˆä¸æƒ³å……è…¾è®¯è§†é¢‘çš„ä¼šå‘˜ï¼Œæ®è¯´ç°åœ¨å¥½åƒæœ‰ä¼šå‘˜ä¹Ÿçœ‹ä¸äº†æœ€æ–°ä¸€é›†ï¼Œè¦ä»˜è´¹æ‰è¡Œï¼ŒçœŸæ˜¯è¶Šæ¥è¶Šç‹—äº†ã€‚åˆšåˆšå»çœ‹äº†ä¸€ä¸‹ï¼Œæ˜¯æ–—ç ´è‹ç©¹å¹´ç•ªå¿…é¡»è¦SVIPæ‰èƒ½çœ‹ï¼ŒVIPçœ‹ä¸äº†æœ€æ–°ä¸€é›†ã€‚æˆ‘ä¸€ç›´è§‰å¾—è¿™ç§ç§Ÿèµçš„æ¨¡å¼æŒç»­ä¸äº†å¤ªå¤šå¹´äº†ï¼Œå¹³å°ä¹Ÿæä¸åˆ°å¥½ï¼Œç”¨æˆ·ä¹Ÿæä¸åˆ°å¥½ï¼ˆé‚£ä¹ˆè°æåˆ°å¥½ï¼Ÿæˆ‘è§‰å¾—åº”è¯¥æ˜¯é‚£äº›çƒ‚ä½œå“æåˆ°äº†å¥½ï¼‰ã€‚è¨€å½’æ­£ä¼ ï¼Œä»Šå¤©æˆ‘æƒ³åˆ†äº«çš„æ˜¯å¦‚ä½•å…è´¹çœ‹è§†é¢‘ï¼Œæˆ‘é€šå¸¸æ˜¯è¿™å‡ ä¸ªåœ°æ–¹ï¼š</p><ol><li>æŠ–éŸ³ï¼ŒæŸäº›ä¸ªäººè´¦å·åˆ†äº«çš„ï¼Œä¸€ä¸æ˜¯å¾ˆæ¸…æ™°ï¼ŒäºŒç”šè‡³æ˜¯å¯¹ç€æ‰‹æœºæ‹çš„ï¼Œç”»é¢å¾ˆå°ã€‚å¦å¤–å°±æ˜¯æ—¶æ•ˆæ€§ï¼Œä¼šåœ¨æ¯”è¾ƒçŸ­çš„æ—¶é—´å†…ä¸‹æ¶ï¼ˆä¸ºäº†é¿å…åƒå®˜å¸ï¼‰</li><li><a href="https://nnyy.in/" target="_blank" rel="noopener">åŠªåŠªè§†é¢‘</a>ï¼Œè®¸å¤šé“¾è·¯ä¼šå¤±æ•ˆï¼Œç„¶åé€Ÿåº¦ä¸æ˜¯å¾ˆå¿«ï¼Œå¾ˆå®¹æ˜“å¡ï¼Œå¡å¾—äººæ²¡å¿ƒæƒ…çœ‹äº†éƒ½ã€‚ä¼˜ç‚¹æ˜¯æ‰€æœ‰è§†é¢‘å…è´¹</li><li><a href="https://www.lovedan.net/" target="_blank" rel="noopener">è‰¾æ—¦è§†é¢‘</a>ï¼Œéƒ¨åˆ†å†…å®¹æ˜¯è¦ä»˜è´¹çš„ï¼ˆè²Œä¼¼å°é»„ç‰‡æ‰éœ€è¦ä»˜è´¹ï¼‰ï¼Œä½†è§†é¢‘èµ„æºæå…¶ä¸°å¯Œã€‚ç¼ºç‚¹ä¹Ÿæ˜¯åœ¨çº¿çœ‹æœ‰ç‚¹å¡ï¼Œä½†æ”¯æŒä¸‹è½½ï¼Œä¸‹è½½çœ‹ä½“éªŒä¸é”™ã€‚</li><li><a href="https://lzizy8.com/" target="_blank" rel="noopener">é‡å­èµ„æºç½‘</a>ï¼Œå†…å®¹ä¹Ÿæ˜¯ç›¸å½“ä¸°å¯Œï¼Œè€Œä¸”æ’­æ”¾éå¸¸æµç•…ï¼Œå¼ºçƒˆæ¨èã€‚</li><li>å›§æ¬¡å…ƒappï¼Œçœ‹åŠ¨æ¼«ä¸“ç”¨ï¼Œå¯ä»¥çœ‹è“å…‰è´¨é‡çš„è§†é¢‘ï¼Œç¼ºç‚¹æ˜¯æœ‰å¹¿å‘Šã€‚</li><li>ç”µæŠ¥ææœæœç´¢å¼•æ“ï¼Œæµ·é‡èµ„æº</li><li><a href="https://www.haituu.tv/" target="_blank" rel="noopener">æµ·å…”å½±é™¢</a>ï¼Œé€Ÿåº¦æå¿«ï¼Œç”»è´¨ä¹Ÿéå¸¸æ¸…æ™°ã€‚</li></ol><p>ä½†æˆ‘ä»Šå¤©å‘ç°IINAå±…ç„¶å¯ä»¥ç›´æ¥ç”¨æ‰“å¼€URLçš„æ–¹å¼çœ‹è‰¾æ—¦è§†é¢‘çš„ä¸‹è½½é“¾æ¥ï¼ŒçœŸçš„æ˜¯éå¸¸ä¸é”™çš„ä½“éªŒã€‚ï¼ˆåŸå› æ‰¾åˆ°äº†ï¼Œè‰¾æ—¦è§†é¢‘å’Œé‡å­èµ„æºçš„æ–—ç ´è‹ç©¹108é›†éƒ½æ˜¯åŒä¸€ä¸ªé“¾æ¥ï¼Œæ˜¯ä¸€ä¸ªmp4èµ„æºï¼Œæ‰€ä»¥æ‰å¯ä»¥ç›´æ¥ç”¨IINAæ‰“å¼€ï¼‰</p><blockquote><p><a href="https://iina.io/" target="_blank" rel="noopener">IINA</a>æ˜¯mac osä¸Šç‹¬æœ‰çš„è§†é¢‘æ’­æ”¾å™¨ï¼Œéå¸¸æ£’çš„æ’­æ”¾å™¨</p></blockquote><h2 id="å†™åœ¨æœ€å"><a href="#å†™åœ¨æœ€å" class="headerlink" title="å†™åœ¨æœ€å"></a>å†™åœ¨æœ€å</h2><p>æ‰€æœ‰ç¾å¥½çš„äº‹ç‰©ç»ˆå°†æ•£å»ï¼Œå”¯æœ‰è¶å®ƒè¿˜åœ¨çš„æ—¶å€™å¥½å¥½çæƒœã€‚è‡´ï¼šæ‰€æœ‰é‚£äº›å¹´æ”¶è—å´ä¸çœ‹çš„å¥½ä¸œè¥¿ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> ä¿¡æ¯å·® </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ˜Ÿéœ²è°·ç‰©è¯­</title>
      <link href="/blog/2024/08/03/%E6%98%9F%E9%9C%B2%E8%B0%B7%E7%89%A9%E8%AF%AD/"/>
      <url>/blog/2024/08/03/%E6%98%9F%E9%9C%B2%E8%B0%B7%E7%89%A9%E8%AF%AD/</url>
      
        <content type="html"><![CDATA[<p>æœ€è¿‘ä¸¤å¹´æ·±åº¦ä½“éªŒäº†ä¸€æŠŠæ˜Ÿéœ²è°·ç‰©è¯­ï¼Œä¸€ç›´ç©çš„æ˜¯å®‰å“ç‰ˆç›—ç‰ˆçš„æ˜Ÿéœ²è°·ï¼Œä¸Šå‘¨æœ«æ²¡å¿ä½ï¼Œç»ˆäºè¿˜æ˜¯ä¹°äº† steam ä¸Šçš„æ­£ç‰ˆæ˜Ÿéœ²è°·ç‰©è¯­ï¼Œä¹Ÿç®—æ˜¯å‘ä½œè€…è‡´æ•¬ï¼Œæ”¯æŒäº†ä¸€ä¸‹ä½œè€…ã€‚</p><p>å•æœºæ¸¸æˆç©é€šå…³äº†åŸºæœ¬ä¸Šå°±ä¸ä¼šå†æƒ³ç©äº†ï¼Œæ˜Ÿéœ²è°·ä¹Ÿä¸€æ ·ã€‚ä½†ç©ä¸‹æ¥ä¹‹åå‘ç°ï¼Œå…¶å®æ˜Ÿéœ²è°·ç‰©è¯­æ˜¯ä¸ªå½©è›‹ç±»æ¸¸æˆï¼Œå½©è›‹å®åœ¨æ˜¯å¤ªå¤šäº†ï¼Œç­‰å¾…ç©å®¶å»æŒ–æ˜ã€‚</p><p>æˆ‘æ˜¯ä¸€è¾¹çœ‹æ”»ç•¥ä¸€è¾¹ç©çš„ï¼ŒåŸºæœ¬ä¸Šåªæœ‰ç¬¬ä¸€å¹´ç´¯ä¸€ç‚¹ï¼Œç¬¬ä¸€å¹´è´¢å¯Œè‡ªç”±ä¹‹åï¼Œåé¢å°±æ˜¯å¼€å§‹æå„ç§ä¹±ä¸ƒå…«ç³Ÿçš„æ¢ç´¢äº†ã€‚æˆ‘æ˜¯ç”¨ä¸Šå¤æ°´æœé…¿é…’å®ç°è´¢å¯Œè‡ªç”±çš„ï¼Œè¿™ä¹Ÿæ˜¯è¿™ä¸ªæ¸¸æˆæœ€æ¨èçš„èµšé’±æµæ´¾ã€‚</p><p>ä¸‹é¢æŒ‰ç…§æˆ‘è‡ªå·±çš„ç†è§£å†™ä¸€ä¸‹è¿™ä¸ªæ¸¸æˆçš„æ”»ç•¥ï¼š</p><a id="more"></a><h2 id="æ”»ç•¥"><a href="#æ”»ç•¥" class="headerlink" title="æ”»ç•¥"></a>æ”»ç•¥</h2><p>ä¸ºäº†ç©æ¸¸æˆä¸å—é™ï¼Œé¦–å…ˆè¦å®ç°ç»æµä¸Šçš„è‡ªç”±ï¼ˆå…¶å®äººç”Ÿä¹Ÿæ˜¯å¦‚æ­¤ï¼‰ã€‚æ‰€ä»¥æˆ‘ä»¬ä»¥ <strong>æ¢ç´¢æ¸¸æˆä¸–ç•Œä¸ºç»ˆæç›®çš„</strong>ï¼Œ<strong>è´¢å¯Œè‡ªç”±ä¸ºä¸»çº¿</strong>ï¼Œæ¥ç©è¿™ä¸ªæ¸¸æˆã€‚</p><ol><li>ç¬¬ä¸€å¹´æ˜¥å¤©ï¼Œç–¯ç‹‚æ”’é’±ï¼Œåªä¸ºå¤æ´»èŠ‚çš„è‰è“ç§å­ã€‚ç§è‰è“æ˜¯æˆ‘ä»¬çš„ç¬¬ä¸€æ¡¶é‡‘ï¼Œé‚£ä¹ˆå¦‚ä½•å­˜å¤Ÿä¹°è‰è“ç§å­çš„é’±å‘¢ï¼Ÿæ¨èç§åœŸè±†ã€‚</li><li>ç„¶åå°±æ˜¯å‡†å¤‡ä¸Šå¤æ°´æœï¼Œæ´’æ°´å™¨ï¼Œå°æ¡¶ï¼Œå°æ¡¶çš„åŸææ–™æ˜¯ï¼šé“œé”­ï¼Œé“é”­ï¼Œæœ¨æï¼Œæ©¡æ ‘æ ‘è„‚ã€‚æ‰€ä»¥è¦ç§æ©¡æ ‘ï¼Œæ ‘æ¶²æ”¶é›†è¦ç”¨æ ‘æ¶²é‡‡é›†å™¨ï¼Œå…¶åŸææ–™æ˜¯æœ¨æï¼Œé“œé”­ã€‚ä¸Šå¤æ°´æœæ‰©å¼ éœ€è¦ç§å­ç”Ÿäº§å™¨ï¼Œå…¶åŸææ–™æ˜¯æœ¨æï¼Œé‡‘é”­ï¼Œç…¤ç‚­ã€‚ç‚¼åˆ¶é‡‘å±éœ€è¦ç†”ç‚‰ï¼ŒåŸææ–™ï¼šçŸ³å¤´ï¼Œé“œçŸ¿çŸ³</li><li>è¦é˜²æ­¢ä¹Œé¸¦å·å®¶ï¼Œåˆ¶ä½œç¨»è‰äººå§ï¼Œå…¶åŸææ–™æ˜¯ï¼šæœ¨æï¼Œç…¤ç‚­ï¼Œçº¤ç»´</li></ol><p>æ€»ç»“å‡ºï¼Œå…³é”®ææ–™ï¼š</p><ol><li>æœ¨æï¼ŒçŸ³å¤´ï¼Œæ©¡æ ‘ï¼Œçº¤ç»´</li><li>çŸ¿ï¼šé“œï¼Œé“ï¼Œé‡‘ï¼Œç…¤</li><li>ä½œç‰©ï¼šåœŸè±†ï¼Œè‰è“ï¼Œä¸Šå¤æ°´æœ</li></ol><p>è¿™é‡Œé¢æ´’æ°´å™¨æ˜¯è‡³å…³é‡è¦çš„ï¼Œæ²¡æœ‰æ´’æ°´å™¨è¿™ç§è‡ªåŠ¨åŒ–è£…ç½®ï¼Œèµšé’±è¦ç´¯æ­»ã€‚æ‰©å±•èƒŒåŒ…æ ¼å­ä¹Ÿæ˜¯è‡³å…³é‡è¦çš„ï¼Œä¸ç„¶æ”¶é›†æ´»åŠ¨å¤ªå—é™åˆ¶äº†ï¼Œæ¯•ç«Ÿè¿™ä¸ªæ¸¸æˆæœ¬è´¨ä¸Šæ˜¯ä¸ªæ”¶é›†æ¸¸æˆã€‚ä¸‹çŸ¿æœ€é‡è¦çš„æ˜¯æ­¦å™¨å’Œè¿æ°”ã€‚ä¸¤ä»¶ç¥å™¨è‡³å…³é‡è¦ï¼šé“¶æ²³å‰‘ï¼Œå¹¸è¿æˆ’æŒ‡ã€‚</p><p>ä»¥ä¸Šå®Œæˆè´¢å¯Œçš„åŸå§‹ç§¯ç´¯çš„åŒæ—¶ï¼Œé¡ºå¸¦æŠŠè‡ªèº«è£…å¤‡æå¥½ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬é‡ç‚¹è¿½é€çš„ä¸œè¥¿å°±æ˜¯äº¤é€šäº†ï¼Œå›ç¨‹é­”æ–å’Œæ²™æ¼ ï¼Œå§œå²›ä¸¤å¤§å›¾è…¾æ˜¯æœ€ä¼˜å…ˆè¦åšå‡ºæ¥çš„ã€‚</p><p>ä»¥ä¸Šéƒ½åšå®Œï¼Œå°±å¼€å§‹æ¢ç´¢è¿™ä¸ªæ¸¸æˆçš„å…¨éƒ¨å†…å®¹ã€‚</p><h2 id="å°æŠ€å·§-amp-å½©è›‹"><a href="#å°æŠ€å·§-amp-å½©è›‹" class="headerlink" title="å°æŠ€å·§ &amp; å½©è›‹"></a>å°æŠ€å·§ &amp; å½©è›‹</h2>]]></content>
      
      
      
        <tags>
            
            <tag> æ¸¸æˆ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½œå“ç‰ˆæƒè¯åˆ¸åŒ–</title>
      <link href="/blog/2024/08/03/%E4%BD%9C%E5%93%81%E7%89%88%E6%9D%83%E8%AF%81%E5%88%B8%E5%8C%96/"/>
      <url>/blog/2024/08/03/%E4%BD%9C%E5%93%81%E7%89%88%E6%9D%83%E8%AF%81%E5%88%B8%E5%8C%96/</url>
      
        <content type="html"><![CDATA[<h1 id="ç®€å•æè¿°"><a href="#ç®€å•æè¿°" class="headerlink" title="ç®€å•æè¿°"></a>ç®€å•æè¿°</h1><p>ç—›ç‚¹æè¿°ï¼šæŸäººä¸ºäº†å¬æŸé¦–å–œçˆ±çš„æ­Œæˆ–è§‚çœ‹å–œçˆ±çš„è§†é¢‘ï¼Œç»™éŸ³ä¹ï¼Œè§†é¢‘å¹³å°å……äº†æœˆä¼šå‘˜ï¼Œä¸€ä¸ªæœˆåå´å¬ä¸äº†æ­Œï¼Œç”šè‡³æœ‰äº›æ­Œå³ä¾¿ä¸‹è½½äº†è¿˜ä¸è®©å¬ã€‚å¦‚æœæ¢åšä¸€æœ¬çº¸è´¨ä¹¦ï¼Œæˆ‘ä¹°äº†ï¼Œå°±æ˜¯æˆ‘çš„ï¼Œç”šè‡³æˆ‘è¿˜å¯ä»¥å€Ÿç»™åˆ«äººçœ‹ï¼Œæ‰€æœ‰æƒæ˜æ˜ç™½ç™½ï¼Œæˆ‘ä¸æ˜¯æƒ³å¬å¹³å°é‚£ä¹ˆå¤šæ­Œï¼Œæˆ‘å°±æ˜¯æƒ³å¬æˆ‘çˆ±å¬çš„è€Œå·²ï¼Œå¾ˆå°‘çš„å‡ é¦–ã€‚æ‰€ä»¥èƒ½ä¸èƒ½åˆ«å†ç”¨ç§Ÿèµçš„å½¢å¼å¬æ­Œäº†ï¼è€Œä¸”å¹³å°é‚£ä¹ˆå¤šï¼Œæˆ‘ç”šè‡³è¦å……å¥½å‡ ä¸ªå¹³å°ï¼Œæ‰èƒ½å‡‘é½è¿™äº›æ­Œã€‚</p><p>æŠŠä½œå“çš„ç‰ˆæƒä¸Šå¸‚è¯åˆ¸åŒ–ï¼Œä¸¾ä¾‹ï¼šå‘¨æ°ä¼¦çš„ä¸€é¦–æ–°æ­Œï¼Œä¼°å€¼ 500 ä¸‡ï¼Œä¸Šå¸‚åˆ†æˆ 500 ä¸‡è‚¡ï¼Œæ¯ä¸€è‚¡ 1 å—é’±ï¼Œä½†å‡¡æŒæœ‰ä¸€è‚¡ï¼Œå³å¯å¬æ­Œï¼ˆè§‚çœ‹æƒï¼‰ï¼Œä½†æ²¡æœ‰æ‰€æœ‰æƒï¼ˆæ‹¿è¿™é¦–æ­Œä¼ æ’­ç›ˆåˆ©ï¼‰ã€‚æ‰€æœ‰æŒæœ‰è€…å…±åŒäº«å—è¿™é¦–æ­Œçš„æ”¶ç›Šã€‚æ¯”å¦‚æŸä¸ªè§†é¢‘å¼•ç”¨æ‹¿è¿™é¦–æ­Œåš BGMï¼Œç”µè§†å‰§æ‹¿è¿™é¦–æ­Œåšç‰‡å¤´æ›²ç­‰ç­‰ï¼Œäº§ç”Ÿçš„æ”¶ç›ŠæŒ‰æ¯”ä¾‹åˆ†çº¢ç»™æ‰€æœ‰æŒæœ‰è€…ã€‚å»ºç«‹ä¸€ä¸ªå¹³å°ï¼Œå¯ä»¥ä¸Šæ¶äº¤æ˜“ï¼Œå¹³å°ä¸é ç½‘æ˜“äº‘éŸ³ä¹ç­‰æ”¶ä¼šå‘˜å¬æ­Œçš„æ¨¡å¼ï¼Œè€Œæ˜¯é äº¤æ˜“æ‰‹ç»­è´¹ï¼ˆæ¯”å¦‚åƒåˆ†ä¹‹äºŒçš„æ‰‹ç»­è´¹ï¼‰ã€‚</p><a id="more"></a><p>å››èµ¢ï¼š</p><ol><li>å®¢æˆ·èµ¢ï¼Œå®¢æˆ·ç»ˆäºå¯ä»¥ä»¥æ‹¥æœ‰çš„å½¢å¼ï¼Œè€Œéç§Ÿèµçš„å½¢å¼ï¼Œæ¥æ”¶è—è‡ªå·±å–œçˆ±çš„ä½œå“ï¼Œå“ªæ€•ä»–æ²¡æ³•å…¨æ¬¾ä¹°ä¸‹ï¼ˆä¹°ä¸‹æ•´ä¸ªç‰ˆæƒï¼‰</li><li>åˆ›ä½œè€…èµ¢ï¼Œå¥½çš„ä½œå“è¯åˆ¸åŒ–åï¼Œæˆ‘ä¸çŸ¥é“ä»·æ ¼èƒ½ç‚’åˆ°å¤šé«˜</li><li>å¹³å°èµ¢ï¼Œæ–°çš„å¹³å°é€šè¿‡æ‰‹ç»­è´¹èƒ½èµšå¾ˆå¤šé’±</li><li>ç‰ˆæƒæ”¿æ²»æ­£ç¡®èµ¢ï¼Œå¤§å®¶éƒ½æ˜¯è‚¡ä¸œï¼Œçœ‹åˆ°è‡ªå®¶ä½œå“è¢«å¼•ç”¨ï¼Œç«‹å³æŸ¥ä»–ç‰ˆæƒï¼Œç›—ç‰ˆå¿…ç©¶ã€‚</li></ol><p>è¾“çš„å¯¹è±¡ï¼šä¼ ç»Ÿä½œå“ç§Ÿèµå¹³å°ã€‚</p><p>æ—¶ä»£è½¦è½®æ»šæ»šå‘å‰ï¼Œå¹¶éåªæœ‰å®ä½“çš„ä½œå“æ‰èƒ½èµ°æ‹¥æœ‰è·¯çº¿ï¼Œç”µå­ä½œå“çš„ç§Ÿèµå¯ä»¥ç»§ç»­å­˜åœ¨ï¼Œä½†ä¸èƒ½å¦¨ç¢å¤§ä¼—ä»¬æ‹¥æœ‰æ°¸ä¹…æƒåŠ›ï¼Œä¸æ˜¯æ‰€æœ‰äººéƒ½æƒ³ä¸€ç›´è¿‡ç§Ÿæ¥çš„ç”Ÿæ´»ï¼</p><p>æ€»ç»“ï¼šåšè¿™ä¸ªç‰ˆæƒæ–¹é¢çš„é¡¹ç›®ï¼Œå¯åŠ¨èµ„é‡‘è‡³å°‘è¦å‡ äº¿</p>]]></content>
      
      
      
        <tags>
            
            <tag> æ€è€ƒ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScriptå¦‚ä½•å®ç°èŠ‚æµå’Œé˜²æŠ–å‡½æ•°</title>
      <link href="/blog/2023/12/05/JavaScript%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E8%8A%82%E6%B5%81%E5%92%8C%E9%98%B2%E6%8A%96%E5%87%BD%E6%95%B0/"/>
      <url>/blog/2023/12/05/JavaScript%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E8%8A%82%E6%B5%81%E5%92%8C%E9%98%B2%E6%8A%96%E5%87%BD%E6%95%B0/</url>
      
        <content type="html"><![CDATA[<p>èŠ‚æµï¼šthrottle<br>é˜²æŠ–ï¼šdebounce</p><p>è¿™ä¸¤ä¸ªæ˜¯ JavaScript å¼€å‘ä¸­ä¸¤ä¸ªç»å¸¸éœ€è¦ç”¨åˆ°çš„å·¥å…·å‡½æ•°ï¼Œä¸»è¦ç”¨äºè§£å†³æ€§èƒ½é—®é¢˜ã€‚èŠ‚æµçš„æ„æ€æ˜¯é’ˆå¯¹æŸå‡½æ•°çš„è¿ç»­è°ƒç”¨ï¼Œåœ¨ä¸€å®šæ—¶é—´å†…æ¯éš”ä¸€å°æ®µæ—¶é—´è°ƒç”¨ä¸€æ¬¡ç›®æ ‡å‡½æ•°ï¼›é˜²æŠ–çš„æ„æ€æ˜¯é’ˆå¯¹æŸå‡½æ•°çš„è¿ç»­è°ƒç”¨ï¼Œåªåœ¨ä¸€å°æ®µæ—¶é—´é—´éš”åæ‰§è¡Œæœ€åä¸€æ¬¡è°ƒç”¨ã€‚</p><p>å¸¸ç”¨çš„åœºæ™¯æœ‰ï¼šæµè§ˆå™¨é«˜é¢‘ DOM äº‹ä»¶çš„å›è°ƒå‡½æ•°ï¼Œæ¯”å¦‚ scrollï¼Œmousemoveï¼Œresize ç­‰</p><a id="more"></a><h2 id="throttle"><a href="#throttle" class="headerlink" title="throttle"></a>throttle</h2><p>æ—¶é—´æˆ³å®ç°ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throttle</span>(<span class="params">fn, delay</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> timer = <span class="built_in">Date</span>.now();</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">args</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">new</span> <span class="built_in">Date</span>().getTime() - timer &gt;= delay) &#123;</span><br><span class="line">      timer = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime();</span><br><span class="line">      <span class="keyword">return</span> fn.apply(<span class="literal">null</span>, args);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®šæ—¶å™¨å®ç°ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throttle</span>(<span class="params">fn, delay</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> timer;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">args</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (timer) &#123;</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> res;</span><br><span class="line">    timer = setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      timer = <span class="literal">null</span>;</span><br><span class="line">      res = fn.apply(<span class="literal">null</span>, args);</span><br><span class="line">    &#125;, delay);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶å®è¿˜æœ‰å¾ˆå¤šç»†èŠ‚å¯ä»¥è§„å®šï¼Œæ¯”å¦‚ï¼Œæ˜¯å¦è¦ç«‹å³æ‰§è¡Œä¸€æ¬¡ï¼Œå¦‚æœæ¯æ¬¡çš„æ‰§è¡Œç»“æœä¸ä¸€æ ·ï¼ŒæŒ‡å®šäº†è¦æœ€æ–°çš„æ‰§è¡Œç»“æœè¿˜æ˜¯æœ€æ—§çš„æ‰§è¡Œç»“æœã€‚</p><h2 id="debounce"><a href="#debounce" class="headerlink" title="debounce"></a>debounce</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">fn, delay</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> timer;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">args</span>) </span>&#123;</span><br><span class="line">    clearTimeout(timer);</span><br><span class="line">    timer = setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      fn.apply(<span class="literal">null</span>, args);</span><br><span class="line">    &#125;, delay);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>debounce ä¹Ÿå¯ä»¥è§„å®šå¾ˆå¤šç»†èŠ‚ï¼Œæ¯”å¦‚ï¼Œå¦‚æœæ¯æ¬¡çš„æ‰§è¡Œç»“æœä¸ä¸€æ ·ï¼ŒæŒ‡å®šäº†è¦æœ€æ–°çš„æ‰§è¡Œç»“æœè¿˜æ˜¯æœ€æ—§çš„æ‰§è¡Œç»“æœã€‚å¦‚æœè¦æ±‚ç«‹å³è¿”å›ç¬¬ä¸€æ¬¡æ‰§è¡Œç»“æœï¼ŒæŠ›å¼ƒä¹‹åçš„è¿ç»­è°ƒç”¨ï¼Œæ€ä¹ˆå†™ï¼Ÿ</p>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScriptçš„var,let,constçš„åŒºåˆ«</title>
      <link href="/blog/2023/11/23/JavaScript%E7%9A%84var,let,const%E7%9A%84%E5%8C%BA%E5%88%AB/"/>
      <url>/blog/2023/11/23/JavaScript%E7%9A%84var,let,const%E7%9A%84%E5%8C%BA%E5%88%AB/</url>
      
        <content type="html"><![CDATA[<p>é¦–å…ˆ<code>var</code>,<code>let</code>,<code>const</code>éƒ½æ˜¯ç”¨äºå®šä¹‰å˜é‡ï¼Œè¿™æ˜¯å®ƒä»¬çš„å…±åŒç‚¹ï¼Œé‚£ä¹ˆå®ƒä»¬çš„åŒºåˆ«å‘¢ï¼Ÿ</p><p>å…¶å®è¿˜å¯ä»¥ä»€ä¹ˆéƒ½ä¸ç”¨ï¼Œç›´æ¥ç»™å˜é‡èµ‹å€¼ï¼Œè¿™æ ·çš„è¯ï¼Œå°±æ˜¯èµ‹å€¼ç»™äº†å…¨å±€å¯¹è±¡ï¼ˆåœ¨æµè§ˆå™¨ä¸Šå°±æ˜¯ window å¯¹è±¡ï¼‰:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.a);</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="var-å¯ä»¥æå‡ä½œç”¨åŸŸï¼Œvar-çš„ä½œç”¨åŸŸåœ¨é—­åŒ…å†…"><a href="#var-å¯ä»¥æå‡ä½œç”¨åŸŸï¼Œvar-çš„ä½œç”¨åŸŸåœ¨é—­åŒ…å†…" class="headerlink" title="var å¯ä»¥æå‡ä½œç”¨åŸŸï¼Œvar çš„ä½œç”¨åŸŸåœ¨é—­åŒ…å†…"></a>var å¯ä»¥æå‡ä½œç”¨åŸŸï¼Œvar çš„ä½œç”¨åŸŸåœ¨é—­åŒ…å†…</h2><p>ä¸€ä¸‹ä»£ç ä¸ä¼šæŠ¥é”™ï¼Œå³ä¾¿å£°æ˜ a åœ¨ç”¨åˆ° a åé¢ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(a, b, c);</span><br><span class="line"><span class="keyword">var</span> a;  <span class="comment">// å³ä¾¿å£°æ˜åœ¨ä½¿ç”¨ä¹‹åï¼Œä¹Ÿä¸ä¼šæŠ¥é”™ï¼Œå› ä¸ºvarå˜é‡å£°æ˜å’Œå‡½æ•°å£°æ˜ä¼šæå‡åˆ°æœ€å‰é¢æ‰§è¡Œ</span></span><br><span class="line"><span class="keyword">let</span> b;</span><br><span class="line"><span class="keyword">const</span> c;</span><br></pre></td></tr></table></figure><p>åŠ ä¸€ä¸ªå—çº§ä½œç”¨åŸŸï¼Œvar ä¾æ—§ä¸ä¼šæŠ¥é”™ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(a, b, c);</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">var</span> a;</span><br><span class="line">  <span class="keyword">let</span> b;</span><br><span class="line">  <span class="keyword">const</span> c;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è€Œä¸” let å’Œ const æ˜¯å—çº§ä½œç”¨åŸŸï¼Œå†™æˆè¿™æ ·ä¹Ÿä¼šæŠ¥é”™ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="keyword">let</span> a;</span><br><span class="line">  <span class="keyword">const</span> b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(a, b);</span><br></pre></td></tr></table></figure><p>var æ— æ³•è·¨é—­åŒ…ï¼ŒæŠ¥é”™ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">console</span>.log(a);</span><br><span class="line">&#125;</span><br><span class="line">a();</span><br></pre></td></tr></table></figure><h2 id="é€šè¿‡-var-å£°æ˜çš„æ‰€æœ‰å…¨å±€å˜é‡å’Œå‡½æ•°éƒ½ä¼šå˜æˆ-window-å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ï¼Œè€Œ-let-å’Œ-const-ä¸ä¼š"><a href="#é€šè¿‡-var-å£°æ˜çš„æ‰€æœ‰å…¨å±€å˜é‡å’Œå‡½æ•°éƒ½ä¼šå˜æˆ-window-å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ï¼Œè€Œ-let-å’Œ-const-ä¸ä¼š" class="headerlink" title="é€šè¿‡ var å£°æ˜çš„æ‰€æœ‰å…¨å±€å˜é‡å’Œå‡½æ•°éƒ½ä¼šå˜æˆ window å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ï¼Œè€Œ let å’Œ const ä¸ä¼š"></a>é€šè¿‡ var å£°æ˜çš„æ‰€æœ‰å…¨å±€å˜é‡å’Œå‡½æ•°éƒ½ä¼šå˜æˆ window å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ï¼Œè€Œ let å’Œ const ä¸ä¼š</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"b"</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// ç”¨functionå£°æ˜çš„ä¹Ÿä¼šå˜æˆå…¨å±€å¯¹è±¡çš„æ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">c</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"c"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.a, <span class="built_in">window</span>.b, <span class="built_in">window</span>.c);</span><br></pre></td></tr></table></figure><h2 id="ä¸€ä¸ªç»å…¸çš„å‘"><a href="#ä¸€ä¸ªç»å…¸çš„å‘" class="headerlink" title="ä¸€ä¸ªç»å…¸çš„å‘"></a>ä¸€ä¸ªç»å…¸çš„å‘</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++) &#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i); <span class="comment">// è¾“å‡ºå…¨éƒ¨æ˜¯6</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ let å¯ä»¥é¿å…æ­¤é—®é¢˜ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++) &#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i); <span class="comment">// è¾“å‡ºå…¨éƒ¨æ˜¯6</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥ç”¨é—­åŒ…æ¥è§£å†³æ­¤é—®é¢˜ï¼Œlet æ˜¯ es6 å¼•è¿›çš„ï¼Œå®é™…ä¸Šåœ¨ es5 ä¸€èˆ¬å°±æ˜¯ç”¨é—­åŒ…æ¥è§£å†³é—®é¢˜ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">i</span>) </span>&#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++) &#123;</span><br><span class="line">  fn(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é¡ºå¸¦è¯´ä¸€ä¸‹ js æ€ä¹ˆå®ç° sleepï¼Œç”¨ setTimeout å’Œ Promise å¯ä»¥å®ç°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sleep</span>(<span class="params">time</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      resolve(<span class="literal">true</span>);</span><br><span class="line">    &#125;, time);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++) &#123;</span><br><span class="line">  <span class="keyword">await</span> sleep(<span class="number">1000</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸è¿‡ setTimeout å…¶å®çš„ sleep ç§’æ•°ä¸å¤ªå‡†ç¡®ï¼Œå®ƒè¦ç­‰æ‰€æœ‰çš„å¾®ä»»åŠ¡éƒ½åšå®Œï¼Œå¦‚æœå¾®ä»»åŠ¡å¾ˆé•¿çš„è¯ï¼Œå°±è¦å¤šç­‰ä¸€ä¼šå„¿äº†ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">costManyTime</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> count = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; <span class="number">100</span>_0000; j++) &#123;</span><br><span class="line">      count = <span class="built_in">Math</span>.random();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sleep</span>(<span class="params">time</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      resolve(<span class="literal">true</span>);</span><br><span class="line">    &#125;, time);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++) &#123;</span><br><span class="line">  <span class="keyword">await</span> sleep(<span class="number">1000</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(i, <span class="keyword">new</span> <span class="built_in">Date</span>());</span><br><span class="line">  <span class="built_in">console</span>.time(<span class="string">"costManyTime"</span>);</span><br><span class="line">  costManyTime();</span><br><span class="line">  <span class="built_in">console</span>.timeEnd(<span class="string">"costManyTime"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ¨¡æ‹Ÿå®ç°JavaScriptçš„bindæ–¹æ³•</title>
      <link href="/blog/2023/11/22/%E6%A8%A1%E6%8B%9F%E5%AE%9E%E7%8E%B0JavaScript%E7%9A%84bind%E6%96%B9%E6%B3%95/"/>
      <url>/blog/2023/11/22/%E6%A8%A1%E6%8B%9F%E5%AE%9E%E7%8E%B0JavaScript%E7%9A%84bind%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p>bind å‡½æ•°æˆ‘ä»¬ç»å¸¸ç”¨åˆ°ï¼Œä¸»è¦ç”¨äºæ¢ç»‘ thisã€‚å…¶è¿”å›å€¼æ˜¯ä¸€ä¸ªæ–¹æ³•ã€‚æ­¤å¤–æˆ‘ä»¬è¿˜å¯ä»¥æŠŠä¸€äº›å‚æ•°å›ºå®šä¸‹æ¥ï¼Œç›¸å½“äºå°è£…äº†ä¸€ä¸ªç®€æ˜“å‡½æ•°ã€‚</p><a id="more"></a><h2 id="æ¢ç»‘-this"><a href="#æ¢ç»‘-this" class="headerlink" title="æ¢ç»‘ this:"></a>æ¢ç»‘ this:</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  bbb: <span class="string">"hello"</span>,</span><br><span class="line">  sayHi,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"Hi"</span>, <span class="keyword">this</span>.bbb);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">sayHi();</span><br><span class="line"><span class="keyword">const</span> a = sayHi.bind(obj);</span><br><span class="line">a();</span><br></pre></td></tr></table></figure><h2 id="å‡å°‘å‚æ•°ï¼š"><a href="#å‡å°‘å‚æ•°ï¼š" class="headerlink" title="å‡å°‘å‚æ•°ï¼š"></a>å‡å°‘å‚æ•°ï¼š</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  bbb: <span class="string">"hello"</span>,</span><br><span class="line">  sayHi,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"Hi"</span>, <span class="keyword">this</span>.bbb, a, b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">sayHi();</span><br><span class="line"><span class="keyword">const</span> a = sayHi.bind(obj, <span class="string">"jjjj"</span>);</span><br><span class="line">a(<span class="string">"123"</span>);</span><br></pre></td></tr></table></figure><p>ä¸è¿‡å¦‚æœ bind è¿”å›çš„æ–¹æ³•ç”¨ä½œæ„é€ å‡½æ•°çš„è¯ï¼Œç»‘å®š this åŠ¨ä½œå°±å¤±æ•ˆäº†ï¼Œä¸”ä¼šè¿”å›åŸæ–¹æ³•æ„é€ å‡ºçš„æ–°å¯¹è±¡ã€‚</p><h2 id="ç”¨ä½œæ„é€ å‡½æ•°ï¼š"><a href="#ç”¨ä½œæ„é€ å‡½æ•°ï¼š" class="headerlink" title="ç”¨ä½œæ„é€ å‡½æ•°ï¼š"></a>ç”¨ä½œæ„é€ å‡½æ•°ï¼š</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  bbb: <span class="string">"hello"</span>,</span><br><span class="line">  sayHi,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>, <span class="keyword">this</span>.bbb);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> a = sayHi.bind(obj, <span class="string">"jjjj"</span>);</span><br><span class="line">a();</span><br><span class="line"><span class="keyword">const</span> b = <span class="keyword">new</span> a();</span><br><span class="line"><span class="built_in">console</span>.log(b);</span><br></pre></td></tr></table></figure><p>åŸºäºè¿™äº›ç‰¹æ€§æˆ‘ä»¬è‡ªå·±æ¨¡æ‹Ÿå®ç°ä¸€ä¸ª bind æ–¹æ³•ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.bindFn = <span class="function"><span class="keyword">function</span> <span class="title">bind</span>(<span class="params">thisArg</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="keyword">this</span> !== <span class="string">"function"</span>) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="built_in">TypeError</span>(<span class="keyword">this</span> + <span class="string">"is not a function"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> self = <span class="keyword">this</span>;</span><br><span class="line">  <span class="keyword">const</span> bindArgs = [].slice.call(<span class="built_in">arguments</span>, <span class="number">1</span>);</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">bound</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> boundArgs = [].slice.call(<span class="built_in">arguments</span>);</span><br><span class="line">    <span class="keyword">const</span> finalArgs = bindArgs.concat(boundArgs);</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">new</span>.target === bound) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> self();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> self.apply(thisArg, finalArgs);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> bound;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="å‡½æ•°çš„-nameå’Œ-lengthå±æ€§"><a href="#å‡½æ•°çš„-nameå’Œ-lengthå±æ€§" class="headerlink" title="å‡½æ•°çš„.nameå’Œ.lengthå±æ€§"></a>å‡½æ•°çš„<code>.name</code>å’Œ<code>.length</code>å±æ€§</h2><p>æ­¤å¤–å‡½æ•°è¿˜æœ‰ä¸€äº›é»˜è®¤è¡Œä¸ºï¼Œæ¯”å¦‚<code>.name</code>æ‰“å°å‡½æ•°åå’Œ<code>.length</code>æ‰“å°å½¢å‚ä¸ªæ•°ã€‚å¦‚æœæ˜¯ bind å‡½æ•°è¿”å›çš„è¯ï¼Œä¼šåœ¨å‰é¢åŠ ä¸ª<code>bound</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Function</span>.prototype.bind.name); <span class="comment">// bind</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Function</span>.prototype.bind().name); <span class="comment">// bound</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  bbb: <span class="string">"hello"</span>,</span><br><span class="line">  sayHi,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span>(<span class="params">a, b, c</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>, <span class="keyword">this</span>.bbb, b, c);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(sayHi.name, sayHi.length); <span class="comment">// sayHi 3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> a = sayHi.bind(obj, <span class="string">"jjjj"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(a.name, a.length); <span class="comment">// bound sayHi 2</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;.bind().name); <span class="comment">// 'bound '</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬æ„å»ºçš„ bind åœ¨è¿™ä¸ªæ–¹é¢ä¾æ—§è·ŸåŸç”Ÿ bind çš„è¡¨ç°ä¸ä¸€æ ·ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.bindFn = <span class="function"><span class="keyword">function</span> <span class="title">bind</span>(<span class="params">thisArg</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="keyword">this</span> !== <span class="string">"function"</span>) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="built_in">TypeError</span>(<span class="keyword">this</span> + <span class="string">"is not a function"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> self = <span class="keyword">this</span>;</span><br><span class="line">  <span class="keyword">const</span> bindArgs = [].slice.call(<span class="built_in">arguments</span>, <span class="number">1</span>);</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">bound</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> boundArgs = [].slice.call(<span class="built_in">arguments</span>);</span><br><span class="line">    <span class="keyword">const</span> finalArgs = bindArgs.concat(boundArgs);</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">new</span>.target === bound) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> self();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> self.apply(thisArg, finalArgs);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> bound;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  bbb: <span class="string">"hello"</span>,</span><br><span class="line">  sayHi,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span>(<span class="params">a, b, c</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>, <span class="keyword">this</span>.bbb);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> a = sayHi.bindFn(obj, <span class="string">"jjjj"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(a.name, a.length); <span class="comment">// bound 0</span></span><br><span class="line"><span class="keyword">const</span> b = sayHi.bind(obj, <span class="string">"jjjjj"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(b.name, b.length); <span class="comment">// bound sayHi 2</span></span><br></pre></td></tr></table></figure><p>å‡½æ•°çš„<code>.name</code>å’Œ<code>.length</code>å±æ€§æ˜¯æ— æ³•ä¿®æ”¹çš„ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> aa = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line">aa.name = <span class="string">"ccc"</span>;</span><br><span class="line">aa.length = <span class="number">4</span>;</span><br><span class="line"><span class="built_in">console</span>.log(aa.name, aa.length);</span><br></pre></td></tr></table></figure><p>åŸå› æ˜¯<code>writable: false</code>ï¼Œä½†å¯ä»¥è‡ªå·±é…ç½®ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="function"><span class="params">()</span> =&gt;</span> &#123;&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(a.name);</span><br><span class="line"><span class="built_in">Object</span>.getOwnPropertyDescriptor(a, <span class="string">"name"</span>); <span class="comment">// è¾“å‡ºï¼š&#123;configurable: true, enumerable: false, value: 'a', writable: false&#125;</span></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(a, <span class="string">"name"</span>, &#123; <span class="attr">writable</span>: <span class="literal">true</span>, <span class="attr">value</span>: <span class="string">"bb"</span> &#125;);</span><br><span class="line"><span class="built_in">console</span>.log(a.name);</span><br></pre></td></tr></table></figure><h2 id="new-targetçš„ç”¨å¤„"><a href="#new-targetçš„ç”¨å¤„" class="headerlink" title="new.targetçš„ç”¨å¤„"></a><code>new.target</code>çš„ç”¨å¤„</h2><p>å¦‚æœç”¨<code>this instanceof bound</code>æ¥æ›¿ä»£<code>new.target === bound</code>ä¼šæœ‰å¦‚ä¸‹é—®é¢˜ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Student</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span> <span class="keyword">instanceof</span> Student) &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"name"</span>, name);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"å¿…é¡»é€šè¿‡newå…³é”®å­—æ¥è°ƒç”¨Studentã€‚"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> student = <span class="keyword">new</span> Student(<span class="string">"è‹¥"</span>);</span><br><span class="line"><span class="keyword">var</span> notAStudent = Student.call(student, <span class="string">"å·"</span>); <span class="comment">// ä¸æŠ›å‡ºé”™è¯¯ï¼Œä¸”æ‰§è¡Œäº†ã€‚</span></span><br><span class="line"><span class="built_in">console</span>.log(student, <span class="string">"student"</span>, notAStudent, <span class="string">"notAStudent"</span>);</span><br></pre></td></tr></table></figure><p>å¯è§å¹¶éæ˜¯å®ä¾‹å°±å¯ä»¥ï¼Œè€Œå¿…é¡»æ˜¯ç”¨ new è°ƒç”¨æ‰æ˜¯æ„é€ å‡½æ•°</p><h2 id="æœ€ç»ˆç‰ˆæœ¬"><a href="#æœ€ç»ˆç‰ˆæœ¬" class="headerlink" title="æœ€ç»ˆç‰ˆæœ¬"></a>æœ€ç»ˆç‰ˆæœ¬</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.bindFn = <span class="function"><span class="keyword">function</span> <span class="title">bind</span>(<span class="params">thisArg</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="keyword">this</span> !== <span class="string">"function"</span>) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="built_in">TypeError</span>(<span class="keyword">this</span> + <span class="string">"is not a function"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> self = <span class="keyword">this</span>;</span><br><span class="line">  <span class="keyword">const</span> bindArgs = [].slice.call(<span class="built_in">arguments</span>, <span class="number">1</span>);</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">bound</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> boundArgs = [].slice.call(<span class="built_in">arguments</span>);</span><br><span class="line">    <span class="keyword">const</span> finalArgs = bindArgs.concat(boundArgs);</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">new</span>.target === bound) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> self();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> self.apply(thisArg, finalArgs);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> fnName = bound.name + <span class="string">" "</span> + self.name;</span><br><span class="line">  <span class="built_in">Object</span>.defineProperty(bound, <span class="string">"name"</span>, &#123; <span class="attr">writable</span>: <span class="literal">true</span>, <span class="attr">value</span>: fnName &#125;);</span><br><span class="line">  <span class="built_in">Object</span>.defineProperty(bound, <span class="string">"name"</span>, &#123; <span class="attr">writable</span>: <span class="literal">false</span> &#125;);</span><br><span class="line">  <span class="keyword">const</span> fnLength = self.length - bindArgs.length;</span><br><span class="line">  <span class="built_in">Object</span>.defineProperty(bound, <span class="string">"length"</span>, &#123; <span class="attr">writable</span>: <span class="literal">true</span>, <span class="attr">value</span>: fnLength &#125;);</span><br><span class="line">  <span class="built_in">Object</span>.defineProperty(bound, <span class="string">"length"</span>, &#123; <span class="attr">writable</span>: <span class="literal">false</span> &#125;);</span><br><span class="line">  <span class="keyword">return</span> bound;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://juejin.cn/post/6844903718089916429" target="_blank" rel="noopener">é¢è¯•å®˜é—®ï¼šèƒ½å¦æ¨¡æ‹Ÿå®ç° JS çš„ bind æ–¹æ³• - æ˜é‡‘</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ¨¡æ‹Ÿå®ç°JavaScriptçš„applyå’Œcallæ–¹æ³•</title>
      <link href="/blog/2023/11/21/%E6%A8%A1%E6%8B%9F%E5%AE%9E%E7%8E%B0JavaScript%E7%9A%84apply%E5%92%8Ccall%E6%96%B9%E6%B3%95/"/>
      <url>/blog/2023/11/21/%E6%A8%A1%E6%8B%9F%E5%AE%9E%E7%8E%B0JavaScript%E7%9A%84apply%E5%92%8Ccall%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p>apply å’Œ call çš„ç›¸åŒç‚¹æ˜¯ï¼š</p><ol><li>éƒ½ç”±ä¸€ä¸ªå‡½æ•°è°ƒç”¨</li><li>ç¬¬ä¸€ä¸ªå‚æ•°éƒ½æ˜¯åŸå‡½æ•°çš„æ‰§è¡Œç¯å¢ƒ this</li></ol><p>ä¸åŒç‚¹æ˜¯ï¼š</p><p>apply çš„ç¬¬äºŒä¸ªå‚æ•°æ¥æ”¶åŸå‡½æ•°çš„æ‰€æœ‰å‚æ•°ï¼Œè€Œ call ä»ç¬¬äºŒä¸ªå‚æ•°å¼€å§‹è·ŸåŸå‡½æ•°ä¸€æ ·æ˜¯æ‰“æ•£çš„</p><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">F(arg1, arg2, ...)&#123;&#125;</span><br><span class="line">F.apply(thisArg, [arg1, arg2, ...]);</span><br><span class="line">F.call(thisArg, arg1, arg2, ...);</span><br></pre></td></tr></table></figure><p>éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœæ˜¯åœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼ŒthisArg å¦‚æœä¸º null æˆ– undefinedï¼Œå°±ä¼šè¢«æ›¿æ¢æˆå…¨å±€å¯¹è±¡ï¼ˆåœ¨æµè§ˆå™¨ä¸­æ˜¯ windowï¼‰ï¼›å¦‚æœä¸ºåŸå§‹å€¼ï¼Œå°±ä¼šè¢«æ›¿æ¢æˆåŸå§‹å€¼çš„çš„è‡ªåŠ¨åŒ…è£…å¯¹è±¡ã€‚</p><p>ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼ŒthisArg ä¼ ä»€ä¹ˆå°±æ˜¯ä»€ä¹ˆã€‚</p><a id="more"></a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getGlobalObject</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">generateFunctionCode</span>(<span class="params">argsLength</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> res = <span class="string">"return arguments[0][arguments[1]]("</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; argsLength; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (i &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      res += <span class="string">","</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    res += <span class="string">"arguments[2]["</span> + i + <span class="string">"]"</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  res += <span class="string">")"</span>;</span><br><span class="line">  <span class="comment">// ç›¸å½“äº return 'arguments[0][arguments[1]](arguments[2][0], arguments[2][1], arguments[2][2]...)';</span></span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Function</span>.prototype.applyFn = <span class="function"><span class="keyword">function</span> <span class="title">apply</span>(<span class="params">thisArg, argsArray</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// è°ƒç”¨æ–¹å¿…é¡»æ˜¯å‡½æ•°</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="keyword">this</span> !== <span class="string">"function"</span>) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="keyword">this</span> + <span class="string">"is not a function"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼ŒthisArg å¦‚æœä¸º null æˆ– undefinedï¼Œå°±ä¼šè¢«æ›¿æ¢æˆå…¨å±€å¯¹è±¡</span></span><br><span class="line">  <span class="keyword">if</span> (thisArg === <span class="literal">null</span> || thisArg === <span class="keyword">void</span> <span class="number">0</span>) &#123;</span><br><span class="line">    thisArg = getGlobalObject();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼ŒthisArg å¦‚æœä¸ºåŸå§‹å€¼ï¼Œå°±ä¼šè¢«æ›¿æ¢æˆåŸå§‹å€¼çš„çš„è‡ªåŠ¨åŒ…è£…å¯¹è±¡</span></span><br><span class="line">  thisArg = <span class="keyword">new</span> <span class="built_in">Object</span>(thisArg);</span><br><span class="line">  <span class="keyword">if</span> (argsArray === <span class="literal">null</span> || argsArray === <span class="keyword">void</span> <span class="number">0</span>) &#123;</span><br><span class="line">    argsArray = [];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (argsArray !== <span class="keyword">new</span> <span class="built_in">Object</span>(argsArray)) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">"The second parameter must be an array like object."</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> hasOriginVal = thisArg.hasOwnProperty(<span class="string">"fn"</span>);</span><br><span class="line">  <span class="keyword">const</span> originVal = thisArg[<span class="string">"fn"</span>];</span><br><span class="line">  thisArg[<span class="string">"fn"</span>] = <span class="keyword">this</span>;</span><br><span class="line">  <span class="keyword">const</span> code = generateFunctionCode(argsArray.length);</span><br><span class="line">  <span class="keyword">const</span> result = <span class="keyword">new</span> <span class="built_in">Function</span>(code)(thisArg, <span class="string">"fn"</span>, argsArray);</span><br><span class="line">  <span class="keyword">if</span> (hasOriginVal) &#123;</span><br><span class="line">    thisArg[<span class="string">"fn"</span>] = originVal;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">delete</span> thisArg[<span class="string">"fn"</span>];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šä»£ç æ¶‰åŠåˆ°äº†æŒºå¤šçŸ¥è¯†ç‚¹çš„ï¼š</p><ol><li>é˜²å¾¡å¼ç¼–ç¨‹ï¼Œå¯¹å‚æ•°è¿›è¡Œæ ¡éªŒï¼šthis, thisArg, argsArray</li><li>ç»†å¿ƒï¼Œä¸ºäº†é˜²æ­¢æ”¹åˆ° fnï¼Œåšäº†æš‚å­˜</li><li>ES3 å¼€å§‹ï¼Œéä¸¥æ ¼æ¨¡å¼ä¸‹ï¼ŒthisArg çš„ç‰¹æ®Šå¤„ç†</li><li>å¦‚æœä¸è®©ç”¨ ES6 çš„æ‰©å±•è¿ç®—ç¬¦<code>...</code>ï¼Œå°±è¦åˆ©ç”¨<code>new Function()</code>è‡ªå·±æ„é€ æ–°çš„å‡½æ•°è°ƒç”¨è¯­å¥ã€‚apply æ˜¯ es5 çš„ï¼Œæ‰€ä»¥ä¸è®©ç”¨ es6 çš„è¯­æ³•å¾ˆæ­£å¸¸ã€‚</li><li>åœ¨ ES3ã€ES5 ä¸­ undefined æ˜¯èƒ½ä¿®æ”¹çš„</li></ol><p>å€ŸåŠ©ä»¥ä¸Šç»“æœï¼Œæ¨¡æ‹Ÿå®ç° call æ–¹æ³•çš„è¯ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.callFn = <span class="function"><span class="keyword">function</span> <span class="title">call</span>(<span class="params">thisArg</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.applyFn(thisArg, [].slice.applyFn(<span class="built_in">arguments</span>, [<span class="number">1</span>]));</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æµ‹è¯•ç”¨ä¾‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = &#123;</span><br><span class="line">  name: <span class="string">"1"</span>,</span><br><span class="line">  h,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">h</span>(<span class="params">arg1</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(arg1, <span class="keyword">this</span>.name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">h.applyFn(a, [<span class="string">"7"</span>]);</span><br><span class="line">h.callFn(a, <span class="string">"8"</span>);</span><br></pre></td></tr></table></figure><h2 id="åœ¨-ES3ã€ES5-ä¸­-undefined-æ˜¯èƒ½ä¿®æ”¹çš„"><a href="#åœ¨-ES3ã€ES5-ä¸­-undefined-æ˜¯èƒ½ä¿®æ”¹çš„" class="headerlink" title="åœ¨ ES3ã€ES5 ä¸­ undefined æ˜¯èƒ½ä¿®æ”¹çš„"></a>åœ¨ ES3ã€ES5 ä¸­ undefined æ˜¯èƒ½ä¿®æ”¹çš„</h2><p>å¯èƒ½å¤§éƒ¨åˆ†äººä¸çŸ¥é“ã€‚ES5 ä¸­è™½ç„¶åœ¨å…¨å±€ä½œç”¨åŸŸä¸‹ä¸èƒ½ä¿®æ”¹ï¼Œä½†åœ¨å±€éƒ¨ä½œç”¨åŸŸä¸­ä¹Ÿæ˜¯èƒ½ä¿®æ”¹çš„ï¼Œä¸ä¿¡å¯ä»¥å¤åˆ¶ä»¥ä¸‹æµ‹è¯•ä»£ç åœ¨æ§åˆ¶å°æ‰§è¡Œä¸‹ã€‚è™½ç„¶ä¸€èˆ¬æƒ…å†µä¸‹æ˜¯ä¸ä¼šçš„å»ä¿®æ”¹å®ƒã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> <span class="literal">undefined</span> = <span class="number">3</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="literal">undefined</span>); <span class="comment">// chromeä¸‹ä¹Ÿæ˜¯ 3</span></span><br><span class="line">&#125;</span><br><span class="line">test();</span><br></pre></td></tr></table></figure><p>æ‰€ä»¥åˆ¤æ–­ä¸€ä¸ªå˜é‡ a æ˜¯ä¸æ˜¯ undefinedï¼Œæ›´ä¸¥è°¨çš„æ–¹æ¡ˆæ˜¯ <code>typeof a === &#39;undefined&#39;</code>æˆ–è€… <code>a === void 0;</code>è¿™é‡Œé¢ç”¨çš„æ˜¯ voidï¼Œvoid çš„ä½œç”¨æ˜¯è®¡ç®—è¡¨è¾¾å¼ï¼Œå§‹ç»ˆè¿”å› undefinedï¼Œä¹Ÿå¯ä»¥è¿™æ ·å†™ void(0)ã€‚</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/Function" target="_blank" rel="noopener">Function() constructor - JavaScript | MDN</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/void" target="_blank" rel="noopener">void è¿ç®—ç¬¦ - JavaScript | MDN</a></li><li><a href="https://github.com/lessfish/underscore-analysis/issues/1" target="_blank" rel="noopener">ä¸ºä»€ä¹ˆç”¨ã€Œvoid 0ã€ä»£æ›¿ã€Œundefinedã€</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/undefined" target="_blank" rel="noopener">undefined - JavaScript | MDN</a></li><li><a href="https://juejin.cn/post/6844903728147857415" target="_blank" rel="noopener">é¢è¯•å®˜é—®ï¼šèƒ½å¦æ¨¡æ‹Ÿå®ç° JS çš„ call å’Œ apply æ–¹æ³• - æ˜é‡‘</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ¨¡æ‹Ÿå®ç°JavaScriptçš„newæ“ä½œç¬¦</title>
      <link href="/blog/2023/11/20/%E6%A8%A1%E6%8B%9F%E5%AE%9E%E7%8E%B0JavaScript%E7%9A%84new%E6%93%8D%E4%BD%9C%E7%AC%A6/"/>
      <url>/blog/2023/11/20/%E6%A8%A1%E6%8B%9F%E5%AE%9E%E7%8E%B0JavaScript%E7%9A%84new%E6%93%8D%E4%BD%9C%E7%AC%A6/</url>
      
        <content type="html"><![CDATA[<p>JavaScript çš„ new æ“ä½œç¬¦ï¼Œæ“ä½œå¯¹è±¡æ˜¯ä¸€ä¸ªå‡½æ•°ï¼ˆç®­å¤´å‡½æ•°ï¼Œasync å‡½æ•°é™¤å¤–ï¼‰ï¼Œä¸€èˆ¬æ¥è¯´æ­¤å‡½æ•°æˆ‘ä»¬ä¸è‡ªå·±å†™ returnï¼Œæ­¤æ—¶è¿”å›çš„æ˜¯ä¸ªé»˜è®¤çš„å¯¹è±¡ thisã€‚</p><p>å¦‚æœè‡ªå·±å†™äº†è¿”å›ï¼Œé‚£ä¹ˆåˆ†ä¸¤ç§æƒ…å†µï¼š</p><ol><li>è¿”å›çš„æ˜¯å¯¹è±¡æˆ–è€…æ–¹æ³•ï¼Œå°±è¿”å›æˆ‘ä»¬è‡ªå·±å†™çš„è¿”å›å†…å®¹</li><li>å¦åˆ™è¿”å›é»˜è®¤å¯¹è±¡ this</li></ol><a id="more"></a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">A</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.aa = <span class="string">"6"</span>;</span><br><span class="line">  <span class="comment">// 7ç§åŸºæœ¬æ•°æ®ç±»å‹ï¼Œéƒ½ä¸èƒ½ä½œä¸ºæ„é€ å‡½æ•°çš„è¿”å›å€¼</span></span><br><span class="line">  <span class="comment">//   return 1; // Number</span></span><br><span class="line">  <span class="comment">//   return false; // Boolean</span></span><br><span class="line">  <span class="comment">//   return "1"; // String</span></span><br><span class="line">  <span class="comment">//   return Symbol(); // Symbol</span></span><br><span class="line">  <span class="comment">//   return BigInt(1); // BigInt ä¹Ÿå¯ä»¥è¿™ä¹ˆå†™ return 1n;</span></span><br><span class="line">  <span class="comment">//   return undefined; // Undefined</span></span><br><span class="line">  <span class="comment">//   return null; // Null</span></span><br><span class="line">  <span class="comment">// 5ç§å¸¸è§å¯¹è±¡ï¼Œéƒ½å¯ä»¥ä½œä¸ºæ„é€ å‡½æ•°çš„è¿”å›å€¼</span></span><br><span class="line">  <span class="comment">//   return &#123;&#125;;    // Object</span></span><br><span class="line">  <span class="comment">//   return [];    // Array</span></span><br><span class="line">  <span class="comment">//   return new Date();    // Date</span></span><br><span class="line">  <span class="comment">//   return /a/;    // RegExp</span></span><br><span class="line">  <span class="comment">//   return new Error();   // Error</span></span><br><span class="line">  <span class="comment">// å‡½æ•°ï¼Œå¯ä»¥ä½œä¸ºæ„é€ å‡½æ•°çš„è¿”å›å€¼</span></span><br><span class="line">  <span class="comment">//   return function()&#123;&#125;;  // Function</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> a = <span class="keyword">new</span> A();</span><br><span class="line"><span class="built_in">console</span>.log(a, a.aa);</span><br></pre></td></tr></table></figure><p>new æ“ä½œç¬¦çš„æ¨¡æ‹Ÿå®ç°ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">newOperator</span>(<span class="params">C</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> C !== <span class="string">"function"</span>) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="string">"newOperator function the first param must be a function"</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// ES6 new.target æŒ‡å‘æ„é€ å‡½æ•°ï¼Œå¯ä»¥ç”¨æ¥æ ‡è¯†å‡½æ•°æ˜¯å¦è¢«ç”¨åšæ„é€ å‡½æ•°</span></span><br><span class="line">  newOperator.target = C;</span><br><span class="line">  <span class="keyword">const</span> obj = <span class="built_in">Object</span>.create(C.prototype);</span><br><span class="line">  <span class="keyword">const</span> args = [].slice.call(<span class="built_in">arguments</span>, <span class="number">1</span>); <span class="comment">// argumentsæœ¬èº«æ²¡æœ‰sliceæ–¹æ³•ï¼Œé™¤äº†è¿™ç§å†™æ³•ï¼Œè¿˜å¯ä»¥è¿™æ ·ï¼š[...arguments].slice(1);æˆ–è€…Array.from(arguments).slice(1);</span></span><br><span class="line">  <span class="keyword">const</span> res = C.apply(obj, args);</span><br><span class="line">  <span class="comment">// typeof null çš„ç»“æœæ˜¯'object'ï¼Œæ‰€ä»¥è¿™é‡Œè¦æ’é™¤æ‰</span></span><br><span class="line">  <span class="keyword">if</span> ((<span class="keyword">typeof</span> res === <span class="string">"object"</span> &amp;&amp; res !== <span class="literal">null</span>) || <span class="keyword">typeof</span> res === <span class="string">"function"</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> obj;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥è‡ªå·±å†™<code>Object.create</code>ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">object</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">F</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">  F.prototype = obj;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> F();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">newOperator</span>(<span class="params">C</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> C !== <span class="string">"function"</span>) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="string">"newOperator function the first param must be a function"</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// ES6 new.target æŒ‡å‘æ„é€ å‡½æ•°ï¼Œå¯ä»¥ç”¨æ¥æ ‡è¯†å‡½æ•°æ˜¯å¦è¢«ç”¨åšæ„é€ å‡½æ•°</span></span><br><span class="line">  newOperator.target = C;</span><br><span class="line">  <span class="keyword">const</span> obj = object(C.prototype);</span><br><span class="line">  <span class="keyword">const</span> args = [].slice.call(<span class="built_in">arguments</span>, <span class="number">1</span>);</span><br><span class="line">  <span class="keyword">const</span> res = C.apply(obj, args);</span><br><span class="line">  <span class="keyword">if</span> ((<span class="keyword">typeof</span> res === <span class="string">"object"</span> &amp;&amp; res !== <span class="literal">null</span>) || <span class="keyword">typeof</span> res === <span class="string">"function"</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> obj;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">A</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> a = newOperator(A);</span><br><span class="line"><span class="built_in">console</span>.log(a);</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯å‘ç°ï¼Œæ‰“å°å‡ºæ¥çš„æ˜¯<code>F {}</code>ï¼Œè™½ç„¶ç‚¹å¼€æ­¤å¯¹è±¡ï¼Œå‘ç°æ„é€ å‡½æ•°å·²ç»æ˜¯<code>A</code>äº†ï¼Œä½†ç¡®å®ä¸å¦‚ JavaScript è‡ªå¸¦çš„<code>Object.create</code>å¹²å‡€å®Œç¾</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://www.freecodecamp.org/chinese/news/javascript-new-operator/" target="_blank" rel="noopener">å¦‚ä½•æ¨¡æ‹Ÿå®ç° JS çš„ new æ“ä½œç¬¦</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/new.target" target="_blank" rel="noopener">new.target - JavaScript | MDN</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScriptå¯¹è±¡çš„ç»§æ‰¿æœ‰å“ªå‡ ç§</title>
      <link href="/blog/2023/11/20/JavaScript%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%BB%A7%E6%89%BF%E6%9C%89%E5%93%AA%E5%87%A0%E7%A7%8D/"/>
      <url>/blog/2023/11/20/JavaScript%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%BB%A7%E6%89%BF%E6%9C%89%E5%93%AA%E5%87%A0%E7%A7%8D/</url>
      
        <content type="html"><![CDATA[<p>javascript é«˜çº§ç¨‹åºè®¾è®¡ä¸­æœ‰å†™ï¼Œå¯¹è±¡çš„ç»§æ‰¿æ€»å…±æœ‰å…­ç§:</p><ol><li>åŸå‹é“¾ç»§æ‰¿ï¼Œå­åŸå‹æ˜¯çˆ¶åŸå‹çš„ä¸€ä¸ªå®ä¾‹</li><li>å€Ÿç”¨æ„é€ å‡½æ•°ç»§æ‰¿ï¼Œå­æ„é€ å‡½æ•°è°ƒç”¨çˆ¶æ„é€ å‡½æ•°</li><li>ç»„åˆå¼ç»§æ‰¿(ç»„åˆ 1 å’Œ 2)</li><li>åŸå‹å¼ç»§æ‰¿</li><li>å¯„ç”Ÿå¼ç»§æ‰¿</li><li>å¯„ç”Ÿå¼ç»„åˆç»§æ‰¿ï¼ˆç»„åˆ 3 å’Œ 5ï¼‰</li></ol><a id="more"></a><h2 id="åŸå‹é“¾ç»§æ‰¿"><a href="#åŸå‹é“¾ç»§æ‰¿" class="headerlink" title="åŸå‹é“¾ç»§æ‰¿"></a>åŸå‹é“¾ç»§æ‰¿</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Parent</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// Açš„éå¼•ç”¨å±æ€§</span></span><br><span class="line">  <span class="keyword">this</span>.a = <span class="number">1</span>;</span><br><span class="line">  <span class="comment">// Açš„å¼•ç”¨å±æ€§</span></span><br><span class="line">  <span class="keyword">this</span>.array = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Açš„é™æ€æ–¹æ³•</span></span><br><span class="line">Parent.prototype.func1 = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"func1"</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Child</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.b = <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line">Child.prototype = <span class="keyword">new</span> Parent(); <span class="comment">// å­åŸå‹æ˜¯çˆ¶åŸå‹çš„ä¸€ä¸ªå®ä¾‹</span></span><br><span class="line">Child.prototype.func2 = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"func2"</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> child1 = <span class="keyword">new</span> Child();</span><br><span class="line"><span class="keyword">const</span> child2 = <span class="keyword">new</span> Child();</span><br><span class="line">child1.a = <span class="number">3</span>;</span><br><span class="line">child1.array.push(<span class="number">4</span>);</span><br><span class="line"><span class="built_in">console</span>.log(child1.a, child2.array, child1.func1);</span><br></pre></td></tr></table></figure><p>ç¼ºç‚¹æ˜¯ï¼šç”±äº<strong>å­åŸå‹æ˜¯çˆ¶åŸå‹çš„ä¸€ä¸ªå®ä¾‹</strong>ï¼Œæ‰€ä»¥çˆ¶çº§å±æ€§åœ¨å­çº§çš„åŸå‹ä¸Šï¼Œè€Œä¸åœ¨æ¯ä¸ªå­çº§çš„å®ä¾‹ä¸Šï¼Œæ‰€ä»¥å¦‚æœå±æ€§æ˜¯å¼•ç”¨ç±»å‹æ—¶ä¼šäº’ç›¸å½±å“ã€‚</p><h2 id="å€Ÿç”¨æ„é€ å‡½æ•°ç»§æ‰¿"><a href="#å€Ÿç”¨æ„é€ å‡½æ•°ç»§æ‰¿" class="headerlink" title="å€Ÿç”¨æ„é€ å‡½æ•°ç»§æ‰¿"></a>å€Ÿç”¨æ„é€ å‡½æ•°ç»§æ‰¿</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Parent</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// Açš„éå¼•ç”¨å±æ€§</span></span><br><span class="line">  <span class="keyword">this</span>.a = <span class="number">1</span>;</span><br><span class="line">  <span class="comment">// Açš„å¼•ç”¨å±æ€§</span></span><br><span class="line">  <span class="keyword">this</span>.array = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Açš„é™æ€æ–¹æ³•</span></span><br><span class="line">Parent.prototype.func1 = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"func1"</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Child</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// æŠŠçˆ¶çº§å±æ€§ç»‘å®šåˆ°å­å®ä¾‹é‡Œé¢</span></span><br><span class="line">  Parent.call(<span class="keyword">this</span>);</span><br><span class="line">  <span class="keyword">this</span>.b = <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line">Child.prototype.func2 = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"func2"</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> child1 = <span class="keyword">new</span> Child();</span><br><span class="line"><span class="keyword">const</span> child2 = <span class="keyword">new</span> Child();</span><br><span class="line">child1.a = <span class="number">3</span>;</span><br><span class="line">child1.array.push(<span class="number">4</span>);</span><br><span class="line"><span class="built_in">console</span>.log(child1.a, child2.array, child1.func1);</span><br></pre></td></tr></table></figure><p>è§£å†³äº†åŸå‹é“¾ç»§æ‰¿ä¸­ï¼Œå±æ€§æ²¡ç»‘å®šåˆ°å­å®ä¾‹é‡Œé¢çš„é—®é¢˜ï¼Œä½†å¦‚æœä»…è¿™æ ·ç»§æ‰¿çš„è¯ï¼Œçˆ¶åŸå‹ä¸Šçš„ä¸œè¥¿æ²¡æœ‰è¢«ç»§æ‰¿</p><h2 id="ç»„åˆå¼ç»§æ‰¿"><a href="#ç»„åˆå¼ç»§æ‰¿" class="headerlink" title="ç»„åˆå¼ç»§æ‰¿"></a>ç»„åˆå¼ç»§æ‰¿</h2><p>ç»¼åˆäº†ä»¥ä¸Šä¸¤ç§ç»§æ‰¿æ–¹å¼ï¼Œå¯ä»¥æ—¢ç»§æ‰¿åŸå‹ï¼ŒåˆæŠŠå±æ€§ç»‘å®šåˆ°äº†å­å®ä¾‹ï¼ˆä»è€Œè¦†ç›–åŸå‹çš„å±æ€§ï¼‰</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Parent</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// Açš„éå¼•ç”¨å±æ€§</span></span><br><span class="line">  <span class="keyword">this</span>.a = <span class="number">1</span>;</span><br><span class="line">  <span class="comment">// Açš„å¼•ç”¨å±æ€§</span></span><br><span class="line">  <span class="keyword">this</span>.array = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Açš„é™æ€æ–¹æ³•</span></span><br><span class="line">Parent.prototype.func1 = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"func1"</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Child</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// æŠŠçˆ¶çº§å±æ€§ç»‘å®šåˆ°å­å®ä¾‹é‡Œé¢ï¼Œæ­¤å¤„ç¬¬äºŒæ¬¡è°ƒç”¨çˆ¶æ„é€ å‡½æ•°</span></span><br><span class="line">  Parent.call(<span class="keyword">this</span>);</span><br><span class="line">  <span class="keyword">this</span>.b = <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line">Child.prototype = <span class="keyword">new</span> Parent(); <span class="comment">// å­åŸå‹æ˜¯çˆ¶åŸå‹çš„ä¸€ä¸ªå®ä¾‹ï¼Œæ­¤å¤„ç¬¬ä¸€æ¬¡è°ƒç”¨çˆ¶æ„é€ å‡½æ•°</span></span><br><span class="line">Child.prototype.func2 = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"func2"</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> child1 = <span class="keyword">new</span> Child();</span><br><span class="line"><span class="keyword">const</span> child2 = <span class="keyword">new</span> Child();</span><br><span class="line">child1.a = <span class="number">3</span>;</span><br><span class="line">child1.array.push(<span class="number">4</span>);</span><br><span class="line"><span class="built_in">console</span>.log(child1.a, child2.array, child1.func1);</span><br></pre></td></tr></table></figure><p>ç¼ºç‚¹æ˜¯ï¼š</p><ol><li>çˆ¶æ„é€ å‡½æ•°æ‰§è¡Œäº†ä¸¤æ¬¡</li><li>çˆ¶å®ä¾‹ä¸Šå­˜å‚¨äº†å¤šä½™çš„å±æ€§ï¼ˆå‹æ ¹ç”¨ä¸åˆ°ï¼‰ï¼Œæµªè´¹å†…å­˜</li></ol><h2 id="åŸå‹å¼ç»§æ‰¿"><a href="#åŸå‹å¼ç»§æ‰¿" class="headerlink" title="åŸå‹å¼ç»§æ‰¿"></a>åŸå‹å¼ç»§æ‰¿</h2><p>åˆ›å»ºä¸€ä¸ªä¸´æ—¶çš„æ„é€ å‡½æ•°ï¼Œå¹¶æŠŠè¿™ä¸ªä¸´æ—¶çš„æ„é€ å‡½æ•°çš„ prototype æŒ‡å‘çˆ¶åŸå‹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">object</span>(<span class="params">Parent</span>) </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">F</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">  F.prototype = Parent;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> F();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç›¸å½“äº<code>Object.create()</code>ï¼ŒECMAScript 5 é€šè¿‡å¢åŠ  Object.create()æ–¹æ³•å°†åŸå‹å¼ç»§æ‰¿çš„æ¦‚å¿µè§„èŒƒåŒ–äº†ã€‚è¿™ä¸ªæ–¹æ³•æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šä½œä¸ºæ–°å¯¹è±¡åŸå‹çš„å¯¹è±¡ï¼Œä»¥åŠç»™æ–°å¯¹è±¡å®šä¹‰é¢å¤–å±æ€§çš„å¯¹è±¡ï¼ˆç¬¬äºŒä¸ªå¯é€‰ï¼‰ã€‚åœ¨åªæœ‰ä¸€ä¸ªå‚æ•°æ—¶ï¼ŒObject.create()ä¸è¿™é‡Œçš„ object()æ–¹æ³•æ•ˆæœç›¸åŒ</p><h2 id="å¯„ç”Ÿå¼ç»§æ‰¿"><a href="#å¯„ç”Ÿå¼ç»§æ‰¿" class="headerlink" title="å¯„ç”Ÿå¼ç»§æ‰¿"></a>å¯„ç”Ÿå¼ç»§æ‰¿</h2><p>åœ¨åŸå‹å¼ç»§æ‰¿çš„åŸºç¡€ä¸Šï¼Œåšäº†ä¸€ä¸ªå°è£…ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createAnother</span>(<span class="params">Parent</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> clone = object(Parent);</span><br><span class="line">  clone.sayHi = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"Hi"</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">return</span> clone;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å¯„ç”Ÿå¼ç»„åˆç»§æ‰¿"><a href="#å¯„ç”Ÿå¼ç»„åˆç»§æ‰¿" class="headerlink" title="å¯„ç”Ÿå¼ç»„åˆç»§æ‰¿"></a>å¯„ç”Ÿå¼ç»„åˆç»§æ‰¿</h2><p>ç»¼åˆäº†å¯„ç”Ÿå¼ç»§æ‰¿å’Œç»„åˆå¼ç»§æ‰¿ï¼Œå¹¶å…‹æœäº†ç»„åˆå¼ç»§æ‰¿çš„ç¼ºç‚¹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">object</span>(<span class="params">Parent</span>) </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">F</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">  F.prototype = Parent;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> F();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">inheritPrototype</span>(<span class="params">Child, Parent</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// æ‹·è´äº†ä¸€ä»½çˆ¶çº§çš„åŸå‹ï¼Œè€Œéç”Ÿæˆçˆ¶çº§çš„å®ä¾‹ï¼Œæ‰€ä»¥ä¸Šé¢æ²¡æœ‰çˆ¶çº§çš„å®ä¾‹çš„å±æ€§</span></span><br><span class="line">  <span class="keyword">const</span> p = object(Parent.prototype);</span><br><span class="line">  p.constructor = Child;</span><br><span class="line">  Child.prototype = p;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Parent</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// Açš„éå¼•ç”¨å±æ€§</span></span><br><span class="line">  <span class="keyword">this</span>.a = <span class="number">1</span>;</span><br><span class="line">  <span class="comment">// Açš„å¼•ç”¨å±æ€§</span></span><br><span class="line">  <span class="keyword">this</span>.array = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Açš„é™æ€æ–¹æ³•</span></span><br><span class="line">Parent.prototype.func1 = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"func1"</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Child</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// æŠŠçˆ¶çº§å±æ€§ç»‘å®šåˆ°å­å®ä¾‹é‡Œé¢</span></span><br><span class="line">  Parent.call(<span class="keyword">this</span>);</span><br><span class="line">  <span class="keyword">this</span>.b = <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line">inheritPrototype(Child, Parent);</span><br><span class="line">Child.prototype.func2 = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"func2"</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> child1 = <span class="keyword">new</span> Child();</span><br><span class="line"><span class="keyword">const</span> child2 = <span class="keyword">new</span> Child();</span><br><span class="line">child1.a = <span class="number">3</span>;</span><br><span class="line">child1.array.push(<span class="number">4</span>);</span><br><span class="line"><span class="built_in">console</span>.log(child1.a, child2.array, child1.func1);</span><br></pre></td></tr></table></figure><p>ES6 çš„ class è¯­æ³•ç³–ï¼Œå°±æ˜¯å¯„ç”Ÿå¼ç»„åˆç»§æ‰¿</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://book.douban.com/subject/35175321/" target="_blank" rel="noopener">JavaScript é«˜çº§ç¨‹åºè®¾è®¡ï¼ˆç¬¬ 4 ç‰ˆï¼‰</a></li><li><a href="https://www.freecodecamp.org/chinese/news/inheritance-in-js/" target="_blank" rel="noopener">ä¸€æ–‡çœ‹æ‡‚ JS çš„ç»§æ‰¿</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç­–åˆ’ä¸€æ¬¾æ¸¸æˆ</title>
      <link href="/blog/2023/11/06/%E7%AD%96%E5%88%92%E4%B8%80%E6%AC%BE%E6%B8%B8%E6%88%8F/"/>
      <url>/blog/2023/11/06/%E7%AD%96%E5%88%92%E4%B8%80%E6%AC%BE%E6%B8%B8%E6%88%8F/</url>
      
        <content type="html"><![CDATA[<p>æœ€è¿‘ç©äº† Beecarbonizeï¼Œä¸€æ¬¾æ¬§ç›Ÿèµ„åŠ©çš„å‡ç¢³æ’æ”¾å°æ¸¸æˆã€‚å±äºå…¬ç›Šç±»ï¼Œæ•™è‚²ç±»çš„æ¸¸æˆã€‚éå¸¸çš„ç®€å•æœ‰è¶£ã€‚é‚èŒç”Ÿäº†è‡ªå·±ä¹Ÿåšä¸€æ¬¾ç±»ä¼¼çš„æ¸¸æˆï¼Œæ‰“ç®—æ¨¡ä»¿è¿™ä¸ªç©æ³•ï¼Œæ¢ä¸€ä¸ªä¸»é¢˜ã€‚</p><p>è¯¥æ¸¸æˆçš„è¦ç´ æœ‰ï¼š</p><ol><li>å¡ç‰Œ<ul><li>äº‹ä»¶ç‰Œ</li></ul></li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> æ¸¸æˆç­–åˆ’ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å®ç°ä¸€ä¸ªé«˜æ•ˆçš„deepClone</title>
      <link href="/blog/2023/11/01/%E5%AE%9E%E7%8E%B0JavaScript%E7%9A%84deepClone/"/>
      <url>/blog/2023/11/01/%E5%AE%9E%E7%8E%B0JavaScript%E7%9A%84deepClone/</url>
      
        <content type="html"><![CDATA[<h2 id="å…ˆæ¥å®ç°ä¸€ä¸ªæœ€ç®€ç‰ˆçš„-deepClone"><a href="#å…ˆæ¥å®ç°ä¸€ä¸ªæœ€ç®€ç‰ˆçš„-deepClone" class="headerlink" title="å…ˆæ¥å®ç°ä¸€ä¸ªæœ€ç®€ç‰ˆçš„ deepClone"></a>å…ˆæ¥å®ç°ä¸€ä¸ªæœ€ç®€ç‰ˆçš„ deepClone</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">deepClone</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (</span><br><span class="line">    obj == <span class="literal">null</span> ||</span><br><span class="line">    <span class="keyword">typeof</span> obj == <span class="string">"string"</span> ||</span><br><span class="line">    <span class="keyword">typeof</span> obj == <span class="string">"boolean"</span> ||</span><br><span class="line">    <span class="keyword">typeof</span> obj == <span class="string">"number"</span></span><br><span class="line">  ) &#123;</span><br><span class="line">    <span class="keyword">return</span> obj;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">Array</span>.isArray(obj)) &#123;</span><br><span class="line">    <span class="keyword">let</span> temp = [];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; obj.length; i++) &#123;</span><br><span class="line">      temp[i] = deepClone(obj[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> temp;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> obj == <span class="string">"object"</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> temp = &#123;&#125;;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> k <span class="keyword">of</span> <span class="built_in">Object</span>.keys(obj)) &#123;</span><br><span class="line">      temp[k] = deepClone(obj[k]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> temp;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="è¿­ä»£ç‰ˆæœ¬çš„-deepClone"><a href="#è¿­ä»£ç‰ˆæœ¬çš„-deepClone" class="headerlink" title="è¿­ä»£ç‰ˆæœ¬çš„ deepClone"></a>è¿­ä»£ç‰ˆæœ¬çš„ deepClone</h2><p>æœ€è¿‘ EDA é¡¹ç›®åœ¨è§£å†³ä¸€äº›æ€§èƒ½ä¸Šçš„é—®é¢˜ï¼Œé¦–å½“å…¶å†²çš„å°±æ˜¯ deepCloneï¼Œå„ç§åœ°æ–¹éƒ½åœ¨ç”¨ï¼Œä¸”ååˆ†å¡æ€§èƒ½ã€‚å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ</p><p>ç”±äºæˆ‘ä»¬é¡¹ç›®ä¸­çš„ deepClone æ˜¯ä¸€ä¸ªé€’å½’ç‰ˆæœ¬çš„ deepCloneï¼Œæ‰€ä»¥åº”è¯¥å¯ä»¥é€šè¿‡æŠŠå®ƒæ”¹æˆè¿­ä»£ç‰ˆçš„ deepClone æ¥æé€Ÿã€‚</p><p>ç”¨æ ˆæ¥å®ç°è¿­ä»£ã€‚å‡½æ•°è°ƒç”¨æ ˆæœ¬èº«ä¹Ÿæ˜¯æ ˆï¼Œä½†å¼€é”€è‚¯å®šæ¯”è‡ªå·±å†™çš„æ ˆè¦å¤§ä¸€äº›ã€‚</p><a id="more"></a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">toString</span>(<span class="params">a</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(a).slice(<span class="number">8</span>, <span class="number">-1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isObj</span>(<span class="params">a</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> toString(a) === <span class="string">"Object"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isNum</span>(<span class="params">a</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> toString(a) === <span class="string">"Number"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isStr</span>(<span class="params">a</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> toString(a) === <span class="string">"String"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isBool</span>(<span class="params">a</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> toString(a) === <span class="string">"Boolean"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isSymbol</span>(<span class="params">a</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> toString(a) === <span class="string">"Symbol"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isBigInt</span>(<span class="params">a</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> toString(a) === <span class="string">"BigInt"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isFunction</span>(<span class="params">a</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> toString(a) === <span class="string">"Function"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isRegExp</span>(<span class="params">a</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> toString(a) === <span class="string">"RegExp"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isDate</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> toString(a) === <span class="string">"Date"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isError</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> toString(a) === <span class="string">"Error"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">function</span> <span class="title">isPrim</span>(<span class="params">a</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    isNum(a) ||</span><br><span class="line">    isStr(a) ||</span><br><span class="line">    isBool(a) ||</span><br><span class="line">    isSymbol(a) ||</span><br><span class="line">    isBigInt(a) ||</span><br><span class="line">    isFunction(a) ||</span><br><span class="line">    a === <span class="literal">null</span> ||</span><br><span class="line">    a === <span class="keyword">void</span> <span class="number">0</span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">deepCloneStack</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (isPrim(obj)) &#123;</span><br><span class="line">    <span class="keyword">return</span> obj;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> root = <span class="built_in">Array</span>.isArray(obj) ? [] : &#123;&#125;;</span><br><span class="line">  <span class="keyword">const</span> stack = [[&#123; root &#125;, obj, <span class="string">"root"</span>]];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (stack.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> [target, obj, key] = stack.pop();</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">Array</span>.isArray(obj)) &#123;</span><br><span class="line">      <span class="keyword">if</span> (!target[key]) &#123;</span><br><span class="line">        target[key] = <span class="keyword">new</span> <span class="built_in">Array</span>(obj.length);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> k = <span class="number">0</span>; k &lt; obj.length; k++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (isPrim(obj[k])) &#123;</span><br><span class="line">          target[key][k] = obj[k];</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          stack.push([target[key], obj[k], k]);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (!target[key]) &#123;</span><br><span class="line">        target[key] = &#123;&#125;;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> k <span class="keyword">in</span> obj) &#123;</span><br><span class="line">        <span class="keyword">if</span> (isPrim(obj[k])) &#123;</span><br><span class="line">          target[key][k] = obj[k];</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          stack.push([target[key], obj[k], k]);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://replit.com/@liuqinh2s/deepClone#script.js" target="_blank" rel="noopener">åœ¨çº¿è¿è¡Œåœ°å€</a></p><p>ä¸è¿‡å¾ˆé—æ†¾çš„æ˜¯è¿­ä»£ç‰ˆæœ¬é€Ÿåº¦æ¯”é€’å½’è¿˜è¦æ…¢ï¼Œä¼°è®¡æ˜¯å› ä¸º js çš„æ•°ç»„æ€§èƒ½å¤ªå·®å¯¼è‡´çš„ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸€ç§é€Ÿç®—</title>
      <link href="/blog/2023/10/30/%E4%B8%80%E7%A7%8D%E9%80%9F%E7%AE%97/"/>
      <url>/blog/2023/10/30/%E4%B8%80%E7%A7%8D%E9%80%9F%E7%AE%97/</url>
      
        <content type="html"><![CDATA[<p>ä»¥ 5 ç»“å°¾çš„æ•°çš„å¹³æ–¹ï¼Œéƒ½æœ‰ä¸€ä¸ªå¾ˆå¥½è®°çš„é€Ÿç®—æ–¹å¼ï¼Œå°±æ˜¯å‰é¢çš„æ•°ä¹˜ä»¥æ¯”å®ƒå¤§ä¸€çš„æ•°ç„¶åå†æ‹¼æ¥ä¸Š 25ï¼Œæ¯”å¦‚ $25\times 25$ï¼Œå°±æ˜¯ $2\times 3$ ç­‰äº 6ï¼Œå†æ‹¼æ¥ä¸Š 25ï¼Œç­‰äº 625ã€‚</p><a id="more"></a><p>$65\times 65$ï¼Œå°±æ˜¯ $6\times 7$ ç­‰äº 42ï¼Œå†æ‹¼æ¥ä¸Š 25ï¼Œç­‰äº 4225ã€‚</p><p>å¦‚ä½•è¯æ˜è¿™ä¸ªé€Ÿç®—æ˜¯æ­£ç¡®çš„å‘¢ï¼Ÿæˆ‘ä»¬è¿˜æ˜¯ç”¨ç¬¦å·ç³»ç»Ÿæ¥æŠŠè¿™ä¸ªè®¡ç®—è¿‡ç¨‹æŠ½è±¡åŒ–ï¼Œè®¾æ•°å­—ä¸ºï¼š$(a\times 10+5)$</p><p>$$<br>\begin{align}<br>(a\times 10+5)\times(a\times 10+5)<br>&amp;= 100\times a^2+100\times a+25 \newline<br>&amp;= 100\times a(a+1)+25    \newline<br>\end{align}<br>$$</p><p>è¯æ˜å®Œæ¯•</p><p>è¿™ä¸ªé€Ÿç®—æ–¹æ³•æ˜¯æˆ‘å°èˆ…èˆ…æ•™ä¼šæˆ‘çš„ï¼Œå¯æƒœä»–è‹±å¹´æ—©é€äº†ã€‚æ­¤æ–‡ç”¨ä»¥çºªå¿µä»–</p>]]></content>
      
      
      
        <tags>
            
            <tag> æ•°å­¦ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é‡åº†æ—…æ¸¸æ”»ç•¥</title>
      <link href="/blog/2023/10/12/%E9%87%8D%E5%BA%86%E6%97%85%E6%B8%B8%E6%94%BB%E7%95%A5/"/>
      <url>/blog/2023/10/12/%E9%87%8D%E5%BA%86%E6%97%85%E6%B8%B8%E6%94%BB%E7%95%A5/</url>
      
        <content type="html"><![CDATA[<p>æ™¯ç‚¹æ¨èæ¸¸ç©æ—¶é—´ï¼š</p><p>3 æœˆ-5 æœˆä»¥åŠ 9 æœˆ~11 æœˆï¼ˆå¤©æ°”å‡‰çˆ½å®œäººï¼‰</p><p>æ¨èè·¯çº¿åŠæ™¯ç‚¹ï¼š</p><p>Day1ï¼šè§£æ”¾ç¢‘â€”é•¿æ±Ÿç´¢é“-æ´ªå´–æ´</p><p>Day2ï¼šç£å™¨å£â€”é©¬æˆ¿æ¹¾ 66 å·æ±Ÿæ¹–èœ-å››å·ç¾æœ¯å­¦é™¢â€”å—æ»¨è·¯</p><p>Day3ï¼šæå­åâ€”é¹…å²­äºŒå‚â€”å—å±±ä¸€æ£µæ ‘</p><a id="more"></a><h1 id="ä½"><a href="#ä½" class="headerlink" title="ä½"></a>ä½</h1><p>æ¨èä½è§£æ”¾ç¢‘æ´ªå´–æ´é™„è¿‘</p><h1 id="æ™¯ç‚¹"><a href="#æ™¯ç‚¹" class="headerlink" title="æ™¯ç‚¹"></a>æ™¯ç‚¹</h1><h2 id="æ´ªå´–æ´"><a href="#æ´ªå´–æ´" class="headerlink" title="æ´ªå´–æ´"></a>æ´ªå´–æ´</h2><p>å»ºè®®ä¸‹åˆ 4 ç‚¹å»ï¼Œç™½å¤©å’Œæ™šä¸Šçš„æ™¯è‰²éƒ½èƒ½çœ‹çš„åˆ°ã€‚æ™šä¸Šå¤œæ™¯å¾ˆæ¼‚äº®ï¼Œå»ºè®®ä¸è¦é”™è¿‡ã€‚ç™½å¤©äººå°‘ï¼Œæ™šä¸Šäººå¤šã€‚å¤œæ™šçš„æ´ªå´–æ´ï¼Œåº”è¯¥è¿œè§‚ï¼Œä»æ›´é«˜å¤„æ‹ä¸‹å®ƒçš„å…¨è²Œï¼›ç™½å¤©çš„æ´ªå´–æ´ï¼Œå¯ä»¥è®©äººä»¥æ›´è¿‘çš„è·ç¦»æ¥æ¥è§¦ï¼Œä½“éªŒè¿‡ä¸¤ç§ä¸åŒåœºæ™¯ä¸‹çš„å®ƒï¼Œæ‰ä¼šæ˜¯å®Œæ•´çš„ã€‚</p><h2 id="å±±åŸæ­¥é“"><a href="#å±±åŸæ­¥é“" class="headerlink" title="å±±åŸæ­¥é“"></a>å±±åŸæ­¥é“</h2><p>å±±åŸæ­¥é“å› ä¸ºä»ä½ çš„å…¨ä¸–ç•Œè·¯è¿‡è€Œé—»åã€‚è¿™é‡Œæ˜¯è€é‡åº†çš„å°è®°ï¼Œæ¼«æ­¥çŸ³æ¿è·¯çš„å°å··ï¼Œæ˜¯ä½“éªŒå±±åŸéŸµå‘³çš„æœ€ä½³æ–¹å¼ä¹‹ä¸€ã€‚å¯¹é¢ä¾¿æ˜¯æ»šæ»šé•¿æ±Ÿï¼Œå®æ˜¯ä¸€å¤„è§‚æ±Ÿæ™¯çš„å¥½å»å¤„ã€‚</p><p>æ­¥é“ä»å±±åŸå··åˆ°é€šè¿œé—¨ï¼Œå…¨ç¨‹ 3 å…¬é‡Œï¼Œæ…¢è¡Œ 1-2 å°æ—¶ã€‚</p><h1 id="å—å±±ä¸€æ£µæ ‘è§‚æ™¯å°"><a href="#å—å±±ä¸€æ£µæ ‘è§‚æ™¯å°" class="headerlink" title="å—å±±ä¸€æ£µæ ‘è§‚æ™¯å°"></a>å—å±±ä¸€æ£µæ ‘è§‚æ™¯å°</h1><p>é‡åº†çš„å—å±±ä¸€æ£µæ ‘ï¼Œå¯ä»¥çœ‹åˆ°åª²ç¾é¦™æ¸¯çš„å¤œæ™¯ï¼Œä¸€çœ¼æœ›å»ï¼Œç¾è½®ç¾å¥‚</p><h2 id="ç£å™¨å£å¤é•‡â€”â€”å°é‡åº†"><a href="#ç£å™¨å£å¤é•‡â€”â€”å°é‡åº†" class="headerlink" title="ç£å™¨å£å¤é•‡â€”â€”å°é‡åº†"></a>ç£å™¨å£å¤é•‡â€”â€”å°é‡åº†</h2><h2 id="è§£æ”¾ç¢‘â€”â€”å°é¦™æ¸¯"><a href="#è§£æ”¾ç¢‘â€”â€”å°é¦™æ¸¯" class="headerlink" title="è§£æ”¾ç¢‘â€”â€”å°é¦™æ¸¯"></a>è§£æ”¾ç¢‘â€”â€”å°é¦™æ¸¯</h2><h2 id="é•¿æ±Ÿç´¢é“â€”â€”ä½“éªŒç©ºä¸­èµ°å»Š"><a href="#é•¿æ±Ÿç´¢é“â€”â€”ä½“éªŒç©ºä¸­èµ°å»Š" class="headerlink" title="é•¿æ±Ÿç´¢é“â€”â€”ä½“éªŒç©ºä¸­èµ°å»Š"></a>é•¿æ±Ÿç´¢é“â€”â€”ä½“éªŒç©ºä¸­èµ°å»Š</h2><h2 id="çš‡å† å¤§æ‰¶æ¢¯"><a href="#çš‡å† å¤§æ‰¶æ¢¯" class="headerlink" title="çš‡å† å¤§æ‰¶æ¢¯"></a>çš‡å† å¤§æ‰¶æ¢¯</h2><p>è¿æ¥äº†ä¸¤è·¯å£å’Œé‡åº†ç«è½¦èœå›­åç«™ï¼Œé‡åº†çš„ç‰¹è‰²äº¤é€šä¹‹ä¸€ï¼Œæ˜¯äºšæ´²ç¬¬äºŒé•¿çš„ä¸€çº§æå‡å¡åœ°å¤§æ‰¶æ¢¯ã€‚ æ‰¶æ¢¯çš„é€Ÿåº¦æ¯”ä¸€èˆ¬æ‰¶æ¢¯å¿«å¾ˆå¤šï¼Œæ‰¶æ¢¯å‚ç›´é«˜åº¦ 64 ç±³ï¼Œæ‰¶æ¢¯é•¿åº¦ 150 ç±³ï¼Œ30 åº¦å€¾æ–œè§’åº¦ï¼Œåœ¨è§†è§‰ä¸Šéå¸¸åˆºæ¿€ã€‚é…å¥—è®¾æ–½æ¯”è¾ƒè€æ—§ï¼Œä½†å€¼å¾—ä¸€è¯•ã€‚</p><p>ä½ç½®ï¼šä¹˜ååœ°é“ 1ã€3 å·çº¿åˆ°ä¸¤è·¯å£å¾€èœå›­åæ–¹å‘ä¸‹è¡Œ</p><p>é—¨ç¥¨ï¼šå•ç¨‹ 2 å…ƒ/äºº</p><p>å¼€æ”¾æ—¶é—´ï¼š07:00-22:00</p><h2 id="æå­åè½»è½¨ç«™"><a href="#æå­åè½»è½¨ç«™" class="headerlink" title="æå­åè½»è½¨ç«™"></a>æå­åè½»è½¨ç«™</h2><h2 id="é¹…å²­è´°å‚"><a href="#é¹…å²­è´°å‚" class="headerlink" title="é¹…å²­è´°å‚"></a>é¹…å²­è´°å‚</h2><h2 id="ç½—æ±‰å¯º"><a href="#ç½—æ±‰å¯º" class="headerlink" title="ç½—æ±‰å¯º"></a>ç½—æ±‰å¯º</h2><p>åœ¨é—¹å¸‚åŒºé‡é‡é«˜æ¥¼åŒ…å›´ä¸‹ï¼Œé¦™ç«æ—ºç››çš„å¤åˆ¹ï¼Œä¹Ÿæ˜¯ã€Šç–¯ç‹‚çš„çŸ³å¤´ã€‹æ‹æ‘„åœ°</p><h2 id="æ¹–å¹¿ä¼šé¦†"><a href="#æ¹–å¹¿ä¼šé¦†" class="headerlink" title="æ¹–å¹¿ä¼šé¦†"></a>æ¹–å¹¿ä¼šé¦†</h2><p>æ¹–å¹¿ä¼šé¦†å»ºäºæ¸…æœï¼Œåœ¨é‡åº†ç°ä»£åŒ–çš„å»ºç­‘ä¸­æ˜¾å¾—çªå…€ä½†æ˜¯åˆåˆ«å…·ä¸€æ ¼ï¼Œå¾ˆå–œæ¬¢é‡Œé¢çš„å»ºç­‘ï¼Œå¤§å¤šä½¿ç”¨æœ¨æå»ºé€ çš„ï¼Œæµ®é›•éƒ½é›•åˆ»å¾—å¾ˆç²¾ç¾ï¼Œåœ¨è¿™é‡Œç»å¸¸ä¼šé‡è§å¾ˆå¤šæ‹å©šçº±ç…§çš„å¤«å¦»å“ˆå“ˆ~</p><p>åœ°å€ï¼šé‡åº†å¸‚æ¸ä¸­åŒºèŠ­è•‰å›­ 1 å·é‡åº†æ¹–å¹¿ä¼šé¦†</p><h2 id="ä¸­å±±å››è·¯"><a href="#ä¸­å±±å››è·¯" class="headerlink" title="ä¸­å±±å››è·¯"></a>ä¸­å±±å››è·¯</h2><p>ç”±äºæ˜¯ä¸­å…±é‡åº†å¸‚å§”ã€é‡åº†å¸‚æ”¿åºœæ‰€åœ¨åœ°ï¼Œæ‰€ä»¥æµéœ²å‡ºä¸€ä»½æ²‰é‡çš„å®é™ï¼Œè¿™æ¡è·¯ä¸Šäººæµä¹Ÿæ¯”è¾ƒå°‘ï¼Œå»ºè®®å‰å¾€ã€‚è¿™æ¡è¡—ä¸Šå†å²é—è¿¹é™¤äº†ä¸­å›½æ°‘ä¸»å…šæ´¾åšç‰©é¦†çš„ç‰¹å›­å¤–ï¼Œè¿˜æœ‰æ¡‚å›­ã€å‘¨å…¬é¦†ã€æˆ´å…¬é¦†ã€å¼ éª§å…¬é¦†ã€å›½æ°‘æ”¿åºœæ€»ç»Ÿåºœæ—§å€ç­‰ã€‚é™¤äº†å¤æœ´çš„å»ºç­‘ï¼Œä¸­å±±å››è·¯æœ€è®©äººèµå¿ƒæ‚¦ç›®çš„è¿˜æœ‰ä¸¤åˆ—æå¶ç¹èŒ‚çš„é»„è‘›æ ‘ï¼Œå¤å¤©æ¥æ­¤å‡‰çˆ½åˆæ¸…æ–°ã€‚</p><h2 id="å·ç¾æ¶‚é¸¦è¡—"><a href="#å·ç¾æ¶‚é¸¦è¡—" class="headerlink" title="å·ç¾æ¶‚é¸¦è¡—"></a>å·ç¾æ¶‚é¸¦è¡—</h2><p>è™½ç„¶æ¶‚é¸¦æ¯”è¾ƒè€æ—§äº†ï¼Œä½†æ­¤åœ°äººå°‘å®‰é™ï¼Œå¯ä»¥éšä¾¿å‡¹é€ å‹æ‹ç…§ã€‚æ‹å‡ºæ¥çš„ç…§ç‰‡éƒ½è¶…çº§å¥½çœ‹ï¼Œè€Œä¸”è¿™ä¸ªåœ°æ–¹ç‰¹åˆ«æœ‰æ–‡è‰ºæ°”æ¯ï¼</p><h2 id="é‡‘åˆšç¢‘è€è¡—"><a href="#é‡‘åˆšç¢‘è€è¡—" class="headerlink" title="é‡‘åˆšç¢‘è€è¡—"></a>é‡‘åˆšç¢‘è€è¡—</h2><h2 id="çº¢è‰²æ—…æ¸¸æ™¯ç‚¹ï¼šç™½å…¬é¦†ï¼Œæ¸£æ»“æ´"><a href="#çº¢è‰²æ—…æ¸¸æ™¯ç‚¹ï¼šç™½å…¬é¦†ï¼Œæ¸£æ»“æ´" class="headerlink" title="çº¢è‰²æ—…æ¸¸æ™¯ç‚¹ï¼šç™½å…¬é¦†ï¼Œæ¸£æ»“æ´"></a>çº¢è‰²æ—…æ¸¸æ™¯ç‚¹ï¼šç™½å…¬é¦†ï¼Œæ¸£æ»“æ´</h2><h2 id="æ–‡åˆ›åŒºï¼šå–µå„¿çŸ³æ–‡åˆ›å›­"><a href="#æ–‡åˆ›åŒºï¼šå–µå„¿çŸ³æ–‡åˆ›å›­" class="headerlink" title="æ–‡åˆ›åŒºï¼šå–µå„¿çŸ³æ–‡åˆ›å›­"></a>æ–‡åˆ›åŒºï¼šå–µå„¿çŸ³æ–‡åˆ›å›­</h2><p>å–µå„¿çŸ³åˆ›è‰ºç‰¹åŒºå‰èº«ä¸ºä¸Šä¸–çºª 70 å¹´ä»£çš„ç™½çŒ«æ—¥åŒ–è€å‚ï¼Œå‚åŒºå…·æœ‰ä¸°åšçš„å†å²åº•è•´ï¼Œæ›¾é£é¡é‡åº†çš„ç™½çŒ«ã€èœ€ç§€ã€é¹…ç‰Œæ´—æ¶¤ç”¨å“éƒ½å‡ºè‡ªæœ¬å‚ã€‚</p><p>2010 å¹´é‡åº†æœªæ¥ä¹‹å®¶ç½®ä¸šæœ‰é™å…¬å¸ä»é¦™æ¸¯å’Œè®°é»„åŸ”æ‰‹é‡Œæ”¶è´­äº†ç™½çŒ«æ—¥åŒ–è€å‚ï¼Œè˜è¯·äº†ä¸–ç•Œåå¤§åˆ›æ–°è®¾è®¡äº‹åŠ¡æ‰€ä¹‹ä¸€â€”â€”è·å…°è‘—åçš„ MVRDV å»ºç­‘è®¾è®¡äº‹åŠ¡æ‰€ï¼Œåœ¨å°Šé‡åŸæœ‰å»ºç­‘ç»“æ„çš„åŸºç¡€ä¸Šå¯¹å»ºç­‘å¤–è§‚è¿›è¡Œå‡çº§æ”¹é€ ï¼Œæ—¢ä¿ç•™äº†è€å‚åŒºçš„å†å²åº•è•´åˆæ³¨å…¥äº†æ–°çš„æ´»åŠ›ã€‚</p><h2 id="åç”Ÿå›­é‡‘è‰²è›‹ç³•æ¢¦å¹»ç‹å›½"><a href="#åç”Ÿå›­é‡‘è‰²è›‹ç³•æ¢¦å¹»ç‹å›½" class="headerlink" title="åç”Ÿå›­é‡‘è‰²è›‹ç³•æ¢¦å¹»ç‹å›½"></a>åç”Ÿå›­é‡‘è‰²è›‹ç³•æ¢¦å¹»ç‹å›½</h2><h1 id="ç¾é£Ÿ"><a href="#ç¾é£Ÿ" class="headerlink" title="ç¾é£Ÿ"></a>ç¾é£Ÿ</h1><p>é‡åº†ç«é”…ï¼ˆå—åªæˆ–è€…è¾ƒåœºå£ï¼‰ï¼Œé‡åº†å°é¢ï¼Œé‡åº†é…¸è¾£ç²‰ï¼Œæ£’æ£’é¸¡ï¼Œæ¯›è¡€æ—ºï¼Œå±±åŸå°æ±¤åœ†ï¼Œé‡åº†çƒ¤é±¼ï¼Œé¸¡æ‚ï¼Œè¾£å­é¸¡ï¼ŒæŠ„æ‰‹ï¼Œè±†èŠ±ï¼ˆå´è®°è±†èŠ±é¢ï¼Œå—åªä¸‡å¯¿è·¯ä¸­ç™¾ä»“å‚¨ï¼‰ï¼Œæ¿å‡³é¢ï¼ˆæ¸åŒ—åŒºæ¾çŸ³æ”¯è·¯ 108 å·ï¼‰ï¼ŒèŠéº»å°ç³ç²‘ï¼Œçƒ¤è„‘èŠ±</p><h2 id="é©¬æˆ¿æ¹¾-66-å·æ±Ÿæ¹–èœ"><a href="#é©¬æˆ¿æ¹¾-66-å·æ±Ÿæ¹–èœ" class="headerlink" title="é©¬æˆ¿æ¹¾ 66 å·æ±Ÿæ¹–èœ"></a>é©¬æˆ¿æ¹¾ 66 å·æ±Ÿæ¹–èœ</h2><p>é‡åº†å¿…åƒç¾é£Ÿé™¤äº†ç«é”…ï¼Œå°é¢è¿˜æœ‰æ±Ÿæ¹–èœï¼Œè¿™ä¸ªåœ°æ–¹ç‰¹åˆ«æœ‰æ„æ€ï¼Œä½ç½®åœ¨åŠå±±è…°ä¸Šï¼Œæœ‰å±±åŸç‰¹è‰²ï¼Œåº—å†…æ˜¯ä¸ƒå…«åå¹´ä»£çš„é£æ ¼ï¼Œæ˜¯ä¸€ä¸ªæ‹ç…§æ‰“å¡çš„å¥½åœ°æ–¹ï¼Œå½“ç„¶å‘³é“ä¹Ÿæ˜¯éå¸¸æ£’çš„ã€å¤©ä¸‹ç¬¬ä¸€è’¸é‡Œé¢æ˜¯ç²‰è’¸çš„ä¸‰çº¿è‚‰ã€è‚¥è‚ ã€æ’éª¨è’¸å¾—éå¸¸è½¯ç³¯ï¼Œå«åº•çš„çº¢è‹•ç”œç”œçš„ä¹Ÿå¾ˆå¥½åƒã€è¾£å­é¸¡ã€æ°´ç…®é±¼éº»è¾£é²œé¦™ï¼Œä¸‹é…’åˆä¸‹é¥­ï¼Œå‘³é“å¯ä»¥è¯´æ˜¯å¾ˆæ­£å®—çš„å•¦ï¼</p><h2 id="å›ä¹‹è–‡ç«é”…"><a href="#å›ä¹‹è–‡ç«é”…" class="headerlink" title="å›ä¹‹è–‡ç«é”…"></a>å›ä¹‹è–‡ç«é”…</h2><p>åœ¨é©¬æˆ¿æ¹¾ 66 å·æ±Ÿæ¹–èœæ—è¾¹çš„ç«é”…åº—ï¼Œä¸Šè¿‡èˆŒå°–ä¸Šçš„ä¸­å›½ç¬¬ä¸€å­£ï¼Œ21 å¹´çš„è€å“ç‰Œï¼Œè¿˜æ˜¯è€å‘³é“ã€é‡ç‚¹æ˜¯æ€§ä»·æ¯”è¿˜å¾ˆé«˜ï¼Œè¿™ä¸ªå¹´å¤´è¿˜ä¿æŒå‡ å—é’±ä¸€ä»½çš„èœä¹Ÿæ˜¯å¾ˆå°‘äº†ã€‚</p><p>ä¹Ÿæ˜¯æˆ‘ç»å¸¸å»åƒçš„ä¸€å®¶ç«é”…ã€‚</p><p>åœ°å€ï¼šæ²™åªååŒºæ¨å…¬æ¡¥åœ°é“ç«™ 1B å‡ºå£æ—çš„åŠå¡ä¸Š</p><h2 id="è´¹ç”¨"><a href="#è´¹ç”¨" class="headerlink" title="è´¹ç”¨"></a>è´¹ç”¨</h2><p>æœºç¥¨ä»é•¿æ²™é£é‡åº†<code>677*2</code>(å«äº†ä¿é™©<code>30*2</code>å—)ï¼Œé«˜é“ç¥¨æ ªæ´²è¥¿åˆ°é•¿æ²™å— 49 + é‡åº†è¥¿åˆ°æ·±åœ³åŒ— 554.5 + é‡åº†åˆ°æ ªæ´²é«˜é“ 448.5+24.5ï¼Œä½å®¿è´¹ä¸‰æ™š 850ã€‚è·¯è´¹+ä½å®¿è´¹æ€»å…± 3280.5</p>]]></content>
      
      
      
        <tags>
            
            <tag> æ”»ç•¥ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ‰‹å†™ä¼˜å…ˆé˜Ÿåˆ—</title>
      <link href="/blog/2023/10/09/%E6%89%8B%E5%86%99%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97/"/>
      <url>/blog/2023/10/09/%E6%89%8B%E5%86%99%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97/</url>
      
        <content type="html"><![CDATA[<p>ä¼˜å…ˆé˜Ÿåˆ—ä¸€èˆ¬æ˜¯ç”¨å †æ¥å®ç°çš„ï¼ŒæŸ¥è¯¢å¤æ‚åº¦æ˜¯ O(1)ï¼Œæ’å…¥å’Œåˆ é™¤çš„å¤æ‚åº¦æ˜¯ O(logN)ã€‚å †ç»“æ„å°±æ˜¯ä¸€ä¸ªå®Œå…¨äºŒå‰æ ‘ï¼Œå®Œå…¨äºŒå‰æ ‘å¯ä»¥ç”¨æ•°ç»„å®ç°ã€‚</p><p>æµ‹è¯•åœºæ™¯ï¼š<a href="https://leetcode.cn/problems/kth-largest-element-in-an-array/description/" target="_blank" rel="noopener">215. æ•°ç»„ä¸­çš„ç¬¬ K ä¸ªæœ€å¤§å…ƒç´ </a></p><a id="more"></a><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> PriorityQueue1&lt;T&gt; &#123;</span><br><span class="line">  arr: T[];</span><br><span class="line">  compare: <span class="function">(<span class="params">a: T, b: T</span>) =&gt;</span> <span class="built_in">number</span>;</span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params">props: &#123; compare: (a: T, b: T) =&gt; <span class="built_in">number</span> &#125;</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; compare &#125; = props;</span><br><span class="line">    <span class="keyword">this</span>.compare = compare;</span><br><span class="line">    <span class="keyword">this</span>.arr = [];</span><br><span class="line">  &#125;</span><br><span class="line">  swap(arr, index1, index2) &#123;</span><br><span class="line">    <span class="keyword">const</span> temp = arr[index1];</span><br><span class="line">    arr[index1] = arr[index2];</span><br><span class="line">    arr[index2] = temp;</span><br><span class="line">  &#125;</span><br><span class="line">  enqueue(a) &#123;</span><br><span class="line">    <span class="keyword">this</span>.arr.push(a);</span><br><span class="line">    <span class="keyword">this</span>.bubbleUp(<span class="keyword">this</span>.arr.length - <span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  dequeue() &#123;</span><br><span class="line">    <span class="keyword">this</span>.delete(<span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  bubbleUp(index) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.arr.length &lt;= <span class="number">1</span> || index &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> pre = <span class="built_in">Math</span>.floor((index - <span class="number">1</span>) / <span class="number">2</span>);</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.compare(<span class="keyword">this</span>.arr[index], <span class="keyword">this</span>.arr[pre]) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">this</span>.swap(<span class="keyword">this</span>.arr, pre, index);</span><br><span class="line">      <span class="keyword">this</span>.bubbleUp(pre);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">delete</span>(index) &#123;</span><br><span class="line">    <span class="keyword">this</span>.swap(<span class="keyword">this</span>.arr, index, <span class="keyword">this</span>.arr.length - <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">this</span>.arr.pop();</span><br><span class="line">    <span class="keyword">this</span>.sinkDown(index);</span><br><span class="line">  &#125;</span><br><span class="line">  sinkDown(index) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.arr.length &lt;= <span class="number">1</span> || index &gt;= <span class="keyword">this</span>.arr.length - <span class="number">1</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (</span><br><span class="line">      (index * <span class="number">2</span> + <span class="number">1</span> &lt; <span class="keyword">this</span>.arr.length &amp;&amp;</span><br><span class="line">        <span class="keyword">this</span>.compare(<span class="keyword">this</span>.arr[index], <span class="keyword">this</span>.arr[index * <span class="number">2</span> + <span class="number">1</span>]) &lt; <span class="number">0</span>) ||</span><br><span class="line">      (index * <span class="number">2</span> + <span class="number">2</span> &lt; <span class="keyword">this</span>.arr.length &amp;&amp;</span><br><span class="line">        <span class="keyword">this</span>.compare(<span class="keyword">this</span>.arr[index], <span class="keyword">this</span>.arr[index * <span class="number">2</span> + <span class="number">2</span>]) &lt; <span class="number">0</span>)</span><br><span class="line">    ) &#123;</span><br><span class="line">      <span class="keyword">if</span> (</span><br><span class="line">        index * <span class="number">2</span> + <span class="number">2</span> &gt;= <span class="keyword">this</span>.arr.length ||</span><br><span class="line">        <span class="keyword">this</span>.compare(<span class="keyword">this</span>.arr[index * <span class="number">2</span> + <span class="number">1</span>], <span class="keyword">this</span>.arr[index * <span class="number">2</span> + <span class="number">2</span>]) &gt; <span class="number">0</span></span><br><span class="line">      ) &#123;</span><br><span class="line">        <span class="keyword">this</span>.swap(<span class="keyword">this</span>.arr, index, index * <span class="number">2</span> + <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">this</span>.sinkDown(index * <span class="number">2</span> + <span class="number">1</span>);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.swap(<span class="keyword">this</span>.arr, index, index * <span class="number">2</span> + <span class="number">2</span>);</span><br><span class="line">        <span class="keyword">this</span>.sinkDown(index * <span class="number">2</span> + <span class="number">2</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  front() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.arr[<span class="number">0</span>];</span><br><span class="line">  &#125;</span><br><span class="line">  size() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.arr.length;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">findKthLargest</span>(<span class="params">nums: <span class="built_in">number</span>[], k: <span class="built_in">number</span></span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">  <span class="comment">// PriorityQueue1</span></span><br><span class="line">  <span class="keyword">const</span> pq = <span class="keyword">new</span> PriorityQueue1(&#123; compare: <span class="function">(<span class="params">a: <span class="built_in">number</span>, b: <span class="built_in">number</span></span>) =&gt;</span> a - b &#125;);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">    pq.enqueue(nums[i]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = k - <span class="number">1</span>; i &gt;= <span class="number">1</span>; i--) &#123;</span><br><span class="line">    pq.dequeue();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> pq.front();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æµ‹è¯•åœºæ™¯ 2ï¼š<a href="https://leetcode.cn/problems/stock-price-fluctuation/description/" target="_blank" rel="noopener">2034. è‚¡ç¥¨ä»·æ ¼æ³¢åŠ¨</a></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> PriorityQueue1&lt;T&gt; &#123;</span><br><span class="line">  arr: T[];</span><br><span class="line">  compare: <span class="function">(<span class="params">a: T, b: T</span>) =&gt;</span> <span class="built_in">number</span>;</span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params">props: &#123; compare: (a: T, b: T) =&gt; <span class="built_in">number</span> &#125;</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; compare &#125; = props;</span><br><span class="line">    <span class="keyword">this</span>.compare = compare;</span><br><span class="line">    <span class="keyword">this</span>.arr = [];</span><br><span class="line">  &#125;</span><br><span class="line">  swap(arr, index1, index2) &#123;</span><br><span class="line">    <span class="keyword">const</span> temp = arr[index1];</span><br><span class="line">    arr[index1] = arr[index2];</span><br><span class="line">    arr[index2] = temp;</span><br><span class="line">  &#125;</span><br><span class="line">  enqueue(a) &#123;</span><br><span class="line">    <span class="keyword">this</span>.arr.push(a);</span><br><span class="line">    <span class="keyword">this</span>.bubbleUp(<span class="keyword">this</span>.arr.length - <span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  dequeue() &#123;</span><br><span class="line">    <span class="keyword">this</span>.delete(<span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  bubbleUp(index) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.arr.length &lt;= <span class="number">1</span> || index &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> pre = <span class="built_in">Math</span>.floor((index - <span class="number">1</span>) / <span class="number">2</span>);</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.compare(<span class="keyword">this</span>.arr[index], <span class="keyword">this</span>.arr[pre]) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">this</span>.swap(<span class="keyword">this</span>.arr, pre, index);</span><br><span class="line">      <span class="keyword">this</span>.bubbleUp(pre);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">delete</span>(index) &#123;</span><br><span class="line">    <span class="keyword">this</span>.swap(<span class="keyword">this</span>.arr, index, <span class="keyword">this</span>.arr.length - <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">this</span>.arr.pop();</span><br><span class="line">    <span class="keyword">this</span>.sinkDown(index);</span><br><span class="line">  &#125;</span><br><span class="line">  sinkDown(index) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.arr.length &lt;= <span class="number">1</span> || index &gt;= <span class="keyword">this</span>.arr.length - <span class="number">1</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (</span><br><span class="line">      (index * <span class="number">2</span> + <span class="number">1</span> &lt; <span class="keyword">this</span>.arr.length &amp;&amp;</span><br><span class="line">        <span class="keyword">this</span>.compare(<span class="keyword">this</span>.arr[index], <span class="keyword">this</span>.arr[index * <span class="number">2</span> + <span class="number">1</span>]) &lt; <span class="number">0</span>) ||</span><br><span class="line">      (index * <span class="number">2</span> + <span class="number">2</span> &lt; <span class="keyword">this</span>.arr.length &amp;&amp;</span><br><span class="line">        <span class="keyword">this</span>.compare(<span class="keyword">this</span>.arr[index], <span class="keyword">this</span>.arr[index * <span class="number">2</span> + <span class="number">2</span>]) &lt; <span class="number">0</span>)</span><br><span class="line">    ) &#123;</span><br><span class="line">      <span class="keyword">if</span> (</span><br><span class="line">        index * <span class="number">2</span> + <span class="number">2</span> &gt;= <span class="keyword">this</span>.arr.length ||</span><br><span class="line">        <span class="keyword">this</span>.compare(<span class="keyword">this</span>.arr[index * <span class="number">2</span> + <span class="number">1</span>], <span class="keyword">this</span>.arr[index * <span class="number">2</span> + <span class="number">2</span>]) &gt; <span class="number">0</span></span><br><span class="line">      ) &#123;</span><br><span class="line">        <span class="keyword">this</span>.swap(<span class="keyword">this</span>.arr, index, index * <span class="number">2</span> + <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">this</span>.sinkDown(index * <span class="number">2</span> + <span class="number">1</span>);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.swap(<span class="keyword">this</span>.arr, index, index * <span class="number">2</span> + <span class="number">2</span>);</span><br><span class="line">        <span class="keyword">this</span>.sinkDown(index * <span class="number">2</span> + <span class="number">2</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  front() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.arr[<span class="number">0</span>];</span><br><span class="line">  &#125;</span><br><span class="line">  size() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.arr.length;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> Data &#123;</span><br><span class="line">  index: <span class="built_in">number</span>;</span><br><span class="line">  value: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> StockPrice &#123;</span><br><span class="line">  priceArr: <span class="built_in">number</span>[];</span><br><span class="line">  maxPriorityQueue: PriorityQueue1&lt;&#123; index: <span class="built_in">number</span>; value: <span class="built_in">number</span> &#125;&gt;;</span><br><span class="line">  minPriorityQueue: PriorityQueue1&lt;&#123; index: <span class="built_in">number</span>; value: <span class="built_in">number</span> &#125;&gt;;</span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">this</span>.priceArr = [];</span><br><span class="line">    <span class="keyword">this</span>.maxPriorityQueue = <span class="keyword">new</span> PriorityQueue1(&#123;</span><br><span class="line">      compare: <span class="function">(<span class="params">a: Data, b: Data</span>) =&gt;</span> a.value - b.value,</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">this</span>.minPriorityQueue = <span class="keyword">new</span> PriorityQueue1(&#123;</span><br><span class="line">      compare: <span class="function">(<span class="params">a: Data, b: Data</span>) =&gt;</span> b.value - a.value,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  update(timestamp: <span class="built_in">number</span>, price: <span class="built_in">number</span>): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.priceArr[timestamp] = price;</span><br><span class="line">    <span class="keyword">this</span>.maxPriorityQueue.enqueue(&#123; index: timestamp, value: price &#125;);</span><br><span class="line">    <span class="keyword">this</span>.minPriorityQueue.enqueue(&#123; index: timestamp, value: price &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  current(): <span class="built_in">number</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.priceArr[<span class="keyword">this</span>.priceArr.length - <span class="number">1</span>];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  maximum(): <span class="built_in">number</span> &#123;</span><br><span class="line">    <span class="keyword">while</span> (</span><br><span class="line">      <span class="keyword">this</span>.maxPriorityQueue.front().value !==</span><br><span class="line">      <span class="keyword">this</span>.priceArr[<span class="keyword">this</span>.maxPriorityQueue.front().index]</span><br><span class="line">    ) &#123;</span><br><span class="line">      <span class="keyword">this</span>.maxPriorityQueue.dequeue();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.maxPriorityQueue.front().value;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  minimum(): <span class="built_in">number</span> &#123;</span><br><span class="line">    <span class="keyword">while</span> (</span><br><span class="line">      <span class="keyword">this</span>.minPriorityQueue.front().value !==</span><br><span class="line">      <span class="keyword">this</span>.priceArr[<span class="keyword">this</span>.minPriorityQueue.front().index]</span><br><span class="line">    ) &#123;</span><br><span class="line">      <span class="keyword">this</span>.minPriorityQueue.dequeue();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.minPriorityQueue.front().value;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Your StockPrice object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"> * var obj = new StockPrice()</span></span><br><span class="line"><span class="comment"> * obj.update(timestamp,price)</span></span><br><span class="line"><span class="comment"> * var param_2 = obj.current()</span></span><br><span class="line"><span class="comment"> * var param_3 = obj.maximum()</span></span><br><span class="line"><span class="comment"> * var param_4 = obj.minimum()</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Promiseè¯¦è§£</title>
      <link href="/blog/2023/07/19/Promise%E8%AF%A6%E8%A7%A3/"/>
      <url>/blog/2023/07/19/Promise%E8%AF%A6%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<h2 id="å®˜æ–¹æ–‡æ¡£"><a href="#å®˜æ–¹æ–‡æ¡£" class="headerlink" title="å®˜æ–¹æ–‡æ¡£"></a>å®˜æ–¹æ–‡æ¡£</h2><p><a href="https://promisesaplus.com/" target="_blank" rel="noopener">Promise A+ è§„èŒƒ</a><br><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function" target="_blank" rel="noopener">async å‡½æ•°</a></p><a id="more"></a><h1 id="å¸¸è§é—®é¢˜"><a href="#å¸¸è§é—®é¢˜" class="headerlink" title="å¸¸è§é—®é¢˜"></a>å¸¸è§é—®é¢˜</h1><ol><li>å¼‚æ­¥å‡½æ•°ä¸ä¸€å®šå°±ä¼šå¼‚æ­¥æ‰§è¡Œï¼Œä¸»è¦çœ‹é‡Œé¢æœ‰æ²¡æœ‰å¼‚æ­¥çš„åœ°æ–¹ï¼Œæ¯”å¦‚ setTimeoutï¼Œæ¯”å¦‚ http è¯·æ±‚ï¼Œæ¯”å¦‚ indexedDB è¯·æ±‚</li><li>å‡½æ•°è¿”å› Promise å¯¹è±¡ï¼Œä¸ä¸€å®šå°±è¦å†™ asyncï¼Œé™¤éé‡Œé¢ç”¨äº† await</li><li>async æ˜¯ Promise çš„ç­‰ä»·ç®€å†™ï¼Œä¸å¿…å†å¤šå†™ä¸€ä¸ª<code>return new Promise</code></li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">resolveAfter2Seconds</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      resolve(<span class="string">"resolved"</span>);</span><br><span class="line">    &#125;, <span class="number">2000</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">asyncCall</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"calling"</span>);</span><br><span class="line">  <span class="keyword">const</span> result = <span class="keyword">await</span> resolveAfter2Seconds();</span><br><span class="line">  <span class="built_in">console</span>.log(result);</span><br><span class="line">  <span class="comment">// Expected output: "resolved"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">asyncCall();</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linuxä½¿ç”¨æ‰‹å†Œ</title>
      <link href="/blog/2023/06/07/linux%E4%BD%BF%E7%94%A8%E6%89%8B%E5%86%8C/"/>
      <url>/blog/2023/06/07/linux%E4%BD%BF%E7%94%A8%E6%89%8B%E5%86%8C/</url>
      
        <content type="html"><![CDATA[<p>æœ€è¿‘ä¹°äº†ä¸€å°æœåŠ¡å™¨ï¼Œå¤ªå¤š linux å‘½ä»¤è¦ä¸Šç½‘æŸ¥è¯¢äº†ï¼Œå·²ç»ä¸é€‚åˆè®°åœ¨æœ­è®°é‡Œé¢ï¼ˆæœ­è®°é‡Œé¢ä¸€èˆ¬æ˜¯è®°å½•æ¯”è¾ƒæ‚çš„ä¸œè¥¿ï¼Œç¯‡å¹…å°šä¸èƒ½å½¢æˆæ–‡ç« ï¼‰ï¼Œæ‰€ä»¥ä¸“é—¨å¼€äº†ä¸€ç¯‡æ–‡ç« æ¥è®²æˆ‘åœ¨ä½¿ç”¨ linux æœåŠ¡å™¨é‡åˆ°çš„é—®é¢˜ï¼Œä»¥åŠè§£å†³åŠæ³•ã€‚</p><p>é¦–å…ˆè¦è°ˆçš„æ˜¯æœåŠ¡å™¨å®‰å…¨é—®é¢˜</p><p>ä»¥å‰æ­ wordpress åšå®¢çš„æ—¶å€™ï¼Œè¢«ç›—è¿‡ä¸¤æ¬¡ï¼Œè·ŸåŒäº‹è®¨è®ºäº†ä¹‹åï¼Œå‘ç°å¯èƒ½æ˜¯å› ä¸ºæˆ‘ä½¿ç”¨äº† root è´¦å·è¿œç¨‹ç™»å½•ï¼Œè¦è®ºå®‰å…¨æ€§çš„è¯ï¼Œæœ€å¥½çš„æ–¹å¼æ˜¯ï¼š</p><ol><li>ç¦æ­¢ root è´¦å·è¿œç¨‹ç™»å½•ï¼ˆé‚£ä¹ˆåˆ«äººæƒ³è¦ç™»å½•ï¼Œå°±åªèƒ½çŒœä½ çš„è´¦å·å+å¯†ç ï¼Œå¦‚æœä½ å¼€æ”¾äº† root ç™»å½•ï¼Œåˆ«äººå°±åªéœ€è¦çŒœ root å¯†ç ï¼‰</li><li>æŠŠ ssh ç«¯å£æ”¹ä¸ºé 22 ç«¯å£ï¼Œé‚£é»‘å®¢æƒ³è¦ç ´è§£ï¼Œå°±éœ€è¦çŒœç«¯å£</li><li>æ™®é€šè´¦å·ä¸ç»™ root æƒé™ï¼Œè¿™æ ·å³ä¾¿æ™®é€šè´¦å·è¢«ç›—ï¼Œæƒ…å†µä¹Ÿä¸ç®—ä¸¥é‡</li><li>è®¾ç½®ä¸€ä¸ªå¼ºçš„ root å¯†ç </li></ol><p>è¿™æ ·ä¸€å¥—ç»„åˆæ‹³æ‰“ä¸‹æ¥ï¼Œé»‘å®¢æƒ³è¦è·å–ä½ æœåŠ¡å™¨çš„æœ€é«˜æƒé™ï¼Œé¦–å…ˆè¦çŸ¥é“ä½ çš„ ssh ç«¯å£ï¼Œç„¶åè¦çŸ¥é“ä¸€å¯¹æ™®é€šè´¦å·å¯†ç ï¼Œæœ€åè¦çŸ¥é“ root çš„å¯†ç ï¼Œæ‰èƒ½æœ€ç»ˆè·å¾—æœ€é«˜æƒé™ã€‚ç›¸æ¯”äºåªé  root å¯†ç çš„å¼ºåº¦ï¼Œå®‰å…¨äº†è®¸å¤šè®¸å¤šã€‚</p><blockquote><p>å‘ç°ä¸€ä¸ªé—®é¢˜æ˜¯ FinalShell ä¸èƒ½ç›´æ¥ç¼–è¾‘å¹¶ä¿å­˜æ–‡ä»¶äº†ï¼Œåº”è¯¥æ˜¯æƒé™çš„é—®é¢˜ã€‚</p></blockquote><a id="more"></a><p>ä»¥ä¸‹æ˜¯éœ€è¦ç”¨åˆ°çš„ linux å‘½ä»¤ï¼š</p><ul><li>æ–°å»ºç”¨æˆ·ï¼š<code>useradd &lt;yourname&gt;</code></li><li>ä¿®æ”¹ç”¨æˆ·å¯†ç ï¼š<code>passwd &lt;yourname&gt;</code></li><li>ä¿®æ”¹ ssh ç«¯å£å·ï¼šç¼–è¾‘<code>/etc/ssh/sshd_config</code>æ–‡ä»¶ï¼Œä¿®æ”¹<code>#Port 22</code>ä¸ºï¼š<code>Port xxxx</code></li><li>ç¦æ­¢ root è´¦å·è¿œç¨‹ç™»å½•ï¼šç¼–è¾‘<code>/etc/ssh/sshd_config</code>æ–‡ä»¶ï¼Œä¿®æ”¹<code>#PermitRootLogin yes</code>ä¸ºï¼š<code>PermitRootLogin no</code></li></ul><p>ä¿®æ”¹å®Œ<code>/etc/ssh/sshd_config</code>æ–‡ä»¶åï¼Œéœ€è¦é‡å¯ä¸€ä¸‹æœåŠ¡ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">setenforce 0</span><br><span class="line">sudo service sshd restart</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹å®Œç«¯å£ï¼Œè¿˜è¦è®©é˜²ç«å¢™æ”¾è¡Œæ­¤ç«¯å£ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// æ”¾è¡ŒæŒ‡å®šç«¯å£</span><br><span class="line">firewall-cmd --zone=public --add-port=xxxx/tcp --permanent</span><br><span class="line">// é‡å¯é˜²ç«å¢™</span><br><span class="line">systemctl restart firewalld.service</span><br><span class="line">// é‡æ–°è½½å…¥é…ç½®</span><br><span class="line">firewall-cmd --reload</span><br></pre></td></tr></table></figure><h1 id="å‰å› "><a href="#å‰å› " class="headerlink" title="å‰å› "></a>å‰å› </h1><p>ä¹°äº†å›½å¤–çš„åŸŸåå’ŒæœåŠ¡å™¨ï¼Œè¿™æ ·å°±å¯ä»¥é¿å…å›½å†…ç‰¹åˆ«éº»çƒ¦çš„å¤‡æ¡ˆäº†ï¼Œè¯è¯´å›½å¤–çš„åŸŸåå’ŒæœåŠ¡å™¨çœŸæ˜¯ä¾¿å®œå•Šï¼š</p><ul><li>æœåŠ¡å™¨ï¼ˆVPSï¼‰ï¼š<a href="https://www.racknerd.com/" target="_blank" rel="noopener">racknerd.com</a></li><li>åŸŸåï¼š<a href="https://www.name.com/" target="_blank" rel="noopener">name.com</a></li></ul><p>æœåŠ¡å™¨è´­ä¹°å‚è€ƒäº†ä¸€ç¯‡æ–‡ç« ï¼š<a href="https://p3terx.com/archives/cheap-vps-racknerd.htmlï¼Œå¤šäºè¿™ç¯‡æ–‡ç« æ‰ä¹°åˆ°äº†ä¾¿å®œçš„ã€‚" target="_blank" rel="noopener">https://p3terx.com/archives/cheap-vps-racknerd.htmlï¼Œå¤šäºè¿™ç¯‡æ–‡ç« æ‰ä¹°åˆ°äº†ä¾¿å®œçš„ã€‚</a></p><p>Windows å¹³å°å¥½ç”¨çš„è¿œç¨‹ shell å·¥å…·ï¼š<a href="https://github.com/kingToolbox/WindTerm" target="_blank" rel="noopener">WindTerm</a><br>Mac OS å¹³å°å¥½ç”¨çš„è¿œç¨‹ shell å·¥å…·ï¼š<a href="http://www.hostbuf.com/t/988.html" target="_blank" rel="noopener">FinalShell</a></p><blockquote><p>ç°åœ¨ Windows å¹³å°ä¹Ÿæœ‰ FinalShell äº†ï¼Œä½“éªŒç»ˆäºåˆç»Ÿä¸€èµ·æ¥äº†</p></blockquote><h2 id="centos-å®‰è£…-nginx"><a href="#centos-å®‰è£…-nginx" class="headerlink" title="centos å®‰è£… nginx"></a>centos å®‰è£… nginx</h2><p>yum install æ²¡æœ‰å¯ç”¨è½¯ä»¶åŒ… nginxã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">å·²åŠ è½½æ’ä»¶ï¼šfastestmirror</span><br><span class="line">Loading mirror speeds from cached hostfile</span><br><span class="line"> * base: mirror.lzu.edu.cn</span><br><span class="line"> * extras: mirror.lzu.edu.cn</span><br><span class="line"> * updates: mirror.lzu.edu.cn</span><br><span class="line">æ²¡æœ‰å¯ç”¨è½¯ä»¶åŒ… nginxã€‚</span><br><span class="line">é”™è¯¯ï¼šæ— é¡»ä»»ä½•å¤„ç†</span><br></pre></td></tr></table></figure><p>åŸå› æ˜¯ nginx ä½äºç¬¬ä¸‰æ–¹çš„ yum æºé‡Œé¢ï¼Œè€Œä¸åœ¨ centos å®˜æ–¹ yum æºé‡Œé¢</p><p>è§£å†³æ–¹æ³•ï¼š</p><p>å®‰è£…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install epel-release</span><br></pre></td></tr></table></figure><p>æ›´æ–°</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum update</span><br></pre></td></tr></table></figure><p>é‡æ–°è¯•ä¸€ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y nginx</span><br></pre></td></tr></table></figure><h2 id="nginx"><a href="#nginx" class="headerlink" title="nginx"></a>nginx</h2><p>nginx çš„é…ç½®ä½ç½®ï¼š<code>/etc/nginx</code>ä¸­ï¼Œåœ¨è¯¥ç›®å½•ä¸‹ï¼Œä¸»è¦çš„é…ç½®æ–‡ä»¶æ˜¯ nginx.conf</p><p>å¸¸è§éœ€æ±‚å’Œè§£å†³åŠæ³•ï¼š</p><ol><li>ssl è¯ä¹¦æ€ä¹ˆæï¼šLet&#39;s Encrypt æä¾›çš„è§£å†³æ–¹æ¡ˆï¼ŒæŒ‰ç…§è¿™ä¸ªæ“ä½œï¼š<a href="https://certbot.eff.org/instructions?ws=nginx&amp;os=centosrhel7" target="_blank" rel="noopener">certbot instructions</a></li><li>nginx é…ç½®åŸŸåï¼šä¿®æ”¹ nginx.conf é‡Œé¢çš„ server_name å­—æ®µ</li><li>HTTP è·³è½¬åˆ° HTTPSï¼šä½¿ç”¨ 301 é‡å®šå‘çš„æ–¹å¼å°† http çš„è¯·æ±‚é‡å®šå‘åˆ° https ä¸Š</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen 80;</span><br><span class="line"></span><br><span class="line">    #å¡«å†™ç»‘å®šè¯ä¹¦çš„åŸŸå</span><br><span class="line">    server_name www.xxx.com;</span><br><span class="line"></span><br><span class="line">    #æŠŠhttpçš„åŸŸåè¯·æ±‚è½¬æˆhttps</span><br><span class="line">    return 301 https://$host$request_uri;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="nginx-é…ç½®å•é¡µåº”ç”¨"><a href="#nginx-é…ç½®å•é¡µåº”ç”¨" class="headerlink" title="nginx é…ç½®å•é¡µåº”ç”¨"></a>nginx é…ç½®å•é¡µåº”ç”¨</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">location / &#123;</span><br><span class="line">  try_files $uri $uri/ /index.html?$args;</span><br><span class="line">  index  index.html;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Shadowsocks-æ­å»º"><a href="#Shadowsocks-æ­å»º" class="headerlink" title="Shadowsocks æ­å»º"></a>Shadowsocks æ­å»º</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">pip install https://github.com/shadowsocks/shadowsocks/archive/master.zip -U</span><br><span class="line">vim /etc/shadowsocks.json</span><br><span class="line">&#123;</span><br><span class="line"><span class="string">"server"</span>:<span class="string">"0.0.0.0"</span>,</span><br><span class="line"><span class="string">"server_port"</span>:<span class="string">"ç«¯å£"</span>,</span><br><span class="line"><span class="string">"local_port"</span>:1080,</span><br><span class="line"><span class="string">"password"</span>:<span class="string">"å¯†ç "</span>,</span><br><span class="line"><span class="string">"timeout"</span>:300,</span><br><span class="line"><span class="string">"method"</span>:<span class="string">"aes-256-gcm"</span></span><br><span class="line">&#125;</span><br><span class="line">ssserver -c /etc/shadowsocks.json -d start</span><br></pre></td></tr></table></figure><h2 id="é˜²ç«å¢™"><a href="#é˜²ç«å¢™" class="headerlink" title="é˜²ç«å¢™"></a>é˜²ç«å¢™</h2><p>æŸ¥çœ‹é˜²ç«å¢™å¼€æ”¾çš„ç«¯å£ï¼š<code>firewall-cmd --list-ports</code></p><h2 id="æŠŠå¸¸ç”¨çš„ç¨‹åºåšæˆæœåŠ¡ï¼Œå¹¶å¼€æœºå¯åŠ¨"><a href="#æŠŠå¸¸ç”¨çš„ç¨‹åºåšæˆæœåŠ¡ï¼Œå¹¶å¼€æœºå¯åŠ¨" class="headerlink" title="æŠŠå¸¸ç”¨çš„ç¨‹åºåšæˆæœåŠ¡ï¼Œå¹¶å¼€æœºå¯åŠ¨"></a>æŠŠå¸¸ç”¨çš„ç¨‹åºåšæˆæœåŠ¡ï¼Œå¹¶å¼€æœºå¯åŠ¨</h2><p>æ–°å»ºæœåŠ¡è„šæœ¬ï¼š<code>/etc/systemd/system/shadowsocks.service</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=Shadowsocks Server Service</span><br><span class="line">After=network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=simple</span><br><span class="line">User=root</span><br><span class="line">ExecStart=/usr/bin/ssserver -c /etc/shadowsocks.json</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure><h2 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h2><ul><li>åˆ›å»ºç”¨æˆ·ï¼š<code>useradd &lt;ç”¨æˆ·å&gt;</code>ï¼Œåˆ é™¤ç”¨æˆ·ï¼š<code>userdel &lt;ç”¨æˆ·å&gt;</code></li><li>ä¿®æ”¹å¯†ç ï¼š<code>passwd &lt;ç”¨æˆ·å&gt;</code></li><li>åˆ›å»ºç”¨æˆ·ç»„ï¼š<code>groupadd &lt;ç”¨æˆ·ç»„å&gt;</code>ï¼Œåˆ é™¤ç”¨æˆ·ç»„ï¼š<code>groupdel &lt;ç”¨æˆ·ç»„å&gt;</code>ï¼ŒæŸ¥çœ‹æ‰€æœ‰ç»„ï¼š<code>groups</code></li><li>æŸ¥çœ‹ç«¯å£å ç”¨ <code>lsof -i :&lt;ç«¯å£å·&gt;</code></li><li>æŸ¥çœ‹æŸäº›åº”ç”¨çš„ç«¯å£å ç”¨æƒ…å†µï¼Œæ¯”å¦‚ ssh çš„ç«¯å£å·ï¼š<code>netstat -anp |grep ssh</code></li><li>ç»™ç”¨æˆ·æŸä¸ªæ–‡ä»¶å¤¹æƒé™ï¼š<code>chown -R liuhai:liuhai /opt # å°†ç›®å½•/opt åŠå…¶ä¸‹é¢çš„æ‰€æœ‰æ–‡ä»¶ã€å­ç›®å½•çš„æ–‡ä»¶ä¸»æ”¹æˆ liuhai</code></li></ul><h2 id="å¸¸è§æ–‡ä»¶ä½ç½®"><a href="#å¸¸è§æ–‡ä»¶ä½ç½®" class="headerlink" title="å¸¸è§æ–‡ä»¶ä½ç½®"></a>å¸¸è§æ–‡ä»¶ä½ç½®</h2><ul><li>hosts æ–‡ä»¶ä½ç½®ï¼š<code>/etc/hosts</code></li><li>nginx é…ç½®ä½ç½®ï¼š<code>/etc/nginx/nginx.conf</code></li></ul><h2 id="vim-ç¼–è¾‘å¸¸ç”¨æŠ€å·§"><a href="#vim-ç¼–è¾‘å¸¸ç”¨æŠ€å·§" class="headerlink" title="vim ç¼–è¾‘å¸¸ç”¨æŠ€å·§"></a>vim ç¼–è¾‘å¸¸ç”¨æŠ€å·§</h2><p>å»é™¤å¤šè¡Œæ³¨é‡Šï¼š</p><ol><li>æŒ‰ ctrl+v è¿›å…¥ visual block æ¨¡å¼</li><li>æŒ‰ä¸Šä¸‹æ–¹å‘é”®é€‰æ‹©å¤šè¡Œ</li><li>æŒ‰ d å»æ‰#</li></ol><h2 id="linux-åŸºç¡€çŸ¥è¯†"><a href="#linux-åŸºç¡€çŸ¥è¯†" class="headerlink" title="linux åŸºç¡€çŸ¥è¯†"></a>linux åŸºç¡€çŸ¥è¯†</h2><p>ls å±•ç¤ºçš„æƒé™çš„å«ä¹‰ï¼š</p><p>linux drwxr-xr-x<br>ç¬¬ä¸€ä½è¡¨ç¤ºæ–‡ä»¶ç±»å‹ã€‚d æ˜¯ç›®å½•æ–‡ä»¶ï¼Œl æ˜¯é“¾æ¥æ–‡ä»¶ï¼Œ-æ˜¯æ™®é€šæ–‡ä»¶ï¼Œp æ˜¯ç®¡é“<br>ç¬¬ 2-4 ä½è¡¨ç¤ºè¿™ä¸ªæ–‡ä»¶çš„å±ä¸»æ‹¥æœ‰çš„æƒé™ï¼Œr æ˜¯è¯»ï¼Œw æ˜¯å†™ï¼Œx æ˜¯æ‰§è¡Œã€‚<br>ç¬¬ 5-7 ä½è¡¨ç¤ºå’Œè¿™ä¸ªæ–‡ä»¶å±ä¸»æ‰€åœ¨åŒä¸€ä¸ªç»„çš„ç”¨æˆ·æ‰€å…·æœ‰çš„æƒé™ã€‚<br>ç¬¬ 8-10 ä½è¡¨ç¤ºå…¶ä»–ç”¨æˆ·æ‰€å…·æœ‰çš„æƒé™ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> æœåŠ¡å™¨è¿ç»´ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AwesomeWebé¡¹ç›®</title>
      <link href="/blog/2023/05/22/AwesomeWeb%E9%A1%B9%E7%9B%AE/"/>
      <url>/blog/2023/05/22/AwesomeWeb%E9%A1%B9%E7%9B%AE/</url>
      
        <content type="html"><![CDATA[<p>github ä»“åº“ï¼š<a href="https://github.com/liuqinh2s/AwesomeWeb" target="_blank" rel="noopener">liuqinh2s/AwesomeWeb</a><br>é¡¹ç›®å±•ç¤ºï¼š<a href="https://replit.com/@liuqinh2s/AwesomeWeb?v=1" target="_blank" rel="noopener">replit - AwesomeWeb</a><br>é¡¹ç›®ä¸Šçº¿åœ°å€ï¼š<a href="https://jujuxi.xyz" target="_blank" rel="noopener">jujuxi</a></p><p>æœ€è¿‘æƒ³åƒæ´›é›ªéŸ³ä¹ä¸€æ ·åšä¸€ä¸ªå…è´¹çš„è§†é¢‘ appï¼Œä¸»è¦å­¦ä¹ å¯¹è±¡æ˜¯åŠªåŠªè§†é¢‘ï¼Œè¯´å¹²å°±å¹²ï¼Œå…ˆçœ‹çœ‹åŠªåŠªç”¨äº†å“ªäº›ç¬¬ä¸‰æ–¹ js åº“ï¼Œæ‰“å¼€åŠªåŠªè§†é¢‘ç½‘ç«™ï¼šnunuyy5.orgï¼Œç„¶åæ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œå¯ä»¥çœ‹åˆ°ç”¨äº†è¿™äº›ï¼š</p><ol><li><a href="https://github.com/video-dev/hls.js/" target="_blank" rel="noopener">hls.js</a></li><li><a href="https://jquery.com/" target="_blank" rel="noopener">jquery.js</a></li><li><a href="https://github.com/Novage/p2p-media-loader/tree/master" target="_blank" rel="noopener">p2p-media-loader-core.min.js å’Œ p2p-media-loader-hlsjs.min.js</a></li></ol><a id="more"></a><p>ç”¨<code>hls.js</code>å°±å¯ä»¥æ’­æ”¾ m3u8 è§†é¢‘äº†ï¼Œä½†æ˜¯è¦æ€ä¹ˆä¸‹è½½è§†é¢‘å‘¢ï¼Œåœ¨ç½‘ä¸Šæœäº†ä¸€ä¸‹ï¼Œæ‰¾åˆ°äº†ä¸€ä¸ªä¸‹è½½å™¨ï¼š<a href="https://github.com/Momo707577045/m3u8-downloader/blob/master/index.html" target="_blank" rel="noopener">Momo707577045/m3u8-downloader</a></p><p>ä»–çš„æºç è¿˜æ˜¯å€¼å¾—å­¦ä¹ çš„</p><h1 id="ç”µå­ä¹¦é˜…è¯»å™¨"><a href="#ç”µå­ä¹¦é˜…è¯»å™¨" class="headerlink" title="ç”µå­ä¹¦é˜…è¯»å™¨"></a>ç”µå­ä¹¦é˜…è¯»å™¨</h1><h2 id="epubjs"><a href="#epubjs" class="headerlink" title="epubjs"></a>epubjs</h2><p><a href="http://epubjs.org/documentation/0.3/" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a></p><p><a href="http://futurepress.github.io/epub.js/examples/spreads.html" target="_blank" rel="noopener">å®˜æ–¹ç®€å• demo</a></p><p>epub.js æ ¸å¿ƒç±»</p><p>Book é˜…è¯»å™¨è§£æ<br>Rendition é˜…è¯»å™¨æ¸²æŸ“<br>Locations é˜…è¯»å™¨å®šä½<br>Navigation å­˜å‚¨ç›®å½•ä¿¡æ¯<br>View Manager é˜…è¯»å™¨æ¸²æŸ“å‡ºæ¥çš„è§†å›¾ç®¡ç†<br>EpubCFI åˆ©ç”¨ EpubCFI æ ‡å‡†è¿›è¡Œæ–‡å­—çº§åˆ«å®šä½ï¼ˆå¯ä»¥å®šä½åˆ°ç”µå­ä¹¦ä¸­ä»»æ„ä¸€ä¸ªå­—ç¬¦ï¼‰<br>Theme ç®¡ç†åœºæ™¯åˆ‡æ¢<br>Spine æŒ‡å®šé˜…è¯»é¡ºåºå’Œç®¡ç† Section<br>Section æŒ‡å‘å…·ä½“ç« èŠ‚ï¼ˆå…¨æ–‡æ£€ç´¢ã€ç« èŠ‚åˆ‡æ¢ï¼‰<br>Contents ç®¡ç†ç« èŠ‚èµ„æºå†…å®¹ï¼ˆä¸ºæŸç« èŠ‚æ·»åŠ è‡ªå®šä¹‰å­—ä½“ï¼‰<br>Hook å®šä¹‰é’©å­å‡½æ•°ã€ç®¡ç†ç±»çš„ç”Ÿå‘½å‘¨æœŸ<br>Annotations ç®¡ç†æ ‡ç­¾ï¼ˆæ–‡å­—é«˜äº®æ˜¾ç¤ºï¼‰</p><p>è¿™æ˜¯æˆ‘æœ‹å‹åšçš„ä¸€ä¸ªåŸºäº epubjs çš„ç”µå­ä¹¦é˜…è¯»å™¨:<a href="http://118.190.10.34/epub-z/#/" target="_blank" rel="noopener">http://118.190.10.34/epub-z/#/</a></p><blockquote><p>ç”±äº epubjs åœ¨ react ä¸­å¤ªéš¾ä½¿ç”¨ï¼Œç¿»é¡µéƒ½æ²¡å®ç°æˆåŠŸã€‚æœ€ç»ˆè¿˜æ˜¯é‡‡ç”¨äº†æ›´ä¸ºç®€å•çš„åº“ï¼š<a href="https://github.com/gerhardsletten/react-reader" target="_blank" rel="noopener">React Reader - an easy way to embed a ePub into your webapp</a></p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> é¡¹ç›® </tag>
            
            <tag> å‰ç«¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ°´è´ä¹°é»„é‡‘æ”»ç•¥</title>
      <link href="/blog/2023/04/07/%E6%B0%B4%E8%B4%9D%E4%B9%B0%E9%BB%84%E9%87%91%E6%94%BB%E7%95%A5/"/>
      <url>/blog/2023/04/07/%E6%B0%B4%E8%B4%9D%E4%B9%B0%E9%BB%84%E9%87%91%E6%94%BB%E7%95%A5/</url>
      
        <content type="html"><![CDATA[<ol><li>ä½ç½®ï¼šååœ°é“ä»ç”°è´ç«™å‡ºæ¥ï¼Œä¸è¦ä»æ°´è´ç«™å‡ºæ¥ï¼Œç”°è´ç«™ F å£å‡ºæ¥å°±æ˜¯æ°´è´ä¸‡å±±</li><li>åº—ï¼šé›¶å”®åº—å’Œæ‰¹å‘å±•å…ï¼Œäººæ°”æœ€æ—ºé‡‘å±•è´Ÿä¸€æ¥¼ï¼Œå®åˆ€ä¸è€æ°´è´ä¸‡å±±ï¼Œä»·æ ¼æœ€ä¾¿å®œä¸½é“‚é£ï¼ˆä¹Ÿå«æ–°ä¸€ä½³ï¼‰</li></ol><a id="more"></a><h2 id="è´­ç‰©åœ°ç‚¹"><a href="#è´­ç‰©åœ°ç‚¹" class="headerlink" title="è´­ç‰©åœ°ç‚¹"></a>è´­ç‰©åœ°ç‚¹</h2><p>æ·±åœ³æ°´è´ç å®ä¸»è¦ä»¥æ‰¹å‘ä¸ºä¸»ï¼Œæ‰€ä»¥å¾ˆå¤šå±•å…æ˜¯ä¸æ¥å¾…é›¶å”®å®¢æˆ·çš„ã€‚æ‰€ä»¥å¦‚æœæ‚¨è¦æ¥é€‰è´­ç å®ä¸€å®šè¦è®¤å‡†ä»¥ä¸‹å‡ ä¸ªåœ°æ–¹ã€‚</p><p>é‡‘å±•ç å®å¹¿åœºè´Ÿä¸€å±‚ï¼šé»„é‡‘ã€K é‡‘ã€é“‚é‡‘ã€é’»çŸ³ç­‰éƒ½æœ‰ï¼Œè¿™é‡Œä¸»è¦æ˜¯é’ˆå¯¹å¾®å•†ï¼Œæ‰€æœ‰åº—é“ºéƒ½æ”¯æŒä¸€ä»¶ä»£å‘ã€‚æœ€è¿‘ç½‘ä¸Šè¢«ç‚’çš„å¾ˆç«ï¼Œæ‰€ä»¥é‚£è¾¹çš„æŸœå°ä»·æ ¼è¶Šæ¥è¶Šé«˜ï¼Œè¿åŒè¡Œä»·éƒ½å¾ˆé«˜ï¼Œä»·æ ¼ä¸æ˜¯å¾ˆå¥½ã€‚</p><p>æ°´è´ä¸‡å±±ï¼š å…¨å“ç±»æ‰¹å‘ç‚¹ä»¥æ‰¹å‘ä¸ºä¸»ï¼Œåˆ† Aã€Bã€C ä¸‰åº§ã€Aã€B åº§ 1 æ¥¼åŸºæœ¬æ˜¯ 18K é‡‘ã€é’»æˆ’ç­‰ä¸œè¥¿ï¼›2 æ¥¼ä¸»è¦æ˜¯ç¿¡ç¿ ç±»ï¼š3 æ¥¼ä¸»è¦æ˜¯é“¶é¥°ï¼›C æ ‹ 1~3 æ¥¼åŸºæœ¬éƒ½æ˜¯å–å½©å®çš„ä¸è¿‡ä¸€äº›åº—é“ºæ˜¯åªåšæ‰¹å‘ä¸é›¶å”®çš„ï¼Œè¦å…ˆæ¶ˆè´¹ä¸€å®šé‡‘é¢â€œå¼€æˆ·â€æ‰èƒ½æ‹¿è´§ï¼Œæ¯”å¦‚æŸé»„é‡‘åº—ï¼Œè¦æ¶ˆè´¹æ»¡ 50Gï¼ˆå¤§çº¦ 2 ä¸‡å¤šï¼‰æ‰å¯ä»¥æŒ‰æ‰¹å‘ä»·æ‹¿è´§ã€‚</p><p>ä¸½é“‚é£ç å®æ‰¹å‘å¹¿åœºï¼šè¿™é‡Œå’Œå…¶ä»–æ‰¹å‘å¹¿åœºä¸€æ ·ï¼Œä¹Ÿæ˜¯å¾ˆå¤šçš„æŸœå°ï¼Œé»„é‡‘ã€çç ã€K æ–¤ã€é’»çŸ³ã€å½©å®éƒ½æœ‰ï¼Œä¹Ÿæœ‰å®šåˆ¶é’»çŸ³ã€å›æ”¶é»„é‡‘ä¹‹ç±»çš„åº—é“ºã€‚è¿˜æ˜¯èƒ½æ‰¾åˆ°è›®å¤šå¥½çœ‹çš„é¥°å“æœ‰æ—¶é—´ä¹Ÿå¯ä»¥æ¥æ·˜æ·˜å®ã€‚ä¸‰æ¥¼çš„é“¶é¥°åŸºæœ¬éƒ½æ˜¯æ‰¹å‘çš„(åŸºæœ¬éƒ½æ˜¯ 925 é“¶).3000 èµ·æ‰¹è¿™æ ·ï¼Œæƒ³è¦æ‘†åœ°æ‘Šæˆ–è€…åšå¾®å•†çš„å¯ä»¥æ¥ï¼Œä¸è¿‡è¿‘å¹´æ¥é™„è¿‘å¼€äº†ä¸å°‘æ–°åœºæŸœå°å•†å®¶æµå¤±ä¸¥é‡ã€‚</p><p>æ°´è´å›½é™…è´Ÿä¸€æ¥¼ï¼šå°æŸœå°é›¶å”®ã€å„ç§å“ç±»éƒ½æœ‰ï¼Œä»·æ ¼å¯ç ä»·ï¼Œ 123 æ¥¼æœ‰å…¨å“ç±»çš„ç å®ï¼šæœ‰é»„é‡‘ã€K é‡‘é•¶åµŒç±»éƒ¨åˆ†å¯é›¶å”®ï¼Œä»·æ ¼å…¬é“ã€‚</p><p>æ°´è´å£¹å·è´Ÿä¸€æ¥¼ï¼šå°æŸœå°çš„ç¡¬é‡‘ã€5G é»„é‡‘ã€å°ç å­éƒ½æœ‰ï¼ŒK é‡‘é•¶åµŒå±…å¤šï¼Œå¹´è½»æ—¶å°šï¼Œæ•£å®¢å¯ä»¥é€›å¾ˆä¹…ï¼Œè¿˜æœ‰è‡ªåˆ›è®¾è®¡å¸ˆå“ç‰Œï¼Œä»·æ ¼ç¨è´µï¼Œä½†å¥½çœ‹ï¼Œ123 æ¥¼ å…¨å“ç±»ï¼Œé»„é‡‘é’»çŸ³é•¶åµŒç‰çŸ³éƒ½æœ‰ï¼Œä½†æ•£å®¢å’Œæ‰¹å‘ä»·æ ¼å·®åˆ«å¤§ã€‚</p><p>ç‰¹åŠ›ç å®å¤§å¦è´Ÿä¸€æ¥¼ï¼šéå¸¸å¤šçš„ç¼–ç»³æŸœå°ï¼Œè¿˜æœ‰é»„é‡‘ï¼ŒK é‡‘å°æŸœå°ï¼Œæ¯”å¤§å‹æ‰¹å‘å…çš„å·¥è´¹ç•¥é«˜ä½†æ•£å–ä¸€ä»¶ä¹Ÿå¯ä»¥ä¹°ã€‚123 æ¥¼ï¼šæœ‰å’Œç”°ç‰ã€ç¿¡ç¿ ã€ç‰çŸ³ã€è¿˜æœ‰é»„é‡‘å›æ”¶ã€æœ‰é»„é‡‘éœ€è¦ç½®æ¢å›æ”¶çš„å¯ä»¥æ¥è¿™é‡Œã€‚</p><p>æ°´è´é“¶åº§è´Ÿä¸€æ¥¼ï¼šæœ‰ä¸€å®¶é’»çŸ³ï¼Œä»·æ ¼æ¯”ä¸“æŸœä½ä¸€äº›ï¼Œä½†ä¹Ÿä¸æ˜¯åŒè¡Œæ‹¿è´§ä»·æœ€ä½ï¼Œä¹°é’»çŸ³ç¬¬äºŒé€‰æ‹©ã€‚ 1234 æ¥¼ï¼šå…¨å“ç±»ï¼ŒK é‡‘é’»çŸ³é•¶åµŒé“¶é¥°éƒ½æœ‰ï¼Œå¹³æ—¶é€›çš„äººæ¯”è¾ƒå°‘ã€‚</p><p>æ°´è´é‡‘åº§è´Ÿä¸€æ¥¼ï¼šå…¨å“ç±»ã€è¿˜æœ‰ä¸ªé»„é‡‘å•†ä¸“å–é›¶ç‚¹å‡ å…‹çš„å°é…ä»¶ï¼Œå–œæ¬¢å°é…ä»¶çš„å¯ä»¥æ¥ã€‚123 ä¸‰æ¥¼ï¼šæœ‰é‡‘é•¶ç‰å±•å…ã€é’»çŸ³å±•å…ã€è¿˜æœ‰å°å‹é»„é‡‘å±•å…ï¼Œæ¥¼ä¸Šï¼šé»„é‡‘å¤§å‹å±•å…ï¼Œä¸æ¥æ•£å®¢ï¼Œåªæœ‰å¼€æˆ·äº†çš„è€æ¿æˆ–è€…çº¿ä¸‹å®ä½“åº—åŠ ç›Ÿå•†å¯ä»¥æ‹¿è´§ï¼Œä¹°é‡‘ä»·æ ¼æœ€ä½ï¼Œå·¥è‰ºæœ€å¥½ï¼Œå·¥è´¹æœ€ä½ï¼Œä½†æ˜¯è¦èµ·é‡ã€‚</p><p>å…´é¾™é»„é‡‘ç å®å¤§å¦è´Ÿä¸€å±‚ï¼šé»„é‡‘ã€ç‰çŸ³ä¸ºä¸»ã€‚123 æ¥¼ï¼šä»¥ç¿¡ç¿ ç‰çŸ³ä¸ºä¸»ï¼Œä¹°ä¹‹å‰ä¸€å®šåšå¥½ç¿¡ç¿ æ”»ç•¥ï¼Œä¸ç„¶å®¹æ˜“è¢«å‘ï¼Œä»·æ ¼å·®åˆ«å¾ˆå¤§ã€‚</p><p>æ°´è´å›½é™…ã€æ°´è´å£¹å·ã€é‡‘åº§ã€é“¶åº§ã€å…´é¾™ã€ç‰¹åŠ›è¿™å…­å¤§å•†åœºçš„è´Ÿä¸€æ¥¼æ˜¯è¿é€šçš„ï¼Œå¤§å°å•†å®¶æ— æ•°ï¼Œæ¬¾å¼ç³ç…æ»¡ç›®(é»„é‡‘ã€é’»çŸ³ã€é•¶åµŒã€k é‡‘ã€é“‚é‡‘ã€ç¿¡ç¿ ç­‰æœ‰)è¶³å¤Ÿé€›ä¸€æ•´å¤©äº†ã€‚</p><h2 id="é»„é‡‘çŸ¥è¯†ï¼ˆä»€ä¹ˆå«ç´ é‡‘ã€ç¡¬é‡‘ã€5G-é»„é‡‘ã€å¤æ³•é‡‘"><a href="#é»„é‡‘çŸ¥è¯†ï¼ˆä»€ä¹ˆå«ç´ é‡‘ã€ç¡¬é‡‘ã€5G-é»„é‡‘ã€å¤æ³•é‡‘" class="headerlink" title="é»„é‡‘çŸ¥è¯†ï¼ˆä»€ä¹ˆå«ç´ é‡‘ã€ç¡¬é‡‘ã€5G é»„é‡‘ã€å¤æ³•é‡‘)"></a>é»„é‡‘çŸ¥è¯†ï¼ˆä»€ä¹ˆå«ç´ é‡‘ã€ç¡¬é‡‘ã€5G é»„é‡‘ã€å¤æ³•é‡‘)</h2><h2 id="ä¹°é‡‘çš„æŠ€å·§"><a href="#ä¹°é‡‘çš„æŠ€å·§" class="headerlink" title="ä¹°é‡‘çš„æŠ€å·§"></a>ä¹°é‡‘çš„æŠ€å·§</h2><ol><li>åƒä¸‡åˆ«é—®çœŸå‡ï¼Œåƒä¸‡åˆ«é—®çº¯ä¸çº¯ï¼Œåƒä¸‡åˆ«é—®ä¿ä¸ä¿çœŸâ€”â€”å…¸å‹çš„å°ç™½é€å‘½ä¸‰è¿ã€‚</li><li>ä¸è¦è¯•å›¾ç ä»·ï¼Œä¸å¯èƒ½çš„ã€‚å°åº—è€æ¿å¯èƒ½ç»™ä½ æŠ¹ä¸ªé›¶ï¼Œå¤§åº—å‡ å—é’±çš„å°¾æ•°ä¹Ÿä¸å¯èƒ½ç»™ä½ æŠ¹å»çš„ï¼Œ10005 å…ƒå°±æ˜¯ 10005 å…ƒï¼Œä¸€åˆ†ä¹Ÿä¸ä¼šå°‘çš„ï¼ˆä½†æ˜¯æ¯”èµ·ä½ åœ¨å‘¨å¤§ç¦ä¹°çš„èƒ½çœä¸‹å¤§å‡ åƒï¼Œé¦™ï¼çœŸé¦™ï¼ï¼‰ã€‚</li><li>æ²¡æœ‰å‘ç¥¨ï¼Œæ²¡æœ‰ç›–ç« ï¼Œæ²¡æœ‰èµ å“ï¼Œä½†è¦æœ‰æ”¶æ®ï¼ˆè¯æ˜æ˜¯è¿™é‡Œä¹°çš„ï¼‰ã€‚ä¸è¦å¸¦ç€å»å‘¨å¤§ç¦ä¹°é‡‘çš„å§¿æ€æ¥æ°´è´ä¹°é‡‘ï¼Œè¿™é‡Œçº¯ç²¹å°±æ˜¯é’±å˜è´§ï¼Œæ²¡æœ‰å¾®ç¬‘+è½»å£°ç»†è¯­çš„ä»‹ç»ï¼Œæ²¡æœ‰ç«¯èŒ¶å€’æ°´ï¼Œä½ ä¹Ÿä¸è¦æŒ‡æœ›æœ‰å…¶ä»–æœåŠ¡ã€‚</li><li>æ­£ç¡®çš„æ­¥éª¤æ˜¯ï¼Œæ‰¾æ¬¾ï¼Œçœ‹åˆ°å–œæ¬¢çš„ï¼Œè®©å°å¦¹ç»™ä½ æ‹¿å‡ºæ¥ï¼Œæ£€æŸ¥çœ‹ä¸‹åšå·¥å¦‚ä½•ï¼ˆä¸»è¦çœ‹æœ‰æ²¡æœ‰å‡¹é™·ç­‰å¤§æ¯›ç—…ï¼Œå°åˆ’ç—•ä¹‹ç±»çš„å¹æ¯›æ±‚ç–µçš„å°±ç®—äº†ï¼‰ï¼Œç„¶åé—®ä»Šå¤©é‡‘ä»·å¤šå°‘ï¼Ÿè¿™ä¸ªæœ‰æ²¡æœ‰ç²¾å“å·¥è´¹ï¼Ÿä¸Šç§°ï¼Œæ‰«ç ä»˜é’±ã€‚ç„¶åæ‹¿è´§æ‰­å¤´å°±èµ°ã€‚</li><li>ä¸€èˆ¬éƒ½æ²¡æœ‰åŒ…è£…çš„ï¼Œå¯ä»¥é—®å°å¦¹å“ªé‡Œå–åŒ…è£…ï¼Œä¸»è¦å–åœºéƒ½æœ‰å–åŒ…è£…ï¼Œä»·æ ¼å‡ å—åˆ°å‡ åå—çš„éƒ½æœ‰ã€‚</li><li>å¾ˆå¤šéƒ½æ”¯æŒæ—§é‡‘æ¢æ¬¾ï¼Œå¯ä»¥å¸¦ä¸Šæ—§é‡‘è¿‡å»æ¢ã€‚</li></ol><p>ä¸€å®šä¸è¦é—®å•†å®¶é»„é‡‘æ˜¯ä¸æ˜¯çœŸçš„ï¼Œå¦‚æœä¸€å¼€å£é—®é»„é‡‘æ˜¯å¦çœŸçš„ï¼Œå•†å®¶çŸ¥é“ä½ æ˜¯å°ç™½ï¼Œä»·æ ¼è‡ªç„¶ä¸ä¼šç»™ä½ å¾ˆåˆé€‚ã€‚</p><p>æé—®æµç¨‹ï¼šä»Šæ—¥é‡‘ä»·å¤šå°‘ï¼Ÿå·¥è´¹å¤šå°‘ï¼Ÿæœ‰æ²¡æœ‰ç²¾å“è´¹ï¼Ÿå·¥è´¹é«˜å¯ä»¥ç å·¥è´¹ï¼Œé‡‘ä»·æ˜¯é€æ˜çš„å°±ä¸è¦ç äº†ä¹Ÿç ä¸ä¸‹æ¥ã€‚é¢„ä¼°å®é™…åˆ°æ‰‹çš„æ¯å…‹é‡‘ä»·ï¼Œç”¨æ‰‹æœºè®°å½•ä¸€ä¸‹ã€‚å› ä¸ºæ¯å®¶åº—çš„å®é™…åˆ°æ‰‹æ¯å…‹é‡‘ä»·ç•¥æœ‰ä¸åŒï¼Œè®°å½•ä¸‹æ¥å¯ä»¥å¯¹æ¯”ä¸€ä¸‹ï¼Œé€‰æ‹©åˆé€‚çš„åº—é“ºè´­ä¹°ã€‚ä¸åŒå·¥è‰ºå·¥è´¹å’Œç²¾å“è´¹ä¸åŒï¼Œä¸€èˆ¬æ¥è¯´ 5G æœ€é«˜ï¼Œ3D æ¬¡é«˜ï¼Œå¤æ³•æ¬¡ä¹‹ï¼Œç´ é‡‘æœ€ä½ã€‚ä¹°å®Œé¦–é¥°åˆ«å¿˜äº†è¦æ”¶æ®ã€‚</p><p>æ°´è´ä¹°äº†é»„é‡‘ä¸è¦æŒ‡æœ› å•†å®¶ç»™ä½ é…ç›’å­ä¹‹ç±»çš„ï¼ŒåŸºæœ¬éƒ½æ˜¯è¢‹å­è£…çš„ï¼Œï¼ˆåœ¨é‡‘å±•è´Ÿä¸€æ¥¼çš„ä¸¤ä¸ªç¤¼ç›’æ¡£å£å°±å¯ä»¥ä¹°ï¼‰è‡ªå·±ä¹Ÿå¯ä»¥å»å‘¨å›´å–åŒ…è£…çš„è‡ªè¡Œé‡‡è´­åŒ…è£…ç¤¼ç›’ 10 å…ƒå·¦å³ä¸€ä¸ªã€‚</p><h2 id="æ£€æµ‹"><a href="#æ£€æµ‹" class="headerlink" title="æ£€æµ‹"></a>æ£€æµ‹</h2><ol><li>å®åœ¨ä¸æ”¾å¿ƒéœ€è¦åšæ£€æµ‹çš„ï¼Œå¯ä»¥å»ä¸‡å±± B åº§äºŒæ¥¼ä¸­é‡‘è´¨æ£€ï¼Œæ¨èè¿™å®¶çš„ç†ç”±æ˜¯æ¯”è¾ƒæ–¹ä¾¿å¥½æ‰¾ï¼Œè€Œä¸”æ•£å®¢çš„ä»·æ ¼å¾ˆä¾¿å®œï¼Œè´µé‡‘å±ä¸€ä»½ 10 å…ƒã€‚å…¶ä»–é‰´å®šæœºæ„æ•£å®¢çš„ä»·æ ¼å¤ªè´µäº†ã€‚æ”¶æ ·æ—¶é—´æ˜¯ 10:00-17:00ï¼Œè¶…è¿‡ 17 ç‚¹æœ‰æ—¶å€™å°±è¦å¤šæ”¶åŠ æ€¥è´¹ç”¨äº†ã€‚</li><li>æ£€æµ‹æœºæ„åªè´Ÿè´£æ£€æµ‹ï¼Œä¸ç»™ä½ ä¼°ä»·ã€‚æŠŠä¸œè¥¿äº¤ç»™å‰å°ï¼Œä¼šé—®ä½ æ˜¯ä»€ä¹ˆåå­—æˆ–è€…å“ªå®¶çš„ï¼Œä½ å°±è¯´ä½ æ˜¯æ•£å®¢é›¶å”®è‡ªå·±æ¥çš„ã€‚ç¡®è®¤å¥½ä»¶æ•°ï¼Œæ‹¿å›æ‰§å•ï¼Œæ‰«ç æŸ¥è¯¢è¿›åº¦ã€‚</li><li>æ£€æµ‹æœºæ„å¯¹ä½ ä¹°çš„ç å®æ²¡å…´è¶£ï¼Œä¸è¦è¿«å®³å¦„æƒ³è§‰å¾—ä¼šå·ä½ çš„é‡‘ã€‚é‰´å®šè¿‡ç¨‹æ¯”è¾ƒä¹…ï¼Œä¸€èˆ¬ 2 å°æ—¶ï¼Œå¯ä»¥å»å‘¨è¾¹å†å»é€›é€›å…¶ä»–ç å®ï¼ˆå› ä¸ºå‘¨è¾¹å®åœ¨æ˜¯æ²¡å•¥åƒçš„å–çš„ç©çš„ï¼‰</li></ol><p>å¯¹ä¹°åˆ°çš„é»„é‡‘å®åœ¨ä¸æ”¾å¿ƒçš„è¯å¯ä»¥å†å»åšä¸ªæ£€æµ‹ï¼Œè¿™é‡Œå¾ˆå¤šåœ°æ–¹éƒ½æœ‰è´¨æ£€æœºæ„ï¼Œå°±è¯´éœ€è¦åšæè´¨å¤æ£€å°±å¥½äº†ï¼Œæ²¡æœ‰å®ä½“å•†å®¶ä¼šå†’é™©å”®å‡ã€‚</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://zhuanlan.zhihu.com/p/390099367" target="_blank" rel="noopener">ã€ä¿å§†çº§ã€‘2021 æœ€æ–°æ°´è´ä¹°é‡‘é›¶å”®æ”»ç•¥</a></li><li><a href="https://zhuanlan.zhihu.com/p/605091468" target="_blank" rel="noopener">æ•£å®¢é€›æ°´è´ä¹°é»„é‡‘æ”»ç•¥</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> ç”Ÿæ´» </tag>
            
            <tag> ç†è´¢ </tag>
            
            <tag> æ”»ç•¥ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Canvas å…¥é—¨ç¬”è®°</title>
      <link href="/blog/2023/02/18/Canvas%20%E5%85%A5%E9%97%A8%E7%AC%94%E8%AE%B0/"/>
      <url>/blog/2023/02/18/Canvas%20%E5%85%A5%E9%97%A8%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h1><ol><li>é»˜è®¤å¤§å°ï¼šå¦‚æœä¸è®¾ç½®å®½é«˜ï¼Œcanvas çš„é»˜è®¤å®½é«˜æ˜¯ï¼š<code>width: 300px; height: 150px;</code>ã€‚</li><li>æ›¿æ¢å†…å®¹ï¼šä¸<code>&lt;img&gt;</code>å…ƒç´ ä¸åŒï¼Œ<strong><code>&lt;canvas&gt;</code>å…ƒç´ éœ€è¦ç»“æŸæ ‡ç­¾<code>&lt;/canvas&gt;</code></strong>ï¼Œå¦‚æœç»“æŸæ ‡ç­¾ä¸å­˜åœ¨ï¼Œåˆ™æ–‡æ¡£çš„å…¶ä½™éƒ¨åˆ†ä¼šè¢«è®¤ä¸ºæ˜¯æ›¿ä»£å†…å®¹ï¼Œå°†ä¸ä¼šæ˜¾ç¤ºå‡ºæ¥ã€‚<blockquote><p>ä»€ä¹ˆæ˜¯æ›¿æ¢å†…å®¹ï¼Œå°±æ˜¯åœ¨æŸäº›ä¸œè¥¿åŠ è½½ä¸å‡ºæ¥çš„æ—¶å€™ï¼ˆåŸå› å¯èƒ½å¤šç§å¤šæ ·ï¼Œæ¯”å¦‚æµè§ˆå™¨å¤ªè€ä¸æ”¯æŒè¿™ä¸ªä¸œè¥¿ï¼Œæ¯”å¦‚ç½‘ç»œä¸å¥½åŠ è½½ä¸å‡ºï¼‰ï¼Œé‚£ä¹ˆå°±ç»™è¿™äº›ä¸œè¥¿æ›¿æ¢æˆå…¶ä»–å†…å®¹ï¼Œæ¯”å¦‚<code>&lt;img&gt;</code>æ ‡ç­¾å°±æœ‰ alt å±æ€§ç”¨äºåœ¨å›¾ç‰‡åŠ è½½ä¸å‡ºçš„æ—¶å€™æ˜¾ç¤ºæ–‡æœ¬ã€‚<code>canvas</code>æ ‡ç­¾ä¹Ÿæœ‰ç›¸åº”çš„æªæ–½ï¼Œç”¨æ³•æ˜¯ï¼š</p></blockquote></li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"stockGraph"</span> <span class="attr">width</span>=<span class="string">"150"</span> <span class="attr">height</span>=<span class="string">"150"</span>&gt;</span></span><br><span class="line">  current stock price: $3.15 +0.15</span><br><span class="line"><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"clock"</span> <span class="attr">width</span>=<span class="string">"150"</span> <span class="attr">height</span>=<span class="string">"150"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/clock.png"</span> <span class="attr">width</span>=<span class="string">"150"</span> <span class="attr">height</span>=<span class="string">"150"</span> <span class="attr">alt</span>=<span class="string">""</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="3"><li>æ¸²æŸ“ä¸Šä¸‹æ–‡ï¼ˆThe rendering contextï¼‰ï¼šå¸¸ç”¨çš„æ¸²æŸ“ä¸Šä¸‹æ–‡æœ‰ 2Dï¼Œ3Dã€‚2d å†™æ³•å¦‚ä¸‹:</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">"canvas"</span>);</span><br><span class="line"><span class="keyword">if</span> (canvas.getContext) &#123;</span><br><span class="line">  <span class="keyword">const</span> context = canvas.getContext(<span class="string">"2d"</span>);</span><br><span class="line">  <span class="comment">// drawing code here</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="comment">// canvas-unsupported code here</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><a id="more"></a><h1 id="2D-ç»˜å›¾"><a href="#2D-ç»˜å›¾" class="headerlink" title="2D ç»˜å›¾"></a>2D ç»˜å›¾</h1><h2 id="åæ ‡ç³»"><a href="#åæ ‡ç³»" class="headerlink" title="åæ ‡ç³»"></a>åæ ‡ç³»</h2><p>ç›´è§’åæ ‡ç³»ï¼ŒåŸç‚¹åœ¨å·¦ä¸Šè§’ï¼Œx è½´å‘å³ä¸ºæ­£ï¼Œy è½´å‘ä¸‹ä¸ºæ­£ã€‚</p><h2 id="ç»˜åˆ¶å›¾å½¢"><a href="#ç»˜åˆ¶å›¾å½¢" class="headerlink" title="ç»˜åˆ¶å›¾å½¢"></a>ç»˜åˆ¶å›¾å½¢</h2><p><strong>ä¸åŒäº SVGï¼Œ<code>&lt;canvas&gt;</code> åªæ”¯æŒä¸¤ç§å½¢å¼çš„å›¾å½¢ç»˜åˆ¶ï¼šçŸ©å½¢å’Œè·¯å¾„ï¼ˆç”±ä¸€ç³»åˆ—ç‚¹è¿æˆçš„çº¿æ®µï¼‰</strong>ã€‚æ‰€æœ‰å…¶ä»–ç±»å‹çš„å›¾å½¢éƒ½æ˜¯é€šè¿‡ä¸€æ¡æˆ–è€…å¤šæ¡è·¯å¾„ç»„åˆè€Œæˆçš„ã€‚ä¸è¿‡ï¼Œæˆ‘ä»¬æ‹¥æœ‰ä¼—å¤šè·¯å¾„ç”Ÿæˆçš„æ–¹æ³•è®©å¤æ‚å›¾å½¢çš„ç»˜åˆ¶æˆä¸ºäº†å¯èƒ½ã€‚</p><h3 id="ç»˜åˆ¶çŸ©å½¢"><a href="#ç»˜åˆ¶çŸ©å½¢" class="headerlink" title="ç»˜åˆ¶çŸ©å½¢"></a>ç»˜åˆ¶çŸ©å½¢</h3><p>ä¸‰ç§ç»˜åˆ¶çŸ©å½¢çš„æ–¹æ³•ï¼š</p><ol><li>ç»˜åˆ¶ä¸€ä¸ªå¡«å……çŸ©å½¢ï¼š<code>fillRect(x, y, width, height)</code></li><li>ç»˜åˆ¶ä¸€ä¸ªçŸ©å½¢è¾¹æ¡†ï¼š<code>strokeRect(x, y, width, height)</code></li><li>æ¸…é™¤ä¸€ä¸ªçŸ©å½¢åŒºåŸŸï¼Œè®©æ¸…é™¤éƒ¨åˆ†å®Œå…¨é€æ˜ï¼š<code>clearRect(x, y, width, height)</code></li></ol><h3 id="ç»˜åˆ¶è·¯å¾„"><a href="#ç»˜åˆ¶è·¯å¾„" class="headerlink" title="ç»˜åˆ¶è·¯å¾„"></a>ç»˜åˆ¶è·¯å¾„</h3><p>æ ¸å¿ƒå‘½ä»¤ 5 ä¸ªï¼š</p><ol><li>beginPath() // å¼€å§‹ç»˜åˆ¶</li><li>moveTo() // ç§»åŠ¨ç”»ç¬”</li><li>closePath() // é—­åˆæ›²çº¿</li><li>fill() // å¡«å……æ›²çº¿</li><li>stroke() // ç»˜åˆ¶è½®å»“</li></ol><blockquote><p>closePath()ä¸æ˜¯å¿…é¡»çš„ï¼Œç”¨ fill()å°±èƒ½è‡ªåŠ¨é—­åˆæ›²çº¿ï¼Œä½† stroke()ä¸ä¼šè‡ªåŠ¨é—­åˆæ›²çº¿ï¼Œæ‰€ä»¥åœ¨å¦‚æœæƒ³é—­åˆæ›²çº¿å°±è¦åœ¨ stroke()ä¹‹å‰ closePath()ä¸€ä¸‹</p></blockquote><p>ä¸¾ä¸ªä¾‹å­ï¼š<a href="https://replit.com/@liuqinh2s/canvas-practice#index.html" target="_blank" rel="noopener">ç”»ä¸‰è§’å½¢</a></p><h4 id="å¸¸è§çš„è·¯å¾„"><a href="#å¸¸è§çš„è·¯å¾„" class="headerlink" title="å¸¸è§çš„è·¯å¾„"></a>å¸¸è§çš„è·¯å¾„</h4><ul><li>ç›´çº¿ï¼šlineTo(x, y)</li><li>åœ†å¼§ï¼š<ul><li>arc(x, y, radius, startAngle, endAngle, anticlockwise) // startAngle å’Œ endAngle å•ä½æ˜¯å¼§åº¦</li><li>arcTo(x1, y1, x2, y2, radius)</li></ul></li><li>è´å¡å°”æ›²çº¿ï¼š<ul><li>äºŒæ¬¡è´å¡å°”æ›²çº¿ï¼šquadraticCurveTo(cp1x, cp1y, x, y)</li><li>ä¸‰æ¬¡è´å¡å°”æ›²çº¿ï¼šbezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y)</li></ul></li><li>çŸ©å½¢ï¼šrect(x, y, width, height)</li></ul><h4 id="Path2D-å¯¹è±¡"><a href="#Path2D-å¯¹è±¡" class="headerlink" title="Path2D å¯¹è±¡"></a>Path2D å¯¹è±¡</h4><p>Path2D å¯¹è±¡ç”¨æ¥ç¼“å­˜ç»˜ç”»å‘½ä»¤ï¼Œæœ‰ä¸‰ç§æ„é€ æ–¹å¼ï¼š</p><ol><li>new Path2D(); // ç©ºå¯¹è±¡</li><li>new Path2D(path); // å…‹éš†ä¸€ä¸ª Path2D å¯¹è±¡</li><li>new Path2D(d); // ä» svg å»ºç«‹ Path2D å¯¹è±¡ï¼Œä¾‹å¦‚ï¼šnew Path2D(&quot;M10 10 h 80 v 80 h -80 Z&quot;);</li></ol><p>è¿˜å¯ä»¥æ‹¼æ¥ pathï¼š</p><p>Path2D.addPath(path, transform?) // æ·»åŠ ä¸€æ¡è·¯å¾„åˆ°å½“å‰è·¯å¾„ï¼Œå¯ä»¥è®¾ç½®å˜æ¢çŸ©é˜µ</p><p><a href="https://replit.com/@liuqinh2s/canvas-path2d-practice#script.js" target="_blank" rel="noopener">ä»£ç ç¤ºä¾‹</a></p><h2 id="æ ·å¼å’Œé¢œè‰²"><a href="#æ ·å¼å’Œé¢œè‰²" class="headerlink" title="æ ·å¼å’Œé¢œè‰²"></a>æ ·å¼å’Œé¢œè‰²</h2><ul><li>fillStyle = color // å¡«å……è‰²</li><li>strokeStyle = color // è½®å»“è‰²</li><li>globalAlpha = transparencyValue // é€æ˜åº¦ï¼Œå–å€¼èŒƒå›´ï¼š0.0ï¼ˆå®Œå…¨é€æ˜ï¼‰åˆ° 1.0ï¼ˆå®Œå…¨ä¸é€æ˜ï¼‰</li></ul><p>é¢œè‰²å–å€¼çš„å››ç§å†™æ³•ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ctx.fillStyle = <span class="string">"orange"</span>;</span><br><span class="line">ctx.fillStyle = <span class="string">"#FFA500"</span>;</span><br><span class="line">ctx.fillStyle = <span class="string">"rgb(255, 165,0 )"</span>;</span><br><span class="line">ctx.fillStyle = <span class="string">"rgba(255, 165, 0, 1)"</span>;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Canvas </tag>
            
            <tag> å­¦ä¹ ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°ç‹¬æ¸¸æˆåˆ¶ä½œè¿‡ç¨‹è®°å½•</title>
      <link href="/blog/2023/02/10/%E6%95%B0%E7%8B%AC%E6%B8%B8%E6%88%8F%E5%88%B6%E4%BD%9C%E8%BF%87%E7%A8%8B%E8%AE%B0%E5%BD%95/"/>
      <url>/blog/2023/02/10/%E6%95%B0%E7%8B%AC%E6%B8%B8%E6%88%8F%E5%88%B6%E4%BD%9C%E8%BF%87%E7%A8%8B%E8%AE%B0%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<p>æˆ‘æ‰“ç®—è‡ªå·±åšä¸€ä¸ªæ•°ç‹¬æ¸¸æˆï¼Œä¸»è¦åˆ†ä¸ºä¸¤æ­¥ï¼š</p><ol><li>ç”Ÿæˆä¸€ä¸ªæ•°ç‹¬</li><li>éªŒè¯ç©å®¶å¡«å…¥çš„æ•°å­—æ˜¯å¦æ­£ç¡®</li></ol><p>ç”Ÿæˆä¸€ä¸ªæ•°ç‹¬å¯ä»¥æœ‰å¾ˆçœäº‹çš„åŠæ³•ï¼Œå°±æ˜¯ç›´æ¥ä»æ•°ç‹¬åº“ä¸­éšæœºé€‰ä¸€ä¸ªï¼ˆç”šè‡³å¯ä»¥ç›´æ¥æŠŠç©ºç™½éƒ½ç»™ä½ æŒ–å¥½ï¼‰ã€‚ä¹Ÿå¯ä»¥ç”¨æš´åŠ›æ–¹æ³•ï¼ˆå›æº¯æ³•ï¼‰ï¼Œä¸€è¡Œä¸€è¡Œå»å¡«ï¼Œè¿›è¡Œä¸ä¸‹å»å°±å›æº¯åˆ°ä¸Šä¸€æ­¥ã€‚</p><p>ç”Ÿæˆæ•°ç‹¬æœ€é«˜æ•ˆçš„ç®—æ³•æ˜¯ï¼š<a href="https://zh.wikipedia.org/wiki/%E8%88%9E%E8%B9%88%E9%93%BE" target="_blank" rel="noopener"><strong>èˆè¹ˆé“¾</strong></a>ï¼Œå®é™…ä¸Šèˆè¹ˆé“¾æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œæ˜¯ä¸ºäº†<a href="https://zh.wikipedia.org/wiki/X%E7%AE%97%E6%B3%95" target="_blank" rel="noopener"><strong>X ç®—æ³•</strong></a>è€Œäº§ç”Ÿçš„ï¼Œè€Œ X ç®—æ³•æ˜¯ç”¨æ¥è§£å†³ä¸€ç±»é—®é¢˜ï¼š<a href="https://zh.wikipedia.org/zh-hans/%E7%B2%BE%E7%A1%AE%E8%A6%86%E7%9B%96%E9%97%AE%E9%A2%98" target="_blank" rel="noopener"><strong>ç²¾ç¡®è¦†ç›–é—®é¢˜</strong></a></p><blockquote><p>æ’ä¸ªé¢˜å¤–è¯ï¼Œæˆ‘æœ‹å‹è¯´ï¼Œä¸œé‡åœ­å¾çš„å°è¯´<a href="https://zh.wikipedia.org/zh-hans/%E5%AB%8C%E7%96%91%E7%8A%AFX%E7%9A%84%E7%8D%BB%E8%BA%AB" target="_blank" rel="noopener">ã€Šå«Œç–‘çŠ¯ X çš„çŒ®èº«ã€‹</a>ï¼Œçš„å‡¶æ‰‹å°±åœ¨ç ”ç©¶è¿™ä¸ªé—®é¢˜ï¼Œæœ‰å…´è¶£å¯ä»¥é¡ºå¸¦çœ‹çœ‹ï¼Œè¿™å°è¯´æŒºæœ‰åçš„ã€‚</p></blockquote><blockquote><p>ç²¾ç¡®è¦†ç›–é—®é¢˜æ˜¯ä¸€ä¸ª NP å®Œå…¨é—®é¢˜ï¼ŒNP é—®é¢˜çš„æ¦‚å¿µæˆ‘å·®ä¸å¤šå¿˜å…‰äº†ï¼Œå¾—é‡æ–°çœ‹çœ‹</p></blockquote><a id="more"></a><h2 id="ç²¾ç¡®è¦†ç›–é—®é¢˜"><a href="#ç²¾ç¡®è¦†ç›–é—®é¢˜" class="headerlink" title="ç²¾ç¡®è¦†ç›–é—®é¢˜"></a>ç²¾ç¡®è¦†ç›–é—®é¢˜</h2><p>ç®€å•æ¥è¯´å°±æ˜¯ç»™å®šä¸€ä¸ªå…¨é›† Xï¼Œå’Œè‹¥å¹²å­é›† Sï¼Œä»å­é›†ä¸­é€‰å‡º N ä¸ªï¼Œå®ƒä»¬æ‹¼å‡‘èµ·æ¥æ°å¥½ï¼ˆæ²¡æœ‰å¤šä½™çš„å…ƒç´ ï¼Œæ¯”å¦‚æŸä¸ªå…ƒç´ å‡ºç°è¿‡ä¸¤æ¬¡ï¼‰ç­‰äºå…¨é›† Xã€‚</p><h2 id="X-ç®—æ³•"><a href="#X-ç®—æ³•" class="headerlink" title="X ç®—æ³•"></a>X ç®—æ³•</h2><p>ç»´åŸºç™¾ç§‘çš„è§£è¯´æˆ‘çœ‹ä¸æ‡‚ï¼Œè¿˜å¥½ OI-Wiki ä¸Šè®²çš„è¶³å¤Ÿè¯¦ç»†ï¼š<a href="https://oi-wiki.org/search/dlx/#x-%E7%AE%97%E6%B3%95" target="_blank" rel="noopener">X ç®—æ³•</a></p><p>è§£å†³ç²¾ç¡®è¦†ç›–é—®é¢˜ï¼Œç®€å•æ¥è¯´åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p><h3 id="å»ºæ¨¡"><a href="#å»ºæ¨¡" class="headerlink" title="å»ºæ¨¡"></a>å»ºæ¨¡</h3><p>é’ˆå¯¹é—®é¢˜å»ºæ¨¡ï¼Œå»ºæ¨¡æˆä¸€ä¸ª 01 çŸ©é˜µï¼Œæ¯ä¸€è¡Œä»£è¡¨ä¸€ä¸ªé›†åˆï¼Œ1 ä»£è¡¨åŒ…å«äº†é›†åˆ X çš„æŸä¸ªå…ƒç´ ï¼ˆ1 çš„ä½ç½®ï¼Œå°±æ˜¯è¯¥å…ƒç´ åœ¨é›†åˆ X ä¸­çš„ä½ç½®ï¼‰ï¼Œ0 ä»£è¡¨æ²¡åŒ…å«</p><h3 id="ç®—æ³•æ­¥éª¤"><a href="#ç®—æ³•æ­¥éª¤" class="headerlink" title="ç®—æ³•æ­¥éª¤"></a>ç®—æ³•æ­¥éª¤</h3><p>ç®€åŒ–é—®é¢˜ï¼ˆç¼©å°çŸ©é˜µï¼Œåˆ æ‰ä¸å†è€ƒè™‘çš„éƒ¨åˆ†ï¼‰ï¼Œé€’å½’è§£å†³å­é—®é¢˜ã€‚</p><ol><li>é€‰è¡Œï¼šé€‰ 1 å‡ºç°æ¬¡æ•°æœ€å°‘çš„ä¸€åˆ—ï¼Œç„¶åä»è¿™åˆ—æœ‰ 1 çš„è¡Œä¸­éšä¾¿é€‰ä¸€è¡Œ</li><li>åˆ å‡ï¼šæ‰¾åˆ°è¿™ä¸€è¡Œçš„æœ‰ 1 çš„é‚£äº›åˆ—ï¼Œå»æ‰è¿™äº›åˆ—ï¼Œæ‰¾åˆ°è¿™äº›åˆ—ä¸Šæ˜¯ 1 çš„è¡Œï¼Œå»æ‰è¿™äº›è¡Œ</li><li>ç°å·²ç»å¾—åˆ°äº†ä¸€ä¸ªç¼©å°ç‰ˆçš„çŸ©é˜µï¼Œç»§ç»­ä»¥ä¸Šè¿™ç§åˆ å‡æ“ä½œ</li><li>å•æ¬¡æ·±åº¦æœç´¢ç»“æŸæ ‡å¿—ï¼šå¾—åˆ°ä¸€ä¸ªç©ºçŸ©é˜µã€‚æ˜¯å¦æœ‰è§£ï¼šæœ€åä¸€æ¬¡åˆ é™¤çš„è¡Œå…¨éƒ¨æ˜¯ 1ï¼Œåˆ™è¯´æ˜é—®é¢˜æœ‰è§£ï¼Œå¦åˆ™é—®é¢˜æ— è§£ã€‚æ€»ç¨‹åºç»“æŸæ ‡å¿—ï¼šå›æº¯å®Œæ‰€æœ‰å¯èƒ½çš„åˆ†æ”¯</li></ol><blockquote><p>è¿™ä¸ªç®—æ³•å¾ˆå¥½çš„ç¼©å°äº†é—®é¢˜è§„æ¨¡ï¼Œéå¸¸å…¸å‹çš„æŠ€å·§</p></blockquote><h3 id="ç®—æ³•å«ä¹‰"><a href="#ç®—æ³•å«ä¹‰" class="headerlink" title="ç®—æ³•å«ä¹‰"></a>ç®—æ³•å«ä¹‰</h3><p>æ¯é€‰æ‹©ä¸€è¡Œï¼Œä»£è¡¨ç€æ‰“ç®—ç”¨è¿™ä¸€è¡Œå»ç²¾ç¡®è¦†ç›–å…¨é›†ï¼Œé‚£ä¹ˆç›¸åº”çš„ï¼š</p><ol><li>æ¯è¡Œåªç”¨ä¸€æ¬¡ï¼Œæ•…åˆ é™¤é€‰æ‹©çš„è¿™ä¸€è¡Œ</li><li>è¿™ä¸€è¡Œä¸­å‡ºç°çš„æ‰€æœ‰å…ƒç´ ï¼ˆæ¯ä¸ª 1 ä»£è¡¨ä¸€ä¸ªå…ƒç´ å‡ºç°ï¼‰ï¼Œåç»­éƒ½ä¸ç”¨å†è€ƒè™‘ï¼Œæ•…åˆ é™¤ç›¸å…³åˆ—</li><li>è·Ÿå®ƒèµ·å†²çªçš„è¡Œï¼ˆåŒä¸€åˆ—ä¸Šæœ‰ 1ï¼Œä»£è¡¨æœ‰ç›¸åŒçš„å…ƒç´ ï¼Œä¸ç¬¦åˆç²¾ç¡®è¦†ç›–ï¼‰ï¼Œæ²¡æ³•çº³å…¥è§£ä¸­ï¼Œæ‰€ä»¥åç»­éƒ½ä¸ç”¨å†è€ƒè™‘ï¼Œæ•…åˆ é™¤è¿™äº›è¡Œ</li></ol><p>ä»¥ä¸Šä¸‰æ­¥å¯ä»¥ä¿è¯æ¯æ¬¡é€‰æ‹©çš„è¡Œï¼Œè¡Œä¹‹é—´æ˜¯ä¸ä¼šå‡ºç°é‡å¤å…ƒç´ çš„ã€‚</p><p>ç»“æŸæ ‡å¿—ä¹Ÿå¾ˆå¥½ç†è§£ï¼Œæœ€åä¸€æ¬¡åˆ é™¤çš„è¡Œï¼Œå¦‚æœå…¨éƒ¨æ˜¯ 1ï¼Œåˆ™æ ‡å¿—ç€æˆ‘ä»¬æ‰€æœ‰åˆ—éƒ½åˆšå¥½å¡«è¡¥ä¸Šäº†å…ƒç´ ã€‚</p><p>è¿™æ ·æˆ‘ä»¬å°±åšåˆ°äº†å…¨è¦†ç›–+ç²¾ç¡®è¦†ç›–ï¼Œè¿™ä¸¤é¡¹è¦æ±‚ã€‚</p><h3 id="ç®—æ³•çš„å…·ä½“å®ç°"><a href="#ç®—æ³•çš„å…·ä½“å®ç°" class="headerlink" title="ç®—æ³•çš„å…·ä½“å®ç°"></a>ç®—æ³•çš„å…·ä½“å®ç°</h3><p>å…·ä½“ä»£ç å®ç°ï¼Œè¿˜æœ‰å¾ˆå¤šç»†èŠ‚ä¸æ¸…æ¥šï¼Œå‚è€ƒèµ„æ–™ï¼š</p><ul><li><a href="https://developer.aliyun.com/article/373709" target="_blank" rel="noopener">è·³è·ƒçš„èˆè€…ï¼Œèˆè¹ˆé“¾ï¼ˆDancing Linksï¼‰ç®—æ³•â€”â€”æ±‚è§£ç²¾ç¡®è¦†ç›–é—®é¢˜</a></li></ul><p>ç»è¿‡ä¸¤å¤©çš„è®¾è®¡ä¸è¾›è‹¦è°ƒè¯•ï¼Œæˆ‘è‡ªå·±å®ç°äº†ä¸€ä»½ TypeScript å†™çš„ä»£ç ï¼š</p><p><a href="https://github.com/liuqinh2s/Algorithm/blob/master/DancingLinksX/DancingLinksX.ts" target="_blank" rel="noopener">https://github.com/liuqinh2s/Algorithm/blob/master/DancingLinksX/DancingLinksX.ts</a></p><p>ä¸ä¸Šé¢é‚£ä¸ªå®ç°ä¸åŒï¼Œæˆ‘è¿™ä¸ªå®ç°æ—¢æœ‰åˆ—å¤´ï¼Œåˆæœ‰è¡Œå¤´ï¼Œåæ­£æ€ä¹ˆæ–¹ä¾¿æ€ä¹ˆæ¥ã€‚</p><p><img src="../../../../images/2023/èˆè¹ˆé“¾.png" alt="èˆè¹ˆé“¾"></p><h2 id="æ•°ç‹¬æ€ä¹ˆè½¬åŒ–ä¸ºç²¾ç¡®è¦†ç›–é—®é¢˜"><a href="#æ•°ç‹¬æ€ä¹ˆè½¬åŒ–ä¸ºç²¾ç¡®è¦†ç›–é—®é¢˜" class="headerlink" title="æ•°ç‹¬æ€ä¹ˆè½¬åŒ–ä¸ºç²¾ç¡®è¦†ç›–é—®é¢˜"></a>æ•°ç‹¬æ€ä¹ˆè½¬åŒ–ä¸ºç²¾ç¡®è¦†ç›–é—®é¢˜</h2><p>å‚è€ƒèµ„æ–™ï¼š<a href="https://zhuanlan.zhihu.com/p/67447747" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/67447747</a></p><p>åœ¨ç½‘ä¸ŠæŸ¥é˜…äº†å¤§é‡èµ„æ–™ï¼Œä½†ä¸€å¼€å§‹éƒ½çœ‹ä¸æ‡‚ï¼Œä¸”å‘ç°ä»–ä»¬è®²çš„åŸºæœ¬ä¸Šä¸€æ¨¡ä¸€æ ·ï¼ˆå¤©ä¸‹æ–‡ç« ä¸€å¤§æŠ„ï¼‰ï¼Œå°±è·Ÿå‰é¢èˆè¹ˆé“¾ä¸€æ ·ï¼Œè¿é…å›¾éƒ½æ˜¯ä¸€æ ·çš„ã€‚</p><p>æ€ä¹ˆæŠŠæ•°ç‹¬è¿™ä¸ªçŸ©é˜µè½¬åŒ–ä¸ºç²¾ç¡®è¦†ç›–é—®é¢˜çš„ 01 çŸ©é˜µï¼Œå…¶å®å°±æ˜¯è¦æƒ³æ¸…æ¥šï¼Œè¡Œå’Œåˆ—çš„æ„ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿ</p><h3 id="è¡Œçš„æ„ä¹‰"><a href="#è¡Œçš„æ„ä¹‰" class="headerlink" title="è¡Œçš„æ„ä¹‰"></a>è¡Œçš„æ„ä¹‰</h3><p>ç²¾ç¡®è¦†ç›–é—®é¢˜çš„æ ¸å¿ƒè¦ç´ æ˜¯ï¼šä¸€ä¸ªå…¨é›† Xï¼Œè‹¥å¹²å­é›† S</p><p>é‚£ä¹ˆæˆ‘ä»¬å…ˆæ¥æƒ³æƒ³å…¨é›†æ˜¯ä»€ä¹ˆï¼Ÿ</p><p>å…¨é›†è‚¯å®šæ˜¯ä¸€å¹…å®Œæ•´çš„æ­£ç¡®çš„æ•°ç‹¬ç­”æ¡ˆ</p><p>é‚£æ¯ä¸ªå­é›†æ˜¯ä»€ä¹ˆï¼Ÿ</p><p>å­é›†åº”è¯¥æ˜¯å•ä¸ªæ ¼å­çš„è§£ï¼Œç„¶åæˆ‘ä»¬æ‹¿æ°å¥½ 81 ä¸ªå­é›†ï¼Œå‡‘å‡ºå…¨é›†ã€‚</p><p>æ¯ä¸ªæ ¼å­æœ‰ 9 ç§å¡«æ³•ï¼Œ81 ä¸ªæ ¼å­æœ‰ 729 ç§å¡«æ³•ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä» 729 ä¸ªå­é›†ä¸­é€‰ 81 ä¸ªå‡ºæ¥ã€‚</p><h3 id="åˆ—çš„æ„ä¹‰"><a href="#åˆ—çš„æ„ä¹‰" class="headerlink" title="åˆ—çš„æ„ä¹‰"></a>åˆ—çš„æ„ä¹‰</h3><p>é¦–å…ˆæ€è€ƒä¸€ä¸‹è¦å¾€ä¸€ä¸ªæ•°ç‹¬çš„æ ¼å­é‡Œå¡«å…¥ä¸€ä¸ªæ•°å­—å—å“ªäº›æ¡ä»¶çº¦æŸï¼š</p><p>é¦–å…ˆï¼Œè¿™ä¸ªæ ¼å­é‡Œä¸èƒ½æœ‰æ•°å­—ï¼Œå³ä¸ºç©º</p><p>å…¶æ¬¡ï¼ŒåŒä¸€è¡Œä¸èƒ½æœ‰ç›¸åŒæ•°å­—</p><p>å†æ¬¡ï¼ŒåŒä¸€åˆ—ä¸èƒ½æœ‰ç›¸åŒæ•°å­—</p><p>æœ€åï¼ŒåŒä¸€ä¸ªä¹å®«æ ¼ä¸èƒ½æœ‰ç›¸åŒæ•°å­—</p><p>æ¯ä¸ªæ ¼å­éƒ½æœ‰ 4 ä¸ªçº¦æŸï¼Œ81 ä¸ªæ ¼å­æœ‰ 324 ä¸ªçº¦æŸï¼Œæ‰€ä»¥æœ‰ 324 åˆ—ï¼Œå…·ä½“çš„æ¯ä¸€åˆ—çš„å«ä¹‰å¦‚ä¸‹ï¼š</p><p>ç¬¬ 0 åˆ—è¡¨ç¤ºæ•°ç‹¬ï¼ˆ0,0ï¼‰ä½ç½®æ˜¯å¦æœ‰æ•°å­—</p><p>ç¬¬ 1 åˆ—è¡¨ç¤ºï¼ˆ0,1ï¼‰ä½ç½®æ˜¯å¦æœ‰æ•°å­—</p><p>â€¦â€¦</p><p>ç¬¬ 8 åˆ—è¡¨ç¤ºï¼ˆ0,8ï¼‰æ˜¯å¦æœ‰æ•°å­—</p><p>ç¬¬ 9 åˆ—è¡¨ç¤ºï¼ˆ1,0ï¼‰æ˜¯å¦æœ‰æ•°å­—</p><p>â€¦â€¦</p><p>ç¬¬ 80 åˆ—è¡¨ç¤ºï¼ˆ8,8ï¼‰æ˜¯å¦æœ‰æ•°å­—</p><p>ä»¥ä¸Š 81 åˆ—è¡¨ç¤ºæ•°ç‹¬çš„æ ¼å­é‡Œæ˜¯å¦æœ‰æ•°å­—çš„çº¦æŸæ¡ä»¶ï¼Œæ¥ç€</p><p>81 åˆ—è¡¨ç¤ºç¬¬ 0 è¡Œæ˜¯å¦æœ‰æ•°å­— 1</p><p>82 åˆ—è¡¨ç¤ºç¬¬ 0 è¡Œæ˜¯å¦æœ‰æ•°å­— 2</p><p>â€¦â€¦</p><p>89 åˆ—è¡¨ç¤ºç¬¬ 0 è¡Œæ˜¯å¦æœ‰æ•°å­— 9</p><p>90 åˆ—è¡¨ç¤ºç¬¬ 1 è¡Œæ˜¯å¦æœ‰æ•°å­— 1</p><p>91 åˆ—è¡¨ç¤ºç¬¬ 1 è¡Œæ˜¯å¦æœ‰æ•°å­— 2</p><p>â€¦â€¦</p><p>161 åˆ—è¡¨ç¤ºç¬¬ 8 è¡Œæ˜¯å¦æœ‰æ•°å­— 9</p><p>ä»¥ä¸Šä¸ºè¡Œçš„çº¦æŸæ¡ä»¶</p><p>162 åˆ—è¡¨ç¤ºç¬¬ 0 åˆ—æ˜¯å¦æœ‰æ•°å­— 1</p><p>â€¦â€¦</p><p>242 åˆ—è¡¨ç¤ºç¬¬ 8 åˆ—æ˜¯å¦æœ‰æ•°å­— 9</p><p>æœ€åï¼Œæ˜¯ä¹å®«æ ¼çš„çº¦æŸæ¡ä»¶ï¼š</p><p>243 åˆ—è¡¨ç¤ºç¬¬ 0 ä¸ªä¹å®«æ ¼æ˜¯å¦æœ‰æ•°å­— 1</p><p>244 åˆ—è¡¨ç¤ºç¬¬ 0 ä¸ªä¹å®«æ ¼æ˜¯å¦æœ‰æ•°å­— 2</p><p>â€¦â€¦</p><p>323 åˆ—è¡¨ç¤ºç¬¬ 8 ä¸ªä¹å®«æ ¼æ˜¯å¦æœ‰æ•°å­— 9</p><h3 id="å…·ä½“ä¾‹å­"><a href="#å…·ä½“ä¾‹å­" class="headerlink" title="å…·ä½“ä¾‹å­"></a>å…·ä½“ä¾‹å­</h3><p>æˆ‘ä»¬æ‹¿ <code>4*4</code> çš„æ•°ç‹¬æ¥åšä¾‹å­ï¼ˆåªç”¨åˆ° 1 åˆ° 4 å››ä¸ªæ•°ï¼Œå¯ä»¥ç§°ä¹‹ä¸º 2 é˜¶æ•°ç‹¬å§ï¼Œæ¯”å’±ä»¬å¸¸ç©çš„ä¸‰é˜¶æ•°ç‹¬å°ä¸€é˜¶ï¼‰ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">0 4 0 0</span><br><span class="line">0 0 0 0</span><br><span class="line">0 0 0 0</span><br><span class="line">0 0 0 0</span><br></pre></td></tr></table></figure><p>è¿™å¹…å›¾è½¬åŒ–æˆç²¾ç¡®è¦†ç›–é—®é¢˜çš„çŸ©é˜µæ˜¯ä»€ä¹ˆæ ·å‘¢ï¼Ÿ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ç¬¬äºŒä¸ªæ ¼å­é‡Œå¡«äº†æ•°ï¼Œå…¶ä»–æ²¡å¡«    | ç¬¬ä¸€è¡Œå¡«äº†æ•°å­—4                  | ç¬¬2åˆ—å¡«äº†æ•°å­—4                  |  ç¬¬1ä¸ª4å®«æ ¼å¡«äº†æ•°å­—4</span><br><span class="line">0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 | 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 | 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 | 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç”¨<code>|</code>åˆ’åˆ†äº†å››ä¸ªåŒºåŸŸï¼Œæ¯ä¸ªåŒºåŸŸçš„å«ä¹‰éƒ½è¯¦ç»†è¯´æ˜äº†</p><p>ä»ä¸Šè¿° 01 è¡Œä¹Ÿèƒ½ç›´æ¥æ¨å‡ºæ•°ç‹¬å›¾ï¼Œå®ƒä»¬æ˜¯å¯ä»¥äº’ç›¸æ¨å‡ºçš„ï¼</p><p>å½“ç„¶ä¹Ÿå¯ä»¥ç”¨å¤åˆæ•°ç‹¬å›¾ï¼Œæ¨å‡ºå¤åˆè¡Œï¼Œä½†æ˜¯å¤åˆè¡Œå¯èƒ½æ— æ³•æ¨å‡ºå•ä¸ªå…·ä½“æ•°ç‹¬å›¾ï¼Œå› ä¸ºå­˜åœ¨ä¸€å¯¹å¤šçš„æƒ…å†µï¼Œä¸€ä¸ªå¾ˆç®€å•çš„ä¾‹å­å°±æ˜¯å…¨ 1 çš„è¡Œï¼Œå¯¹åº”çš„æ˜¯æŠ½è±¡çš„æ•°ç‹¬è§£ï¼Œè€Œæ•°ç‹¬è§£æ˜¯æœ‰ N ä¸ªçš„ã€‚</p><blockquote><p>æ•°ç‹¬çš„å…¨éƒ¨è§£æœ‰å¤šå°‘ä¸ªï¼Ÿ</p></blockquote><blockquote><p>æ•°ç‹¬çš„æ€»ä¸ªæ•°æ˜¯è¿™ä¹ˆå¾—å‡ºæ¥çš„ã€‚9!Ã—722Ã—27Ã— 27,704,267,971=6,670,903,752,021,072,936,960ï¼ˆçº¦æœ‰ 6.67Ã—10 çš„ 21 æ¬¡æ–¹ï¼‰ç§ç»„åˆï¼Œ2005 å¹´ç”± Bertram Felgenhauer å’Œ Frazer Jarvis è®¡ç®—å‡ºè¯¥æ•°å­—ï¼Œå¦‚æœå°†é‡å¤ï¼ˆå¦‚æ•°å­—äº¤æ¢ã€å¯¹ç§°ç­‰ï¼‰ä¸è®¡ç®—ï¼Œé‚£ä¹ˆæœ‰ 5,472,730,538 ä¸ªç»„åˆã€‚é‚£ä¹ˆæœ‰è¶£çš„æ¥äº†ï¼Œæœ‰ä¸ª 9!=362880ï¼Œè¿™ä¸ªå°±ç­‰äº 9 çš„å…¨æ’åˆ—ï¼Œæ˜¯ä¸æ˜¯å¯ä»¥ä»è¿™é‡Œåšçªç ´å£å‘¢ï¼Ÿå¦‚æœæˆ‘å¯ä»¥éšæœºçš„ç”Ÿæˆ 362880 ä¸ªå®Œæ•´çš„æ•°ç‹¬çŸ©é˜µï¼Œç„¶åéšæœºçš„æ¯è¡ŒæŒ–å» 4 åˆ° 5 ä¸ªé‚£å°±æ˜¯ <code>362880/24/120*9*362880=411505920</code> ä¸ªï¼Œè¿™ä¸ªæ•°å­—å¤Ÿå¤§å®¶æœ‰ç”Ÿä¹‹å¹´ç©çš„äº†ã€‚--æ‘˜å½•è‡ª<a href="https://blog.csdn.net/peng_wu01/article/details/6026103" target="_blank" rel="noopener">æ•°ç‹¬-- ä¸€ä¸ªé«˜æ•ˆç‡ç”Ÿæˆæ•°ç‹¬çš„ç®—æ³•</a> çœŸå®æ€§æœ‰å¾…è¿›ä¸€æ­¥è€ƒè¯</p></blockquote><h3 id="æ•°ç‹¬æ±‚è§£"><a href="#æ•°ç‹¬æ±‚è§£" class="headerlink" title="æ•°ç‹¬æ±‚è§£"></a>æ•°ç‹¬æ±‚è§£</h3><p>éšä¾¿ç»™å‡ºä¸€ä¸ªæ•°ç‹¬å›¾ï¼Œä¹Ÿå°±æ˜¯ç›¸å½“äºç»™å‡ºäº†èˆè¹ˆé“¾ä¸­çš„ä¸€è¡Œï¼Œæˆ‘ä»¬ä»¥è¿™ä¸€è¡Œä¸ºå…¥å£ï¼Œå³å¯è¿›è¡Œç²¾ç¡®è¦†ç›–é—®é¢˜çš„æ±‚è§£ï¼Œè§£ç©ºé—´æ˜¯ 729ï¼Œå¯¹åº”çš„ 01 çŸ©é˜µå¤§å°æ˜¯ï¼š<code>729*324</code>ï¼Œä¸è¿‡è¿˜å¥½æ˜¯ä¸ªç¨€ç–çŸ©é˜µã€‚</p><p>æœ‰ä¸€ä¸ªä¼˜åŒ–å¿…é¡»è¦è¯´ä¸€ä¸‹ï¼šæ¯æ¬¡é€‰è¡Œçš„æ—¶å€™ï¼Œé€‰ 1 æœ€å°‘çš„åˆ—ä¸Šçš„æŸä¸€è¡Œã€‚</p><p>é€‰ 1 æœ€å°‘çš„åˆ—çš„æ„ä¹‰æ˜¯ï¼šå¯»æ‰¾å‡ºç°åœ¨æ‰€æœ‰å­é›†ä¸­æ¬¡æ•°æœ€å°‘çš„å…ƒç´ ï¼Œæ—¢ç„¶å¤§å®¶éƒ½å¾ˆç¼ºè¿™ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆåŸºæœ¬ä¸Šæ„å‘³ç€å‡‘å…¨é›†åˆï¼Œå¾ˆéœ€è¦è¿™ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆå°±è¦ä¼˜å…ˆé€‰æ‹©è¿™äº›å…ƒç´ </p><p>æ²¡åŠ è¿™ä¸ªä¼˜åŒ–çš„æ—¶å€™ï¼Œæˆ‘çš„å›æº¯ä¸€ç›´åœ¨ææ’åˆ—ç»„åˆï¼Œæ— å¤´è‹è‡ï¼Œè·‘äº† 60 å¤šä¸‡æ¬¡ dance éƒ½æ²¡ç»“æœï¼ˆå‡ åˆ†é’Ÿéƒ½è¿‡å»äº†ï¼‰ï¼ŒåŠ äº†è¿™ä¸ªä¼˜åŒ–ç›´æ¥èµ·é£ï¼Œ1 ç§’é’Ÿä¸åˆ°å°±è§£å‡ºæ¥äº†ã€‚</p><p>æˆ‘çš„æ•°ç‹¬æ±‚è§£ä»£ç ï¼š<a href="https://github.com/liuqinh2s/Algorithm/blob/master/SudoKu/SudoKu.ts" target="_blank" rel="noopener">https://github.com/liuqinh2s/Algorithm/blob/master/SudoKu/SudoKu.ts</a></p><p>èƒ½ç›´æ¥åœ¨æµè§ˆå™¨ä¸Šè·‘çš„ä»£ç ï¼š<a href="https://github.com/liuqinh2s/Algorithm/blob/master/SudoKu/bundle.js" target="_blank" rel="noopener">https://github.com/liuqinh2s/Algorithm/blob/master/SudoKu/bundle.js</a></p><p>å¯ä»¥é€šè¿‡<code>npm i @liuqinh2s/sudoku-js</code>å®‰è£…</p><p>èƒ½åœ¨çº¿ç©çš„é¡¹ç›®ï¼š<a href="https://jujuxi.xyz/sudoku/" target="_blank" rel="noopener">https://jujuxi.xyz/sudoku/</a></p><h3 id="æ•°ç‹¬ç”Ÿæˆ"><a href="#æ•°ç‹¬ç”Ÿæˆ" class="headerlink" title="æ•°ç‹¬ç”Ÿæˆ"></a>æ•°ç‹¬ç”Ÿæˆ</h3><p>ä»¥ä¸Šåªè®²äº†å¦‚ä½•è§£æ•°ç‹¬ï¼Œé‚£ä¹ˆå¦‚ä½•ç”Ÿæˆæ•°ç‹¬å‘¢ï¼š<a href="https://www.zhihu.com/question/22043229/answer/44315364" target="_blank" rel="noopener">æ•°ç‹¬çš„ç”Ÿæˆè¿‡ç¨‹æ˜¯æ€æ ·çš„ï¼Ÿ - å•æƒ³çš„å›ç­” - çŸ¥ä¹</a></p><p>ç®€å•æ¥è¯´å°±æ˜¯ï¼šéšæœºæ”¾å…¥ 11 ä¸ªæ•°ï¼Œæ±‚è§£å‡ºç»ˆç›˜ï¼Œç„¶åæŒ–æ´ã€‚</p><h3 id="æ•°ç‹¬èƒŒæ™¯çŸ¥è¯†"><a href="#æ•°ç‹¬èƒŒæ™¯çŸ¥è¯†" class="headerlink" title="æ•°ç‹¬èƒŒæ™¯çŸ¥è¯†"></a>æ•°ç‹¬èƒŒæ™¯çŸ¥è¯†</h3><p><a href="https://www.jianshu.com/p/d77de0dcf792" target="_blank" rel="noopener">åˆçº§è¯¾å ‚ï¼ˆ3ï¼‰|æ•°ç‹¬æ¯”ä½ è¿˜ä¼˜ç¾ï¼Œè¿˜æœ‰ä¸ªæ€§ï¼</a><br>æ¯”è¾ƒç²¾ç¾çš„æ•°ç‹¬ç½‘ç«™ï¼š<a href="http://sudoku.com/" target="_blank" rel="noopener">Sudoku.com</a></p><h3 id="æ•°ç‹¬éš¾æ˜“åˆ¤å®š"><a href="#æ•°ç‹¬éš¾æ˜“åˆ¤å®š" class="headerlink" title="æ•°ç‹¬éš¾æ˜“åˆ¤å®š"></a>æ•°ç‹¬éš¾æ˜“åˆ¤å®š</h3>]]></content>
      
      
      
        <tags>
            
            <tag> é¡¹ç›® </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>border-radiusè¯¦è§£</title>
      <link href="/blog/2023/02/09/border-radius%E8%AF%A6%E8%A7%A3/"/>
      <url>/blog/2023/02/09/border-radius%E8%AF%A6%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<p>çœ‹ã€ŠCSS è§£å¯†ã€‹çš„æ—¶å€™é‡åˆ° border-radius ä¸æ˜¯å¾ˆæ‡‚ï¼Œæœ‰ä¸ªä¾‹å­å¦‚ä¸‹ï¼š</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">border-radius: 100% 100% 0 0 / 100% 0 0 0; /* å·¦ä¸Šè§’æ¤­åœ†åŠå¾„æ˜¯åŠå®½é«˜ */</span><br><span class="line">border-radius: 100% 0 0 0 / 100% 0 0 0; /* å·¦ä¸Šè§’æ¤­åœ†åŠå¾„æ˜¯å…¨å®½é«˜ */</span><br></pre></td></tr></table></figure><p>å·®åˆ«æŒºå¤§çš„å¯¹å§ï¼ŒåŸå› å°±æ˜¯è§’ä¸è§’ä¹‹é—´å‡ºç°äº†æŒ¤å…‘ï¼ˆæˆ–è€…è¯´é‡å ï¼‰ï¼Œå¦‚æœé‡åˆ°äº†é‡å æ€ä¹ˆåŠå‘¢ï¼Ÿæ€ä¹ˆè¡¨ç°å‘¢ï¼ŸåŸç†æ˜¯ä»€ä¹ˆï¼Ÿ</p><a id="more"></a><p>æŸ¥<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/border-radius" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a>ï¼Œå‘ç°è®²çš„å¾ˆç²—ç³™ï¼Œä½†å®˜æ–¹æ–‡æ¡£ç»™å‡ºäº†ä¸€ä¸ª<a href="https://w3c.github.io/csswg-drafts/css-backgrounds/#border-radius" target="_blank" rel="noopener"><strong>specification</strong></a>ï¼ˆè¯¦ç»†è¯´æ˜ï¼‰ï¼Œè¿™é‡Œé¢æœ‰ä¸€æ¡<a href="https://w3c.github.io/csswg-drafts/css-backgrounds/#corner-overlap" target="_blank" rel="noopener">Overlapping Curves</a>ï¼Œä¸“é—¨è®²äº†è¿™ç§æƒ…å†µæ€ä¹ˆå¤„ç†ã€‚</p><p>ç®€å•æ¥è¯´å°±æ˜¯æ‰¾æœ€å¤§çš„ä¸€å¤„é‡å ï¼Œç„¶åæ‰€æœ‰çš„åŠå¾„éƒ½ç­‰æ¯”ä¾‹ç¼©å°ï¼Œæ¯”ä¾‹æ˜¯ï¼šé‡å å¤„çš„æ€»é•¿åº¦/åŸæœ¬é•¿åº¦ã€‚</p><p>å‡å¦‚æœ€å¤§é‡å å¤„çš„é•¿åº¦æ˜¯å®½çš„ä¸¤å€ï¼Œé‚£ä¹ˆæ‰€æœ‰åŠå¾„éƒ½è¦ç¼©å°ä¸€åŠã€‚</p><p><a href="https://codepen.io/liuqinh2s/pen/eYjzqMR" target="_blank" rel="noopener">å®éªŒé“¾æ¥</a></p><blockquote><p>é€šè¿‡è¿™ä»¶äº‹ï¼Œæˆ‘å†æ¬¡æ„Ÿæ¦‚ï¼Œæœ€æœ‰æ•ˆï¼Œæœ€å¯é çš„ä¿¡æ¯æ¥è‡ªäºå®˜æ–¹ï¼Œè¿˜æœ‰å°±æ˜¯ä¸€å®šè¦ç†Ÿç»ƒè‹±æ–‡ï¼Œä¸ç„¶è¿ç­”æ¡ˆåœ¨å“ªéƒ½æ‰¾ä¸åˆ°ã€‚</p></blockquote><h2 id="å…³äºç¼©å†™"><a href="#å…³äºç¼©å†™" class="headerlink" title="å…³äºç¼©å†™"></a>å…³äºç¼©å†™</h2><p>ç¼©å†™ 1ï¼ˆä¸€ä¸ªå€¼ï¼‰ï¼š</p><p>è¿™ç§æœ€ç®€å•</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">border-radius</span>: 100%;</span><br><span class="line"><span class="comment">/*ç­‰ä»·äº*/</span></span><br><span class="line"><span class="selector-tag">border-radius</span>: 100% 100% 100% 100%;</span><br></pre></td></tr></table></figure><p>ç¼©å†™ 2ï¼ˆä¸¤ä¸ªå€¼ï¼‰ï¼š</p><p>é‡å¤è‡ªèº«ä¸€é</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">border-radius</span>: 100% 0;</span><br><span class="line"><span class="comment">/*ç­‰ä»·äº*/</span></span><br><span class="line"><span class="selector-tag">border-radius</span>: 100% 0 100% 0;</span><br></pre></td></tr></table></figure><p>ç¼©å†™ 3ï¼ˆä¸‰ä¸ªå€¼ï¼‰ï¼š</p><p>æŠŠä¸­é—´è¿™ä¸ªå€¼é‡å¤ä¸€é</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">border-radius</span>: 100% 50% 100%;</span><br><span class="line"><span class="comment">/*ç­‰ä»·äº*/</span></span><br><span class="line"><span class="selector-tag">border-radius</span>: 100% 50% 100% 50%;</span><br></pre></td></tr></table></figure><p>è·Ÿ margin å’Œ padding çš„ç¼©å†™æ˜¯ä¸€æ¨¡ä¸€æ ·çš„</p>]]></content>
      
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AIæ—¶ä»£æ¥ä¸´ï¼Œæœ‰å“ªäº›æœºé‡æˆ‘å¯ä»¥æŠ“ä½ï¼Ÿ</title>
      <link href="/blog/2023/02/06/AI%E6%97%B6%E4%BB%A3%E6%9D%A5%E4%B8%B4%EF%BC%8C%E6%9C%89%E5%93%AA%E4%BA%9B%E6%9C%BA%E9%81%87%E6%88%91%E5%8F%AF%E4%BB%A5%E6%8A%93%E4%BD%8F%EF%BC%9F/"/>
      <url>/blog/2023/02/06/AI%E6%97%B6%E4%BB%A3%E6%9D%A5%E4%B8%B4%EF%BC%8C%E6%9C%89%E5%93%AA%E4%BA%9B%E6%9C%BA%E9%81%87%E6%88%91%E5%8F%AF%E4%BB%A5%E6%8A%93%E4%BD%8F%EF%BC%9F/</url>
      
        <content type="html"><![CDATA[<p>é¦–å…ˆä»€ä¹ˆæ˜¯ AI æ—¶ä»£ï¼Œæˆ‘æ‰€è®¤ä¸ºçš„ AI æ˜¯å¯ä»¥è®©è®¡ç®—æœºäº§ç”Ÿçš„æ™ºåŠ›ï¼Œåƒç±»ä¼¼äºäººä¸€æ ·å·¥ä½œï¼Œåšä»¥å‰ç®€å•çš„é€»è¾‘æ— æ³•å®Œæˆçš„äº‹æƒ…ï¼Œæ¯”å¦‚ï¼š</p><ul><li>è¯†åˆ«å›¾ç‰‡é‡Œçš„æ–‡å­—</li><li>è¯†åˆ«å›¾ç‰‡é‡Œæœ‰æ²¡æœ‰çŒ«</li><li>è‡ªåŠ¨é©¾é©¶ï¼Œè¯†åˆ«è·¯å†µ</li><li>ä¸‹æ£‹ï¼Œå›½é™…è±¡æ£‹ï¼Œå›´æ£‹ï¼Œå‡»è´¥äººç±»å† å†›</li><li>AI æ¢è„¸ï¼Œå°†å›¾ç‰‡å’Œè§†é¢‘ä¸­çš„äººè„¸æ¢æˆå¦ä¸€ä¸ªäººçš„</li><li>æ ¹æ®å…³é”®è¯ï¼Œä½œç”»ï¼Œå†™å°è¯´</li><li>ä¸Šç½‘æœé›†èµ„æ–™æ•´åˆå‡ºæ‘˜è¦</li></ul><p>ä»¥ä¸Šéƒ½æ˜¯ AI ç›®å‰å·²ç»èƒ½å®Œæˆçš„äº‹æƒ…ï¼Œä¼ ç»Ÿçš„ä»£ç æ˜¯æ— æ³•å®Œæˆä»¥ä¸Šè¿™ç§å¤æ‚çš„å·¥ä½œçš„ã€‚æˆ‘æŠŠä¼ ç»Ÿä»£ç æ— æ³•å®Œæˆï¼Œåˆæœ‰ç‚¹ç±»ä¼¼äººæ‰èƒ½åŠåˆ°çš„æ··æ²Œä¸”å¤æ‚çš„äº‹æƒ…ï¼ˆç”šè‡³å¸¦æœ‰ä¸€äº›åˆ›é€ åŠ›ï¼‰ç§°ä½œ AIã€‚AI ä¸æ˜¯æŒ‡åƒäººä¸€æ ·èƒ½é€šç”¨çš„å¤„ç†ä»»ä½•æ™ºåŠ›é—®é¢˜ï¼Œè€Œæ˜¯èƒ½ä¸€ä¸ªä¸€ä¸ªæ”»å…‹å…·ä½“çš„æ™ºåŠ›é—®é¢˜ï¼ŒAI èƒ½åšåˆ°çš„äº‹æƒ…å·²ç»è¶Šæ¥è¶Šå¤šã€‚å…¶äº§ç”Ÿçš„ç”Ÿäº§åŠ›æ˜¯å·¨å¤§çš„ï¼Œå¹¶ä¸æ¯”äº’è”ç½‘æ—¶ä»£ä½ã€‚</p><a id="more"></a><h2 id="æœ‰å“ªäº›æœºé‡"><a href="#æœ‰å“ªäº›æœºé‡" class="headerlink" title="æœ‰å“ªäº›æœºé‡"></a>æœ‰å“ªäº›æœºé‡</h2><p>é¦–å…ˆä»æˆ‘è‡ªå·±çš„è§’åº¦å‡ºå‘ï¼Œæˆ‘å¸Œæœ› AI èƒ½å®Œæˆå“ªäº›äº‹ï¼Ÿ</p><ul><li>æé†’æˆ‘è¦åšå“ªäº›äº‹ï¼Œæ¯”å¦‚ï¼šæˆ‘ç»å¸¸ç‰™è†ç”¨åˆ°æ²¡æœ‰ï¼Œæ¯æ¬¡åˆ·ç‰™çš„æ—¶å€™æ‰æƒ³èµ·æ¥è¦ä¹°ï¼Œä½†æ˜¯å›å®¶çš„æ—¶å€™éƒ½ä¸è®°å¾—ä¹°ã€‚æˆ‘å½“ç„¶çŸ¥é“å¯ä»¥è‡ªå·±å®šä¸ªæ—¥ç¨‹æˆ–è€…é—¹é’Ÿæé†’ï¼Œä½†æˆ‘å®šè¿‡å‡ ä¸ªï¼Œè¿˜æ˜¯è§‰å¾—æ¯”è¾ƒéº»çƒ¦</li><li>å¤–å–è‡ªåŠ¨è®¢é¤ï¼Œæˆ‘æœ‰çš„æ—¶å€™åœ¨å…¬å¸å·¥ä½œï¼Œä¸Šåˆå¹²æ´»å¤ªæŠ•å…¥ï¼Œå¿˜è®°å®šå¤–å–</li><li>è‡ªåŠ¨è®¢ç«è½¦ç¥¨ï¼Œå…³äºè®¢ç«è½¦ç¥¨æˆ‘éƒ½æ€»ç»“å‡ºä¸€äº›å°çªé—¨äº†ï¼Œæ¯”å¦‚ä¹°çŸ­åŒºé—´ï¼ˆæ²¡äººæŠ¢ï¼‰çš„æˆ–è€…å…¨åŒºé—´çš„ï¼ˆæ”¾ç¥¨å¤šï¼Œä¸”è¦äºä¸€éƒ¨åˆ†é’±ï¼ŒæŠ¢çš„äººå°‘ï¼‰</li><li>æ•°æ®è½¬æ¢ï¼Œä»å›¾ç‰‡ä¸­è¯»å– excelï¼Œword ç­‰ç­‰</li><li>å¸¦ä¼æé†’ï¼Œæˆ‘è€æ˜¯å¿˜è®°çœ‹å¤©æ°”é¢„æŠ¥ï¼Œè™½ç„¶æ·±åœ³å¾ˆå°‘ä¸‹é›¨ï¼Œä½†å¶å°”è¿˜æ˜¯éœ€è¦æé†’å¸¦ä¼</li></ul><p>ä»¥ä¸Šå¤§éƒ¨åˆ†éƒ½æ˜¯ä¸€äº›æé†’ç±»çš„å°äº‹ï¼Œå¯ä»¥å½’ä¸ºç”Ÿæ´»ç®¡å®¶ç±»çš„ä¸€ç§ä½“éªŒå‡çº§ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> æ€»ç»“ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>csså±…ä¸­çš„æœ€ä½³å®è·µ</title>
      <link href="/blog/2022/12/13/css%E5%B1%85%E4%B8%AD%E7%9A%84%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/"/>
      <url>/blog/2022/12/13/css%E5%B1%85%E4%B8%AD%E7%9A%84%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/</url>
      
        <content type="html"><![CDATA[<p>å±…ä¸­æ˜¯ css ä¸­å¾ˆé‡è¦çš„ä¸€ä¸ªåŸºç¡€çŸ¥è¯†ï¼Œä¸»è¦åˆ†ä¸‰ä¸ªæ–¹å‘è®¨è®ºï¼š</p><ol><li>æ°´å¹³å±…ä¸­ or å‚ç›´å±…ä¸­</li><li>æ–‡æœ¬å±…ä¸­ or å®¹å™¨å±…ä¸­ï¼ˆå—çº§å…ƒç´ ï¼‰</li><li>è®¾ç½®çˆ¶å®¹å™¨ or è®¾ç½®è‡ªèº« or éƒ½éœ€è¦è®¾ç½®</li></ol><a id="more"></a><h1 id="æœ€ä½³å®è·µ"><a href="#æœ€ä½³å®è·µ" class="headerlink" title="æœ€ä½³å®è·µ"></a>æœ€ä½³å®è·µ</h1><p>æœ€ä½³å®è·µï¼Œéƒ½æ˜¯é€šè¿‡ç»™çˆ¶å®¹å™¨è®¾ç½®æ ·å¼ï¼Œæ¥ä½¿å†…å®¹è¾¾åˆ°å±…ä¸­æ•ˆæœã€‚è¿™ä¸ªè®¾è®¡å“²å­¦ä¹Ÿæ˜¯éå¸¸æ­£ç¡®çš„ï¼Œæˆ‘ä»¬ç¡®å®åº”è¯¥é€šè¿‡æ“ä½œçˆ¶å®¹å™¨æ¥è®©å…¶å†…å®¹å±…ä¸­ï¼Œå±…ä¸­å¹¶éæ˜¯å­å…ƒç´ éœ€è¦è€ƒè™‘çš„äº‹ï¼ˆå› ä¸ºå­å…ƒç´ å¯èƒ½æœ‰å¤šä¸ªï¼Œä¸”å…¶è‡ªèº«å¯èƒ½æ¯”è¾ƒå¤æ‚ï¼‰ã€‚</p><h2 id="æ–‡æœ¬å±…ä¸­"><a href="#æ–‡æœ¬å±…ä¸­" class="headerlink" title="æ–‡æœ¬å±…ä¸­"></a>æ–‡æœ¬å±…ä¸­</h2><h3 id="æ°´å¹³å±…ä¸­"><a href="#æ°´å¹³å±…ä¸­" class="headerlink" title="æ°´å¹³å±…ä¸­"></a>æ°´å¹³å±…ä¸­</h3><p>æ–‡æœ¬æ°´å¹³å±…ä¸­ä½¿ç”¨<code>text-align: center;</code>ï¼š</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.center</span>&#123;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">2px</span> solid red;</span><br><span class="line">&#125;</span><br><span class="line">&lt;div class="center"&gt;æˆ‘æ˜¯æ–‡æœ¬&lt;/div&gt;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªéå¸¸å¥½ä½¿ï¼Œå•è¡Œå’Œå¤šè¡Œæ–‡æœ¬éƒ½å¯ä»¥å¤„ç†ã€‚</p><p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/text-align" target="_blank" rel="noopener">text-align æ–‡æ¡£</a></p><h3 id="å‚ç›´å±…ä¸­"><a href="#å‚ç›´å±…ä¸­" class="headerlink" title="å‚ç›´å±…ä¸­"></a>å‚ç›´å±…ä¸­</h3><p>ä½¿ç”¨ line-height å¯ä»¥è°ƒèŠ‚æ–‡æœ¬çš„å‚ç›´é—´è·ï¼Œä»è€Œè¾¾åˆ°å‚ç›´å±…ä¸­çš„æ•ˆæœï¼Œä¸è¿‡å¦‚æœæ˜¯å¤šè¡Œæ–‡æœ¬çš„è¯ï¼Œéœ€è¦çŸ¥é“è¡Œæ•°ï¼Œä½†å¤§å¤šæ•°æƒ…å†µä¸‹éƒ½æ˜¯ä¸çŸ¥é“è¡Œæ•°çš„ï¼Œæ‰€ä»¥ä¸€èˆ¬ç”¨äºå•è¡Œæ–‡æœ¬çš„å‚ç›´å±…ä¸­åœºæ™¯ã€‚</p><p>å®éªŒåœ°å€ï¼š<a href="https://replit.com/@liuqinh2s1/cssTest3#src/App.css" target="_blank" rel="noopener">https://replit.com/@liuqinh2s1/cssTest3#src/App.css</a></p><p>å®é™…ä¸Šå¤šè¡Œæ–‡æœ¬å‚ç›´å±…ä¸­å¯ä»¥ç”¨è·Ÿå®¹å™¨å±…ä¸­ä¸€æ ·çš„æ–¹æ³•ï¼šflex å¸ƒå±€ï¼š</p><ul><li><a href="https://replit.com/@liuqinh2s1/css-center2#index.html" target="_blank" rel="noopener">https://replit.com/@liuqinh2s1/css-center2#index.html</a></li></ul><blockquote><p>åŒæ ·çš„ä¹Ÿé€‚ç”¨äºå•è¡Œï¼Œç”šè‡³å•è¡Œæ–‡æœ¬æ°´å¹³å±…ä¸­ä¹Ÿå¯ä»¥ç”¨ flex å¸ƒå±€ï¼Œä½†å¤šè¡Œæ–‡æœ¬æ°´å¹³å±…ä¸­ä¸å¯ä»¥ç”¨ flex å¸ƒå±€</p></blockquote><h2 id="å®¹å™¨å±…ä¸­"><a href="#å®¹å™¨å±…ä¸­" class="headerlink" title="å®¹å™¨å±…ä¸­"></a>å®¹å™¨å±…ä¸­</h2><p>å®¹å™¨å±…ä¸­çš„æœ€ä½³å®è·µæ˜¯ flex å¸ƒå±€ã€‚å¦‚æœæƒ³çœ‹è¯¦ç»†çš„æ•™ç¨‹ï¼Œæ¨èè¿™ä¸ªï¼š<a href="https://www.ruanyifeng.com/blog/2015/07/flex-grammar.html" target="_blank" rel="noopener">Flex å¸ƒå±€æ•™ç¨‹ï¼šè¯­æ³•ç¯‡ - é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿—</a></p><p>å®éªŒåœ°å€ï¼š<a href="https://replit.com/@liuqinh2s1/css-center#index.html" target="_blank" rel="noopener">https://replit.com/@liuqinh2s1/css-center#index.html</a></p><h3 id="æ°´å¹³å±…ä¸­-1"><a href="#æ°´å¹³å±…ä¸­-1" class="headerlink" title="æ°´å¹³å±…ä¸­"></a>æ°´å¹³å±…ä¸­</h3><p>å¦‚æœæ˜¯æ°´å¹³æ’å¸ƒçš„ï¼Œè®¾ç½®<code>justify-content: center;</code>ï¼š</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.center</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">&#125;</span><br><span class="line">&lt;div class="center"&gt;</span><br><span class="line">    &lt;div&gt;a&lt;/div&gt;</span><br><span class="line">    &lt;div&gt;b&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><p>å¦‚æœæ˜¯å‚ç›´æ’å¸ƒçš„ï¼Œè®¾ç½®<code>align-items: center;</code>ï¼š</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.center</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: column;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br><span class="line">&lt;div class="center"&gt;</span><br><span class="line">    &lt;div&gt;a&lt;/div&gt;</span><br><span class="line">    &lt;div&gt;b&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><h3 id="å‚ç›´å±…ä¸­-1"><a href="#å‚ç›´å±…ä¸­-1" class="headerlink" title="å‚ç›´å±…ä¸­"></a>å‚ç›´å±…ä¸­</h3><p>ä¸ä¸Šé¢æ°´å¹³å±…ä¸­çš„å†™æ³•æ­£å¥½ç›¸å</p><p>å¦‚æœæ˜¯æ°´å¹³æ’å¸ƒçš„ï¼Œè®¾ç½®<code>align-items: center;</code>ï¼š</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.center</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br><span class="line">&lt;div class="center"&gt;</span><br><span class="line">    &lt;div&gt;a&lt;/div&gt;</span><br><span class="line">    &lt;div&gt;b&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><p>å¦‚æœæ˜¯å‚ç›´æ’å¸ƒçš„ï¼Œè®¾ç½®<code>justify-content: center;</code>ï¼š</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.center</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: column;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">&#125;</span><br><span class="line">&lt;div class="center"&gt;</span><br><span class="line">    &lt;div&gt;a&lt;/div&gt;</span><br><span class="line">    &lt;div&gt;b&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><p>æ‰€ä»¥æ€»ç»“å¦‚ä¸‹ï¼šé™¤å¤šè¡Œæ–‡æœ¬æ°´å¹³å±…ä¸­å¿…é¡»ç”¨<code>text-align: center;</code>å¤–ï¼Œå…¶ä½™æƒ…å†µï¼Œå…¨éƒ¨å¯ä»¥ç”¨ flex å¸ƒå±€è§£å†³ã€‚</p><h2 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h2><p>åˆ©ç”¨ positionï¼Œ50%å’Œ transform è‡ªèº«çš„ä¸€åŠé«˜æ¥è¾¾åˆ°å±…ä¸­ï¼š</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">2px</span> solid red;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.child</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid blue;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translate</span>(0, -50%);</span><br><span class="line">&#125;</span><br><span class="line">&lt;div class="parent"&gt;</span><br><span class="line">    &lt;div class="child"&gt;1&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> css </tag>
            
            <tag> å‰ç«¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è¡Œå†…å…ƒç´ å’Œå—çº§å…ƒç´ </title>
      <link href="/blog/2022/12/08/%E8%A1%8C%E5%86%85%E5%85%83%E7%B4%A0%E5%92%8C%E5%9D%97%E7%BA%A7%E5%85%83%E7%B4%A0/"/>
      <url>/blog/2022/12/08/%E8%A1%8C%E5%86%85%E5%85%83%E7%B4%A0%E5%92%8C%E5%9D%97%E7%BA%A7%E5%85%83%E7%B4%A0/</url>
      
        <content type="html"><![CDATA[<p>è¡Œå†…å…ƒç´ å’Œå—çº§å…ƒç´ ç®—æ˜¯ css ä¸­æœ€åŸºç¡€ï¼Œä¹Ÿæ˜¯æœ€é‡è¦çš„éƒ¨åˆ†äº†ã€‚ä½†æˆ‘å¯¹è¿™éƒ¨åˆ†è¿˜æ²¡å½»åº•ç ”ç©¶é€ï¼Œéœ€è¦å½»åº•æŒæ¡æ‰è¡Œã€‚</p><p>æ¯”å¦‚ï¼Œwidth å’Œ height è·Ÿçˆ¶èŠ‚ç‚¹å’Œå­èŠ‚ç‚¹çš„å…³ç³»åˆ°åº•æ˜¯ä»€ä¹ˆï¼Œé»˜è®¤æ˜¯ä»€ä¹ˆï¼Ÿè¡Œå†…å…ƒç´ çš„ padding å’Œ margin èƒ½è®¾ç½®å—ï¼Ÿ</p><a id="more"></a><blockquote><p>è¡Œå†…å…ƒç´ ï¼Œä¹Ÿå«å†…è”å…ƒç´ ï¼Œinline-element</p></blockquote><h1 id="å¯¹æ¯”"><a href="#å¯¹æ¯”" class="headerlink" title="å¯¹æ¯”"></a>å¯¹æ¯”</h1><h2 id="åŒ…å«å…³ç³»"><a href="#åŒ…å«å…³ç³»" class="headerlink" title="åŒ…å«å…³ç³»"></a>åŒ…å«å…³ç³»</h2><p>å—çº§å…ƒç´ å¯ä»¥åŒ…å«å—çº§å…ƒç´ æˆ–è€…è¡Œå†…å…ƒç´ ï¼Œè¡Œå†…å…ƒç´ åªèƒ½åŒ…å«è¡Œå†…å…ƒç´ ã€‚ä½†è¿™åªæ˜¯å»ºè®®ï¼Œå¹¶éå¼ºåˆ¶ï¼Œå³ä¾¿è¡Œå†…å…ƒç´ åŒ…å«å—çº§å…ƒç´ ä¹Ÿä¸ä¼šæŠ¥é”™ã€‚</p><h2 id="æ¢è¡Œ"><a href="#æ¢è¡Œ" class="headerlink" title="æ¢è¡Œ"></a>æ¢è¡Œ</h2><p>å—çº§å…ƒç´ ç‹¬å ä¸€è¡Œï¼Œå‰åéƒ½ä¸å¯ä»¥æœ‰å—çº§å…ƒç´ æˆ–è€…è¡Œå†…å…ƒç´ ï¼ˆå½“ç„¶ display: flex;å¯ä»¥è®©å‡ ä¸ªå—çº§å…ƒç´ æ”¾åœ¨åŒä¸€è¡Œï¼‰ã€‚è¡Œå†…å…ƒç´ ä»¬å¯ä»¥æ’åˆ—åœ¨åŒä¸€è¡Œé‡Œï¼Œç›´åˆ°è¿™ä¸€è¡Œæ”¾ä¸ä¸‹æ‰æ¢è¡Œã€‚</p><h3 id="ä¸€ä¸ªå•è¯æ˜¯ä¸ä¼šæ¢è¡Œçš„"><a href="#ä¸€ä¸ªå•è¯æ˜¯ä¸ä¼šæ¢è¡Œçš„" class="headerlink" title="ä¸€ä¸ªå•è¯æ˜¯ä¸ä¼šæ¢è¡Œçš„"></a>ä¸€ä¸ªå•è¯æ˜¯ä¸ä¼šæ¢è¡Œçš„</h3><p>å‘ç°è¡Œå†…å…ƒç´ å±…ç„¶ä¸ä¼šæ¢è¡Œï¼ŒåŸæ¥æ˜¯å› ä¸ºè¢«å½“æˆä¸€ä¸ªå•è¯äº†</p><p>å®éªŒï¼š<a href="https://replit.com/@liuqinh2s1/cssTest2#src/App.tsx" target="_blank" rel="noopener">https://replit.com/@liuqinh2s1/cssTest2#src/App.tsx</a></p><p>ç”¨æ ·å¼å¯ä»¥æ§åˆ¶æ¯ä¸ªå­—æ¯æ¢è¡Œï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">word-break</span>: <span class="selector-tag">break-all</span>;</span><br><span class="line"><span class="selector-tag">word-wrap</span>: <span class="selector-tag">break-word</span>;</span><br></pre></td></tr></table></figure><h2 id="å®½é«˜"><a href="#å®½é«˜" class="headerlink" title="å®½é«˜"></a>å®½é«˜</h2><p>å—çº§å…ƒç´ å¯ä»¥è®¾ç½®å®½é«˜ï¼Œè¡Œå†…å…ƒç´ ä¸èƒ½è®¾ç½®å®½é«˜ï¼ˆå³ï¼šwidth å’Œ heightï¼‰ã€‚ä½†è¡Œå†…å…ƒç´ å¯ä»¥è®¾ç½® line-heightï¼ˆæ²¡æœ‰ line-widthï¼‰ã€‚</p><h2 id="é»˜è®¤å®½é«˜"><a href="#é»˜è®¤å®½é«˜" class="headerlink" title="é»˜è®¤å®½é«˜"></a>é»˜è®¤å®½é«˜</h2><p>å—çº§å…ƒç´ é»˜è®¤ç»§æ‰¿çˆ¶ç›’å­çš„å®½åº¦ï¼Œä½†é«˜åº¦ä¸ä¼šç»§æ‰¿ï¼ˆæƒ³è¦ç»§æ‰¿å¯ä»¥è®¾ç½®æˆ<code>height: 100%;</code>ï¼‰ï¼Œç”±å†…å®¹ç‰©æ’‘å¼€æˆ–è€…è‡ªå·±è®¾ç½®ã€‚è¡Œå†…å…ƒç´ ä¸èƒ½è®¾ç½®å®½é«˜ï¼Œä¹Ÿä¸ç»§æ‰¿å®½é«˜ï¼Œå®½é«˜éƒ½ç”±å†…å®¹ç‰©æ’‘å¼€ã€‚</p><h2 id="è¾¹è·"><a href="#è¾¹è·" class="headerlink" title="è¾¹è·"></a>è¾¹è·</h2><p>å—çº§å…ƒç´ çš„ margin å’Œ padding ä¼šå¯¹å¤–äº§ç”Ÿè¾¹è·æ•ˆæœï¼Œè¡Œå†…å…ƒç´ çš„ margin å’Œ padding åœ¨æ°´å¹³æ–¹å‘ä¸Šä¼šå¯¹å¤–äº§ç”Ÿæ•ˆæœï¼Œå‚ç›´æ–¹å‘ä¸Šä¸ä¼šå¯¹å¤–äº§ç”Ÿæ•ˆæœã€‚å®éªŒï¼š<a href="https://replit.com/@liuqinh2s1/css-test1#src/App.tsx" target="_blank" rel="noopener">https://replit.com/@liuqinh2s1/css-test1#src/App.tsx</a></p><h1 id="display-inlineï¼Œinline-blockï¼Œblock-çš„åŒºåˆ«"><a href="#display-inlineï¼Œinline-blockï¼Œblock-çš„åŒºåˆ«" class="headerlink" title="display: inlineï¼Œinline-blockï¼Œblock çš„åŒºåˆ«"></a>display: inlineï¼Œinline-blockï¼Œblock çš„åŒºåˆ«</h1><p>å®šä¹‰æˆ inline å°±æ˜¯è¡Œå†…å…ƒç´ ï¼Œblock å°±æ˜¯å—çº§å…ƒç´ ã€‚å®ƒä»¬çš„åŒºåˆ«å‰é¢å·²ç»è®²è¿‡äº†</p><p>inline-block æ˜¯å®ƒä»¬äºŒè€…çš„ç»¼åˆï¼Œæœ¬è´¨ä¸Šä¹Ÿæ˜¯ä¸ª blockï¼Œé™¤äº†ä¸ä¼šç‹¬å ä¸€è¡Œã€‚</p><p>å®éªŒä¾‹å­ï¼š<a href="https://www.w3school.com.cn/tiy/t.asp?f=css_inline-block_span" target="_blank" rel="noopener">https://www.w3school.com.cn/tiy/t.asp?f=css_inline-block_span</a></p><h1 id="å­å…ƒç´ æ€ä¹ˆæ’‘æ»¡å‰©ä½™çš„ç©ºé—´ï¼Ÿ"><a href="#å­å…ƒç´ æ€ä¹ˆæ’‘æ»¡å‰©ä½™çš„ç©ºé—´ï¼Ÿ" class="headerlink" title="å­å…ƒç´ æ€ä¹ˆæ’‘æ»¡å‰©ä½™çš„ç©ºé—´ï¼Ÿ"></a>å­å…ƒç´ æ€ä¹ˆæ’‘æ»¡å‰©ä½™çš„ç©ºé—´ï¼Ÿ</h1><p>ç”¨ flex-grow å»æ’‘æ»¡å‰©ä½™çš„ç©ºé—´ï¼Œå…·ä½“æ€ä¹ˆå†™ï¼š</p><p>ç”¨ display: flexï¼Œç„¶å flex: 1ï¼Œå³å¯ã€‚flex: 1 çš„å«ä¹‰æ˜¯ flex: 1 1 autoã€‚ä¹Ÿå°±æ˜¯ flex-grow: 1; flex-shrink: 1; flex-basis: autoã€‚</p><h2 id="flexï¼Œflex-growï¼Œflex-shrinkï¼Œflex-basis"><a href="#flexï¼Œflex-growï¼Œflex-shrinkï¼Œflex-basis" class="headerlink" title="flexï¼Œflex-growï¼Œflex-shrinkï¼Œflex-basis"></a>flexï¼Œflex-growï¼Œflex-shrinkï¼Œflex-basis</h2><p>è¿™ä¸ªä¸œè¥¿çš„è®¡ç®—å…¬å¼å®˜ç½‘æ²¡æœ‰å…¬å¸ƒï¼Œå¯¼è‡´åªèƒ½æŸ¥åˆ«äººå†™çš„èµ„æ–™ï¼Œæˆ–è€…è‡ªå·±æ¨å¯¼ã€‚ç»è¿‡å¤šæ¬¡å®éªŒåï¼Œç»“è®ºå¦‚ä¸‹ï¼š</p><p>grow çš„è®¡ç®—è·Ÿè‡ªèº«å®½é«˜æ— å…³ï¼Œç›´æ¥æŒ‰æ¯”ä¾‹åˆ†é…å‰©ä½™çš„ç©ºé—´ï¼Œshrink çš„è®¡ç®—æ˜¯è·Ÿè‡ªèº«å®½é«˜æœ‰å…³çš„ï¼Œéœ€è¦æ ¹æ®è‡ªèº«å®½é«˜ï¼ŒæŒ‰åŠ æƒæ¯”ä¾‹å¹³æ‘Šï¼ˆç¼©å‡ï¼‰è¶…å‡ºçš„ç©ºé—´ã€‚</p><p>å‡è®¾è®¡ç®—çš„æ˜¯æ°´å¹³æ–¹å‘çš„ flexï¼š</p><p>grow çš„ç®—æ³•å¦‚ä¸‹ï¼š</p><p>å•ä¸ªå…ƒç´ éœ€è¦ grow çš„é‡ï¼š<code>(å•ä¸ªå­å…ƒç´  flex-grow/æ€»çš„ flex-grow)\*(çˆ¶å®¹å™¨å®½åº¦-å­å…ƒç´ å®½åº¦ä¹‹å’Œ)</code></p><p>shrink çš„ç®—æ³•å¦‚ä¸‹ï¼š</p><p>å‡è®¾ div1 æ˜¯ 100px, flex-shrink:1ï¼›div2 æ˜¯ 200px, flex-shrink:2ï¼›div3 æ˜¯ 300px, flex-shrink: 3ã€‚å®¹å™¨å®½åº¦ 700px</p><p>div1 å…ƒç´ éœ€è¦ shrink çš„é‡ï¼š<code>(100*1)/(100*1+200*2+300*3)\*(700-100-200-300)</code></p><p>ä¹Ÿå°±æ˜¯åŠ æƒæ¯”ä¾‹ï¼Œéœ€è¦ç”¨åˆ°è‡ªèº«çš„å®½é«˜</p><p>flex-basis å°±æ˜¯å®½é«˜çš„æ„æ€ï¼Œä½†æ¯”å®½é«˜ä¼˜å…ˆçº§é«˜ï¼Œæ¯”å¦‚å®šä¹‰äº† width: 100px; flex-basis: 0px;é‚£ä¹ˆå°±æ˜¯æŒ‰ 0 å»è¿›è¡Œ flex çš„ã€‚</p><p>å®éªŒåœ°å€ï¼š<a href="https://replit.com/@liuqinh2s1/css-flex#src/App.tsx" target="_blank" rel="noopener">https://replit.com/@liuqinh2s1/css-flex#src/App.tsx</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> css </tag>
            
            <tag> å‰ç«¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŠ å¯†è´§å¸æ”¶è—ç½‘å€</title>
      <link href="/blog/2022/11/30/%E5%8A%A0%E5%AF%86%E8%B4%A7%E5%B8%81%E6%94%B6%E8%97%8F%E7%BD%91%E5%9D%80/"/>
      <url>/blog/2022/11/30/%E5%8A%A0%E5%AF%86%E8%B4%A7%E5%B8%81%E6%94%B6%E8%97%8F%E7%BD%91%E5%9D%80/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="https://bitcoin.design/guide/getting-started/introduction/" target="_blank" rel="noopener">Getting started | Bitcoin Design</a></li></ul><a id="more"></a><ul><li>è€å¸ï¼š<ul><li><a href="https://turtlecoin.herominers.com/?lang=en#" target="_blank" rel="noopener">ä¹Œé¾Ÿå¸(TRTL)çŸ¿æ± </a></li><li><a href="https://wallet.mymonero.com/" target="_blank" rel="noopener">é—¨ç½—å¸(XMR)ç½‘é¡µé’±åŒ…</a></li><li><a href="https://monero.herominers.com/" target="_blank" rel="noopener">é—¨ç½—å¸çŸ¿æ± </a></li></ul></li><li>BSC é“¾é¡¹ç›®ï¼š<ul><li><a href="https://pancakebunny.finance/vault" target="_blank" rel="noopener">bunny çŸ¿æ± </a></li><li><a href="https://pancakeswap.finance/" target="_blank" rel="noopener">pancake</a></li><li><a href="https://app.beefy.finance/?utm_source=tokenpocket" target="_blank" rel="noopener">beefy</a></li><li><a href="https://jetswap.finance/" target="_blank" rel="noopener">jetswap</a></li><li><a href="https://bscscan.com/" target="_blank" rel="noopener">BNB Smart Chain Explorer</a></li><li><a href="https://app.loserswap.com/" target="_blank" rel="noopener">LOWB</a></li><li><a href="https://loserbridge.org/erc20" target="_blank" rel="noopener">LOWB è·¨é“¾æ¡¥</a></li><li><a href="https://www.bnbchain.org/en/bridge" target="_blank" rel="noopener">BSC æ¡¥</a></li></ul></li><li>KCC é“¾ï¼š<ul><li><a href="https://docs.kcc.io/#/zh-cn/?id=%e4%b8%bb%e7%bd%91" target="_blank" rel="noopener">æ–‡æ¡£</a></li><li><a href="https://explorer.kcc.io/cn/" target="_blank" rel="noopener">åŒºå—æŸ¥è¯¢</a></li></ul></li><li>AxieInfinityï¼š<ul><li><a href="https://marketplace.axieinfinity.com/axie" target="_blank" rel="noopener">axie market</a></li><li><a href="https://marketplace.axieinfinity.com/login/" target="_blank" rel="noopener">è´¦å·ä¸­å¿ƒ</a></li><li><a href="https://whitepaper.axieinfinity.com/axs" target="_blank" rel="noopener">ç™½çš®ä¹¦</a></li><li><a href="https://axie.zone/" target="_blank" rel="noopener">axie zone</a></li><li><a href="https://www.axie.tech/" target="_blank" rel="noopener">axie tech</a></li><li><a href="https://www.axieworld.com/cn/guides" target="_blank" rel="noopener">axie world</a></li><li><a href="https://github.com/axieinfinity" target="_blank" rel="noopener">axieinfinity github</a></li><li><a href="https://katana.roninchain.com/#/farm" target="_blank" rel="noopener">katana</a></li><li><a href="https://stake.axieinfinity.com/" target="_blank" rel="noopener">AXS Staking</a></li></ul></li><li><a href="https://happypeter.github.io/binfo/" target="_blank" rel="noopener">å¿«ä¹åŒºå—ç»´åŸº</a></li><li><a href="https://zhuanlan.zhihu.com/p/38333164" target="_blank" rel="noopener">ã€ä»¥å¤ªåŠã€‘æ·±å…¥ç†è§£ gas æœºåˆ¶</a></li><li><a href="https://github.com/djrtwo/evm-opcode-gas-costs/blob/master/opcode-gas-costs_EIP-150_revision-1e18248_2017-04-12.csv" target="_blank" rel="noopener">evm-opcode-gas-costs</a></li><li>ç©ºæŠ•ï¼š<ul><li><a href="https://airdrops.io/" target="_blank" rel="noopener">airdrops.io</a></li><li><a href="https://defillama.com/airdrops" target="_blank" rel="noopener">defi llama</a></li></ul></li><li>æ™ºèƒ½åˆçº¦ï¼š<ul><li><a href="https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3" target="_blank" rel="noopener">Provider Migration Guide | MetaMask Docs</a></li><li><a href="https://betterprogramming.pub/how-to-become-a-blockchain-engineer-fa4386a0504f" target="_blank" rel="noopener">How to Become a Blockchain Engineer | by Patrick Collins | Better Programming</a></li><li><a href="https://hecoinfo.com/address/0xb62e3b6a3866f5754fdefcf82e733310e2851043#code" target="_blank" rel="noopener">HTMoon</a></li><li><a href="https://hecoinfo.com/address/0xb3863e02d6930762933F672cA134C1CceCd0D413#code" target="_blank" rel="noopener">DOG</a></li><li><a href="https://solidity.tryblockchain.org/Solidity-Type-Integer-%E6%95%B4%E5%9E%8B.html" target="_blank" rel="noopener">åŒºå—é“¾æŠ€æœ¯-æ™ºèƒ½åˆçº¦ Solidity ç¼–ç¨‹è¯­è¨€</a></li><li><a href="https://m.jinse.com/blockchain/1135705.html?source=m" target="_blank" rel="noopener">ä»£å¸ YELD ä»·æ ¼ç›´æ¥è·³æ°´å½’é›¶ï¼šPolyYeld Finance è¢«æ”»å‡»äº‹ä»¶å…¨è§£æ</a></li><li><a href="https://paper.seebug.org/601/" target="_blank" rel="noopener">ä»¥å¤ªåŠæ™ºèƒ½åˆçº¦å®‰å…¨å…¥é—¨äº†è§£ä¸€ä¸‹ï¼ˆä¸Šï¼‰</a></li><li><a href="https://zhuanlan.zhihu.com/p/261690742" target="_blank" rel="noopener">æ™ºèƒ½åˆçº¦å…¥é—¨ 1â€”â€”Remix+åˆçº¦è°ƒç”¨</a></li><li><a href="https://happypeter.github.io/binfo/smart-c-intro" target="_blank" rel="noopener">æ™ºèƒ½åˆçº¦å…¥é—¨</a></li><li><a href="https://learnblockchain.cn/docs/solidity/introduction-to-smart-contracts.html" target="_blank" rel="noopener">æ™ºèƒ½åˆçº¦å…¥é—¨</a></li><li><a href="https://ethernaut.openzeppelin.com/" target="_blank" rel="noopener">Ethernaut</a></li><li><a href="https://blockchain-ctf.securityinnovation.com/#/" target="_blank" rel="noopener">Security Innovation Blockchain CTF</a></li><li><a href="https://xzlang.github.io/2020/05/12/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E5%AE%89%E5%85%A8%E5%85%A5%E9%97%A8-ETHERNAUT-WriteUp/" target="_blank" rel="noopener">æ™ºèƒ½åˆçº¦å®‰å…¨å…¥é—¨:ETHERNAUT-WriteUp</a></li><li><a href="https://www.jianshu.com/p/a25e6b76dc62" target="_blank" rel="noopener">blockchain-ctf é¶åœºï¼ˆ0-12ï¼‰</a></li><li><a href="https://blog.csdn.net/rfrder/article/details/115572137" target="_blank" rel="noopener">Ethernaut é¶åœºåˆ·é¢˜ï¼ˆä¸Šï¼‰</a></li><li>å…è´¹é¢†å–æµ‹è¯•ç½‘ç»œå¸ï¼š<a href="https://faucet.rinkeby.io/" target="_blank" rel="noopener">Rinkeby Authenticated Faucet</a></li><li><a href="https://cryptozombies.io/zh/" target="_blank" rel="noopener">CryptoZombies - ç¼–æ¸¸æˆçš„åŒæ—¶å­¦ä¹ ä»¥å¤ªåŠçš„æ™ºèƒ½åè®®. Loom Network äº§å“ã€‚</a></li><li><a href="https://remix.ethereum.org/" target="_blank" rel="noopener">remix</a></li></ul></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> åŠ å¯†è´§å¸ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>leetcode 902. æœ€å¤§ä¸º N çš„æ•°å­—ç»„åˆ</title>
      <link href="/blog/2022/11/29/leetcode%20902.%20%E6%9C%80%E5%A4%A7%E4%B8%BA%20N%20%E7%9A%84%E6%95%B0%E5%AD%97%E7%BB%84%E5%90%88/"/>
      <url>/blog/2022/11/29/leetcode%20902.%20%E6%9C%80%E5%A4%A7%E4%B8%BA%20N%20%E7%9A%84%E6%95%B0%E5%AD%97%E7%BB%84%E5%90%88/</url>
      
        <content type="html"><![CDATA[<p>è¿™é¢˜æ˜¯æ•°ä½ dp ç±»å‹çš„é¢˜ï¼Œéå†å¯¹è±¡æœ‰ä¸¤ä¸ªï¼š</p><ol><li>éå† N çš„æ¯ä¸€ä½</li><li>éå† digits</li></ol><p>é—®é¢˜è§„æ¨¡æ˜¯ N çš„ä½æ•°ã€‚</p><p>çŠ¶æ€è½¬ç§»æ–¹ç¨‹æ˜¯è¿™æ ·æ€è€ƒå¾—å‡ºï¼š</p><p>åœ¨éå† digits æ—¶ï¼Œè®¾å½“å‰ digits çš„å€¼ä¸º digits[i]ï¼š</p><ol><li>å¦‚æœ digits[i]æ¯” N çš„ç¬¬ j ä½çš„æ•°å­—å°ï¼Œåˆ™ä½ä½çš„æ•°å­—å°±å¯ä»¥ä»»æ„ï¼Œé‚£ä¹ˆç”± digits[i]å¼€å¤´æ‰€äº§ç”Ÿçš„ç»„åˆæ•°æ˜¯ï¼š<code>digits.length**(j-1)</code>ã€‚</li><li>å¦‚æœ digits[i]ç­‰äº N çš„ç¬¬ j ä½æ•°å­—ï¼Œåˆ™è¿˜è¦ç»§ç»­å¯¹æ¯”ç¬¬ j-1 ä½æ‰çŸ¥é“èƒ½å¦å‡‘å‡ºä¸€ä¸ªæ¯” N å°çš„ï¼Œä¹Ÿå³é€’å½’ï¼Œç¼©å°é—®é¢˜è§„æ¨¡ã€‚äº§ç”Ÿç»„åˆï¼šdp[j-1]</li><li>å¦‚æœ digits[i]å¤§äº N çš„ç¬¬ j ä½æ•°å­—ï¼Œåˆ™åé¢ä½ä½çš„æ•°å­—ä¸ç®¡æ˜¯ä»€ä¹ˆï¼Œéƒ½å·²ç»ä¸èƒ½äº§ç”Ÿå°äº N çš„ç»„åˆäº†ã€‚äº§ç”Ÿç»„åˆï¼š0</li></ol><p>æŠŠæ¯ä¸ª digits[i]å¯¹åº”çš„ç»“æœåŠ èµ·æ¥ï¼Œå°±æ˜¯å½“å‰é—®é¢˜è§„æ¨¡ï¼ˆé—®é¢˜è§„æ¨¡ä¸ºï¼šjï¼‰çš„ç­”æ¡ˆã€‚</p><p>çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (digits[i] &lt; N[j]) &#123;</span><br><span class="line">  dp[j] += digits.length ** (j - <span class="number">1</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (digits[i] == N[j]) &#123;</span><br><span class="line">  dp[j] += dp[j - <span class="number">1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><a id="more"></a><p>ä»£ç ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">atMostNGivenDigitSet</span>(<span class="params">digits: string[], n: number</span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> nStr = n.toString();</span><br><span class="line">  <span class="keyword">const</span> dp = <span class="keyword">new</span> <span class="built_in">Array</span>(nStr.length).fill(<span class="number">0</span>);</span><br><span class="line">  <span class="keyword">const</span> memo = [];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>, res = <span class="number">1</span>; i &lt; nStr.length; i++) &#123;</span><br><span class="line">    memo.push((res = res * digits.length));</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; nStr.length; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; digits.length; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (digits[j] &lt; nStr[nStr.length - <span class="number">1</span> - i]) &#123;</span><br><span class="line">        dp[i] += i &gt; <span class="number">0</span> ? memo[i - <span class="number">1</span>] : <span class="number">1</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (digits[j] == nStr[nStr.length - <span class="number">1</span> - i]) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(digits[j], nStr[nStr.length - <span class="number">1</span> - i], dp);</span><br><span class="line">        dp[i] += i &gt; <span class="number">0</span> ? dp[i - <span class="number">1</span>] : <span class="number">1</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> memo.reduce(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a + b, <span class="number">0</span>) + dp[dp.length - <span class="number">1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> leetcode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue.jså“åº”ç³»ç»Ÿçš„å®ç° ç¬¬ä¸€ç¯‡</title>
      <link href="/blog/2022/11/06/vue.js%E5%93%8D%E5%BA%94%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%AE%9E%E7%8E%B0%20%E7%AC%AC%E4%B8%80%E7%AF%87/"/>
      <url>/blog/2022/11/06/vue.js%E5%93%8D%E5%BA%94%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%AE%9E%E7%8E%B0%20%E7%AC%AC%E4%B8%80%E7%AF%87/</url>
      
        <content type="html"><![CDATA[<h2 id="ä»€ä¹ˆæ˜¯å‰¯ä½œç”¨å‡½æ•°ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯å‰¯ä½œç”¨å‡½æ•°ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯å‰¯ä½œç”¨å‡½æ•°ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯å‰¯ä½œç”¨å‡½æ•°ï¼Ÿ</h2><p>å¦‚æœä¸€ä¸ªå‡½æ•°åªæ˜¯æ¥æ”¶è¾“å…¥ï¼Œç„¶åè¾“å‡ºï¼Œæ²¡æœ‰å½±å“å¤–éƒ¨ï¼ˆæ¯”å¦‚ä¿®æ”¹å¤–éƒ¨å˜é‡ï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±è¯´è¿™ä¸ªå‡½æ•°æ²¡æœ‰å‰¯ä½œç”¨ï¼Œåä¹‹å°±æ˜¯æœ‰å‰¯ä½œç”¨ã€‚ç†æƒ³çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¸Œæœ›æ‰€æœ‰çš„å‡½æ•°éƒ½å¾ˆçº¯ç²¹ï¼Œæ²¡æœ‰å‰¯ä½œç”¨ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">effect</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">document</span>.body.innerText = <span class="string">"hello vue3"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="Proxy"><a href="#Proxy" class="headerlink" title="Proxy"></a>Proxy</h2><p>æˆ‘ä»¬éƒ½çŸ¥é“ vue.js è¿™ç±»æ¡†æ¶æ˜¯å£°æ˜å¼çš„ï¼Œå½“æ•°æ®å‘ç”Ÿå˜åŒ–ï¼Œå®ƒå¯ä»¥ç›‘å¬åˆ°å¹¶é‡æ–°æ¸²æŸ“ï¼Œé‚£ä¹ˆè¿™ç§å“åº”ç³»ç»Ÿæ˜¯å¦‚ä½•å®ç°çš„å‘¢ï¼Ÿé¦–å…ˆä¸€ä¸ªé—®é¢˜å°±æ˜¯æ€ä¹ˆç›‘å¬åˆ°æ•°æ®çš„å˜åŒ–ã€‚ç­”æ¡ˆæ˜¯ Proxyï¼Œvue2 ç”¨äº†<code>Object.defineProperty()</code>å‡½æ•°ï¼Œè¿™æ˜¯ es2015 ä¹‹å‰çš„åšæ³•ï¼Œvue3 åˆ™æ˜¯ç”¨äº† es2015 å¸¦æ¥çš„æ–°ç‰¹æ€§ï¼š<code>Proxy</code>ã€‚</p><p>é€šè¿‡ Proxy æˆ‘ä»¬å¯ä»¥ç›‘å¬åˆ°æ•°æ®çš„å˜åŒ–ï¼ˆsetï¼‰ï¼Œé‚£å°±å¯ä»¥è°ƒç”¨å‰¯ä½œç”¨å‡½æ•°æ›´æ–° dom äº†ã€‚</p><p>æœ€ç®€å•çš„å“åº”ç³»ç»Ÿè®¾è®¡å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">effect</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">document</span>.body.innerText = data.text;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> data = &#123; <span class="attr">text</span>: <span class="string">"hello vue3"</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> obj = <span class="keyword">new</span> <span class="built_in">Proxy</span>(data, &#123;</span><br><span class="line">  <span class="keyword">get</span>(target, key) &#123;</span><br><span class="line">    <span class="keyword">return</span> target[key];</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="keyword">set</span>(target, key, value) &#123;</span><br><span class="line">    target[key] = value;</span><br><span class="line">    effect(target);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// é¦–æ¬¡æ¸²æŸ“</span></span><br><span class="line">effect(data);</span><br><span class="line"><span class="comment">// setæ“ä½œï¼Œè§¦å‘é‡æ–°æ¸²æŸ“</span></span><br><span class="line">obj.text = <span class="string">"11"</span>; <span class="comment">// è¿™é‡Œå¿…é¡»è¦ä¿®æ”¹objå¯¹è±¡ï¼ˆæ”¹dataæ˜¯ç›‘å¬ä¸åˆ°çš„ï¼‰</span></span><br></pre></td></tr></table></figure><p>ä¸‹é¢å¼€å§‹ï¼Œéƒ½æ˜¯éœ€æ±‚å˜åŒ–äº§ç”Ÿçš„ä»£ç å˜åŒ–äº†ã€‚</p><ol><li>å¦‚æœæœ‰å¤šä¸ªå‰¯ä½œç”¨å‡½æ•°éœ€è¦æ³¨å†Œï¼Œæ€ä¹ˆåŠï¼Ÿ</li><li>å¦‚æœè¿™äº›å¤šä¸ªå‰¯ä½œç”¨å‡½æ•°ï¼Œç›‘å¬çš„æ˜¯è¿™ä¸ªå¯¹è±¡çš„ä¸åŒ keyï¼Œæ€ä¹ˆåŠï¼Ÿ</li><li>å¦‚æœè¿™äº›å¤šä¸ªå‰¯ä½œç”¨å‡½æ•°ï¼Œç›‘å¬çš„æ˜¯å¤šä¸ªå¯¹è±¡çš„ä¸åŒ keyï¼Œæ€ä¹ˆåŠï¼Ÿ</li><li>åˆ†æ”¯åˆ‡æ¢</li></ol><h2 id="å¦‚æœæœ‰å¤šä¸ªå‰¯ä½œç”¨å‡½æ•°éœ€è¦æ³¨å†Œï¼Œæ€ä¹ˆåŠï¼Ÿ"><a href="#å¦‚æœæœ‰å¤šä¸ªå‰¯ä½œç”¨å‡½æ•°éœ€è¦æ³¨å†Œï¼Œæ€ä¹ˆåŠï¼Ÿ" class="headerlink" title="å¦‚æœæœ‰å¤šä¸ªå‰¯ä½œç”¨å‡½æ•°éœ€è¦æ³¨å†Œï¼Œæ€ä¹ˆåŠï¼Ÿ"></a>å¦‚æœæœ‰å¤šä¸ªå‰¯ä½œç”¨å‡½æ•°éœ€è¦æ³¨å†Œï¼Œæ€ä¹ˆåŠï¼Ÿ</h2><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">effect1</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">document</span>.body.innerText = data.text;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">effect2</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">document</span>.body.setAttribute(data.text);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> data = &#123; <span class="attr">text</span>: <span class="string">"hello vue3"</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> obj = <span class="keyword">new</span> <span class="built_in">Proxy</span>(data, &#123;</span><br><span class="line">  <span class="keyword">get</span>(target, key) &#123;</span><br><span class="line">    <span class="keyword">return</span> target[key];</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="keyword">set</span>(target, key, value) &#123;</span><br><span class="line">    target[key] = value;</span><br><span class="line">    effect1(target);</span><br><span class="line">    effect2(target);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// é¦–æ¬¡æ¸²æŸ“</span></span><br><span class="line">effect1(obj);</span><br><span class="line">effect2(obj);</span><br><span class="line"><span class="comment">// setæ“ä½œï¼Œè§¦å‘é‡æ–°æ¸²æŸ“</span></span><br><span class="line">obj.text = <span class="string">"11"</span>; <span class="comment">// è¿™é‡Œå¿…é¡»è¦ä¿®æ”¹objå¯¹è±¡ï¼ˆæ”¹dataæ˜¯ç›‘å¬ä¸åˆ°çš„ï¼‰</span></span><br></pre></td></tr></table></figure><p>è¿™æ ·å†™ï¼Œæ˜¾ç„¶å¾ˆä¸çµæ´»ï¼ˆå› ä¸ºè¦å»ä¿®æ”¹å·²ç»å†™å¥½çš„ä»£ç ï¼‰ï¼Œé‚£ä¹ˆæ€ä¹ˆè®¾è®¡æ‰èƒ½ä¸å»åŠ¨å·²ç»å†™å¥½çš„ä»£ç å‘¢ï¼Ÿç­”æ¡ˆæ˜¯ä¼ å›è°ƒå‡½æ•°ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> bucket = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">useEffect</span>(<span class="params">fn, data</span>) </span>&#123;</span><br><span class="line">  bucket.add(fn);</span><br><span class="line">  <span class="keyword">return</span> fn(data);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> data = &#123; <span class="attr">text</span>: <span class="string">"hello vue3"</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> obj = <span class="keyword">new</span> <span class="built_in">Proxy</span>(data, &#123;</span><br><span class="line">  <span class="keyword">get</span>(target, key) &#123;</span><br><span class="line">    <span class="keyword">return</span> target[key];</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="keyword">set</span>(target, key, value) &#123;</span><br><span class="line">    target[key] = value;</span><br><span class="line">    bucket.forEach(<span class="function">(<span class="params">fn</span>) =&gt;</span> fn(target));</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// é¦–æ¬¡æ¸²æŸ“</span></span><br><span class="line">useEffect(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">document</span>.body.innerText = data.text;</span><br><span class="line">&#125;, data);</span><br><span class="line">useEffect(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">document</span>.body.setAttribute(<span class="string">"a"</span>, data.text);</span><br><span class="line">&#125;, data);</span><br><span class="line"><span class="comment">// setæ“ä½œï¼Œè§¦å‘é‡æ–°æ¸²æŸ“</span></span><br><span class="line">obj.text = <span class="string">"11"</span>; <span class="comment">// è¿™é‡Œå¿…é¡»è¦ä¿®æ”¹objå¯¹è±¡ï¼ˆæ”¹dataæ˜¯ç›‘å¬ä¸åˆ°çš„ï¼‰</span></span><br></pre></td></tr></table></figure><p>è¿™æ ·çš„å†™æ³•ï¼Œæ˜¯ä¸æ˜¯å¾ˆåƒ react çš„ useEffect()äº†ã€‚</p><h2 id="å¦‚æœè¿™äº›å¤šä¸ªå‰¯ä½œç”¨å‡½æ•°ï¼Œç›‘å¬çš„æ˜¯è¿™ä¸ªå¯¹è±¡çš„ä¸åŒ-keyï¼Œæ€ä¹ˆåŠï¼Ÿ"><a href="#å¦‚æœè¿™äº›å¤šä¸ªå‰¯ä½œç”¨å‡½æ•°ï¼Œç›‘å¬çš„æ˜¯è¿™ä¸ªå¯¹è±¡çš„ä¸åŒ-keyï¼Œæ€ä¹ˆåŠï¼Ÿ" class="headerlink" title="å¦‚æœè¿™äº›å¤šä¸ªå‰¯ä½œç”¨å‡½æ•°ï¼Œç›‘å¬çš„æ˜¯è¿™ä¸ªå¯¹è±¡çš„ä¸åŒ keyï¼Œæ€ä¹ˆåŠï¼Ÿ"></a>å¦‚æœè¿™äº›å¤šä¸ªå‰¯ä½œç”¨å‡½æ•°ï¼Œç›‘å¬çš„æ˜¯è¿™ä¸ªå¯¹è±¡çš„ä¸åŒ keyï¼Œæ€ä¹ˆåŠï¼Ÿ</h2><p>ç”¨ä¸ª Mapï¼Œè®© key å’Œå›è°ƒå‡½æ•°ä¸€ä¸€å¯¹åº”å³å¯ï¼Œä½†å¦‚ä½•çŸ¥é“å‰¯ä½œç”¨å‡½æ•°ç”¨äº†å“ªä¸ª key å‘¢ï¼Ÿå¦‚æœæ˜¯åœ¨ useEffect é‡Œé¢æ˜¾ç„¶æ˜¯ä¸çŸ¥é“çš„ï¼Œä½†ç”¨æ²¡ç”¨ keyï¼Œç”¨äº†å“ªä¸ª keyï¼ŒProxy é‡Œé¢çš„ get æ‹¦æˆªå‡½æ•°æ˜¯ä¸€æ¸…äºŒæ¥šçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åº”è¯¥åœ¨è¿™é‡Œæ·»åŠ å‰¯ä½œç”¨å‡½æ•°ï¼ä½† get æ‹¦æˆªå‡½æ•°é‡Œé¢åˆä¸çŸ¥é“ï¼Œå½“å‰è·å–æ•°æ®çš„å‡½æ•°æ˜¯å“ªä¸ªï¼Œå¾ˆç®€å•ï¼Œæˆ‘ä»¬è®¾ç½®ä¸€ä¸ª activeEffect æ¥è®°å½•å½“å‰çš„å‡½æ•°ã€‚ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸€ä½†æˆ‘ä»¬å¼€å§‹åœ¨ get é‡Œé¢æ³¨å†Œå“åº”ï¼Œæ¯æ¬¡è°ƒç”¨å‰¯ä½œç”¨å‡½æ•°å°±ä¼šè°ƒç”¨æ³¨å†Œå“åº”ï¼Œè¿™ä¸ªæ—¶å€™éœ€è¦æ›´æ–° activeEffectã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> activeEffect;</span><br><span class="line"><span class="keyword">const</span> bucket = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">useEffect</span>(<span class="params">fn, data</span>) </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">effectFn</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">    activeEffect = effectFn;</span><br><span class="line">    <span class="keyword">return</span> fn(data);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> effectFn(data);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> data = &#123; <span class="attr">text</span>: <span class="string">"hello vue3"</span>, <span class="attr">a</span>: <span class="string">"11"</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> obj = <span class="keyword">new</span> <span class="built_in">Proxy</span>(data, &#123;</span><br><span class="line">  <span class="keyword">get</span>(target, key) &#123;</span><br><span class="line">    <span class="keyword">if</span> (activeEffect) &#123;</span><br><span class="line">      <span class="keyword">const</span> effects = bucket.get(key);</span><br><span class="line">      <span class="keyword">if</span> (!effects) &#123;</span><br><span class="line">        bucket.set(key, <span class="keyword">new</span> <span class="built_in">Set</span>([activeEffect]));</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        effects.add(activeEffect);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> target[key];</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="keyword">set</span>(target, key, value) &#123;</span><br><span class="line">    target[key] = value;</span><br><span class="line">    <span class="keyword">const</span> effects = bucket.get(key);</span><br><span class="line">    effects &amp;&amp; effects.forEach(<span class="function">(<span class="params">fn</span>) =&gt;</span> fn(target));</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// é¦–æ¬¡æ¸²æŸ“</span></span><br><span class="line">useEffect(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">document</span>.body.innerText = data.text;</span><br><span class="line">&#125;, obj); <span class="comment">// è¿™é‡Œä¹Ÿè¦ä¼ objäº†ï¼Œä¸ç„¶getçš„æ—¶å€™ï¼Œä¹Ÿæ˜¯ç›‘å¬ä¸åˆ°çš„</span></span><br><span class="line">useEffect(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">document</span>.body.setAttribute(<span class="string">"a"</span>, data.a);</span><br><span class="line">&#125;, obj);</span><br><span class="line"><span class="comment">// setæ“ä½œï¼Œè§¦å‘é‡æ–°æ¸²æŸ“</span></span><br><span class="line">obj.text = <span class="string">"hello aaaa"</span>; <span class="comment">// è¿™é‡Œå¿…é¡»è¦ä¿®æ”¹objå¯¹è±¡ï¼ˆæ”¹dataæ˜¯ç›‘å¬ä¸åˆ°çš„ï¼‰</span></span><br><span class="line">obj.a = <span class="string">"222"</span>;</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±å®ç°äº†å¯¹å•ä¸ªå¯¹è±¡çš„å¤šä¸ªä¸åŒ key æ³¨å†Œå¤šä¸ªå‰¯ä½œç”¨å‡½æ•°ï¼Œè¿›è¡Œå“åº”å¼æ¸²æŸ“ã€‚</p><p>è€Œä¸”ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå…¶ä¸­å¤„ç†å‰¯ä½œç”¨å‡½æ•°çš„é€»è¾‘æŠ½å‡ºæ¥ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> activeEffect;</span><br><span class="line"><span class="keyword">const</span> bucket = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">useEffect</span>(<span class="params">fn, data</span>) </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">effectFn</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">    activeEffect = effectFn;</span><br><span class="line">    <span class="keyword">return</span> fn(data);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> effectFn(data);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> data = &#123; <span class="attr">text</span>: <span class="string">"hello vue3"</span>, <span class="attr">a</span>: <span class="string">"11"</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> obj = <span class="keyword">new</span> <span class="built_in">Proxy</span>(data, &#123;</span><br><span class="line">  <span class="keyword">get</span>(target, key) &#123;</span><br><span class="line">    track(key);</span><br><span class="line">    <span class="keyword">return</span> target[key];</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="keyword">set</span>(target, key, value) &#123;</span><br><span class="line">    target[key] = value;</span><br><span class="line">    trigger(target, key);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">track</span>(<span class="params">key</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (activeEffect) &#123;</span><br><span class="line">    <span class="keyword">const</span> effects = bucket.get(key);</span><br><span class="line">    <span class="keyword">if</span> (!effects) &#123;</span><br><span class="line">      bucket.set(key, <span class="keyword">new</span> <span class="built_in">Set</span>([activeEffect]));</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      effects.add(activeEffect);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">trigger</span>(<span class="params">target, key</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> effects = bucket.get(key);</span><br><span class="line">  effects &amp;&amp; effects.forEach(<span class="function">(<span class="params">fn</span>) =&gt;</span> fn(target));</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// é¦–æ¬¡æ¸²æŸ“</span></span><br><span class="line">useEffect(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">document</span>.body.innerText = data.text;</span><br><span class="line">&#125;, obj);</span><br><span class="line">useEffect(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">document</span>.body.setAttribute(<span class="string">"a"</span>, data.a);</span><br><span class="line">&#125;, obj);</span><br><span class="line"><span class="comment">// setæ“ä½œï¼Œè§¦å‘é‡æ–°æ¸²æŸ“</span></span><br><span class="line">obj.text = <span class="string">"hello aaaa"</span>;</span><br><span class="line">obj.a = <span class="string">"222"</span>;</span><br></pre></td></tr></table></figure><h2 id="å¦‚æœè¿™äº›å¤šä¸ªå‰¯ä½œç”¨å‡½æ•°ï¼Œç›‘å¬çš„æ˜¯å¤šä¸ªå¯¹è±¡çš„ä¸åŒ-keyï¼Œæ€ä¹ˆåŠï¼Ÿ"><a href="#å¦‚æœè¿™äº›å¤šä¸ªå‰¯ä½œç”¨å‡½æ•°ï¼Œç›‘å¬çš„æ˜¯å¤šä¸ªå¯¹è±¡çš„ä¸åŒ-keyï¼Œæ€ä¹ˆåŠï¼Ÿ" class="headerlink" title="å¦‚æœè¿™äº›å¤šä¸ªå‰¯ä½œç”¨å‡½æ•°ï¼Œç›‘å¬çš„æ˜¯å¤šä¸ªå¯¹è±¡çš„ä¸åŒ keyï¼Œæ€ä¹ˆåŠï¼Ÿ"></a>å¦‚æœè¿™äº›å¤šä¸ªå‰¯ä½œç”¨å‡½æ•°ï¼Œç›‘å¬çš„æ˜¯å¤šä¸ªå¯¹è±¡çš„ä¸åŒ keyï¼Œæ€ä¹ˆåŠï¼Ÿ</h2><p>å†åŠ ä¸€ä¸ª Map å³å¯ï¼Œè€Œä¸”ç”±äºé”®æ˜¯ä¸ªå¯¹è±¡ï¼Œæœ€å¥½ç”¨ WeakMapï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> activeEffect;</span><br><span class="line"><span class="keyword">const</span> bucket = <span class="keyword">new</span> <span class="built_in">WeakMap</span>();</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">useEffect</span>(<span class="params">fn, data</span>) </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">effectFn</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">    activeEffect = effectFn;</span><br><span class="line">    <span class="keyword">return</span> fn(data);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> effectFn(data);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> data1 = &#123; <span class="attr">text</span>: <span class="string">"hello vue3"</span>, <span class="attr">a</span>: <span class="string">"11"</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> data2 = &#123; <span class="attr">text2</span>: <span class="string">"hello vue2"</span>, <span class="attr">b</span>: <span class="string">"22"</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> obj1 = createProxyObj(data1);</span><br><span class="line"><span class="keyword">const</span> obj2 = createProxyObj(data2);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createProxyObj</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Proxy</span>(data, &#123;</span><br><span class="line">    <span class="keyword">get</span>(target, key) &#123;</span><br><span class="line">      track(target, key);</span><br><span class="line">      <span class="keyword">return</span> target[key];</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="keyword">set</span>(target, key, value) &#123;</span><br><span class="line">      target[key] = value;</span><br><span class="line">      trigger(target, key);</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">track</span>(<span class="params">target, key</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (activeEffect) &#123;</span><br><span class="line">    <span class="keyword">let</span> effectsOnTarget = bucket.get(target);</span><br><span class="line">    <span class="keyword">if</span> (!effectsOnTarget) &#123;</span><br><span class="line">      bucket.set(target, (effectsOnTarget = <span class="keyword">new</span> <span class="built_in">Map</span>()));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> effects = effectsOnTarget.get(key);</span><br><span class="line">    <span class="keyword">if</span> (!effects) &#123;</span><br><span class="line">      effectsOnTarget.set(key, (effects = <span class="keyword">new</span> <span class="built_in">Set</span>()));</span><br><span class="line">    &#125;</span><br><span class="line">    effects.add(activeEffect);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">trigger</span>(<span class="params">target, key</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> effectsOnTarget = bucket.get(target);</span><br><span class="line">  <span class="keyword">if</span> (effectsOnTarget) &#123;</span><br><span class="line">    <span class="keyword">const</span> effects = effectsOnTarget.get(key);</span><br><span class="line">    effects &amp;&amp; effects.forEach(<span class="function">(<span class="params">fn</span>) =&gt;</span> fn(target));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// é¦–æ¬¡æ¸²æŸ“</span></span><br><span class="line">useEffect(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">document</span>.body.innerText = data.text;</span><br><span class="line">&#125;, obj1);</span><br><span class="line">useEffect(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">document</span>.body.setAttribute(<span class="string">"b"</span>, data.b);</span><br><span class="line">&#125;, obj2);</span><br><span class="line"><span class="comment">// setæ“ä½œï¼Œè§¦å‘é‡æ–°æ¸²æŸ“</span></span><br><span class="line">obj1.text = <span class="string">"hello aaaa"</span>;</span><br><span class="line">obj2.b = <span class="string">"333"</span>;</span><br></pre></td></tr></table></figure><h2 id="åˆ†æ”¯åˆ‡æ¢"><a href="#åˆ†æ”¯åˆ‡æ¢" class="headerlink" title="åˆ†æ”¯åˆ‡æ¢"></a>åˆ†æ”¯åˆ‡æ¢</h2><p>ç›®å‰æ¥è¯´ï¼š</p><ol><li>é¦–æ¬¡æ‰§è¡Œå‰¯ä½œç”¨å‡½æ•°ä¼šè§¦å‘ getï¼Œget ä¼šæŠŠå‰¯ä½œç”¨å‡½æ•°æ·»åŠ ä¸ºå“åº”å‡½æ•°ã€‚</li><li>ç„¶åæ›´æ–°å€¼çš„æ—¶å€™ä¼šè§¦å‘ setï¼Œset ä¼šæ‰§è¡Œå“åº”å‡½æ•°ï¼Œæ‰§è¡Œå“åº”å‡½æ•°åˆä¼šè§¦å‘ getï¼Œget ä¼šæŠŠå‰¯ä½œç”¨å‡½æ•°æ·»åŠ ä¸ºå“åº”å‡½æ•°ã€‚</li></ol><p>ä¹Ÿå°±æ˜¯è¯´æ¯æ¬¡æ›´æ–°å€¼éƒ½ä¼šé‡æ–°æ·»åŠ å“åº”å‡½æ•°ï¼Œä¼¼ä¹å¾ˆå†—ä½™ï¼Œèƒ½å¦åªæ‰§è¡Œä¸€æ¬¡å‘¢ï¼Ÿç­”æ¡ˆæ˜¯ä¸èƒ½ï¼Œå› ä¸ºå¯èƒ½å­˜åœ¨åˆ†æ”¯ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> data = &#123; <span class="attr">ok</span>: <span class="literal">true</span>, <span class="attr">text</span>: <span class="string">"hello world"</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> obj = <span class="keyword">new</span> <span class="built_in">Proxy</span>(data, &#123;</span><br><span class="line">  <span class="comment">/* ... */</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">useEffect(<span class="function"><span class="keyword">function</span> <span class="title">effectFn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">document</span>.body.innerText = obj.ok ? obj.text : <span class="string">"not"</span>;</span><br><span class="line">&#125;, obj);</span><br></pre></td></tr></table></figure><p>å½“ obj.ok ä¸º true çš„æ—¶å€™ï¼Œobj.text çš„å“åº”å‡½æ•°ä¼šè®°å½•ä¸‹å‰¯ä½œç”¨å‡½æ•°ï¼Œä½†å¦‚æœ obj.ok ä¸º false çš„æ—¶å€™ï¼Œä¿®æ”¹ obj.text å…¶å®ä¸ç”¨æ‰§è¡Œå‰¯ä½œç”¨å‡½æ•°äº†ï¼Œä½†ç”±äºä¹‹å‰æ·»åŠ è¿‡ï¼Œæ‰€ä»¥è¿˜æ˜¯ä¼šæ‰§è¡Œã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬ä¸ä»…è¦é‡æ–°æ·»åŠ å“åº”å‡½æ•°ï¼Œè¿˜éœ€è¦æ¸…ç†ä¹‹å‰æ·»åŠ çš„ã€‚è¿™æ ·æ¯æ¬¡æ·»åŠ çš„å“åº”å‡½æ•°æ‰ä¼šæ˜¯å‡†ç¡®æ— è¯¯çš„ã€‚</p><p>ä¸ºäº†æ¸…ç†å“åº”å‡½æ•°ï¼Œæ¯”è¾ƒç²—æš´ä¸€ç‚¹çš„æ˜¯éå† bucket ä¸­çš„æ¯ä¸ª target çš„æ¯ä¸ª keyï¼Œç„¶åå¯¹å…¶ set é›†åˆæ‰§è¡Œ delete()æ–¹æ³•ï¼Œä½†è¿™æ ·æ˜¾ç„¶ä¸å¤ªå¥½ï¼Œæˆ‘ä»¬å¯ä»¥è®°å½•ä¸€ä¸‹å“ªäº›é›†åˆå­˜äº†å½“å‰å‰¯ä½œç”¨å‡½æ•°ï¼Œåªå¯¹è¿™äº›é›†åˆæ‰§è¡Œ delete()æ–¹æ³•ã€‚</p><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">useEffect</span>(<span class="params">fn, data</span>) </span>&#123;</span><br><span class="line">  effectFn.records = [];</span><br><span class="line">  <span class="keyword">return</span> effectFn(data);</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">effectFn</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">    cleanup(effectFn);</span><br><span class="line">    activeEffect = effectFn;</span><br><span class="line">    <span class="keyword">return</span> fn(data);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">cleanup</span>(<span class="params">effectFn</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; effectFn.records.length; i++) &#123;</span><br><span class="line">        effectFn.records[i].delete(fn);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">track</span>(<span class="params">target, key</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (activeEffect) &#123;</span><br><span class="line">    <span class="keyword">let</span> effectsOnTarget = bucket.get(target);</span><br><span class="line">    <span class="keyword">if</span> (!effectsOnTarget) &#123;</span><br><span class="line">      bucket.set(target, (effectsOnTarget = <span class="keyword">new</span> <span class="built_in">Map</span>()));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> effects = effectsOnTarget.get(key);</span><br><span class="line">    <span class="keyword">if</span> (!effects) &#123;</span><br><span class="line">      effectsOnTarget.set(key, (effects = <span class="keyword">new</span> <span class="built_in">Set</span>()));</span><br><span class="line">    &#125;</span><br><span class="line">    effects.add(activeEffect);</span><br><span class="line">    activeEffect.records.push(effects); <span class="comment">// æ–°å¢</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬æ”¹å†™äº† useEffectï¼Œå¢åŠ äº†ä¸€ä¸ª records æ¥è®°å½•éœ€è¦æ¸…ç†å“ªäº›é›†åˆï¼Œåœ¨æ¯æ¬¡é‡æ–°æ·»åŠ å“åº”ä¹‹å‰ï¼Œæ¸…ç†æ‰æ—§çš„å“åº”ã€‚å¹¶åœ¨ track å‡½æ•°é‡Œé¢å¯¹è¿™ä¸ª records è¿›è¡Œå¡«å……ã€‚</p><p>ä½†è¿˜å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œè¿™ä¸ªé—®é¢˜æ¯”è¾ƒéšç§˜ï¼Œé‚£å°±æ˜¯éå†çš„æ—¶å€™å¯¹éå†å¯¹è±¡è¿›è¡Œ add å’Œ delete æ“ä½œï¼Œtrigger ä¸­æˆ‘ä»¬æ‰§è¡Œå“åº”å‡½æ•°ï¼Œå“åº”å‡½æ•°ä¼šå¯¹æ¡¶å…ˆ cleanup å†é‡æ–°æ·»åŠ ï¼Œä½†è¿™ä¸ªæ—¶å€™æˆ‘ä»¬è¿˜åœ¨éå†æ¡¶å•Šï¼Œæ‰€ä»¥å°±ç›¸å½“äºè¿™æ ·ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">set</span> = new Set([1]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">set</span>.forEach((item) =&gt; &#123;</span><br><span class="line">  <span class="keyword">set</span>.delete(1);</span><br><span class="line">  <span class="keyword">set</span>.add(1);</span><br><span class="line">  console.log("éå†ä¸­");</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>è¿™ä¼šé€ æˆæ­»å¾ªç¯ï¼Œè§£å†³çš„åŠæ³•ï¼Œè‡ªç„¶æ˜¯ä¸å¯¹éå†çš„å¯¹è±¡å¢åˆ ï¼Œæ–°æä¸ªå¯¹è±¡è¿›è¡Œå¢åˆ ã€‚ä¿®æ”¹åçš„ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">trigger</span>(<span class="params">target, key</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> effectsOnTarget = bucket.get(target);</span><br><span class="line">  <span class="keyword">if</span> (effectsOnTarget) &#123;</span><br><span class="line">    <span class="keyword">const</span> effects = effectsOnTarget.get(key);</span><br><span class="line">    effects &amp;&amp; [...effects].forEach(<span class="function">(<span class="params">fn</span>) =&gt;</span> fn(target)); <span class="comment">// ä¿®æ”¹ï¼Œä¸å¯¹åŸé›†åˆè¿›è¡Œä¸€è¾¹éå†ä¸€è¾¹å¢åˆ </span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScript é—­åŒ…</title>
      <link href="/blog/2022/07/14/JavaScript%E9%97%AD%E5%8C%85/"/>
      <url>/blog/2022/07/14/JavaScript%E9%97%AD%E5%8C%85/</url>
      
        <content type="html"><![CDATA[<h1 id="é—­åŒ…æ˜¯å¹²ä»€ä¹ˆç”¨çš„"><a href="#é—­åŒ…æ˜¯å¹²ä»€ä¹ˆç”¨çš„" class="headerlink" title="é—­åŒ…æ˜¯å¹²ä»€ä¹ˆç”¨çš„"></a>é—­åŒ…æ˜¯å¹²ä»€ä¹ˆç”¨çš„</h1><p>æœ¬è´¨ä¸Šé—­åŒ…å°±æ˜¯ä¸ºäº†æ‹“å±•æŸ¥æ‰¾è‡ªç”±å˜é‡çš„èŒƒå›´</p><p>MDN å¯¹é—­åŒ…çš„å®šä¹‰ä¸ºï¼š</p><p>A closure is the combination of a function bundled together (enclosed) with references to its surrounding state (the lexical environment)</p><p>ä¸€ä¸ªå‡½æ•°å’Œå¯¹å…¶å‘¨å›´çŠ¶æ€ï¼ˆlexical environmentï¼Œè¯æ³•ç¯å¢ƒï¼‰çš„å¼•ç”¨æ†ç»‘åœ¨ä¸€èµ·ï¼ˆæˆ–è€…è¯´å‡½æ•°è¢«å¼•ç”¨åŒ…å›´ï¼‰ï¼Œè¿™æ ·çš„ç»„åˆå°±æ˜¯é—­åŒ…ï¼ˆclosureï¼‰ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">init</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> name = <span class="string">'Mozilla'</span>; <span class="comment">// name is a local variable created by init</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">displayName</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// displayName() is the inner function, a closure</span></span><br><span class="line">    <span class="built_in">console</span>.log(name); <span class="comment">// use variable declared in the parent function</span></span><br><span class="line">  &#125;</span><br><span class="line">  displayName();</span><br><span class="line">&#125;</span><br><span class="line">init();</span><br></pre></td></tr></table></figure><p>name æ˜¯ displayName å‡½æ•°æ‰€å¤„ç¯å¢ƒä¸­çš„å˜é‡ï¼Œå®ƒä»¬ä¸€èµ·æ„æˆäº†é—­åŒ…ã€‚è€Œé—­åŒ…çš„å®ç°ä¾èµ–äºæ‰§è¡Œä¸Šä¸‹æ–‡ä¸­çš„ä½œç”¨åŸŸé“¾ã€‚</p><p>ä¸Šé¢è¿™ä¸ªä¾‹å­æœ‰ç‚¹å¹³å¹³æ— å¥‡äº†ï¼Œè®©æˆ‘ä»¬çœ‹ä¸€ä¸ªç¥å¥‡ä¸€ç‚¹çš„ä¾‹å­ï¼š</p><a id="more"></a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> scope = <span class="string">"global scope"</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkscope</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> scope = <span class="string">"local scope"</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> scope;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> f;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> foo = checkscope();</span><br><span class="line">foo();</span><br></pre></td></tr></table></figure><p>è¿™é‡Œç›´æ¥ç»™å‡ºç®€è¦çš„æ‰§è¡Œè¿‡ç¨‹ï¼š</p><ol><li>è¿›å…¥å…¨å±€ä»£ç ï¼Œåˆ›å»ºå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡å‹å…¥æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ</li><li>å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡åˆå§‹åŒ–</li><li>æ‰§è¡Œ checkscope å‡½æ•°ï¼Œåˆ›å»º checkscope å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œcheckscope æ‰§è¡Œä¸Šä¸‹æ–‡è¢«å‹å…¥æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ</li><li>checkscope æ‰§è¡Œä¸Šä¸‹æ–‡åˆå§‹åŒ–ï¼Œåˆ›å»ºå˜é‡å¯¹è±¡ã€ä½œç”¨åŸŸé“¾ã€this ç­‰</li><li>checkscope å‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œcheckscope æ‰§è¡Œä¸Šä¸‹æ–‡ä»æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆä¸­å¼¹å‡º</li><li>æ‰§è¡Œ f å‡½æ•°ï¼Œåˆ›å»º f å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œf æ‰§è¡Œä¸Šä¸‹æ–‡è¢«å‹å…¥æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ</li><li>f æ‰§è¡Œä¸Šä¸‹æ–‡åˆå§‹åŒ–ï¼Œåˆ›å»ºå˜é‡å¯¹è±¡ã€ä½œç”¨åŸŸé“¾ã€this ç­‰</li><li>f å‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œf å‡½æ•°ä¸Šä¸‹æ–‡ä»æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆä¸­å¼¹å‡º</li></ol><p>äº†è§£åˆ°è¿™ä¸ªè¿‡ç¨‹ï¼Œæˆ‘ä»¬åº”è¯¥æ€è€ƒä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯ï¼š</p><p>å½“ f å‡½æ•°æ‰§è¡Œçš„æ—¶å€™ï¼Œcheckscope å‡½æ•°ä¸Šä¸‹æ–‡å·²ç»è¢«é”€æ¯äº†å•Š(å³ä»æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆä¸­è¢«å¼¹å‡º)ï¼Œæ€ä¹ˆè¿˜ä¼šè¯»å–åˆ° checkscope ä½œç”¨åŸŸä¸‹çš„ scope å€¼å‘¢ï¼Ÿ</p><p>ä»¥ä¸Šçš„ä»£ç ï¼Œè¦æ˜¯è½¬æ¢æˆ PHPï¼Œå°±ä¼šæŠ¥é”™ï¼Œå› ä¸ºåœ¨ PHP ä¸­ï¼Œf å‡½æ•°åªèƒ½è¯»å–åˆ°è‡ªå·±ä½œç”¨åŸŸå’Œå…¨å±€ä½œç”¨åŸŸé‡Œçš„å€¼ï¼Œæ‰€ä»¥è¯»ä¸åˆ° checkscope ä¸‹çš„ scope å€¼ã€‚</p><p>ç„¶è€Œ JavaScript å´æ˜¯å¯ä»¥çš„ï¼</p><p>å½“æˆ‘ä»¬äº†è§£äº†å…·ä½“çš„æ‰§è¡Œè¿‡ç¨‹åï¼Œæˆ‘ä»¬çŸ¥é“ f æ‰§è¡Œä¸Šä¸‹æ–‡ç»´æŠ¤äº†ä¸€ä¸ªä½œç”¨åŸŸé“¾ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fContext = &#123;</span><br><span class="line">  Scope: [AO, checkscopeContext.AO, globalContext.VO],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å¯¹çš„ï¼Œå°±æ˜¯å› ä¸ºè¿™ä¸ªä½œç”¨åŸŸé“¾ï¼Œf å‡½æ•°ä¾ç„¶å¯ä»¥è¯»å–åˆ° checkscopeContext.AO çš„å€¼ï¼Œè¯´æ˜å½“ f å‡½æ•°å¼•ç”¨äº† checkscopeContext.AO ä¸­çš„å€¼çš„æ—¶å€™ï¼Œå³ä½¿ checkscopeContext è¢«é”€æ¯äº†ï¼Œä½†æ˜¯ JavaScript ä¾ç„¶ä¼šè®© checkscopeContext.AO æ´»åœ¨å†…å­˜ä¸­ï¼ˆå› ä¸ºè¿˜æœ‰åˆ«çš„å¼•ç”¨åœ¨ï¼Œæ‰€ä»¥ä¸ä¼šè¿›è¡Œåƒåœ¾å›æ”¶ï¼‰ï¼Œf å‡½æ•°ä¾ç„¶å¯ä»¥é€šè¿‡ f å‡½æ•°çš„ä½œç”¨åŸŸé“¾æ‰¾åˆ°å®ƒï¼Œæ­£æ˜¯å› ä¸º JavaScript åšåˆ°äº†è¿™ä¸€ç‚¹ï¼Œä»è€Œå®ç°äº†é—­åŒ…è¿™ä¸ªæ¦‚å¿µã€‚</p><p>æ‰€ä»¥ï¼Œè®©æˆ‘ä»¬å†çœ‹ä¸€éå®è·µè§’åº¦ä¸Šé—­åŒ…çš„å®šä¹‰ï¼š</p><ul><li>å³ä½¿åˆ›å»ºå®ƒçš„ä¸Šä¸‹æ–‡å·²ç»é”€æ¯ï¼Œå®ƒä»ç„¶å­˜åœ¨ï¼ˆæ¯”å¦‚ï¼Œå†…éƒ¨å‡½æ•°ä»çˆ¶å‡½æ•°ä¸­è¿”å›ï¼‰</li><li>åœ¨ä»£ç ä¸­å¼•ç”¨äº†è‡ªç”±å˜é‡</li></ul><p>åœ¨è¿™é‡Œå†è¡¥å……ä¸€ä¸ªã€ŠJavaScript æƒå¨æŒ‡å—ã€‹è‹±æ–‡åŸç‰ˆå¯¹é—­åŒ…çš„å®šä¹‰:</p><blockquote><p>This combination of a function object and a scope (a set of variable bindings) in which the functionâ€™s variables are resolved is called a closure in the computer science literature.</p></blockquote><p>é—­åŒ…åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ä¹Ÿåªæ˜¯ä¸€ä¸ªæ™®é€šçš„æ¦‚å¿µï¼Œå¤§å®¶ä¸è¦å»æƒ³å¾—å¤ªå¤æ‚ã€‚</p><h1 id="ç»å…¸é¢è¯•é¢˜"><a href="#ç»å…¸é¢è¯•é¢˜" class="headerlink" title="ç»å…¸é¢è¯•é¢˜"></a>ç»å…¸é¢è¯•é¢˜</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> data = [];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">  data[i] = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">data[<span class="number">0</span>]();</span><br><span class="line">data[<span class="number">1</span>]();</span><br><span class="line">data[<span class="number">2</span>]();</span><br></pre></td></tr></table></figure><p>ç­”æ¡ˆæ˜¯å…¨æ˜¯ 3ï¼Œå› ä¸ºè¿™é‡Œçš„ i æ˜¯ç›´æ¥ä»å…¨å±€ä¸Šä¸‹æ–‡ä¸­è¯»å–åˆ°çš„ï¼Œè®©æˆ‘ä»¬å¤šåŠ ä¸€å±‚é—­åŒ…ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> data = [];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">  data[i] = (<span class="function"><span class="keyword">function</span> (<span class="params">i</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(i);</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;)(i);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">data[<span class="number">0</span>]();</span><br><span class="line">data[<span class="number">1</span>]();</span><br><span class="line">data[<span class="number">2</span>]();</span><br></pre></td></tr></table></figure><p>è¿™é‡Œå†™äº†ä¸ªç«‹å³æ‰§è¡Œå‡½æ•°ï¼Œç”±å®ƒåˆ›å»ºäº†ä¸€ä¸ªé—­åŒ…ï¼šç«‹å³æ‰§è¡Œå‡½æ•°çš„ AO + å†…å±‚å‡½æ•°ï¼Œè¿™ä¸ªé—­åŒ…ä¸­æœ‰ä¸ªè‡ªç”±å˜é‡ iï¼Œæ¥è‡ªè¿™ä¸ªç«‹å³æ‰§è¡Œå‡½æ•°çš„å½¢å‚ï¼Œå½¢å‚åœ¨æ¯æ¬¡ç«‹å³æ‰§è¡Œåä¼šè¢«åˆ†åˆ«èµ‹å€¼ 0,1,2ã€‚è€Œå†…å±‚å‡½æ•°è¢«è¿”å›ç»™è¿™ä¸ª data æ•°ç»„ï¼Œå½“å†…å±‚å‡½æ•°æ‰§è¡Œæ—¶ï¼Œé¡ºç€ä½œç”¨åŸŸé“¾æŸ¥æ‰¾ iï¼Œä¼šå…ˆä»ç«‹å³æ‰§è¡Œå‡½æ•°çš„ AO ä¸­è¯»å–åˆ° iï¼Œå°±ä¼šåˆ†åˆ«è¯»å–åˆ° 0,1,2ã€‚</p><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><ul><li><a href="https://github.com/mqyqingfeng/Blog/issues/9" target="_blank" rel="noopener">JavaScript æ·±å…¥ä¹‹é—­åŒ…</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Closures" target="_blank" rel="noopener">é—­åŒ… - mdn</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScriptæ‰§è¡Œä¸Šä¸‹æ–‡ä¹‹ä½œç”¨åŸŸé“¾</title>
      <link href="/blog/2022/07/14/JavaScript%E6%89%A7%E8%A1%8C%E4%B8%8A%E4%B8%8B%E6%96%87%E4%B9%8B%E4%BD%9C%E7%94%A8%E5%9F%9F%E9%93%BE/"/>
      <url>/blog/2022/07/14/JavaScript%E6%89%A7%E8%A1%8C%E4%B8%8A%E4%B8%8B%E6%96%87%E4%B9%8B%E4%BD%9C%E7%94%A8%E5%9F%9F%E9%93%BE/</url>
      
        <content type="html"><![CDATA[<p>æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­æœ‰ä¸ªä½œç”¨åŸŸé“¾ï¼Œå½“æŸ¥æ‰¾ä¸€ä¸ªå˜é‡æ—¶ä¼šé¡ºç€è¿™ä¸ªé“¾æ‰¾ã€‚</p><p>å‡½æ•°çš„ä½œç”¨åŸŸåœ¨å‡½æ•°å®šä¹‰çš„æ—¶å€™å°±å†³å®šäº†ã€‚è¿™æ˜¯å› ä¸ºå‡½æ•°å¯¹è±¡æœ‰ä¸ªå†…éƒ¨å±æ€§<code>[[scope]]</code></p><p>å‡½æ•°çš„ç”Ÿå‘½å‘¨æœŸåˆ†ä¸ºï¼š<strong>å‡½æ•°åˆ›å»º</strong> å’Œ <strong>å‡½æ•°è°ƒç”¨</strong>ã€‚</p><p>å‡½æ•°åˆ›å»ºçš„æ—¶å€™ï¼Œä¼šæŠŠå…¶æ‰€å¤„æ‰§è¡Œä¸Šä¸‹æ–‡çš„ä½œç”¨åŸŸé“¾ç›´æ¥èµ‹å€¼ç»™å‡½æ•°çš„å†…éƒ¨å±æ€§<code>[[scope]]</code>ï¼ˆè¿™å°±æ˜¯è¯æ³•ä½œç”¨åŸŸçš„åŸç†äº†ï¼‰ï¼Œå‡½æ•°è°ƒç”¨çš„æ—¶å€™ä¼šåˆ›å»ºè‡ªå·±çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå¹¶æŠŠè‡ªå·±çš„<code>AO</code>å’Œ<code>[[scope]]</code>åˆå¹¶æˆæ–°çš„ä½œç”¨åŸŸé“¾ï¼š</p><blockquote><p>å‡è®¾è¦å®ç°åŠ¨æ€ä½œç”¨åŸŸçš„è¯ï¼Œ<code>[[scope]]</code>å°±å¾—åœ¨è°ƒç”¨æ—¶å»æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆçš„ä¸Šä¸€å¸§å»å–ã€‚</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Scope = [AO].concat([[scope]]);</span><br></pre></td></tr></table></figure><a id="more"></a><h1 id="å®ä¾‹å‰–æ"><a href="#å®ä¾‹å‰–æ" class="headerlink" title="å®ä¾‹å‰–æ"></a>å®ä¾‹å‰–æ</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> scope = <span class="string">"global scope"</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkscope</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> scope2 = <span class="string">"local scope"</span>;</span><br><span class="line">  <span class="keyword">return</span> scope2;</span><br><span class="line">&#125;</span><br><span class="line">checkscope();</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹ï¼š</p><ol><li>å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡åˆ›å»ºï¼Œå…¶ä½œç”¨åŸŸé“¾å°±åªæœ‰è‡ªèº«çš„ VOï¼Œç„¶åå°†å…¨å±€ä¸Šä¸‹æ–‡å‹æ ˆï¼š</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ECStack = [];</span><br><span class="line">globalContext = &#123;</span><br><span class="line">  VO,</span><br><span class="line">  Scope: [VO],</span><br><span class="line">  <span class="keyword">this</span>: <span class="built_in">window</span>,</span><br><span class="line">&#125;;</span><br><span class="line">ECStack.push(globalContext);</span><br></pre></td></tr></table></figure><ol start="2"><li>checkscope å‡½æ•°è¢«åˆ›å»ºï¼Œä¿å­˜å½“å‰æ‰§è¡Œä¸Šä¸‹æ–‡çš„ä½œç”¨åŸŸé“¾åˆ° checkscope å‡½æ•°çš„å†…éƒ¨å±æ€§<code>[[scope]]</code>ï¼ˆè¿™ä¸€æ­¥æ˜¯è¯æ³•ä½œç”¨åŸŸå®ç°çš„å…³é”®ï¼‰</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">checkscope.[[scope]] = globalContext.Scope;</span><br></pre></td></tr></table></figure><ol start="4"><li>è°ƒç”¨ checkscope å‡½æ•°ï¼Œå‡½æ•°å¹¶ä¸ç«‹åˆ»æ‰§è¡Œï¼Œå¼€å§‹åšå‡†å¤‡å·¥ä½œï¼Œç”Ÿæˆæ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå¹¶å‹å…¥æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆï¼š</li></ol><ul><li>AOï¼šç”¨ arguments åˆ›å»ºæ´»åŠ¨å¯¹è±¡ï¼Œéšååˆå§‹åŒ–æ´»åŠ¨å¯¹è±¡ï¼ŒåŠ å…¥å½¢å‚ã€å‡½æ•°å£°æ˜ã€å˜é‡å£°æ˜</li><li>Scopeï¼šå¤åˆ¶å‡½æ•°<code>[[scope]]</code>å±æ€§åˆ›å»ºä½œç”¨åŸŸé“¾ï¼Œå°†æ´»åŠ¨å¯¹è±¡å‹å…¥ checkscope ä½œç”¨åŸŸé“¾é¡¶ç«¯</li><li>this</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">checkscopeContext = &#123;</span><br><span class="line">  AO: &#123;</span><br><span class="line">    <span class="built_in">arguments</span>: &#123;</span><br><span class="line">      length: <span class="number">0</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    scope2: <span class="literal">undefined</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  Scope: [AO, [[Scope]]],</span><br><span class="line">&#125;;</span><br><span class="line">ECStack.push(checkscopeContext);</span><br></pre></td></tr></table></figure><ol start="5"><li>å‡†å¤‡å·¥ä½œåšå®Œï¼Œå¼€å§‹æ‰§è¡Œå‡½æ•°ï¼Œéšç€å‡½æ•°çš„æ‰§è¡Œï¼Œä¿®æ”¹ AO çš„å±æ€§å€¼ï¼ŒæŸ¥æ‰¾åˆ° scope2 çš„å€¼ï¼Œè¿”å›åå‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œå‡½æ•°ä¸Šä¸‹æ–‡ä»æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆä¸­å¼¹å‡º</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">checkscopeContext = &#123;</span><br><span class="line">  AO: &#123;</span><br><span class="line">    <span class="built_in">arguments</span>: &#123;</span><br><span class="line">      length: <span class="number">0</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    scope2: <span class="string">"local scope"</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  Scope: [AO, [[Scope]]],</span><br><span class="line">&#125;;</span><br><span class="line">ECStack.pop();</span><br></pre></td></tr></table></figure><p>æ¯ä¸€æ­¥ä¸­å…·ä½“çš„å®ç°ç»†èŠ‚æˆ‘ä»¬æ— æ³•å¾—çŸ¥ï¼ˆå› ä¸ºå¯ä»¥æœ‰å¤šç§å®ç°æ‰‹æ³•ï¼‰ï¼Œä½†è¿™ 5 æ­¥å´æ˜¯çœŸå®å­˜åœ¨çš„ï¼ˆå› ä¸ºå¯ä»¥é€šè¿‡ä¾‹å­éªŒè¯ï¼‰ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScriptæ‰§è¡Œä¸Šä¸‹æ–‡ä¹‹å˜é‡å¯¹è±¡</title>
      <link href="/blog/2022/07/13/JavaScript%E6%89%A7%E8%A1%8C%E4%B8%8A%E4%B8%8B%E6%96%87%E4%B9%8B%E5%8F%98%E9%87%8F%E5%AF%B9%E8%B1%A1/"/>
      <url>/blog/2022/07/13/JavaScript%E6%89%A7%E8%A1%8C%E4%B8%8A%E4%B8%8B%E6%96%87%E4%B9%8B%E5%8F%98%E9%87%8F%E5%AF%B9%E8%B1%A1/</url>
      
        <content type="html"><![CDATA[<h1 id="æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­åŒ…å«å“ªäº›ä¸œè¥¿"><a href="#æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­åŒ…å«å“ªäº›ä¸œè¥¿" class="headerlink" title="æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­åŒ…å«å“ªäº›ä¸œè¥¿"></a>æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­åŒ…å«å“ªäº›ä¸œè¥¿</h1><p>å¯¹äºæ¯ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œéƒ½æœ‰ä¸‰ä¸ªé‡è¦å±æ€§ï¼š</p><ul><li>å˜é‡å¯¹è±¡(Variable objectï¼ŒVO)</li><li>ä½œç”¨åŸŸé“¾(Scope chain)</li><li>this</li></ul><p>æœ¬ç¯‡å°±æ¥è®²è®²ç¬¬ä¸€ä¸ªå˜é‡å¯¹è±¡</p><a id="more"></a><h1 id="å…¨å±€ä¸Šä¸‹æ–‡"><a href="#å…¨å±€ä¸Šä¸‹æ–‡" class="headerlink" title="å…¨å±€ä¸Šä¸‹æ–‡"></a>å…¨å±€ä¸Šä¸‹æ–‡</h1><ul><li>åœ¨é¡¶å±‚ JavaScript ä»£ç ä¸­ï¼Œå¯ä»¥ç”¨å…³é”®å­— this å¼•ç”¨å…¨å±€å¯¹è±¡ã€‚å› ä¸ºå…¨å±€å¯¹è±¡æ˜¯ä½œç”¨åŸŸé“¾çš„å¤´ï¼Œè¿™æ„å‘³ç€<strong>æ‰€æœ‰éé™å®šæ€§çš„å˜é‡å’Œå‡½æ•°åéƒ½ä¼šä½œä¸ºè¯¥å¯¹è±¡çš„å±æ€§æ¥æŸ¥è¯¢</strong>ã€‚</li><li>ä¾‹å¦‚ï¼Œå½“ JavaScript ä»£ç å¼•ç”¨ parseInt() å‡½æ•°æ—¶ï¼Œå®ƒå¼•ç”¨çš„æ˜¯å…¨å±€å¯¹è±¡çš„ parseInt å±æ€§ã€‚å…¨å±€å¯¹è±¡æ˜¯ä½œç”¨åŸŸé“¾çš„å¤´ï¼Œè¿˜æ„å‘³ç€åœ¨é¡¶å±‚ JavaScript ä»£ç ä¸­<strong>å£°æ˜çš„æ‰€æœ‰å˜é‡éƒ½å°†æˆä¸ºå…¨å±€å¯¹è±¡çš„å±æ€§</strong>ã€‚</li><li>åœ¨æµè§ˆå™¨ä¸­ï¼Œå…¨å±€å¯¹è±¡æœ‰ window æŒ‡å‘è‡ªèº«</li></ul><p>ä¹Ÿå°±æ˜¯è¯´åœ¨å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­ï¼Œæ‰€æœ‰æœªé™å®šçš„å˜é‡éƒ½æŒ‚åœ¨å…¨å±€å¯¹è±¡ä¸Šï¼Œä»å…¨å±€å¯¹è±¡ä¸­è¯»å†™ã€‚æ¯”å¦‚:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">this</span>.a);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.a);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">this</span>.window.a);</span><br><span class="line"><span class="comment">// ä½†æ˜¯ä¸èƒ½å†™</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.this.a);</span><br></pre></td></tr></table></figure><h1 id="æ‰§è¡Œè¿‡ç¨‹"><a href="#æ‰§è¡Œè¿‡ç¨‹" class="headerlink" title="æ‰§è¡Œè¿‡ç¨‹"></a>æ‰§è¡Œè¿‡ç¨‹</h1><p>JavaScript ä»£ç åœ¨è¿›å…¥ä¸€æ®µä»£ç ç¯å¢ƒæ—¶ï¼Œä¼šåˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼š</p><ol><li>ä»£ç åˆ†æï¼ˆè¿›å…¥æ‰§è¡Œä¸Šä¸‹æ–‡ï¼‰</li><li>ä»£ç æ‰§è¡Œ</li></ol><h2 id="è¿›å…¥æ‰§è¡Œä¸Šä¸‹æ–‡"><a href="#è¿›å…¥æ‰§è¡Œä¸Šä¸‹æ–‡" class="headerlink" title="è¿›å…¥æ‰§è¡Œä¸Šä¸‹æ–‡"></a>è¿›å…¥æ‰§è¡Œä¸Šä¸‹æ–‡</h2><p>å½“è¿›å…¥æ‰§è¡Œä¸Šä¸‹æ–‡æ—¶ï¼Œè¿™æ—¶å€™è¿˜æ²¡æœ‰æ‰§è¡Œä»£ç ï¼Œ</p><p>å˜é‡å¯¹è±¡ä¼šåŒ…æ‹¬ä¸‰ç±»ï¼š</p><ol><li>å‡½æ•°çš„æ‰€æœ‰å½¢å‚ (å¦‚æœæ˜¯å‡½æ•°ä¸Šä¸‹æ–‡)<ul><li>ç”±åç§°å’Œå¯¹åº”å€¼ç»„æˆçš„ä¸€ä¸ªå˜é‡å¯¹è±¡çš„å±æ€§è¢«åˆ›å»º</li><li>æ²¡æœ‰å®å‚ï¼Œå±æ€§å€¼è®¾ä¸º undefined</li></ul></li><li>å‡½æ•°å£°æ˜<ul><li>ç”±åç§°å’Œå¯¹åº”å€¼ï¼ˆå‡½æ•°å¯¹è±¡(function-object)ï¼‰ç»„æˆä¸€ä¸ªå˜é‡å¯¹è±¡çš„å±æ€§è¢«åˆ›å»º</li><li>å¦‚æœå˜é‡å¯¹è±¡å·²ç»å­˜åœ¨ç›¸åŒåç§°çš„å±æ€§ï¼Œåˆ™å®Œå…¨æ›¿æ¢è¿™ä¸ªå±æ€§</li></ul></li><li>å˜é‡å£°æ˜<ul><li>ç”±åç§°å’Œå¯¹åº”å€¼ï¼ˆundefinedï¼‰ç»„æˆä¸€ä¸ªå˜é‡å¯¹è±¡çš„å±æ€§è¢«åˆ›å»º</li><li>å¦‚æœå˜é‡åç§°è·Ÿå·²ç»å£°æ˜çš„å½¢å¼å‚æ•°æˆ–å‡½æ•°ç›¸åŒï¼Œåˆ™å˜é‡å£°æ˜ä¸ä¼šå¹²æ‰°å·²ç»å­˜åœ¨çš„è¿™ç±»å±æ€§</li></ul></li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">a</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> b = <span class="number">2</span>;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">c</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">  <span class="keyword">var</span> d = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line"></span><br><span class="line">  b = <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo(<span class="number">1</span>);</span><br></pre></td></tr></table></figure><p>åœ¨è¿›å…¥æ‰§è¡Œä¸Šä¸‹æ–‡åï¼Œè¿™æ—¶å€™çš„ AO æ˜¯ï¼š</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">AO = &#123;</span><br><span class="line">    arguments: &#123;</span><br><span class="line">        0: 1,</span><br><span class="line">        length: 1</span><br><span class="line">    &#125;,</span><br><span class="line">    a: 1,</span><br><span class="line">    b: undefined,</span><br><span class="line">    c: reference to function c()&#123;&#125;,</span><br><span class="line">    d: undefined</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä»£ç æ‰§è¡Œ"><a href="#ä»£ç æ‰§è¡Œ" class="headerlink" title="ä»£ç æ‰§è¡Œ"></a>ä»£ç æ‰§è¡Œ</h2><p>è¿˜æ˜¯ä¸Šé¢çš„ä¾‹å­ï¼Œå½“ä»£ç æ‰§è¡Œå®Œåï¼Œè¿™æ—¶å€™çš„ AO æ˜¯ï¼š</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">AO = &#123;</span><br><span class="line">    arguments: &#123;</span><br><span class="line">        0: 1,</span><br><span class="line">        length: 1</span><br><span class="line">    &#125;,</span><br><span class="line">    a: 1,</span><br><span class="line">    b: 3,</span><br><span class="line">    c: reference to function c()&#123;&#125;,</span><br><span class="line">    d: reference to FunctionExpression "d"</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="æ€è€ƒé¢˜"><a href="#æ€è€ƒé¢˜" class="headerlink" title="æ€è€ƒé¢˜"></a>æ€è€ƒé¢˜</h1><h2 id="ç¬¬ä¸€é¢˜"><a href="#ç¬¬ä¸€é¢˜" class="headerlink" title="ç¬¬ä¸€é¢˜"></a>ç¬¬ä¸€é¢˜</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a);</span><br><span class="line">    a = <span class="number">1</span>;  <span class="comment">// ç›¸å½“äºæŒ‚åœ¨å…¨å±€å¯¹è±¡ä¸Š</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo(); <span class="comment">// ???</span></span><br></pre></td></tr></table></figure><p>ä¼šæŠ¥é”™ï¼Œ<code>Uncaught ReferenceError: a is not defined</code></p><p>è¿™æ˜¯å› ä¸ºå‡½æ•°ä¸­çš„ &quot;a&quot; å¹¶æ²¡æœ‰é€šè¿‡ var å…³é”®å­—å£°æ˜ï¼Œæ‰€æœ‰ä¸ä¼šè¢«å­˜æ”¾åœ¨ AO ä¸­ã€‚</p><p>ç¬¬ä¸€æ®µæ‰§è¡Œ console çš„æ—¶å€™ï¼Œ AO çš„å€¼æ˜¯ï¼š</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">AO = &#123;</span><br><span class="line">    arguments: &#123;</span><br><span class="line">        length: 0</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ²¡æœ‰ a çš„å€¼ï¼Œç„¶åå°±ä¼šåˆ°å…¨å±€å»æ‰¾ï¼Œå…¨å±€ä¹Ÿæ²¡æœ‰ï¼Œæ‰€ä»¥ä¼šæŠ¥é”™ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a);</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo(); <span class="comment">// ???</span></span><br></pre></td></tr></table></figure><p>æ”¹æˆè¿™æ ·ï¼Œæœ‰å˜é‡æå‡å°±ä¸ä¼šæŠ¥é”™äº†ã€‚æ‰“å° undefined</p><p>æˆ–è€…å…ˆæŒ‚åœ¨å…¨å±€å¯¹è±¡ä¸Š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    a = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(a);</span><br><span class="line">&#125;</span><br><span class="line">bar(); <span class="comment">// ???</span></span><br></pre></td></tr></table></figure><p>æ‰“å° 1</p><h2 id="ç¬¬äºŒé¢˜"><a href="#ç¬¬äºŒé¢˜" class="headerlink" title="ç¬¬äºŒé¢˜"></a>ç¬¬äºŒé¢˜</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(foo);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"foo"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> foo = <span class="number">1</span>;</span><br></pre></td></tr></table></figure><p>ä¼šæ‰“å°å‡½æ•°ï¼Œè€Œä¸æ˜¯ undefined ã€‚</p><p>è¿™æ˜¯å› ä¸ºåœ¨è¿›å…¥æ‰§è¡Œä¸Šä¸‹æ–‡æ—¶ï¼Œé¦–å…ˆä¼šå¤„ç†å‡½æ•°å£°æ˜ï¼Œå…¶æ¬¡ä¼šå¤„ç†å˜é‡å£°æ˜ï¼Œå¦‚æœå˜é‡åç§°è·Ÿå·²ç»å£°æ˜çš„å½¢å¼å‚æ•°æˆ–å‡½æ•°ç›¸åŒï¼Œåˆ™å˜é‡å£°æ˜ä¸ä¼šå¹²æ‰°å·²ç»å­˜åœ¨çš„è¿™ç±»å±æ€§ã€‚</p><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><ul><li><a href="https://github.com/mqyqingfeng/Blog/issues/5" target="_blank" rel="noopener">JavaScript æ·±å…¥ä¹‹å˜é‡å¯¹è±¡</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScriptæ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ</title>
      <link href="/blog/2022/07/12/JavaScript%E6%89%A7%E8%A1%8C%E4%B8%8A%E4%B8%8B%E6%96%87%E6%A0%88/"/>
      <url>/blog/2022/07/12/JavaScript%E6%89%A7%E8%A1%8C%E4%B8%8A%E4%B8%8B%E6%96%87%E6%A0%88/</url>
      
        <content type="html"><![CDATA[<h1 id="é¡ºåºæ‰§è¡Œï¼Ÿ"><a href="#é¡ºåºæ‰§è¡Œï¼Ÿ" class="headerlink" title="é¡ºåºæ‰§è¡Œï¼Ÿ"></a>é¡ºåºæ‰§è¡Œï¼Ÿ</h1><p>ä»£ç ç¤ºä¾‹ 1ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'foo1'</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo();  <span class="comment">// foo1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> foo = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'foo2'</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo(); <span class="comment">// foo2</span></span><br></pre></td></tr></table></figure><p>ä»£ç ç¤ºä¾‹ 2ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'foo1'</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo();  <span class="comment">// foo2</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'foo2'</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo(); <span class="comment">// foo2</span></span><br></pre></td></tr></table></figure><p>ç¬¬ä¸€ä¸ªä¾‹å­ä¸­ç”¨åˆ°äº†å˜é‡æå‡ï¼Œç¬¬äºŒä¸ªä¾‹å­ä¸­ç”¨åˆ°äº†å‡½æ•°æå‡ã€‚JavaScript å¼•æ“å¹¶éä¸€è¡Œä¸€è¡Œåœ°åˆ†æå’Œæ‰§è¡Œç¨‹åºï¼Œè€Œæ˜¯ä¸€æ®µä¸€æ®µåœ°åˆ†ææ‰§è¡Œã€‚å½“æ‰§è¡Œä¸€æ®µä»£ç çš„æ—¶å€™ï¼Œä¼šè¿›è¡Œä¸€ä¸ªâ€œå‡†å¤‡å·¥ä½œâ€ã€‚åˆ°åº• JavaScript å¼•æ“é‡åˆ°ä¸€æ®µæ€æ ·çš„ä»£ç æ—¶æ‰ä¼šåšâ€œå‡†å¤‡å·¥ä½œâ€å‘¢ï¼Ÿ</p><a id="more"></a><h1 id="å¯æ‰§è¡Œä»£ç "><a href="#å¯æ‰§è¡Œä»£ç " class="headerlink" title="å¯æ‰§è¡Œä»£ç "></a>å¯æ‰§è¡Œä»£ç </h1><p>JavaScript æ€»å…±æœ‰ä¸‰ç§å¯æ‰§è¡Œçš„ä»£ç ï¼š</p><ul><li>å…¨å±€ä»£ç </li><li>å‡½æ•°ä»£ç </li><li>eval ä»£ç </li></ul><h1 id="æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ"><a href="#æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ" class="headerlink" title="æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ"></a>æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ</h1><p>JavaScript å¼•æ“åˆ›å»ºäº†æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆï¼ˆExecution context stackï¼ŒECSï¼‰æ¥ç®¡ç†æ‰§è¡Œä¸Šä¸‹æ–‡</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> scope = <span class="string">"global scope"</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkscope</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> scope = <span class="string">"local scope"</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> scope;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> f();</span><br><span class="line">&#125;</span><br><span class="line">checkscope();</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> scope = <span class="string">"global scope"</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkscope</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> scope = <span class="string">"local scope"</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> scope;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> f;</span><br><span class="line">&#125;</span><br><span class="line">checkscope()();</span><br></pre></td></tr></table></figure><p>ä¸Šé¢è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ‰§è¡Œä¸Šä¸‹æ–‡æ ˆçš„å˜åŒ–å°±ä¸ä¸€æ ·</p><p>è®©æˆ‘ä»¬æ¨¡æ‹Ÿç¬¬ä¸€æ®µä»£ç ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ECStack.push(&lt;checkscope&gt; functionContext);</span><br><span class="line">ECStack.push(&lt;f&gt; functionContext);</span><br><span class="line">ECStack.pop();</span><br><span class="line">ECStack.pop();</span><br></pre></td></tr></table></figure><p>è®©æˆ‘ä»¬æ¨¡æ‹Ÿç¬¬äºŒæ®µä»£ç ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ECStack.push(&lt;checkscope&gt; functionContext);</span><br><span class="line">ECStack.pop();</span><br><span class="line">ECStack.push(&lt;f&gt; functionContext);</span><br><span class="line">ECStack.pop();</span><br></pre></td></tr></table></figure><h1 id="æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­åŒ…å«å“ªäº›ä¸œè¥¿"><a href="#æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­åŒ…å«å“ªäº›ä¸œè¥¿" class="headerlink" title="æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­åŒ…å«å“ªäº›ä¸œè¥¿"></a>æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­åŒ…å«å“ªäº›ä¸œè¥¿</h1><p>å¯¹äºæ¯ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œéƒ½æœ‰ä¸‰ä¸ªé‡è¦å±æ€§ï¼š</p><ul><li>å˜é‡å¯¹è±¡(Variable objectï¼ŒVO)</li><li>ä½œç”¨åŸŸé“¾(Scope chain)</li><li>this</li></ul><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><ul><li><a href="https://github.com/mqyqingfeng/Blog/issues/4" target="_blank" rel="noopener">JavaScript æ·±å…¥ä¹‹æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScriptè¯æ³•ä½œç”¨åŸŸ</title>
      <link href="/blog/2022/07/11/JavaScript%E8%AF%8D%E6%B3%95%E4%BD%9C%E7%94%A8%E5%9F%9F/"/>
      <url>/blog/2022/07/11/JavaScript%E8%AF%8D%E6%B3%95%E4%BD%9C%E7%94%A8%E5%9F%9F/</url>
      
        <content type="html"><![CDATA[<p>æœ‰ä¸¤ç§ä½œç”¨åŸŸï¼š</p><ul><li>åŠ¨æ€ä½œç”¨åŸŸ</li><li>é™æ€ä½œç”¨åŸŸï¼ˆä¹Ÿå«ï¼šè¯æ³•ä½œç”¨åŸŸï¼Œlexical scopingï¼‰</li></ul><p>JavaScript é‡‡ç”¨çš„æ˜¯è¯æ³•ä½œç”¨åŸŸ</p><a id="more"></a><h1 id="ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸ"><a href="#ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸ" class="headerlink" title="ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸ"></a>ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸ</h1><p>ä½œç”¨åŸŸï¼Œé¡¾åæ€ä¹‰æ˜¯ç”¨æ¥è¡¨ç¤ºä¸€ä¸ªå˜é‡ä½œç”¨çš„èŒƒå›´ã€‚</p><h1 id="è¿™ä¸¤ç§ä½œç”¨åŸŸçš„åŒºåˆ«æ˜¯ä»€ä¹ˆ"><a href="#è¿™ä¸¤ç§ä½œç”¨åŸŸçš„åŒºåˆ«æ˜¯ä»€ä¹ˆ" class="headerlink" title="è¿™ä¸¤ç§ä½œç”¨åŸŸçš„åŒºåˆ«æ˜¯ä»€ä¹ˆ"></a>è¿™ä¸¤ç§ä½œç”¨åŸŸçš„åŒºåˆ«æ˜¯ä»€ä¹ˆ</h1><p>è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­å°±èƒ½çŸ¥é“ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> value = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(value);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> value = <span class="number">2</span>;</span><br><span class="line">    foo();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">bar();</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»“æœæ˜¯ ???</span></span><br></pre></td></tr></table></figure><p>å¦‚æœæ˜¯é™æ€ä½œç”¨åŸŸï¼Œé‚£ä¹ˆç­”æ¡ˆæ˜¯ 1ï¼Œå› ä¸º value è¿™ä¸ªå˜é‡åœ¨å‡½æ•°å®šä¹‰çš„æ—¶å€™å°±å·²ç»å†³å®šäº†ã€‚å¦‚æœæ˜¯åŠ¨æ€ä½œç”¨åŸŸï¼Œé‚£ä¹ˆç­”æ¡ˆæ˜¯ 2ï¼Œvalue è¿™ä¸ªå˜é‡è¦ç­‰å‡½æ•°æ‰§è¡Œçš„æ—¶å€™æ‰å®šä¸‹æ¥ã€‚</p><h2 id="é™æ€ä½œç”¨åŸŸæ‰§è¡Œè¿‡ç¨‹"><a href="#é™æ€ä½œç”¨åŸŸæ‰§è¡Œè¿‡ç¨‹" class="headerlink" title="é™æ€ä½œç”¨åŸŸæ‰§è¡Œè¿‡ç¨‹"></a>é™æ€ä½œç”¨åŸŸæ‰§è¡Œè¿‡ç¨‹</h2><p>æ‰§è¡Œ foo å‡½æ•°ï¼Œå…ˆä» foo å‡½æ•°å†…éƒ¨æŸ¥æ‰¾æ˜¯å¦æœ‰å±€éƒ¨å˜é‡ valueï¼Œå¦‚æœæ²¡æœ‰ï¼Œå°±æ ¹æ®ä¹¦å†™çš„ä½ç½®ï¼ŒæŸ¥æ‰¾ä¸Šé¢ä¸€å±‚çš„ä»£ç ï¼Œä¹Ÿå°±æ˜¯ value ç­‰äº 1ï¼Œæ‰€ä»¥ç»“æœä¼šæ‰“å° 1ã€‚è€Œä¸”å¦‚æœå»æ‰<code>var value = 1;</code>è¿™ä¸€å¥ï¼Œä¼šæŠ¥å˜é‡æœªå®šä¹‰é”™è¯¯ã€‚</p><h2 id="åŠ¨æ€ä½œç”¨åŸŸæ‰§è¡Œè¿‡ç¨‹"><a href="#åŠ¨æ€ä½œç”¨åŸŸæ‰§è¡Œè¿‡ç¨‹" class="headerlink" title="åŠ¨æ€ä½œç”¨åŸŸæ‰§è¡Œè¿‡ç¨‹"></a>åŠ¨æ€ä½œç”¨åŸŸæ‰§è¡Œè¿‡ç¨‹</h2><p>æ‰§è¡Œ foo å‡½æ•°ï¼Œä¾ç„¶æ˜¯ä» foo å‡½æ•°å†…éƒ¨æŸ¥æ‰¾æ˜¯å¦æœ‰å±€éƒ¨å˜é‡ valueã€‚å¦‚æœæ²¡æœ‰ï¼Œå°±ä»è°ƒç”¨å‡½æ•°çš„ä½œç”¨åŸŸï¼Œä¹Ÿå°±æ˜¯ bar å‡½æ•°å†…éƒ¨æŸ¥æ‰¾ value å˜é‡ï¼Œæ‰€ä»¥ç»“æœä¼šæ‰“å° 2ã€‚</p><p>å‰é¢æˆ‘ä»¬å·²ç»è¯´äº†ï¼ŒJavaScript é‡‡ç”¨çš„æ˜¯é™æ€ä½œç”¨åŸŸï¼Œæ‰€ä»¥è¿™ä¸ªä¾‹å­çš„ç»“æœæ˜¯ 1ã€‚</p><p>bash è„šæœ¬é‡‡ç”¨çš„æ˜¯åŠ¨æ€ä½œç”¨åŸŸ:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">value=1</span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">foo</span></span> () &#123;</span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$value</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">bar</span></span> () &#123;</span><br><span class="line">    <span class="built_in">local</span> value=2;</span><br><span class="line">    foo;</span><br><span class="line">&#125;</span><br><span class="line">bar</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªä¾‹å­ä¼šæ‰“å° 2</p><h1 id="æ€è€ƒé¢˜"><a href="#æ€è€ƒé¢˜" class="headerlink" title="æ€è€ƒé¢˜"></a>æ€è€ƒé¢˜</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> scope = <span class="string">"global scope"</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkscope</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> scope = <span class="string">"local scope"</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> scope;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> f();</span><br><span class="line">&#125;</span><br><span class="line">checkscope();</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> scope = <span class="string">"global scope"</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkscope</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> scope = <span class="string">"local scope"</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> scope;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> f;</span><br><span class="line">&#125;</span><br><span class="line">checkscope()();</span><br></pre></td></tr></table></figure><p>è¿™ä¸¤ä¸ªä¾‹å­ä¸­ï¼Œè™½ç„¶å‡½æ•°æ‰§è¡Œçš„ç¯å¢ƒä¸ä¸€æ ·ï¼Œä½†æ‰“å°çš„ç»“æœæ˜¯ä¸€æ ·çš„ï¼Œå› ä¸ºè¿˜æ˜¯é‚£ä¸ªåŸå› ï¼ŒJavaScript çš„ä½œç”¨åŸŸæ˜¯é™æ€ä½œç”¨åŸŸ</p><h1 id="å¼•ç”¨çŠ€ç‰›ä¹¦ä¸­çš„ä¸€æ®µè¯"><a href="#å¼•ç”¨çŠ€ç‰›ä¹¦ä¸­çš„ä¸€æ®µè¯" class="headerlink" title="å¼•ç”¨çŠ€ç‰›ä¹¦ä¸­çš„ä¸€æ®µè¯"></a>å¼•ç”¨çŠ€ç‰›ä¹¦ä¸­çš„ä¸€æ®µè¯</h1><blockquote><p>Like most modern programming languages, JavaScript uses lexical scoping. This means that functions are executed using the variable scope that was in effect when they were defined, not the variable scope that is in effect when they are invoked. In order to implement lexical scoping, the internal state of a JavaScript function object must in- clude not only the code of the function but also a reference to the current scope chain. (Before reading the rest of this section, you may want to review the material on variable scope and the scope chain in Â§3.10 and Â§3.10.3.) This combination of a function object and a scope (a set of variable bindings) in which the functionâ€™s variables are resolved is called a closure in the computer science literature. (This is an old term that refers to the fact that the functionâ€™s variables have bindings in the scope chain and that therefore the function is â€œclosed overâ€ its variables.)</p></blockquote><blockquote><p>Technically, all JavaScript functions are closures: they are objects, and they have a scope chain associated with them. Most functions are invoked using the same scope chain that was in effect when the function was defined, and it doesnâ€™t really matter that there is a closure involved. Closures become interesting when they are invoked under a different scope chain than the one that was in effect when they were defined. This happens most commonly when a nested function object is returned from the function within which it was defined. There are a number of powerful programming techniques that involve this kind of nested function closures, and their use has become relatively common in JavaScript programming. Closures may seem confusing when you first en- counter them, but it is important that you understand them well enough to use them comfortably.</p></blockquote><blockquote><p>JavaScript, The Definite Guide</p></blockquote><h1 id="JavaScript-æ˜¯å¦‚ä½•å®ç°è¿™ç§è¯æ³•ä½œç”¨åŸŸçš„"><a href="#JavaScript-æ˜¯å¦‚ä½•å®ç°è¿™ç§è¯æ³•ä½œç”¨åŸŸçš„" class="headerlink" title="JavaScript æ˜¯å¦‚ä½•å®ç°è¿™ç§è¯æ³•ä½œç”¨åŸŸçš„"></a>JavaScript æ˜¯å¦‚ä½•å®ç°è¿™ç§è¯æ³•ä½œç”¨åŸŸçš„</h1><p>æƒ³è¦äº†è§£è¿™ç§è¯æ³•ä½œç”¨åŸŸæ˜¯å¦‚ä½•å®ç°çš„ï¼Œå°±è¦äº†è§£ JavaScript çš„æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆï¼Œå…·ä½“è¯·çœ‹è¿™ç¯‡æ–‡ç« ï¼š<a href="../../../07/12/JavaScriptæ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ/index.html">JavaScript æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ</a></p><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><ul><li><a href="https://github.com/mqyqingfeng/Blog/issues/3" target="_blank" rel="noopener">JavaScript æ·±å…¥ä¹‹è¯æ³•ä½œç”¨åŸŸå’ŒåŠ¨æ€ä½œç”¨åŸŸ</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScriptåŸå‹å’ŒåŸå‹é“¾</title>
      <link href="/blog/2022/07/10/JavaScript%E5%8E%9F%E5%9E%8B%E5%92%8C%E5%8E%9F%E5%9E%8B%E9%93%BE/"/>
      <url>/blog/2022/07/10/JavaScript%E5%8E%9F%E5%9E%8B%E5%92%8C%E5%8E%9F%E5%9E%8B%E9%93%BE/</url>
      
        <content type="html"><![CDATA[<h1 id="åŸå‹é“¾æ˜¯å¹²ä»€ä¹ˆç”¨çš„"><a href="#åŸå‹é“¾æ˜¯å¹²ä»€ä¹ˆç”¨çš„" class="headerlink" title="åŸå‹é“¾æ˜¯å¹²ä»€ä¹ˆç”¨çš„"></a>åŸå‹é“¾æ˜¯å¹²ä»€ä¹ˆç”¨çš„</h1><p>JavaScript é‡‡ç”¨äº†åŸå‹å’ŒåŸå‹é“¾æ¥å®ç°ç±»å’Œç»§æ‰¿ï¼ˆå°±æ˜¯æŸ¥æ‰¾å±æ€§ç”¨çš„ï¼‰ã€‚</p><p>å½“ JavaScript æŸ¥æ‰¾ä¸€ä¸ªå¯¹è±¡ä¸Šçš„å±æ€§çš„æ—¶å€™ï¼Œåœ¨è¯¥å¯¹è±¡ä¸Šæ‰¾ä¸åˆ°å°±ä¼šå»å®ƒçš„åŸå‹é“¾ä¸ŠæŸ¥æ‰¾ã€‚æ¯”å¦‚ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Foo</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="keyword">var</span> foo = <span class="keyword">new</span> Foo();</span><br><span class="line">Foo.prototype.a = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">console</span>.log(foo.a);</span><br></pre></td></tr></table></figure><p>åŸå‹å’ŒåŸå‹é“¾ä¸»è¦ç”±ä¸‰ä¸ªæŒ‡é’ˆå®ç°ï¼š</p><ul><li><code>prototype</code>: æ„é€ å‡½æ•°çš„<code>prototype</code>å±æ€§æŒ‡å‘åŸå‹å¯¹è±¡</li><li><code>__proto__</code>: å®ä¾‹å¯¹è±¡çš„<code>__proto__</code>å±æ€§æŒ‡å‘åŸå‹å¯¹è±¡</li><li><code>constructor</code>: åŸå‹å¯¹è±¡çš„<code>constructor</code>å±æ€§æŒ‡å‘æ„é€ å‡½æ•°</li><li>æ‰€æœ‰å¯¹è±¡éƒ½åŸºäº<code>Object</code>ï¼Œæ˜¯å› ä¸ºæ‰€æœ‰åŸå‹å¯¹è±¡çš„<code>__proto__</code>æœ€ç»ˆéƒ½æŒ‡å‘<code>Object.prototype</code>ï¼Œè€Œ<code>Object.prototype</code>çš„<code>__proto__</code>ä¸º null</li></ul><a id="more"></a><blockquote><p>JavaScript åªè¦å‰é¢å¸¦ new å°±æ˜¯æ„é€ å‡½æ•°ï¼Œç®­å¤´å‡½æ•°å’Œå¼‚æ­¥å‡½æ•°ä¸å¯ä»¥åšæ„é€ å‡½æ•°ï¼Œå› ä¸ºç®­å¤´å‡½æ•°æ²¡æœ‰ thisï¼Œè€Œå¼‚æ­¥å‡½æ•°è¿”å›çš„æ˜¯ Promise å¯¹è±¡</p></blockquote><p>å½“æˆ‘ä»¬åœ¨å®ä¾‹å¯¹è±¡ä¸ŠæŸ¥æ‰¾ä¸€ä¸ªå±æ€§çš„æ—¶å€™ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™ä¼šé€’å½’çš„å»åŸå‹é“¾ä¸Šæ‰¾ã€‚</p><p><img src="../../../../images/2023/prototype.jpg" alt="Javascript Object Hierarchy"></p><ul><li>æ‰€æœ‰å¯¹è±¡éƒ½æœ‰<code>__proto__</code>å±æ€§ï¼Œä½†åªæœ‰å‡½æ•°å¯¹è±¡æ‰æœ‰<code>prototype</code>å±æ€§</li><li>å®ä¾‹å¯¹è±¡æ²¡æœ‰<code>constructor</code>å±æ€§ï¼Œè¯¥å±æ€§ç»§æ‰¿è‡ªåŸå‹å¯¹è±¡ã€‚åˆ†åˆ«å¯¹å®ä¾‹å¯¹è±¡å’ŒåŸå‹å¯¹è±¡ä½¿ç”¨<code>hasOwnProperty</code>éªŒè¯<code>constructor</code>å±æ€§å³å¯è¯æ˜</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line"><span class="built_in">console</span>.log(a.hasOwnProperty(<span class="string">'constructor'</span>));   <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(a.__proto__.hasOwnProperty(<span class="string">'constructor'</span>)); <span class="comment">// true</span></span><br></pre></td></tr></table></figure><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><ul><li><a href="https://github.com/mqyqingfeng/Blog/issues/2" target="_blank" rel="noopener">JavaScript æ·±å…¥ä¹‹ä»åŸå‹åˆ°åŸå‹é“¾</a></li><li><a href="http://www.mollypages.org/tutorials/js.mp" target="_blank" rel="noopener">Javascript Object Hierarchy</a></li><li><a href="https://www.freecodecamp.org/chinese/news/inheritance-in-js/" target="_blank" rel="noopener">ä¸€æ–‡çœ‹æ‡‚ JS çš„ç»§æ‰¿</a></li><li><a href="https://juejin.cn/post/6844903704663949325" target="_blank" rel="noopener">é¢è¯•å®˜é—®ï¼šèƒ½å¦æ¨¡æ‹Ÿå®ç° JS çš„ new æ“ä½œç¬¦</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TCPå’ŒUDPçš„åŒºåˆ«</title>
      <link href="/blog/2022/06/20/TCP%E5%92%8CUDP%E7%9A%84%E5%8C%BA%E5%88%AB/"/>
      <url>/blog/2022/06/20/TCP%E5%92%8CUDP%E7%9A%84%E5%8C%BA%E5%88%AB/</url>
      
        <content type="html"><![CDATA[<p>å¥½ä¹…æ²¡å›é¡¾è¿™ä¸ªçŸ¥è¯†ç‚¹äº†ï¼Œæˆ‘ç°åœ¨åªè®°å¾— TCP æ˜¯æœ‰é“¾æ¥çš„ï¼ŒUDP æ˜¯æ— è¿æ¥çš„ï¼›TCP æ˜¯å¯é çš„ï¼ŒUDP æ˜¯ä¸å¯é çš„ã€‚æŠ€æœ¯ç»†èŠ‚å·²ç»å…¨ç„¶å¿˜å…‰äº†ï¼Œä»Šå¤©å°±æ¥å›é¡¾ä¸€ä¸‹ã€‚</p><p>å…ˆè¯´å‡ ä¸ªå‡ ç‚¹ç»“è®ºï¼Œç„¶åå†è¯´è¯´ç»†èŠ‚ï¼š</p><ul><li>TCP æ˜¯æœ‰é“¾æ¥çš„ï¼ŒUDP æ˜¯æ— è¿æ¥çš„</li><li>TCP å¯é ï¼ˆæ— å·®é”™ï¼Œä¸ä¸¢å¤±ä¸é‡å¤ï¼ŒæŒ‰åºåˆ°è¾¾ï¼‰ï¼ŒUDP ä¸å¯é </li><li>TCP é¢å‘å­—èŠ‚æµï¼ŒUDP é¢å‘æŠ¥æ–‡</li><li>TCP æ˜¯ä¸€å¯¹ä¸€å…¨åŒå·¥ï¼ŒUDP æ˜¯ n å¯¹ n</li><li>TCP çš„é¦–éƒ¨è¾ƒå¤§ä¸º 20 å­—èŠ‚ï¼ŒUDP é¦–éƒ¨åªæœ‰ 8 å­—èŠ‚</li></ul><a id="more"></a><h1 id="TCP-ä¸ºä»€ä¹ˆè¦ä¸‰æ¬¡æ¡æ‰‹å››æ¬¡æŒ¥æ‰‹"><a href="#TCP-ä¸ºä»€ä¹ˆè¦ä¸‰æ¬¡æ¡æ‰‹å››æ¬¡æŒ¥æ‰‹" class="headerlink" title="TCP ä¸ºä»€ä¹ˆè¦ä¸‰æ¬¡æ¡æ‰‹å››æ¬¡æŒ¥æ‰‹"></a>TCP ä¸ºä»€ä¹ˆè¦ä¸‰æ¬¡æ¡æ‰‹å››æ¬¡æŒ¥æ‰‹</h1><p>ä¸‰æ¬¡æ¡æ‰‹æ˜¯å› ä¸º<strong>åŒæ–¹éƒ½è¦ç¡®è®¤å¯¹æ–¹çš„å‘é€å’Œæ¥æ”¶ä¸¤ç§èƒ½åŠ›</strong>ï¼š</p><ol><li>ç¬¬ä¸€æ¬¡å®¢æˆ·ç«¯å‘é€ SYN æŠ¥æ–‡æ®µï¼ŒæœåŠ¡å™¨æ¥æ”¶åˆ°äº†ï¼Œä»æœåŠ¡å™¨çš„è§†è§’çœ‹ï¼Œå®¢æˆ·ç«¯å…·å¤‡äº†å‘é€èƒ½åŠ›ã€‚</li><li>ç¬¬äºŒæ¬¡æœåŠ¡å™¨ç«¯å‘é€ ACK+SYN æŠ¥æ–‡æ®µï¼Œå®¢æˆ·ç«¯æ¥æ”¶åˆ°äº†ï¼Œä»å®¢æˆ·ç«¯çš„è§’åº¦çœ‹ï¼ŒæœåŠ¡å™¨å…·å¤‡äº†æ¥æ”¶å’Œå‘é€ä¸¤ç§èƒ½åŠ›ã€‚</li><li>ç¬¬ä¸‰æ¬¡å®¢æˆ·ç«¯æ¥æ”¶åˆ°äº†æœåŠ¡å™¨çš„æŠ¥æ–‡ï¼Œå†å‘ä¸€ä¸ª ACK æŠ¥æ–‡ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨æ¥æ”¶åˆ°è¿™ä¸ª ACK æŠ¥æ–‡å°±èƒ½ç¡®è®¤å®¢æˆ·ç«¯çš„æ¥å—èƒ½åŠ›æ­£å¸¸ã€‚</li></ol><p>æ‰€ä»¥æœ€å°‘éœ€è¦ä¸‰æ¬¡ï¼Œæ‰èƒ½ç¡®è®¤åŒæ–¹çš„æ”¶å‘èƒ½åŠ›éƒ½æ˜¯æ­£å¸¸çš„ã€‚</p><p>å››æ¬¡æŒ¥æ‰‹æ˜¯å› ä¸º TCP æ˜¯åŒå·¥ä¿¡é“ï¼Œå…³é—­äº† A åˆ° B çš„å‘é€æ¸ é“ï¼ŒB åˆ° A çš„è¿˜æ²¡å…³é—­ï¼Œæ‰€ä»¥éœ€è¦å››æ¬¡ï¼š</p><ol><li>å®¢æˆ·ç«¯å‘é€ FIN æŠ¥æ–‡æ®µç»™æœåŠ¡å™¨ç«¯ï¼ŒæœåŠ¡å™¨æ”¶åˆ°åå‘é€ ACK ç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯æ”¶åˆ° ACK åå°±ä¼šä¸å†å‘æ¶ˆæ¯ã€‚ä¹Ÿå°±æ˜¯è¯´å®¢æˆ·ç«¯åˆ°æœåŠ¡å™¨ç«¯è¿™æ¡ä¿¡é“å…³é—­äº†ã€‚</li><li>æœåŠ¡å™¨å‘é€ FIN æŠ¥æ–‡æ®µç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯æ”¶åˆ°åå‘é€ ACK ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨æ”¶åˆ° ACK åå°±ä¸å†å‘æ¶ˆæ¯ç»™å®¢æˆ·ç«¯äº†ã€‚æœåŠ¡å™¨å‘é€ç»™å®¢æˆ·ç«¯è¿™æ¡ä¿¡é“å°±å…³é—­äº†ã€‚</li></ol><p>è¿™é‡Œçš„é—®é¢˜å°±æ˜¯ä¸ºä»€ä¹ˆæœåŠ¡å™¨ä¸æŠŠ ACK å’Œ FIN åˆåœ¨ä¸€èµ·å‘ï¼Œå°±åƒä¸‰æ¬¡æ¡æ‰‹æ—¶å€™é‚£æ · ACK+SYN ä¸€èµ·å‘ã€‚å› ä¸ºæœåŠ¡å™¨ â†’ å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯ â†’ æœåŠ¡å™¨è¿™ä¸¤æ¡ä¿¡é“æ˜¯äº’ç›¸ç‹¬ç«‹çš„ï¼Œ<strong>åœ¨å…³é—­å…¶ä¸­ä¸€æ¡çš„æ—¶å€™ï¼Œå¦ä¸€æ¡å¯èƒ½è¿˜åœ¨å·¥ä½œï¼Œä¸åº”è¯¥ä¸€èµ·å…³é—­ï¼Œéœ€è¦è®¾è®¡æˆç‹¬ç«‹å…³é—­</strong>ã€‚</p><h1 id="é¢å‘æŠ¥æ–‡å’Œé¢å‘å­—èŠ‚æµçš„åŒºåˆ«"><a href="#é¢å‘æŠ¥æ–‡å’Œé¢å‘å­—èŠ‚æµçš„åŒºåˆ«" class="headerlink" title="é¢å‘æŠ¥æ–‡å’Œé¢å‘å­—èŠ‚æµçš„åŒºåˆ«"></a>é¢å‘æŠ¥æ–‡å’Œé¢å‘å­—èŠ‚æµçš„åŒºåˆ«</h1><p>é¢å‘æŠ¥æ–‡çš„ä¼ è¾“æ–¹å¼æ˜¯åº”ç”¨å±‚äº¤ç»™ UDP å¤šé•¿çš„æŠ¥æ–‡ï¼ŒUDP å°±ç…§æ ·å‘é€ï¼Œå³ä¸€æ¬¡å‘é€ä¸€ä¸ªæŠ¥æ–‡ã€‚å› æ­¤ï¼Œåº”ç”¨ç¨‹åºå¿…é¡»é€‰æ‹©åˆé€‚å¤§å°çš„æŠ¥æ–‡ã€‚è‹¥æŠ¥æ–‡å¤ªé•¿ï¼Œåˆ™ IP å±‚éœ€è¦åˆ†ç‰‡ï¼Œé™ä½æ•ˆç‡ã€‚UDP å¯¹åº”ç”¨å±‚äº¤ä¸‹æ¥çš„æŠ¥æ–‡ï¼Œæ—¢ä¸åˆå¹¶ï¼Œä¹Ÿä¸æ‹†åˆ†ï¼Œè€Œæ˜¯ä¿ç•™è¿™äº›æŠ¥æ–‡çš„è¾¹ç•Œã€‚</p><p>é¢å‘å­—èŠ‚æµçš„è¯ï¼Œè™½ç„¶åº”ç”¨ç¨‹åºå’Œ TCP çš„äº¤äº’æ˜¯ä¸€æ¬¡ä¸€ä¸ªæ•°æ®å—ï¼ˆå¤§å°ä¸ç­‰ï¼‰ï¼Œä½† TCP æŠŠåº”ç”¨ç¨‹åºçœ‹æˆæ˜¯ä¸€è¿ä¸²çš„æ— ç»“æ„çš„å­—èŠ‚æµã€‚TCP æœ‰ä¸€ä¸ªç¼“å†²ï¼Œå½“åº”ç”¨ç¨‹åºä¼ é€çš„æ•°æ®å—å¤ªé•¿ï¼ŒTCP å°±å¯ä»¥æŠŠå®ƒåˆ’åˆ†çŸ­ä¸€äº›å†ä¼ é€ã€‚å¦‚æœåº”ç”¨ç¨‹åºä¸€æ¬¡åªå‘é€ä¸€ä¸ªå­—èŠ‚ï¼ŒTCP ä¹Ÿå¯ä»¥ç­‰å¾…ç§¯ç´¯æœ‰è¶³å¤Ÿå¤šçš„å­—èŠ‚åå†æ„æˆæŠ¥æ–‡æ®µå‘é€å‡ºå»ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> è®¡ç®—æœºç½‘ç»œ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æœåŠ¡å™¨é‡è£…ç³»ç»Ÿ</title>
      <link href="/blog/2022/06/11/%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%87%8D%E8%A3%85%E7%B3%BB%E7%BB%9F/"/>
      <url>/blog/2022/06/11/%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%87%8D%E8%A3%85%E7%B3%BB%E7%BB%9F/</url>
      
        <content type="html"><![CDATA[<p>ä»Šå¤©æˆ‘çš„ wordpress æ•°æ®åº“è¢«æ”»å‡»äº†ï¼Œç›®å‰è¿˜ä¸çŸ¥é“é»‘å®¢ç”¨äº†ä»€ä¹ˆæ‰‹æ®µï¼Œæ‰€ä»¥æ‰“ç®—ç»™æœåŠ¡å™¨é‡è£…ç³»ç»Ÿã€‚æˆ‘ç”¨çš„æ˜¯æ¬ç“¦å·¥çš„æœåŠ¡å™¨ï¼Œæ‰“å¼€ç®¡ç†ç•Œé¢ï¼Œæˆ‘é€‰æ‹©çš„æ˜¯ centos-7-x86_64-bbr</p><a id="more"></a><blockquote><p>BBRï¼ˆBottleneck Bandwidth and RTTï¼‰æ˜¯ä¸€ç§æ–°çš„æ‹¥å¡æ§åˆ¶ç®—æ³•ï¼Œç”± Google è´¡çŒ®ç»™ Linux å†…æ ¸ TCP å †æ ˆã€‚æœ‰äº† BBRï¼ŒLinux æœåŠ¡å™¨å¯ä»¥æ˜¾ç€æé«˜ååé‡å¹¶å‡å°‘è¿æ¥å»¶è¿Ÿã€‚æ­¤å¤–ï¼Œéƒ¨ç½² BBR å¾ˆå®¹æ˜“ï¼Œå› ä¸ºæ­¤ç®—æ³•åªéœ€è¦åœ¨å‘é€æ–¹æ›´æ–°ï¼Œè€Œæ— éœ€åœ¨ç½‘ç»œæˆ–æ¥æ”¶æ–¹æ›´æ–°ã€‚</p></blockquote><h1 id="æ­å»º-Shadowsocks"><a href="#æ­å»º-Shadowsocks" class="headerlink" title="æ­å»º Shadowsocks"></a>æ­å»º Shadowsocks</h1><p>ç„¶åé¦–å…ˆæƒ³åˆ°çš„æ˜¯è¦å®‰è£… shadowsocksï¼Œå› ä¸ºæˆ‘è¿™ä¸ªæœåŠ¡å™¨åŸºæœ¬ä¸Šå°±æ˜¯ç”¨æ¥å¹²è¿™ä¸ªäº‹çš„ã€‚</p><p>æˆ‘ä¸æƒ³ä½¿ç”¨ç½‘ä¸Šé‚£ç§ä¸€é”®å®‰è£…è„šæœ¬çš„æ–¹å¼æ¥å¼„è¿™ä¸ªï¼Œå› ä¸ºæ€•ä¸å®‰å…¨ï¼ˆçœŸçš„æ€•äº†æ€•äº†ï¼‰ã€‚æ‰€ä»¥æœ€å¥½è¦è‡ªå·±ææ‡‚æ¯ä¸€æ­¥éƒ½åšäº†ä»€ä¹ˆã€‚</p><p>ä¸»è¦å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼š<a href="https://gist.github.com/3013216027/469e7b988edde7e5f806f55a993b9efa" target="_blank" rel="noopener">https://gist.github.com/3013216027/469e7b988edde7e5f806f55a993b9efa</a></p><p>å‘ç°å®‰è£… shadowsocks ä¹‹å‰å…ˆè¦å®‰è£… pip</p><p>å®‰è£… pip åˆ™è¦å®‰è£… python3</p><h2 id="å®‰è£…-python3"><a href="#å®‰è£…-python3" class="headerlink" title="å®‰è£… python3"></a>å®‰è£… python3</h2><p>æˆ‘è¯•äº†ä¸€ä¸‹<code>yum install python3</code>å±…ç„¶çœŸçš„èƒ½å®‰è£…ï¼Œç»ˆäºä¸ç”¨åƒä»¥å‰é‚£æ ·ä» python å®˜ç½‘ä¸‹è½½æºç ï¼Œè‡ªå·±ç¼–è¯‘ï¼Œè‡ªå·±é…ç¯å¢ƒå˜é‡äº†ã€‚</p><p>å®‰è£…å®Œåæµ‹ä¸€ä¸‹ç‰ˆæœ¬<code>python3 --version</code>ï¼šPython 3.6.8ï¼Œæµ‹ä¸€ä¸‹å®‰è£…ä½ç½®ï¼š<code>which python3</code>ï¼š/usr/bin/python3</p><h2 id="å®‰è£…-shadowsocks"><a href="#å®‰è£…-shadowsocks" class="headerlink" title="å®‰è£… shadowsocks"></a>å®‰è£… shadowsocks</h2><p>æ¥ä¸‹æ¥å°±æ˜¯å®‰è£… shadowsocks äº†ï¼š<code>python3 -m pip install shadowsocks</code></p><p>å®‰è£…å®Œåæµ‹ä¸€ä¸‹ ssserver çœ‹èƒ½ä¸èƒ½ç”¨ï¼Œç›´æ¥è¾“å…¥è¿™ä¸ªå‘½ä»¤çœ‹çœ‹æ•ˆæœï¼Œèƒ½ç”¨ï¼Œå®šä½ä¸€ä¸‹ä½ç½®ï¼š</p><p><code>which ssserver</code>ï¼š/usr/local/bin/ssserverã€‚</p><p>å¸è½½ shadowsocks åå°±ä¸èƒ½ç”¨äº†ï¼Œæ‰€ä»¥èƒ½ç¡®å®š ssserver æ˜¯è·Ÿ shadowsocks æœ‰å…³çš„ã€‚</p><h2 id="é…ç½®-shadowsocks"><a href="#é…ç½®-shadowsocks" class="headerlink" title="é…ç½® shadowsocks"></a>é…ç½® shadowsocks</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;server&quot;: &quot;0.0.0.0&quot;,</span><br><span class="line">    &quot;local_port&quot;: 1080,</span><br><span class="line">    &quot;port_password&quot;: &#123;</span><br><span class="line">        &quot;10085&quot;: &quot;gagosdfger&quot;,</span><br><span class="line">        &quot;10086&quot;: &quot;gagosdfger&quot;,</span><br><span class="line">        &quot;10010&quot;: &quot;gagosdfger&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;method&quot;: &quot;aes-256-cfb&quot;,</span><br><span class="line">    &quot;timeout&quot;: 600</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å‘ç°åŠ å¯†æ–¹æ³•ä¸æ”¯æŒ<code>aes-256-gcm</code>ï¼Œæœ‰ä»€ä¹ˆåŠæ³•ç»™å®ƒåŠ ä¸€ç§åŠ å¯†æ–¹å¼å‘¢</p>]]></content>
      
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æµè§ˆå™¨ä¸Šçš„å‡ ç§xyåæ ‡</title>
      <link href="/blog/2022/06/09/%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8A%E7%9A%84%E5%87%A0%E7%A7%8Dxy%E5%9D%90%E6%A0%87/"/>
      <url>/blog/2022/06/09/%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8A%E7%9A%84%E5%87%A0%E7%A7%8Dxy%E5%9D%90%E6%A0%87/</url>
      
        <content type="html"><![CDATA[<p>é¦–å…ˆåˆ†ä¸ºä¸¤å¤§ç±»ï¼š</p><ul><li>äº‹ä»¶åæ ‡</li><li>dom åæ ‡</li></ul><a id="more"></a><h2 id="äº‹ä»¶åæ ‡"><a href="#äº‹ä»¶åæ ‡" class="headerlink" title="äº‹ä»¶åæ ‡"></a>äº‹ä»¶åæ ‡</h2><p>æœ‰å¦‚ä¸‹å‡ ç§ï¼š</p><ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/MouseEvent/screenX" target="_blank" rel="noopener">screenX</a>, screenY</li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/MouseEvent/clientX" target="_blank" rel="noopener">clientX</a>, clientY</li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/MouseEvent/pageX" target="_blank" rel="noopener">pageX</a>, pageY</li><li><a href="https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/offsetX" target="_blank" rel="noopener">offsetX</a>, offsetY</li></ul><p>ä¸‹é¢è¿™å¼ å›¾å¯ä»¥å¾ˆå¥½çš„å¯¹æ¯”å±•ç¤ºè¿™å‡ ç§ xy åæ ‡ï¼š</p><p><img src="https://s2.loli.net/2022/06/09/CgevqWi37jV6TwZ.png" alt="image.png"></p><p>é‚£å¦‚æœæ˜¯åœ¨ iframe ä¸­çš„ documentï¼ŒclientX å’Œ screenX è¿˜æ˜¯ç¬¦åˆç›´è§‰çš„å€¼å—ï¼Ÿ</p><p>ç­”æ¡ˆæ˜¯ clientX ä¸æ˜¯ï¼ŒscreenX æ˜¯ã€‚</p><p>clientX çš„å€¼æ˜¯ä» document çš„å·¦èµ·å§‹ä½ç½®ç®—èµ·çš„ï¼Œä¸ä¼šè€ƒè™‘ iframe è·ç¦»æµè§ˆå™¨å·¦è¾¹è·ã€‚screenX åˆ™ä¾ç„¶æ˜¯è·ç¦»å±å¹•å·¦è¾¹çš„è·ç¦»ã€‚</p><h2 id="dom-åæ ‡"><a href="#dom-åæ ‡" class="headerlink" title="dom åæ ‡"></a>dom åæ ‡</h2>]]></content>
      
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç”Ÿæˆå›ºå®šé•¿åº¦çš„å­—ç¬¦ä¸²</title>
      <link href="/blog/2022/06/09/%E7%94%9F%E6%88%90%E5%9B%BA%E5%AE%9A%E9%95%BF%E5%BA%A6%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2/"/>
      <url>/blog/2022/06/09/%E7%94%9F%E6%88%90%E5%9B%BA%E5%AE%9A%E9%95%BF%E5%BA%A6%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2/</url>
      
        <content type="html"><![CDATA[<p>å‰ç«¯ä¸€èˆ¬éƒ½è¦åº”å¯¹å„ç§å„æ ·çš„ç”¨æˆ·è¾“å…¥ï¼Œæ¯”å¦‚é™åˆ¶ç”¨æˆ·è¾“å…¥çš„å­—ç¬¦ä¸²é•¿åº¦ä¸è¶…è¿‡ 255 ä¸ªå­—ç¬¦ã€‚é‚£ä¹ˆæˆ‘è‡ªå·±æµ‹è¯•çš„æ—¶å€™ï¼Œå»å“ªé‡Œå¼„ä¸ª 256 é•¿åº¦çš„å­—ç¬¦ä¸²å‘¢ï¼Œä½œä¸ºä¸€ä¸ªç¨‹åºå‘˜ï¼Œå½“ç„¶æ˜¯è‡ªå·±å†™ä»£ç ç”Ÿæˆã€‚ä¸‹é¢æˆ‘å°±æ¥ç½—åˆ—ä¸€ä¸‹æœ‰å“ªäº›æ–¹æ³•å¯ä»¥å®ç°è¿™ä¸ªéœ€æ±‚ã€‚</p><a id="more"></a><h1 id="å­—ç¬¦ä¸²æ–¹æ³•ï¼špadStart-å’Œ-padEnd"><a href="#å­—ç¬¦ä¸²æ–¹æ³•ï¼špadStart-å’Œ-padEnd" class="headerlink" title="å­—ç¬¦ä¸²æ–¹æ³•ï¼špadStart()å’Œ padEnd()"></a>å­—ç¬¦ä¸²æ–¹æ³•ï¼špadStart()å’Œ padEnd()</h1><p>ES6 çš„å­—ç¬¦ä¸²æ–°è¯­æ³• padStart()å’Œ padEnd()ï¼Œå¯ä»¥å¾ˆå¥½çš„å®Œæˆè¿™ä¸ªéœ€æ±‚ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">''</span>.padStart(<span class="number">256</span>, <span class="string">'a'</span>);</span><br><span class="line"><span class="string">''</span>.padEnd(<span class="number">256</span>, <span class="string">'a'</span>);</span><br></pre></td></tr></table></figure><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/padStart" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/padStart</a></p><h1 id="æ•°ç»„æ–¹æ³•ï¼š-join"><a href="#æ•°ç»„æ–¹æ³•ï¼š-join" class="headerlink" title="æ•°ç»„æ–¹æ³•ï¼š join()"></a>æ•°ç»„æ–¹æ³•ï¼š join()</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">256</span>).fill(<span class="string">'a'</span>).join(<span class="string">''</span>);</span><br></pre></td></tr></table></figure><h1 id="å­—ç¬¦ä¸²æ–¹æ³•ï¼šrepeat"><a href="#å­—ç¬¦ä¸²æ–¹æ³•ï¼šrepeat" class="headerlink" title="å­—ç¬¦ä¸²æ–¹æ³•ï¼šrepeat()"></a>å­—ç¬¦ä¸²æ–¹æ³•ï¼šrepeat()</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'a'</span>.repeat(<span class="number">256</span>);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æµè§ˆå™¨ storage äº‹ä»¶</title>
      <link href="/blog/2022/06/08/%E6%B5%8F%E8%A7%88%E5%99%A8storage%E4%BA%8B%E4%BB%B6/"/>
      <url>/blog/2022/06/08/%E6%B5%8F%E8%A7%88%E5%99%A8storage%E4%BA%8B%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/storage_event" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/API/Window/storage_event</a></p><p>åœ¨ä½¿ç”¨ storage äº‹ä»¶çš„æ—¶å€™ï¼Œæˆ‘å‘ç°äº†ä¸¤ä¸ªä¸ç¬¦åˆæˆ‘ç›´è§‰çš„ç‰¹æ€§ï¼š</p><ol><li>åœ¨æœ¬çª—å£ä¿®æ”¹å­˜å‚¨åŒºåŸŸï¼ˆlocalStorage æˆ– sessionStorageï¼‰æ—¶ï¼Œæœ¬çª—å£çš„ç›‘å¬æ— æ•ˆ</li><li>å¿…é¡»å†™å…¥ä¸æ—§å€¼ä¸åŒçš„å€¼ï¼Œæ‰èƒ½ç›‘å¬åˆ°</li></ol><p>æˆ‘è‡ªå·±å†™ä»£ç æµ‹è¯•äº†ä»¥ä¸Šä¸¤ä¸ªç‰¹ç‚¹ï¼Œä½†ç–‘æƒ‘çš„æ˜¯ä¸­æ–‡æ–‡æ¡£é‡Œé¢ä»€ä¹ˆéƒ½æ²¡è®²ï¼ŒåŸæ¥è‹±æ–‡æ–‡æ¡£é‡Œé¢è¯´äº†è¿™ä¸¤ç‚¹ï¼ŒMDN çš„ä¸­æ–‡æ–‡æ¡£å’Œè‹±æ–‡æ–‡æ¡£å¹¶ä¸æ˜¯ç¿»è¯‘å…³ç³»ï¼Œå®Œå…¨å°±æ˜¯å¦å†™çš„ã€‚æ‰€ä»¥å¦‚æœè§‰å¾—æ–‡æ¡£æœ‰é—®é¢˜ï¼Œè¿˜æ˜¯åˆ‡æ¢åˆ°è‹±æ–‡çœ‹å§ã€‚</p><a id="more"></a><h1 id="è‹±æ–‡æ–‡æ¡£çš„è§£é‡Š"><a href="#è‹±æ–‡æ–‡æ¡£çš„è§£é‡Š" class="headerlink" title="è‹±æ–‡æ–‡æ¡£çš„è§£é‡Š"></a>è‹±æ–‡æ–‡æ¡£çš„è§£é‡Š</h1><p>The storage event of the Window interface fires when a storage area (localStorage) has been <strong>modified in the context of another document</strong>.</p><blockquote><p>Note: <strong>This won&#39;t work on the same page that is making the changes</strong> â€” it is really a way for other pages on the domain using the storage to sync any changes that are made. Pages on other domains can&#39;t access the same storage objects.</p></blockquote><h1 id="æµ‹è¯•ä»£ç "><a href="#æµ‹è¯•ä»£ç " class="headerlink" title="æµ‹è¯•ä»£ç "></a>æµ‹è¯•ä»£ç </h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è®¾ç½®ç›‘å¬</span></span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'storage'</span>, ()=&gt;&#123;<span class="built_in">console</span>.log(<span class="string">'ç›‘å¬storage'</span>, localStorage.getItem(<span class="string">'abcd'</span>))&#125;);</span><br><span class="line"><span class="comment">// æŸ¥çœ‹domæœ‰å“ªäº›ç›‘å¬äº‹ä»¶</span></span><br><span class="line">getEventListeners(<span class="built_in">window</span>);</span><br><span class="line"><span class="comment">// è®¾ç½®localStorage</span></span><br><span class="line">localStorage.setItem(<span class="string">'abcd'</span>, <span class="string">'1111'</span>);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>äºŒåˆ†æŸ¥æ‰¾</title>
      <link href="/blog/2022/06/08/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/"/>
      <url>/blog/2022/06/08/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/</url>
      
        <content type="html"><![CDATA[<p>ä»€ä¹ˆæ˜¯äºŒåˆ†æŸ¥æ‰¾ï¼šäºŒåˆ†æŸ¥æ‰¾æ¯æ¬¡åªæŸ¥è¯¢ midï¼ˆæ•°ç»„æœ€ä¸­é—´çš„æ•°ï¼‰ï¼Œå¦‚æœæ²¡æ‰¾åˆ°ç›®æ ‡ï¼Œå°±ç¼©å°åŒºé—´ï¼Œæ ¹æ® mid å’Œç›®æ ‡æ•°å¯¹æ¯”ï¼Œåªæœå·¦åŠåŒºé—´æˆ–å³åŠåŒºé—´ã€‚</p><p>äºŒåˆ†æŸ¥æ‰¾çš„å‰æï¼š<strong>æ•°æ®æœ‰åº</strong></p><p>äºŒåˆ†æŸ¥æ‰¾ç»“æŸçš„æ¡ä»¶ï¼šæŸ¥æ‰¾åŒºé—´ä¸ºç©ºï¼Œæˆ–è€…æ‰¾åˆ°å…ƒç´ </p><p>äºŒåˆ†æŸ¥æ‰¾çš„æ¡ä»¶åˆ†æ”¯ï¼š</p><ol><li><code>nums[mid]==target</code></li><li><code>nums[mid]&lt;target</code></li><li><code>nums[mid]&gt;target</code></li></ol><p>äºŒåˆ†æŸ¥æ‰¾çš„æœç´¢åŒºé—´è¡¨ç¤ºå½¢å¼ï¼š</p><ol><li>å·¦é—­å³å¼€ï¼ˆåŒºé—´ä¸ºç©ºçš„æ¡ä»¶æ˜¯ left==rightï¼‰</li><li>å·¦é—­å³é—­ï¼ˆåŒºé—´ä¸ºç©ºçš„æ¡ä»¶æ˜¯ left&gt;rightï¼‰</li></ol><p>äºŒåˆ†æŸ¥æ‰¾æœ‰çš„æ—¶å€™æˆ‘ä¼šå†™å‡ºæ­»å¾ªç¯æ¥ï¼Œä»”ç»†æ€è€ƒäº†ä¸€ä¸‹ï¼š<strong>å¿…é¡»æ¯æ¬¡æ”¶ç¼©è¾¹ç•Œçš„æ—¶å€™ï¼Œéƒ½æ’é™¤æ‰ midï¼Œå®Œå…¨é¿å… mid è¢«é‡å¤æŸ¥çš„å¯èƒ½</strong>ã€‚</p><a id="more"></a><h1 id="ä¹ é¢˜"><a href="#ä¹ é¢˜" class="headerlink" title="ä¹ é¢˜"></a>ä¹ é¢˜</h1><ol><li><a href="https://leetcode.cn/problems/binary-search/" target="_blank" rel="noopener">leetcode 704. äºŒåˆ†æŸ¥æ‰¾</a></li><li><a href="https://leetcode.cn/problems/find-first-and-last-position-of-element-in-sorted-array/" target="_blank" rel="noopener">leetcode 34. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®ï¼ˆä¸­ç­‰ï¼‰</a></li></ol><p>ç¬¬ä¸€é¢˜ç­”æ¡ˆï¼š<br>å·¦é—­å³é—­æœç´¢åŒºé—´çš„å†™æ³•ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; nums</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; target</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> search = <span class="function"><span class="keyword">function</span>(<span class="params">nums, target</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> left = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> right = nums.length<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">while</span>(left&lt;=right)&#123;</span><br><span class="line">        <span class="keyword">const</span> mid = left + <span class="built_in">Math</span>.floor((right-left)/<span class="number">2</span>);</span><br><span class="line">        <span class="keyword">if</span>(nums[mid]==target)&#123;</span><br><span class="line">            <span class="keyword">return</span> mid;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(nums[mid]&gt;target)&#123;</span><br><span class="line">            right = mid<span class="number">-1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(nums[mid]&lt;target)&#123;</span><br><span class="line">            left = mid+<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å·¦é—­å³å¼€æœç´¢åŒºé—´çš„å†™æ³•ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; nums</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; target</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> search = <span class="function"><span class="keyword">function</span>(<span class="params">nums, target</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> left = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> right = nums.length;</span><br><span class="line">    <span class="keyword">while</span>(left&lt;right)&#123;</span><br><span class="line">        <span class="keyword">const</span> mid = left + <span class="built_in">Math</span>.floor((right-left)/<span class="number">2</span>);</span><br><span class="line">        <span class="keyword">if</span>(nums[mid]==target)&#123;</span><br><span class="line">            <span class="keyword">return</span> mid;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(nums[mid]&gt;target)&#123;</span><br><span class="line">            right = mid;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(nums[mid]&lt;target)&#123;</span><br><span class="line">            left = mid+<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ç¬¬äºŒé¢˜ç­”æ¡ˆï¼š<br>å·¦é—­å³é—­æœç´¢åŒºé—´çš„å†™æ³•ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; nums</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; target</span></span><br><span class="line"><span class="comment"> * @return &#123;number[]&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> searchRange = <span class="function"><span class="keyword">function</span>(<span class="params">nums, target</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> [findLeft(nums, target), findRight(nums, target)]</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> findLeft = <span class="function"><span class="keyword">function</span>(<span class="params">nums, target</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> left = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> right = nums.length;</span><br><span class="line">    <span class="keyword">while</span>(left&lt;right)&#123;</span><br><span class="line">        <span class="keyword">let</span> mid = left + <span class="built_in">Math</span>.floor((right-left)/<span class="number">2</span>);</span><br><span class="line">        <span class="keyword">if</span>(nums[mid]==target)&#123;</span><br><span class="line">            right = mid;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(nums[mid]&lt;target)&#123;</span><br><span class="line">            left = mid+<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(nums[mid]&gt;target)&#123;</span><br><span class="line">            right = mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(nums[left]==target)&#123;</span><br><span class="line">        <span class="keyword">return</span> left</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> findRight = <span class="function"><span class="keyword">function</span>(<span class="params">nums, target</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> left = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> right = nums.length;</span><br><span class="line">    <span class="keyword">while</span>(left&lt;right)&#123;</span><br><span class="line">        <span class="keyword">let</span> mid = left + <span class="built_in">Math</span>.floor((right-left)/<span class="number">2</span>);</span><br><span class="line">        <span class="built_in">console</span>.log(left, mid, right)</span><br><span class="line">        <span class="keyword">if</span>(nums[mid]==target)&#123;</span><br><span class="line">            left = mid+<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(nums[mid]&lt;target)&#123;</span><br><span class="line">            left = mid+<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(nums[mid]&gt;target)&#123;</span><br><span class="line">            right = mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(nums[right<span class="number">-1</span>]==target)&#123;</span><br><span class="line">        <span class="keyword">return</span> right<span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å·¦é—­å³é—­æœç´¢åŒºé—´çš„å†™æ³•ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; nums</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; target</span></span><br><span class="line"><span class="comment"> * @return &#123;number[]&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> searchRange = <span class="function"><span class="keyword">function</span>(<span class="params">nums, target</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> [fundLeft(nums, target), fundRight(nums, target)]</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> fundLeft = <span class="function"><span class="keyword">function</span>(<span class="params">nums, target</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> left = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> right = nums.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(left&lt;=right)&#123;</span><br><span class="line">        <span class="keyword">let</span> mid = left + <span class="built_in">Math</span>.floor((right-left)/<span class="number">2</span>);</span><br><span class="line">        <span class="keyword">if</span>(nums[mid]==target)&#123;</span><br><span class="line">            right = mid<span class="number">-1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(nums[mid]&lt;target)&#123;</span><br><span class="line">            left = mid+<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(nums[mid]&gt;target)&#123;</span><br><span class="line">            right = mid<span class="number">-1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(nums[left]==target)&#123;</span><br><span class="line">        <span class="keyword">return</span> left;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> fundRight = <span class="function"><span class="keyword">function</span>(<span class="params">nums, target</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> left = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> right = nums.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(left&lt;=right)&#123;</span><br><span class="line">        <span class="keyword">let</span> mid = left + <span class="built_in">Math</span>.floor((right-left)/<span class="number">2</span>);</span><br><span class="line">        <span class="keyword">if</span>(nums[mid]==target)&#123;</span><br><span class="line">            left = mid+<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(nums[mid]&lt;target)&#123;</span><br><span class="line">            left = mid+<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(nums[mid]&gt;target)&#123;</span><br><span class="line">            right = mid<span class="number">-1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(nums[right]==target)&#123;</span><br><span class="line">        <span class="keyword">return</span> right;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•å­¦ä¹ </title>
      <link href="/blog/2021/08/22/%E5%A6%82%E4%BD%95%E5%AD%A6%E4%B9%A0/"/>
      <url>/blog/2021/08/22/%E5%A6%82%E4%BD%95%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<p>è¿™ç¯‡æ–‡ç« çš„æ€æƒ³æ¥è‡ªäºè¿™ä½åšä¸»ï¼š<a href="https://space.bilibili.com/344849038/" target="_blank" rel="noopener">bilibili-YJango</a>ï¼Œæˆ‘è§‰å¾—å¾ˆå—å¯å‘å°±å°†å…¶ç®€ç•¥å†™äº†ä¸‹æ¥ã€‚</p><h3 id="ä»€ä¹ˆæ˜¯å­¦ä¹ ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯å­¦ä¹ ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯å­¦ä¹ ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯å­¦ä¹ ï¼Ÿ</h3><p>å­¦ä¹  vs è®°å¿†</p><p>è®°å¿†ï¼šå®¹é‡æœ‰é™ã€éš¾ä»¥é›†é½</p><p>å­¦ä¹ ï¼šä»æœ‰é™çš„ä¾‹å­ä¸­æ‰¾å‡ºé—®é¢˜å’Œç­”æ¡ˆçš„è§„å¾‹ï¼šçŸ¥è¯†</p><blockquote><p>è´¹æ›¼è¯´ï¼šå¦‚æœä½ æ²¡æœ‰åŠæ³•ç”¨ç®€å•çš„è¯­è¨€æè¿°æ‰€å­¦çš„çŸ¥è¯†ï¼Œä½ å°±æ²¡æœ‰çœŸæ­£å­¦ä¼šå®ƒã€‚</p></blockquote><p>å› ä¸ºå­¦ä¹ æ˜¯ç”¨çŸ¥è¯†æ¥å‹ç¼©åŸæœ¬æ— é™çš„ä¿¡æ¯</p><p>å­¦ä¹ ï¼šæ‰¾å‡ºçŸ¥è¯†ã€å‹ç¼©ä¿¡æ¯</p><a id="more"></a><h3 id="å¦‚ä½•å­¦ä¹ "><a href="#å¦‚ä½•å­¦ä¹ " class="headerlink" title="å¦‚ä½•å­¦ä¹ "></a>å¦‚ä½•å­¦ä¹ </h3><p>æ‰¾å‡ºé—®é¢˜å’Œç­”æ¡ˆçš„è§„å¾‹ï¼Œé‡å¡‘å¤§è„‘é“¾æ¥ã€‚å­¦ä¹ çš„ç¬¬ä¸€æ­¥å°±æ˜¯æ˜ç¡®ï¼šé—®é¢˜å’Œç­”æ¡ˆã€‚</p><blockquote><p>å¾ˆå¤šäººå‹æ ¹è¿è¦å­¦çš„çŸ¥è¯†æ‰€æè¿°çš„é—®é¢˜éƒ½ä¸æ¸…æ¥šå°±å»å­¦ä¹ ï¼Œæœ€ååªæ˜¯è®°ä½çŸ¥è¯†çš„æè¿°è€Œå·²ã€‚</p></blockquote><p>ç„¶è€ŒçŸ¥è¯†ä¸æ˜¯ä¿¡æ¯ï¼Œå­¦ä¹ ä¸æ˜¯è®°å¿†ã€‚æ— æ³•ä»…å‡­è®°ä½çŸ¥è¯†æ¥å­¦ä¼šçŸ¥è¯†ã€‚è¿™ä¹Ÿæ˜¯äººä»¬åœ¨æ•™å’Œå­¦çš„è¿‡ç¨‹ä¸­æœ€å®¹æ˜“çŠ¯çš„é”™è¯¯ï¼Œä»¥ä¸ºå°†çŸ¥è¯†å‘Šè¯‰äº†æŸäººï¼Œå¯¹æ–¹å°±å¯ä»¥å­¦ä¼šäº†ï¼Œä»¥ä¸ºå¬æ‡‚äº†çŸ¥è¯†ï¼Œå°±ä»¥ä¸ºè‡ªå·±å­¦ä¼šäº†ã€‚ç„¶è€ŒçŸ¥è¯†çš„æè¿°åªæ˜¯å¯¹å­¦ä¹ èµ·åˆ°å¼•å¯¼çš„ä½œç”¨ï¼Œæœ€ç»ˆçš„å­¦ä¹ ä¸€å®šè¦é€šè¿‡ä¾‹å­æ¥ç†æ¸…é—®é¢˜å’Œç­”æ¡ˆçš„å…³ç³»ï¼Œæ¥é‡å¡‘å¤§è„‘é“¾æ¥ã€‚è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆåœ¨è®¨è®ºã€å†™æ–‡ç« ä»¥åŠè¾©è®ºæ—¶ä¸€å®šä¼šä¼´éšç€ä¾‹å­ï¼Œè€Œä¸æ˜¯å•çº¯çš„å¯¹çŸ¥è¯†è¿›è¡Œæè¿°ã€‚å› æ­¤åœ¨çœ‹ä¹¦æ—¶ä¹Ÿè¦æ³¨æ„åŒºåˆ†ï¼Œå“ªäº›æ˜¯ä¾‹å­ï¼Œå“ªäº›æ˜¯å¯¹çŸ¥è¯†çš„æè¿°ã€‚æˆ‘ä¸ªäººåœ¨å†™æ–‡ç« æ—¶ç”šè‡³å¸¸å¸¸ä¼šå°†ä¾‹å­å’ŒçŸ¥è¯†æè¿°åˆ†å¼€æ¥å†™ã€‚åç½—åºšçš„ï¼š<strong>å…ˆæŠŠä¹¦è¯»åšï¼Œå†æŠŠä¹¦è¯»è–„</strong>ã€‚çš„å­¦ä¹ æ–¹æ³•å°±æ˜¯æŒ‡ï¼šå…ˆå°½å¯èƒ½çš„æœé›†æ›´å¤šçš„ä¾‹å­æ¥å¸®åŠ©ä½“ä¼šé—®é¢˜å’Œç­”æ¡ˆä¹‹é—´çš„å…³ç³»ã€‚è€Œå½“ä½ çœŸæ­£å­¦ä¼šçš„æ—¶å€™è¿™äº›ä¾‹å­å°±ä¼šå‹ç¼©æˆçŸ¥è¯†ã€‚æœ€åç”±äºå­¦ä¹ æ˜¯ä¸ºäº†è§£å†³æ–°é—®é¢˜ï¼Œæ‰€ä»¥éœ€è¦éªŒè¯ä»ç°æœ‰ä¾‹å­ä¸­æ‰€æç‚¼çš„çŸ¥è¯†ï¼Œæ˜¯å¦èƒ½æè¿°é—®é¢˜å’Œç­”æ¡ˆçš„çœŸæ­£è§„å¾‹ï¼Œè€Œä¸æ˜¯ä»…ä»…è®°ä½äº†è¿™äº›ä¾‹å­ã€‚</p><p>å­¦ä¹ æ­¥éª¤ï¼š</p><ol><li>æ˜ç¡®é—®é¢˜å’Œç­”æ¡ˆ</li><li>ç”¨ä¾‹å­æ„å»ºçŸ¥è¯†</li><li>éªŒè¯çŸ¥è¯†æœ‰æ•ˆæ€§</li></ol><h3 id="å­¦ä¹ çš„è¯¯åŒº"><a href="#å­¦ä¹ çš„è¯¯åŒº" class="headerlink" title="å­¦ä¹ çš„è¯¯åŒº"></a>å­¦ä¹ çš„è¯¯åŒº</h3><p>å­¦ä¹ æœ€é‡è¦çš„ä¸¤æ­¥ï¼š</p><ol><li>æ˜ç¡®é—®é¢˜ï¼ˆè¾“å…¥ï¼‰å’Œç­”æ¡ˆï¼ˆè¾“å‡ºï¼‰</li><li>ç”¨ä¾‹å­æ„å»ºçŸ¥è¯†</li></ol><p>å­¦ä¹ æ–¹å¼åˆ†ä¸ºä¸¤å¤§ç±»ï¼š</p><ul><li>æ€è€ƒç±»ï¼šæ•°å­¦ã€é€»è¾‘</li><li>è¿åŠ¨ç±»ï¼šè¯­è¨€ã€è¿åŠ¨</li></ul><p>åŒºåˆ«åœ¨äºæ˜¯å¦ä¾é æ„è¯†ï¼Œå› ä¸ºæ„è¯†æ˜¯åè¿›åŒ–å‡ºæ¥çš„ï¼Œæ“…é•¿è§£å†³çš„æ˜¯æ¨æ–­é—®é¢˜ï¼Œé€Ÿåº¦ç¼“æ…¢ï¼Œå­¦ä¸ä¼šçš„åŸå› åœ¨äºï¼š</p><ol><li>é”™è¯¯çš„è¾“å…¥è¾“å‡º</li><li>é”™è¯¯çš„å­¦ä¹ æ–¹å¼ï¼šç”¨æ€è€ƒç±»æ–¹å¼æ¥å­¦ä¹ æ‰€æœ‰çŸ¥è¯†ï¼Œæ¯”å¦‚çœ‹ä¹¦å­¦æ¸¸æ³³ã€å­¦åšèœ</li><li>ä¸é€šè¿‡ä¾‹å­ä»…è®°å¿†çŸ¥è¯†</li></ol><p>ä»¥è¯­è¨€ä¸ºä¾‹ï¼Œå››é¡¹èƒ½åŠ›çš„æ­£ç¡®è¾“å…¥ã€è¾“å‡ºåˆ†åˆ«æ˜¯ï¼š</p><ul><li>å¬ï¼ˆå£°éŸ³ï¼‰</li><li>è¯´ï¼ˆæƒ³æ³•ï¼‰</li><li>è¯»ï¼ˆæ–‡å­—ï¼‰</li><li>å†™ï¼ˆæƒ³æ³•ï¼‰</li></ul><p>åº”è¯•è‹±è¯­çš„è¯¯åŒºæ˜¯ï¼šè¾“å…¥ã€è¾“å‡ºå˜æˆäº†å®Œå½¢å¡«ç©ºï¼Œé˜…è¯»é€‰æ‹©ç­‰ï¼Œè¿™ç±»ä»ä¸€äº›æ–‡å­—åˆ°å¦ä¸€äº›æ–‡å­—çš„æ€è€ƒç±»é—®é¢˜ã€‚ç”¨ç™¾è¯æ–©èƒŒå•è¯æ—¶è¿˜å®¹æ˜“äº§ç”Ÿå¦ä¸€ç§åå·®ï¼šå›¾ç‰‡-&gt;ä¸­æ–‡ã€‚è‹±è¯­å­¦ä¹ ä¸­æœ€è‡´å‘½çš„æ˜¯æ’å…¥äº†ä¸­æ–‡æ€è€ƒè¿™ä¸ªä¸­é—´è¾“å‡ºï¼Œä¸ä»…è¾“å‡ºé”™è¯¯ï¼Œè€Œä¸”éå¸¸ç¼“æ…¢ã€‚è‹¥è®©å¾ˆå¤šæ‡‚å¤–è¯­ï¼Œä½†æœªç»è®­ç»ƒçš„äººåŒæ—¶ç¿»è¯‘ä¸­æ–‡çš„è¯ï¼Œä»–ä»¬ä¼šååº”ä¸è¿‡æ¥ï¼Œå°±æ˜¯å› ä¸ºä»–çš„å¤§è„‘åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­å…¶å®å¹¶ä¸æ€è€ƒä¸­æ–‡ã€‚å½“å‡ºå›½åå°±ä¼šå‘ç°ï¼Œæ‰€å­¦è‹±è¯­çš„è¾“å…¥å’ŒçœŸå®è‹±è¯­çš„è¾“å…¥æ˜¯ä¸åŒçš„ï¼Œæ ¹æœ¬ç”¨ä¸äº†ã€‚ä¸ç»è¿‡ä¾‹å­è€Œç›´æ¥è®°å¿†çŸ¥è¯†ä¹Ÿæ˜¯å¸¸è§çš„è¯¯åŒºï¼Œç”±äºè¯­è¨€çš„è¾“å…¥ä»æ¥ä¸æ˜¯ä¸€ä¸ªå•è¯è€Œæ˜¯ä¸€ä¸ªå¥å­ï¼Œè¦æƒ³æŠŠæ¡å¥å­ä¸­æŸä¸ªå•è¯çš„çœŸæ­£å«ä¹‰ï¼Œéœ€è¦é€šè¿‡å¤§é‡ä½“ä¼šä¸åŒçš„ä¾‹å¥ï¼Œä½†å¾ˆå¤šæ—¶å€™å­¦ç”Ÿä»…ä»…æ˜¯è®°ä½äº†å•è¯çš„ä¸­æ–‡æè¿°ã€‚å¾ˆå¤šè‹±è¯­åå¸ˆä¹ŸçŠ¯åŒæ ·çš„é”™è¯¯ï¼Œä¸ç®¡ä»–æ€»ç»“çš„å†å¥½ï¼Œè‹¥ä»…ä»…æ˜¯æŠŠä»–çš„æ€»ç»“å‘Šè¯‰å­¦ç”Ÿï¼Œå­¦ç”Ÿæ°¸è¿œéƒ½æ˜¯åœ¨æŠŠä»–çš„æ€»ç»“å½“æˆä¿¡æ¯è®°å¿†ï¼Œè€Œä¸æ˜¯ä½œä¸ºçŸ¥è¯†å­¦ä¹ ã€‚åå¹´å­¦ä¸ä¼šè‹±è¯­ï¼Œä¸æ˜¯å› ä¸ºæ²¡å­¦ä¼šï¼Œè€Œæ˜¯å› ä¸ºæé”™äº†è¾“å…¥è¾“å‡ºï¼Œé€ æˆå­¦åˆ°çš„æ˜¯å®Œå…¨ä¸åŒçš„çŸ¥è¯†ã€‚</p><p>æˆ‘ä»¬å¯ä»¥åŒæ—¶åº”ç”¨å¤šä¸ªåº”ç”¨ç±»çŸ¥è¯†ï¼Œè­¬å¦‚æŸäººå¯ä»¥è¾¹èµ°è·¯è¾¹èŠå¤©ã€‚ä½†æ„è¯†åœ¨æŸä¸€åˆ»åªèƒ½ä¸“æ³¨äºä¸€ä¸ªæ€è€ƒç±»é—®é¢˜ï¼Œæ— æ³•å¹¶è¡Œã€‚å› æ­¤åœ¨æŸä¸€åˆ»ï¼Œè‹¥æ— æ³•ä»è„‘ä¸­æœç´¢åˆ°èƒ½ç›´æ¥ä»è¾“å…¥å¾—åˆ°è¾“å‡ºçš„çŸ¥è¯†ï¼Œé—®é¢˜å°±æ— æ³•è§£å†³ã€‚ç„¶åæˆ‘ä»¬æ‰€æŒæ¡çš„çŸ¥è¯†åˆæ˜¯æœ‰é™çš„ï¼Œè¿™ç§ç›´æ¥ä»è¾“å…¥å¾—åˆ°è¾“å‡ºçš„çŸ¥è¯†å¾€å¾€ä¼šè¶…è¿‡æˆ‘ä»¬çš„çŸ¥è¯†èŒƒå›´ã€‚åº”å¯¹åŠæ³•å¯ä»¥æ˜¯å­¦ä¹ æ›´å¤šçš„çŸ¥è¯†ï¼Œä½†è¿˜æœ‰ä¸€ä¸ªç®€å•ï¼Œå´åˆæ— æ¯”å¼ºå¤§çš„æ–¹æ³•å°±æ˜¯åˆ†è€Œæ²»ä¹‹ã€‚å°†é—®é¢˜æ‹†åˆ†æˆè„‘ä¸­å­˜æœ‰çš„ï¼Œèƒ½ç›´æ¥ä»è¾“å…¥å¾—åˆ°è¾“å‡ºçš„å°é—®é¢˜æ¥è§£å†³ã€‚ä½ ä¸€å®šå¬è¿‡è¿™ä¸ªåŠæ³•ï¼Œä½†ææ€•ä½ å¹¶ä¸çŸ¥é“å®ƒä¸ºä»€ä¹ˆå¦‚æ­¤å¼ºå¤§ã€‚åŸå› åœ¨äºï¼Œå®ƒå¯ä»¥å°†åŸæœ¬éœ€è¦ä½ æŒæ¡æŒ‡æ•°çº§çŸ¥è¯†æ‰èƒ½è§£å†³çš„é—®é¢˜ï¼Œå˜æˆç”¨çº¿æ€§çº§çŸ¥è¯†å°±å¯ä»¥è§£å†³çš„é—®é¢˜ã€‚å‡è®¾ä½ æŒæ¡äº†ä¸‰ç§çŸ¥è¯†ï¼Œä¸è€ƒè™‘é¡ºåºï¼Œå•ä»ç»„åˆæ¥çœ‹ï¼Œå°±å¯ä»¥å½¢æˆ $2^3$ ç§çŸ¥è¯†ï¼Œå¦‚æœä¸æ‹†åˆ†é—®é¢˜ä½ éœ€è¦æŒæ¡ 8 ç§çŸ¥è¯†æ‰èƒ½è§£å†³è¿™äº›é—®é¢˜ã€‚è€Œæœ‰ 20 ç§çŸ¥è¯†çš„æ—¶å€™ï¼ŒäºŒè€…çš„å·®åˆ«å°±æ˜¯ 20 vs 1048576ã€‚</p><p>åº”å¯¹æ–¹æ³•ï¼š</p><ul><li>å¤šå­¦çŸ¥è¯†</li><li>åˆ†è€Œæ²»ä¹‹ï¼ˆ$2^n \rightarrow n$ï¼Œå®ƒç›´æ¥å†³å®šäº†ä¸€ä¸ªäººè§£å†³é—®é¢˜çš„èƒ½åŠ›ï¼‰</li></ul><p>é€ æˆç°è±¡ï¼š</p><ul><li>ç¼–ç¨‹æ— å¤´ç»ª</li><li>å†™ä½œä¸å‡ºå­—</li><li>è§£é¢˜æ²¡æ€è·¯</li><li>å·¥ä½œéš¾åº”å¯¹</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> æ–¹æ³•è®º </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ™ºèƒ½åˆçº¦å…¥é—¨</title>
      <link href="/blog/2021/06/28/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E5%85%A5%E9%97%A8/"/>
      <url>/blog/2021/06/28/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E5%85%A5%E9%97%A8/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å‰è¨€<br>ä» 2017 å¹´å¼€å§‹ä¹°æ¯”ç‰¹å¸çš„æ—¶å€™ï¼Œæˆ‘å°±æƒ³å­¦ä¹ æ™ºèƒ½åˆçº¦ç›¸å…³çš„å¼€å‘ï¼Œä¹Ÿæ›¾æƒ³è¿‡è¦æŠ•èº«åŒºå—é“¾è¡Œä¸šï¼Œè¿™ä¸€æ‹–å°±æ˜¯ 4 å¹´ã€‚æˆ‘è®¤çœŸå¼€å§‹å­¦èµ·æ™ºèƒ½åˆçº¦ï¼Œæœ€ä¸»è¦çš„åŸå› å…¶å®æ˜¯å› ä¸ºæˆ‘ç¦»å®ƒæ›´è¿‘äº†ã€‚è¿™ä¸€è½®ç‰›å¸‚ï¼ŒDEFI ç«çˆ†ï¼Œè®©æˆ‘å­¦ä¼šäº†ä½¿ç”¨é’±åŒ…å’Œå…¬é“¾ã€‚è€Œåœ¨å»å¹´ï¼Œæˆ‘è¿˜æ˜¯ä¸ªåªä¼šåœ¨ OTC å…¥é‡‘çš„å‚»å­ï¼Œåº“å¸çš„ OTC å®šä»·é‚£ä¹ˆä¸åˆç†éƒ½åªä¼šç”¨ OTC å…¥é‡‘ï¼Œåæ¥æˆ‘æ‰å‘ç°åŸæ¥ USDT å¯ä»¥éšæ„åœ¨é“¾ä¸Šè½¬ï¼Œè€Œä¸”æ³¢åœºå…æ‰‹ç»­è´¹ï¼Œç”±æ­¤æ‰“å¼€äº†æ–°ä¸–ç•Œçš„å¤§é—¨ã€‚</p></blockquote><a id="more"></a><h2 id="èµ„æ–™"><a href="#èµ„æ–™" class="headerlink" title="èµ„æ–™"></a>èµ„æ–™</h2><ul><li><a href="https://solidity.tryblockchain.org/Solidity-%E8%AF%AD%E8%A8%80%E4%BB%8B%E7%BB%8D.html" target="_blank" rel="noopener">Solidity è¯­è¨€</a></li><li><a href="https://solidity-cn.readthedocs.io/zh/develop/index.html" target="_blank" rel="noopener">Solidity æ–‡æ¡£</a></li><li><a href="http://remix.ethereum.org/" target="_blank" rel="noopener">Remix</a></li><li><a href="https://www.jianshu.com/p/8e9882f626f0" target="_blank" rel="noopener">Remix çš„ä½¿ç”¨</a></li><li><a href="https://donaldhan.github.io/blockchain/2020/05/19/RemixIDE%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B.html" target="_blank" rel="noopener">Remix ä½¿ç”¨æ•™ç¨‹</a></li><li><a href="https://juejin.cn/post/6844903679938527246" target="_blank" rel="noopener">å‘å¸</a></li></ul><p>äººç”Ÿä¸­ç¬¬ä¸€æ®µæ™ºèƒ½åˆçº¦ä»£ç </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^0.4.0;</span><br><span class="line"></span><br><span class="line">contract addressTest&#123;</span><br><span class="line"></span><br><span class="line">    function getBalance(address addr) public view returns (uint)&#123;</span><br><span class="line">        return addr.balance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.loli.net/2021/06/28/NrE2xhpHcPInLAX.png" alt="è¿è¡Œç»“æœ"></p>]]></content>
      
      
      
        <tags>
            
            <tag> å¸åœˆ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¿«é€Ÿæ’åºæœ€åçš„æƒ…å†µå•¥æ—¶å€™å‡ºç°</title>
      <link href="/blog/2021/06/28/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F%E6%9C%80%E5%9D%8F%E7%9A%84%E6%83%85%E5%86%B5%E5%95%A5%E6%97%B6%E5%80%99%E5%87%BA%E7%8E%B0/"/>
      <url>/blog/2021/06/28/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F%E6%9C%80%E5%9D%8F%E7%9A%84%E6%83%85%E5%86%B5%E5%95%A5%E6%97%B6%E5%80%99%E5%87%BA%E7%8E%B0/</url>
      
        <content type="html"><![CDATA[<p>åœ¨é¢è¯•å¯Œé€”çš„æ—¶å€™é¢è¯•å®˜é—®äº†è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼šå¿«é€Ÿæ’åºæœ€åçš„æƒ…å†µå•¥æ—¶å€™å‡ºç°ï¼Ÿå½“æ—¶æ²¡æœ‰ç­”ä¸Šæ¥ã€‚å®é™…ä¸Šè¿™ä¸ªé—®é¢˜æ¯”è¾ƒå®¹æ˜“æƒ³æ¸…æ¥šï¼Œæ€è·¯å¦‚ä¸‹ï¼Œä»å¿«é€Ÿæ’åºçš„å½¢å¼å…¥æ‰‹ï¼š$O(N*logN)$ï¼ŒN ä»£è¡¨å•æ¬¡æ’åºçš„æ—¶é—´èŠ±é”€ï¼ŒlogN ä»£è¡¨é€’å½’æ¬¡æ•°ã€‚æˆ‘ä»¬çŸ¥é“æœ€åæƒ…å†µæ˜¯$O(N^2)$ï¼Œä¹Ÿå°±æ˜¯è¯´$logN$é€€åŒ–æˆäº†$N$ã€‚é‚£ä¹ˆä»€ä¹ˆæƒ…å†µä¼šé€€åŒ–æˆ$logN$ï¼Œå½“ç„¶æ˜¯é—®é¢˜è§„æ¨¡ç¼©å‡å¾—æ…¢çš„æ—¶å€™ï¼Œè¿™ä¸æˆ‘ä»¬é€‰ä¸­æ¢æœ‰ç›´æ¥çš„å…³ç³»ã€‚å‡å¦‚æˆ‘ä»¬é€‰çš„ä¸­æ¢ï¼Œæ¯æ¬¡éƒ½æ˜¯æœ€å°æˆ–è€…æœ€å¤§ï¼Œé‚£ä¹ˆé—®é¢˜çš„ç¼©å°é€Ÿåº¦å°±ä¼šå˜æˆçº¿æ€§çš„äº†ï¼›è€Œå‡å¦‚æˆ‘ä»¬é€‰çš„ä¸­æ¢ï¼Œæ¯æ¬¡æ°å¥½æ˜¯ä¸­é—´é‚£ä¸ªæ•°ï¼Œé‚£ä¹ˆé—®é¢˜é€’å½’æ¬¡æ•°å°±æ˜¯$log_2^N$äº†ã€‚</p><p>ç”±äºæˆ‘ä»¬ä¸€èˆ¬éƒ½æ˜¯é€‰ç¬¬ä¸€ä¸ªæˆ–è€…æœ€åä¸€ä¸ªå…ƒç´ åšä¸­æ¢ï¼Œé‚£ä¹ˆæœ€åçš„æƒ…å†µå¯¹åº”å°±æ˜¯ï¼šå·²ç»æœ‰åºï¼ˆè¿™åŒ…æ‹¬æ­£åºï¼Œé€†åºï¼Œä»¥åŠå…¨éƒ¨å…ƒç´ ç›¸ç­‰ï¼‰</p><p>ç”±äºå¿«é€Ÿæ’åºçš„è¿™ä¸ªç‰¹å¾ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸€èˆ¬çš„ç®—æ³•åº“ä¸­æ˜¯ç»“åˆäº†å¥½å‡ ç§æ’åºç®—æ³•ï¼š<a href="https://zhuanlan.zhihu.com/p/36274119" target="_blank" rel="noopener">C++ä¸€é“æ·±å‘é¢è¯•é¢˜ï¼šSTL é‡Œ sort ç®—æ³•ç”¨çš„æ˜¯ä»€ä¹ˆæ’åºç®—æ³•ï¼Ÿ</a></p><p>åŒæ—¶æˆ‘ä¹Ÿåœ¨æ€è€ƒä¸ºå•¥å¿«æ’è¿™ç§æœ€åæ˜¯$O(N^2)$çš„ç®—æ³•ä¼šè¢«ä½¿ç”¨ï¼Œè€Œä¸ç›´æ¥ä½¿ç”¨æœ€åæ˜¯$O(NlogN)$çš„ç®—æ³•ï¼Œæ¯”å¦‚å½’å¹¶æ’åºï¼Œå †æ’åºã€‚ç­”æ¡ˆè‡ªç„¶æ˜¯è¿™äº›æ’åºä¹Ÿæœ‰å„è‡ªçš„ç¼ºç‚¹ï¼Œè€Œä¸”æˆ‘ä¼°è®¡æ˜¯æ— æ³•å®¹å¿çš„ç¼ºç‚¹ã€‚æ¯”å¦‚å½’å¹¶æ’åºï¼Œå®ƒä¸æ˜¯ä¸€ä¸ªåŸåœ°æ’åºç®—æ³•ï¼Œéœ€è¦é¢å¤–çš„å­˜å‚¨ç©ºé—´ã€‚å †æ’åºï¼Œéœ€è¦æ„å»ºå †èŠ±è´¹é¢å¤–çš„æ—¶é—´ã€‚å †æ„å»ºå®Œæ¯•åï¼Œå€Ÿç”¨å †è¿™ç§ç»“æ„ï¼Œæ¯æ¬¡åªèƒ½ä»å †é¡¶å–å‡ºæœ€å¤§æˆ–æœ€å°çš„æ•°ï¼Œè€Œä¸”å–å®Œè¿˜è¦è¿›è¡Œå †ç»´æŠ¤ï¼ŒèŠ±è´¹$logN$çš„æ—¶é—´ã€‚æ„å»ºå †çš„è¿‡ç¨‹å’Œå †æ’åºçš„è¿‡ç¨‹ç±»ä¼¼ï¼Œåªä¸è¿‡æ„å»ºå †æ˜¯æ·»åŠ å¶èŠ‚ç‚¹+ä¸Šæµ®å †åŒ–çš„è¿‡ç¨‹ï¼Œè€Œå †æ’åºæ˜¯å–æ ¹èŠ‚ç‚¹+ä¸‹æ²‰å †åŒ–çš„è¿‡ç¨‹ï¼ŒåŒæ ·çš„æ„å»ºå †ä¹Ÿè¦èŠ±è´¹$O(NlogN)$çš„æ—¶é—´ã€‚æ‰€ä»¥å †æ’åºä¼šèŠ±è´¹åŒå€çš„æ—¶é—´ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>position sticky</title>
      <link href="/blog/2021/05/28/position-sticky/"/>
      <url>/blog/2021/05/28/position-sticky/</url>
      
        <content type="html"><![CDATA[<blockquote><p>åœ¨åšå…¬å¸é¡¹ç›®çš„è¿‡ç¨‹ä¸­é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼šè®©è¡¨å¤´å›ºå®šï¼ŒåŒæ—¶å…¶å®½åº¦å¿…é¡»å æ»¡æ•´ä¸ªçˆ¶å…ƒç´ ã€‚ç”¨ fixedï¼Œå¯ä»¥å›ºå®šä½†æ˜¯å®½åº¦æ— æ³•æ’‘å¼€ã€‚æœ€ç»ˆç”¨<code>position: sticky</code>è§£å†³äº†é—®é¢˜ã€‚</p></blockquote><p>å‚è€ƒèµ„æ–™ï¼š</p><ol><li><a href="https://www.zhangxinxu.com/wordpress/2018/12/css-position-sticky/" target="_blank" rel="noopener">æ€äº†ä¸ªå›é©¬æªï¼Œè¿˜æ˜¯è¯´è¯´ position:sticky å§Â« å¼ é‘«æ—­-é‘«ç©ºé—´-é‘«ç”Ÿæ´»</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/position" target="_blank" rel="noopener">position - CSSï¼ˆå±‚å æ ·å¼è¡¨ï¼‰ | MDN</a></li></ol><a id="more"></a><h2 id="position-sticky-çš„ä½œç”¨"><a href="#position-sticky-çš„ä½œç”¨" class="headerlink" title="position: sticky çš„ä½œç”¨"></a>position: sticky çš„ä½œç”¨</h2><p>è¿™ä¸ªå‘å…ˆæ”¾ç€ï¼Œç­‰æ·±å…¥ç ”ç©¶äº†å†æ¥å¡«ï¼Œæ”¾ä¸Š codepen è¯•éªŒç°åœºï¼š<a href="https://codepen.io/liuqinh2s/pen/oNZWbeX" target="_blank" rel="noopener">https://codepen.io/liuqinh2s/pen/oNZWbeX</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç‚’å¸çš„åŸºæœ¬çŸ¥è¯†</title>
      <link href="/blog/2019/12/30/%E7%82%92%E5%B8%81%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86/"/>
      <url>/blog/2019/12/30/%E7%82%92%E5%B8%81%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86/</url>
      
        <content type="html"><![CDATA[<h2 id="å¹³å°é€‰æ‹©"><a href="#å¹³å°é€‰æ‹©" class="headerlink" title="å¹³å°é€‰æ‹©"></a>å¹³å°é€‰æ‹©</h2><p>å¹³å°é€‰æ‹©ï¼šé€‰å¤§å¹³å°ï¼Œåƒç«å¸ã€å¸å®‰ã€‚è¿™é‡Œæœ‰ä¸ªæ’è¡Œä¾›å‚è€ƒï¼š<a href="https://coinmarketcap.com/zh/rankings/exchanges/" target="_blank" rel="noopener">https://coinmarketcap.com/zh/rankings/exchanges/</a></p><p>æˆ‘è‡ªå·±é€‰çš„æ˜¯ç«å¸ï¼Œä»¥å‰çš„ç«å¸ä½“éªŒæ˜¯éå¸¸å¥½çš„ï¼Œä¹°å–å¾ˆæ–¹ä¾¿ï¼Œç°åœ¨ç»å¸¸æ•°æ®åˆ·ä¸å‡ºæ¥ã€‚</p><a id="more"></a><h2 id="k-çº¿å›¾"><a href="#k-çº¿å›¾" class="headerlink" title="k çº¿å›¾"></a>k çº¿å›¾</h2><p>K çº¿å›¾ï¼ˆå› ä¸ºå½¢çŠ¶é…·ä¼¼èœ¡çƒ›ï¼Œä¹Ÿå«èœ¡çƒ›å›¾ï¼‰</p><p><img src="https://i.loli.net/2019/07/10/5d2541b86cbe121624.png" alt="Kçº¿å›¾"></p><p><a href="https://zh.wikipedia.org/wiki/K%E7%BA%BF" target="_blank" rel="noopener">k çº¿å›¾</a>æ˜¯æœ€å¸¸ç”¨å’Œæœ€åŸºæœ¬çš„ä¿¡æ¯æ¥æº</p><p>k çº¿å›¾æ˜¯å…¸å‹çš„ç¬›å¡å°”åæ ‡ï¼ˆä¹Ÿå°±æ˜¯ç›´è§’åæ ‡ç³»ï¼‰ï¼Œæ¨ªè½´æ˜¯æ—¶é—´ï¼Œçºµè½´æ˜¯ä»·æ ¼ã€‚</p><p>æ¨ªè½´å¯ä»¥é€‰æ‹©å¤šç§æ—¶é—´åˆ†ç‰‡ï¼Œæ¯”å¦‚ä¸€ä¸ªæœˆï¼Œ1 å‘¨ï¼Œ1 å¤©ï¼Œ4 å°æ—¶ï¼Œ1 å°æ—¶ï¼Œ15 åˆ†é’Ÿï¼Œ1 åˆ†é’Ÿã€‚ä¸Šå›¾ä¸­ï¼Œæˆ‘é€‰æ‹©çš„å°±æ˜¯ 1 å¤©çš„ k çº¿å›¾ã€‚æ¯ä¸€æ ¹èœ¡çƒ›å°±ä»£è¡¨ä¸€ä¸ªæ—¶é—´ç‰‡çš„åŸºæœ¬ä¿¡æ¯ï¼Œå½“èœ¡çƒ›æ˜¯çº¢è‰²çš„æ—¶å€™ï¼Œå°±è¯´æ˜æ˜¯ <strong>æ”¶ç›˜ä»·&lt;å¼€ç›˜ä»·</strong>ï¼›æ˜¯ç»¿è‰²çš„æ—¶å€™ï¼Œå°±è¯´æ˜æ˜¯ <strong>å¼€ç›˜ä»·&gt;æ”¶ç›˜ä»·</strong>ã€‚è€Œä¸­é—´ç»†é•¿çš„çº¿å†’å‡ºå¤´ï¼Œå°±æ˜¯åœ¨è¯¥æ—¶é—´ç‰‡å†…ä»·æ ¼æ›¾ä»Šåˆ°è¿‡çš„ä½ç½®ã€‚</p><blockquote><p>ä»€ä¹ˆæ˜¯æ”¶ç›˜ä»·ï¼Œä»€ä¹ˆæ˜¯å¼€ç›˜ä»·ï¼Ÿå¼€ç›˜ä»·æ˜¯æ—¶é—´ç‰‡å¼€å§‹çš„æ—¶å€™çš„ä»·æ ¼ï¼Œæ”¶ç›˜ä»·æ˜¯æ—¶é—´ç‰‡ç»“æŸæ—¶å€™çš„ä»·æ ¼ã€‚æ¯”å¦‚ä½ å¦‚æœé€‰çš„æ˜¯ 1 å¤©ä½œä¸ºæ—¶é—´ç‰‡ï¼Œé‚£ä¹ˆå¼€ç›˜æ—¶é—´å°±æ˜¯ <strong>00:00:01</strong>ï¼Œæ”¶ç›˜æ—¶é—´å°±æ˜¯ <strong>23:59:59</strong>ã€‚é‚£ä»€ä¹ˆåˆæ˜¯ä»·æ ¼å‘¢ï¼Ÿä»·æ ¼æ˜¯ä¸Šä¸€ç¬”æˆäº¤çš„ä»·æ ¼ã€‚</p></blockquote><p>å½“ç„¶çº¢è‰²å’Œç»¿è‰²åªæ˜¯ä¸€ç§çº¦å®šä¿—æˆï¼Œåœ¨ä¸­å›½è‚¡å¸‚ï¼Œçº¢è‰²ä¸€èˆ¬ä»£è¡¨æ¶¨ï¼Œç»¿è‰²ä»£è¡¨è·Œã€‚è€Œç¾è‚¡åˆ™æ°å¥½ç›¸åã€‚</p><p>å¦‚æœä½ èƒ½é€šè¿‡è‡ªå·±çš„è§‚å¯Ÿå‘ç°ä»¥ä¸Šè¿™äº›ä¿¡æ¯ï¼Œè¯´æ˜ä½ å·²ç»å…·å¤‡äº†ä¸€å®šçš„æ´å¯ŸåŠ›ã€‚ä¹°äº†è¿™ä¹ˆä¹…æ¯”ç‰¹å¸ï¼Œæˆ‘ä¹Ÿæ˜¯ä»Šå¹´æ‰äº†è§£äº†è¿™äº›ä¿¡æ¯ã€‚ ä½†å€ŸåŠ©äºæœç´¢å¼•æ“å’Œç»´åŸºç™¾ç§‘æˆ‘ä»¬å¯ä»¥æ›´å¿«çš„æŒæ¡è¿™äº›çŸ¥è¯†ã€‚</p><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿˜æœ‰é»„ã€ç»¿ã€ç´«ä¸‰æ ¹æ›²çº¿è´¯ç©¿åœ¨èœ¡çƒ›å›¾ä¸­ã€‚è¿™å°±æ˜¯ <strong>å‡çº¿</strong>ã€‚ä¸Šå›¾ä¸­ MA5 æ˜¯é»„è‰²çš„ï¼ŒMA10 æ˜¯ç»¿è‰²çš„ï¼ŒMA30 æ˜¯ç´«è‰²çš„ã€‚ MA æ˜¯ Moving Average çš„æ„æ€ï¼ŒMA çº¿å°±æ˜¯ <a href="https://zh.wikipedia.org/wiki/%E7%A7%BB%E5%8B%95%E5%B9%B3%E5%9D%87" target="_blank" rel="noopener">ç§»åŠ¨å¹³å‡çº¿</a>ã€‚ ä½†è¦æ³¨æ„çš„æ˜¯ MA5 å¹¶ä¸ä¸€å®šæ˜¯ 5 æ—¥å‡çº¿çš„æ„æ€ï¼Œè¿˜è¦çœ‹ä½ é€‰æ‹©çš„æ˜¯ä»€ä¹ˆæ—¶é—´åˆ†ç‰‡ï¼Œå¦‚æœæ˜¯ 1 å°æ—¶ï¼Œé‚£å°±æ˜¯ 5 å°æ—¶å‡çº¿ã€‚å¦å¤–å‡çº¿é‡‡ç”¨çš„æ•°æ®ä¸€èˆ¬æ˜¯æ”¶ç›˜ä»·ã€‚è®¡ç®—æ–¹æ³•å¾ˆç®€å•ï¼Œå½“å‰å‡çº¿å€¼=å‰é¢å‡ æ ¹èœ¡çƒ›çš„æ”¶ç›˜ä»·ç›¸åŠ /èœ¡çƒ›çš„æ ¹æ•°ã€‚æ¯”å¦‚ MA5 = (å‰é¢å››æ ¹èœ¡çƒ›å›¾çš„æ”¶ç›˜ä»·+å½“å‰ä»·æ ¼)/5ï¼Œç”±äºè¿˜æ²¡æ”¶ç›˜ï¼Œè®¡ç®—å½“å‰çš„ MA5ï¼Œæœ€åä¸€æ ¹ k çº¿çš„æ”¶ç›˜ä»·ç”¨çš„æ˜¯å½“å‰ä»·æ ¼ï¼Œæ‰€ä»¥å½“å‰çš„ MA5 æ˜¯æ³¢åŠ¨çš„ã€‚</p><h2 id="æ·±åº¦å›¾"><a href="#æ·±åº¦å›¾" class="headerlink" title="æ·±åº¦å›¾"></a>æ·±åº¦å›¾</h2><p><img src="https://i.loli.net/2019/07/10/5d25517d36cdc58042.png" alt="æ·±åº¦å›¾"></p><p>æ·±åº¦å›¾å°±æ¯”è¾ƒç®€å•äº†ã€‚ä»å›¾ä¸­æˆ‘ä»¬å¯ä»¥å¾—çŸ¥ï¼Œç»¿è‰²è¿™è¾¹æ˜¯ä¹°å…¥ï¼Œçº¢è‰²æ˜¯å–å‡ºã€‚æ¨ªè½´æ˜¯ä»·æ ¼ï¼Œçºµè½´æ˜¯æ•°é‡ã€‚</p><p>ä¸€èˆ¬æ¥è¯´ä»·æ ¼è¶Šä½æ„¿æ„ä¹°çš„äººè¶Šå¤šï¼Œä»·æ ¼è¶Šé«˜æ„¿æ„å–çš„äººè¶Šå¤šï¼Œæ‰€ä»¥ä¼šå‘ˆç°å‡ºè¿™ç§ä¸¤ä¸ªä¸‰è§’å½¢å°–å°–è§’ç›¸å¯¹çš„æ„Ÿè§‰ï¼Œä¸­é—´æ˜¯è°·ï¼Œä¸¤è¾¹æ˜¯å³°ã€‚</p><p>æˆ‘ä»¬éœ€è¦ç•™æ„çš„æ˜¯ä¹°ç›˜å’Œå–ç›˜å“ªä¸ªæ›´å¤§ï¼Œä¹°ç›˜å¤§è¯´æ˜å¾ˆå¤šäººæƒ³è¦ä¹°ï¼ˆä¸€èˆ¬æƒ…å†µä¸‹ä¼šå¯¼è‡´ä¾›ä¸åº”æ±‚ï¼Œæ­¤æ—¶ä¸ºå–æ–¹å¸‚åœºï¼Œä»·æ ¼å¯èƒ½ä¼šè¢«æ¨é«˜ï¼‰ï¼Œå–ç›˜å¤§è¯´æ˜å¾ˆå¤šäººæƒ³è¦å–ï¼ˆä¸€èˆ¬æƒ…å†µä¸‹ä¼šå¯¼è‡´ä¾›è¿‡äºæ±‚ï¼Œæ­¤æ—¶ä¸ºä¹°æ–¹å¸‚åœºï¼Œä»·æ ¼å¯èƒ½ä¼šè¢«å‹ä½ï¼‰ã€‚</p><p>å¦ä¸€ä¸ªç°è±¡å°±æ˜¯åœ¨æŸä¸ªä»·ä½å½¢æˆä¸€æ¡æ¯”è¾ƒæ˜æ˜¾çš„å‚çº¿ï¼Œè¯´æ˜åœ¨è¿™ä¸ªä»·æ ¼çš„è®¢å•é‡çªç„¶éå¸¸å¤šï¼Œè¿™ç§çº¿å°±æ˜¯å‹åŠ›ä½ï¼Œå¯ä»¥é˜»æ­¢æš´æ¶¨æš´è·Œã€‚</p><p>ä½†æˆ‘ä»¬ä¹Ÿè¦æ³¨æ„åˆ°ï¼Œæ·±åº¦å›¾åªæ˜¯æŒ‚å•ä¿¡æ¯çš„ä¸€ä¸ªå…¨æ–¹ä½å±•ç¤ºï¼ŒæŒ‚å•æ˜¯å¯ä»¥éšæ—¶å–æ¶ˆçš„ï¼Œé™¤éæŒ‚å•ä¸å¯å–æ¶ˆï¼Œå¦åˆ™æ·±åº¦å›¾æ€»æ˜¯æœ‰ä¸€å®šçš„å»¶è¿Ÿæ€§ï¼Œæœ‰å¯èƒ½è¢«åº„å®¶ç”¨æ¥è¿·æƒ‘æ•£æˆ·ã€‚</p><h2 id="æµåŠ¨æ€§"><a href="#æµåŠ¨æ€§" class="headerlink" title="æµåŠ¨æ€§"></a>æµåŠ¨æ€§</h2><p>ç›®å‰æ¯”ç‰¹å¸çš„æ¯æ—¥äº¤æ˜“é‡å æ•´ä¸ªåŠ å¯†è´§å¸çš„ 60%ä»¥ä¸Šï¼ŒæµåŠ¨æ€§æœ€å¤§ã€‚æŸäº›å¸‚å€¼å°çš„å¸ç§æµåŠ¨æ€§å¾ˆå°ï¼Œå¤§èµ„é‡‘è¿›ä¸æ¥ï¼Œä¹Ÿå‡ºä¸å»ã€‚æ¯”ç‰¹å¸çš„è¿™ä¸ªä¼˜åŠ¿å°†ä¸æ–­çš„å¸å¼•å¤§èµ„é‡‘æ³¨å…¥ã€‚</p><p>å¦‚æœä½ æ‰‹ä¸Šæœ‰ 1000 ä¸ªæ¯”ç‰¹å¸ï¼Œç”šè‡³ 10000 ä¸ªæ¯”ç‰¹å¸ï¼Œä¸ç”¨æ‹…å¿ƒå‡ºå”®ä¸äº†ï¼Œä½ æŒ‚ä¸ªå–å•ï¼Œå¸‚åœºå¾ˆå¿«å°±èƒ½åƒæ‰ã€‚è€Œä¸€äº›å¸‚å€¼å’Œäº¤æ˜“é‡å°çš„å¸ç§åˆ™ä¸è¡Œï¼Œæ¯”å¦‚ BTSï¼Œå·¨èŸ¹ç°åœ¨è¦ç”©å– 3 äº¿ä¸ª BTSï¼Œå°±å¾ˆå›°éš¾ã€‚</p><h2 id="ä»·æ ¼å’Œå¸‚å€¼"><a href="#ä»·æ ¼å’Œå¸‚å€¼" class="headerlink" title="ä»·æ ¼å’Œå¸‚å€¼"></a>ä»·æ ¼å’Œå¸‚å€¼</h2><p>åŠ å¯†è´§å¸æš´æ¶¨æš´è·Œï¼Œé’±éƒ½è¿›äº†è°çš„è…°åŒ…ï¼Ÿ</p><blockquote><p>åœ¨å¸‚åœºä¸­ï¼Œä»·æ ¼ä¸»è¦æ˜¯é€šè¿‡ä¹°å–è¿‡ç¨‹ç›´æ¥å†³å®šçš„ï¼Œå½“ä¹°æ–¹åŠ›é‡å¼ºäºå–æ–¹ï¼Œä»·æ ¼å°±æ¶¨ï¼›åä¹‹ä»·æ ¼å°±è·Œï¼ˆä¾›éœ€å…³ç³»å†³å®šä»·æ ¼èµ°åŠ¿ï¼‰ã€‚</p></blockquote><p>ä½†è¿™å…¶ä¸­ä¹Ÿæœ‰ä¸å°‘çŒ«è…»ï¼Œä¸¾ä¸ªå®é™…çš„ä¾‹å­ï¼š</p><p>å‡è®¾æ¯”ç‰¹å¸ç°åœ¨çš„ä»·æ ¼æ˜¯ 10000 USDTï¼Œå¹¶ä¸”åªæœ‰ä½ ä¸€ä¸ªäººåœ¨äº¤æ˜“ï¼Œä½ æƒ³ä¹° 100 ä¸‡ USDT çš„ BTCï¼Œåªèƒ½é€šè¿‡ä¸æ–­æŠ¬é«˜ä»·æ ¼ï¼Œåƒæ‰æŒ‚ç€çš„å–å•ï¼Œæ‰èƒ½ä¹°åˆ°éœ€è¦æ•°é‡çš„ BTCã€‚</p><p>å‡è®¾ä¹°å®Œä¹‹åï¼ŒBTC ä»·æ ¼åˆ°äº† 10100 USDTï¼Œç›®å‰æ¯”ç‰¹å¸çš„æµé€šé‡ä¸º 1777.5 ä¸‡ï¼Œæ‰€ä»¥ BTC çš„æ€»å¸‚å€¼å¢åŠ äº†<code>100*1777.5ä¸‡=17.775äº¿</code>ã€‚ä½†å®é™…æµå…¥çš„èµ„é‡‘é‡ä¸º 100 ä¸‡ USDTã€‚æ¯”ç‰¹å¸çš„å®é™…äº¤æ˜“é‡åœ¨<code>100ä¸‡/10000</code>åˆ°<code>100ä¸‡/10100</code>ä¹‹é—´ï¼Œ100 ä¸ªä¸åˆ°ï¼Œå’Œæ‰€æœ‰çš„æ¯”ç‰¹å¸æ•°é‡ç›¸æ¯”æ˜¯å¾ˆå°‘çš„ã€‚<strong>è¿™æ„å‘³ç€ä»·æ ¼å’Œå¸‚å€¼çš„æ³¢åŠ¨å…¶å®åªæ˜¯ä¸€éƒ¨åˆ†å‚ä¸äº¤æ˜“çš„æ¯”ç‰¹å¸æ‰€å¯¼è‡´çš„</strong>ã€‚</p><p>è¿™å‘Šè¯‰æˆ‘ä»¬ï¼šå¸‚å€¼æ˜¯è™šçš„ï¼Œè€Œäº¤æ˜“é‡æ›´ä¸ºçœŸå®ã€‚å¦‚æœæŸä¸ªå¸äº¤æ˜“é‡è¿‡ä½ï¼Œè€Œå¸‚å€¼è¿‡é«˜ï¼Œè¯´æ˜è¯¥åŠ å¯†è´§å¸è¢«äººæ‰€æ“æ§ï¼Œé‚£ä¹ˆå°†ååˆ†å±é™©ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> å¸åœˆ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è‡ªåˆ¶jsonè§£æå™¨</title>
      <link href="/blog/2019/10/01/%E8%87%AA%E5%88%B6json%E8%A7%A3%E6%9E%90%E5%99%A8/"/>
      <url>/blog/2019/10/01/%E8%87%AA%E5%88%B6json%E8%A7%A3%E6%9E%90%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<p>å…¬å¸å®‰æ’äº†ä¸€æ¬¡æ–°äººæŠ€æœ¯åˆ†äº«ï¼Œæˆ‘åˆ†äº«çš„ä¸»é¢˜æ˜¯ï¼š<a href="https://github.com/liuqinh2s/json-parser" target="_blank" rel="noopener">è‡ªåˆ¶ json è§£æå™¨</a></p><a id="more"></a><p><a href="https://www.json.org/json-zh.html" target="_blank" rel="noopener">json å®˜ç½‘ä»‹ç»</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> é¡¹ç›® </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å›¾çµæœº</title>
      <link href="/blog/2019/04/26/%E5%9B%BE%E7%81%B5%E6%9C%BA/"/>
      <url>/blog/2019/04/26/%E5%9B%BE%E7%81%B5%E6%9C%BA/</url>
      
        <content type="html"><![CDATA[<h2 id="å›¾çµæœº"><a href="#å›¾çµæœº" class="headerlink" title="å›¾çµæœº"></a><a href="https://zh.wikipedia.org/wiki/%E5%9B%BE%E7%81%B5%E6%9C%BA" target="_blank" rel="noopener">å›¾çµæœº</a></h2><p>å›¾çµæœºï¼ˆTuring Machineï¼‰æ˜¯ <a href="https://zh.wikipedia.org/wiki/%E8%89%BE%E4%BC%A6%C2%B7%E5%9B%BE%E7%81%B5" target="_blank" rel="noopener">è‹±å›½æ•°å­¦å®¶è‰¾ä¼¦Â·å›¾çµ</a> åœ¨ 1936 å¹´å‘è¡¨çš„ &quot;<a href="https://www.cs.virginia.edu/~robins/Turing_Paper_1936.pdf" target="_blank" rel="noopener">On Computable Numbers, with an Application to the Entscheidungsproblem</a>&quot;ï¼ˆã€Šè®ºå¯è®¡ç®—æ•°åŠå…¶åœ¨åˆ¤å®šæ€§é—®é¢˜ä¸Šçš„åº”ç”¨ã€‹ï¼‰ä¸­æå‡ºçš„æ•°å­¦æ¨¡å‹ã€‚åœ¨æ–‡ç« ä¸­å›¾çµæè¿°äº†å®ƒæ˜¯ä»€ä¹ˆï¼Œå¹¶ä¸”è¯æ˜äº†ï¼Œåªè¦å›¾çµæœºå¯ä»¥è¢«å®ç°ï¼Œå°±å¯ä»¥ç”¨æ¥è§£å†³ä»»ä½•å¯è®¡ç®—é—®é¢˜ã€‚</p><h3 id="å†å²"><a href="#å†å²" class="headerlink" title="å†å²"></a>å†å²</h3><ul><li><a href="https://www.bilibili.com/video/av30479683?from=search&amp;seid=11735601712045998475" target="_blank" rel="noopener">å¦ˆå’ªè¯´ï¼šå›¾çµ</a></li><li><a href="https://movie.douban.com/subject/10463953/" target="_blank" rel="noopener">æ¨¡ä»¿æ¸¸æˆ</a></li></ul><a id="more"></a><h3 id="å›¾çµæœºçš„åŸºæœ¬æ€æƒ³"><a href="#å›¾çµæœºçš„åŸºæœ¬æ€æƒ³" class="headerlink" title="å›¾çµæœºçš„åŸºæœ¬æ€æƒ³"></a>å›¾çµæœºçš„åŸºæœ¬æ€æƒ³</h3><p>å›¾çµæœºæ˜¯ä¸€ç§ <strong>æŠ½è±¡è®¡ç®—æ¨¡å‹</strong>ï¼Œå›¾çµæœºçš„æ„æˆï¼š</p><ul><li>ä¸€æ¡æ— é™é•¿çš„çº¸å¸¦ï¼Œçº¸å¸¦ç”±å¾ˆå¤šä¸ªæ ¼å­æ„æˆï¼Œç”¨äºè¾“å…¥è¾“å‡ºä¿¡æ¯ã€‚æ¯ä¸ªæ ¼å­ä¸­åŒ…å«ä¸€ä¸ªæ¥è‡ªæœ‰é™å­—æ¯è¡¨çš„ç¬¦å·ï¼Œå­—æ¯è¡¨ä¸­æœ‰ä¸€ä¸ªç‰¹æ®Šç¬¦å·è¡¨ç¤ºç©ºç™½ã€‚çº¸å¸¦ä¸Šä¸€ç«¯çš„æ ¼å­ä» 0 å¼€å§‹ç¼–å·ï¼Œå¦ä¸€ç«¯æ— é™å»¶ä¼¸ä¸€ç›´åˆ°æ— ç©·å¤§ã€‚</li><li>ä¸€ä¸ªè¯»å†™å¤´ï¼Œç”¨äºè¯»å†™çº¸å¸¦</li><li>ä¸€ä¸ªçŠ¶æ€å¯„å­˜å™¨ï¼Œç”¨äºä¿å­˜æœºå™¨çŠ¶æ€ã€‚å›¾çµæœºçš„çŠ¶æ€ä¸ªæ•°æœ‰é™ï¼Œå¹¶ä¸”æœ‰ä¸€ä¸ªç‰¹æ®Šçš„çŠ¶æ€ï¼šåœæœºçŠ¶æ€</li><li>ä¸€å¥—æ§åˆ¶è§„åˆ™ï¼Œæ ¹æ®å½“å‰æœºå™¨çŠ¶æ€å’Œçº¸å¸¦å†…å®¹æ¥ç¡®å®šä¸‹ä¸€æ­¥çš„åŠ¨ä½œï¼š<ul><li>å†™å…¥æˆ–æ“¦é™¤å½“å‰æ ¼å­å†…å®¹</li><li>ç§»åŠ¨è¯»å†™å¤´ï¼Œå‘å·¦ã€å‘å³ã€æˆ–ä¸åŠ¨</li><li>ä¿æŒå½“å‰çŠ¶æ€æˆ–è½¬ç§»åˆ°å¦ä¸€çŠ¶æ€</li></ul></li></ul><h3 id="å›¾çµæœºçš„æ­£å¼å®šä¹‰"><a href="#å›¾çµæœºçš„æ­£å¼å®šä¹‰" class="headerlink" title="å›¾çµæœºçš„æ­£å¼å®šä¹‰"></a>å›¾çµæœºçš„æ­£å¼å®šä¹‰</h3><p>a (one-tape) Turing machine can be formally defined as a <strong>7-tuple</strong> $M=\langle Q,\Gamma ,b,\Sigma ,\delta ,q_{0},F\rangle $ where</p><ul><li>$Q$ is a finite, non-empty set of <strong>states</strong>;</li><li>$\Gamma$ is a finite, non-empty set of <strong>tape alphabet symbols</strong>;</li><li>$b\in \Gamma$ is the <strong>blank symbol</strong> (the only symbol allowed to occur on the tape infinitely often at any step during the computation);</li><li>$\Sigma \subseteq \Gamma \setminus {b}$ is the set of <strong>input symbols</strong>, that is, the set of symbols allowed to appear in the initial tape contents;</li><li>$q_{0}\in Q$ is the <strong>initial state</strong>;</li><li>$F\subseteq Q$ is the set of <strong>final states or accepting states</strong>. The initial tape contents is said to be accepted by $M$ if it eventually halts in a state from $F$.</li><li>$\delta :(Q\setminus F)\times \Gamma \not \to Q\times \Gamma \times \{L,R\}$ is a partial function called the <strong>transition function</strong>, where L is left shift, R is right shift. (A relatively uncommon variant allows &quot;no shift&quot;, say N, as a third element of the latter set.) If $\delta$ is not defined on the current state and the current tape symbol, then the machine <strong>halts</strong>;</li></ul><h3 id="å›¾çµæœºçš„å®è·µ"><a href="#å›¾çµæœºçš„å®è·µ" class="headerlink" title="å›¾çµæœºçš„å®è·µ"></a>å›¾çµæœºçš„å®è·µ</h3><ul><li><a href="https://zh.wikipedia.org/wiki/Brainfuck" target="_blank" rel="noopener">Brainfuck</a></li></ul><h3 id="å›¾çµå®Œå¤‡"><a href="#å›¾çµå®Œå¤‡" class="headerlink" title="å›¾çµå®Œå¤‡"></a>å›¾çµå®Œå¤‡</h3><p>åªè¦èƒ½æ¨¡æ‹Ÿå•å¸¦å›¾çµæœºï¼Œå°±æ˜¯å›¾çµå®Œå¤‡çš„ã€‚è¿™ä¹Ÿæ„å‘³ç€å…¶è®¡ç®—èƒ½åŠ›ä¸é€šç”¨å›¾çµæœºç­‰åŒã€‚</p><p>ä¸æ˜¯å›¾çµå®Œå¤‡çš„çš„å¸¸è§æƒ…å†µæœ‰ï¼›</p><ol><li>é€’å½’æˆ–å¾ªç¯æœ‰é™ï¼Œæ— æ³•å†™ä¸ç»ˆæ­¢çš„ç¨‹åºï¼Œå¦‚<code>while(true){}</code></li><li>æ— æ³•å®ç°ç±»ä¼¼æ•°ç»„æˆ–åˆ—è¡¨è¿™æ ·çš„æ•°æ®ç»“æ„ï¼ˆä¸èƒ½æ¨¡æ‹Ÿçº¸å¸¦ï¼‰</li></ol><p>å›¾çµå®Œå¤‡ä¹Ÿæœ‰å¯èƒ½å¸¦æ¥åå¤„ï¼Œä¸å›¾çµå®Œå¤‡ä¹Ÿä¸æ˜¯å®Œå…¨æ²¡ç”¨ï¼Œæ¯”å¦‚ï¼šæœ‰äº›åœºæ™¯æˆ‘ä»¬éœ€è¦é™åˆ¶è¯­è¨€çš„è¡¨è¾¾èƒ½åŠ›ï¼Œå¦‚ é™åˆ¶æ— é™å¾ªç¯å’Œé€’å½’ï¼Œä¿è¯æˆ‘ä»¬çš„ç¨‹åºä¸€å®šæ˜¯å¯ç»ˆæ­¢çš„ã€‚</p><h3 id="åœæœºé—®é¢˜"><a href="#åœæœºé—®é¢˜" class="headerlink" title="åœæœºé—®é¢˜"></a><a href="https://zh.wikipedia.org/wiki/%E5%81%9C%E6%9C%BA%E9%97%AE%E9%A2%98" target="_blank" rel="noopener">åœæœºé—®é¢˜</a></h3><p>åœæœºé—®é¢˜ï¼ˆè‹±è¯­ï¼šhalting problemï¼‰æ˜¯é€»è¾‘æ•°å­¦ä¸­å¯è®¡ç®—æ€§ç†è®ºçš„ä¸€ä¸ªé—®é¢˜ã€‚é€šä¿—åœ°è¯´ï¼Œåœæœºé—®é¢˜å°±æ˜¯åˆ¤æ–­ä»»æ„ä¸€ä¸ªç¨‹åºæ˜¯å¦èƒ½åœ¨æœ‰é™çš„æ—¶é—´ä¹‹å†…ç»“æŸè¿è¡Œçš„é—®é¢˜ã€‚è¯¥é—®é¢˜ç­‰ä»·äºå¦‚ä¸‹çš„åˆ¤å®šé—®é¢˜ï¼šæ˜¯å¦å­˜åœ¨ä¸€ä¸ªç¨‹åº Pï¼Œå¯¹äºä»»æ„è¾“å…¥çš„ç¨‹åº wï¼Œèƒ½å¤Ÿåˆ¤æ–­ w ä¼šåœ¨æœ‰é™æ—¶é—´å†… <strong>ç»“æŸæˆ–è€…æ­»å¾ªç¯</strong>ã€‚</p><p>è‰¾ä¼¦Â·å›¾çµåœ¨ 1936 å¹´ç”¨ <a href="https://zh.wikipedia.org/wiki/%E5%B0%8D%E8%A7%92%E8%AB%96%E8%AD%89%E6%B3%95" target="_blank" rel="noopener">å¯¹è§’è®ºè¯æ³•</a> è¯æ˜äº†ï¼Œä¸å­˜åœ¨è§£å†³åœæœºé—®é¢˜çš„é€šç”¨ç®—æ³•ã€‚</p><blockquote><p>åœæœºé—®é¢˜åŒ…å«äº† <a href="https://zh.wikipedia.org/wiki/%E8%87%AA%E6%8C%87" target="_blank" rel="noopener">è‡ªæˆ‘æŒ‡æ¶‰</a>ï¼Œæœ¬è´¨æ˜¯ <a href="https://zh.wikipedia.org/wiki/%E4%B8%80%E9%98%B6%E9%80%BB%E8%BE%91" target="_blank" rel="noopener">ä¸€é˜¶é€»è¾‘</a> çš„ä¸å®Œå¤‡æ€§ï¼Œç±»ä¼¼çš„å‘½é¢˜æœ‰ <a href="https://zh.wikipedia.org/wiki/%E7%90%86%E5%8F%91%E5%B8%88%E6%82%96%E8%AE%BA" target="_blank" rel="noopener">ç†å‘å¸ˆæ‚–è®º</a>ã€<a href="https://zh.wikipedia.org/wiki/%E5%85%A8%E8%83%BD%E6%82%96%E8%AB%96" target="_blank" rel="noopener">å…¨èƒ½æ‚–è®º</a> ç­‰ã€‚</p></blockquote><p>è¯æ˜å¾ˆç®€å•ï¼Œæ„é€ <code>G=~G</code>å‘½é¢˜ï¼ˆG ç­‰äº G éï¼‰ï¼Œè®©é€»è¾‘å´©æºƒï¼Œæ— è®º G æ˜¯çœŸè¿˜æ˜¯å‡ï¼Œéƒ½æ˜¯é”™çš„ï¼Œæœ€åæ¨å¯¼å‡ºï¼šä¸å­˜åœ¨è¿™æ ·çš„ Gã€‚</p><p>åœæœºé—®é¢˜è¯æ˜è¿‡ç¨‹ï¼ˆåè¯æ³•ï¼‰ï¼š</p><ol><li>å¦‚æœå­˜åœ¨å¯ä»¥åˆ¤å®šä»»æ„ç¨‹åºæ˜¯å¦åœæœºçš„ç¨‹åºï¼Œæˆ‘ä»¬å§‘ä¸”ç§°å®ƒä¸º <strong>ä¸Šå¸ç¨‹åº</strong></li><li>é‚£æˆ‘ä»¬å®šä¹‰è¿™æ ·ä¸€ä¸ªç¨‹åºï¼Œå®ƒåˆ©ç”¨ä¸Šå¸ç¨‹åºåˆ¤æ–­è‡ªå·±æ˜¯å¦åœæœºï¼Œä½†å¦‚æœä¸Šå¸ç¨‹åºè¾“å‡ºåœæœºï¼Œå®ƒå°±ä¸åœï¼›å¦‚æœä¸Šå¸ç¨‹åºè¾“å‡ºä¸åœæœºï¼Œå®ƒå°±åœæœºï¼ˆå°±æ˜¯åç€å¹²ï¼‰ã€‚è¿™æ ·ä¸€æ¥æ— è®ºä¸Šå¸ç¨‹åºè¾“å‡ºä»€ä¹ˆï¼Œä¸Šå¸ç¨‹åºéƒ½æ˜¯é”™çš„ã€‚é‚£ä¹ˆæˆ‘ä»¬åªèƒ½è¯´ä¸å­˜åœ¨è¿™æ ·çš„ä¸Šå¸ç¨‹åºã€‚</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">is_halt</span><span class="params">(program, input)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> program halts on input:</span><br><span class="line">        <span class="keyword">return</span> true</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> false</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fuck_is_halt</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">if</span> is_halt(fuck_is_halt):</span><br><span class="line">        <span class="keyword">while</span> (<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure><ul><li><a href="http://www.matrix67.com/blog/archives/901" target="_blank" rel="noopener">Matrix67ï¼šåœæœºé—®é¢˜ã€Chaitin å¸¸æ•°ä¸ä¸‡èƒ½è¯æ˜æ–¹æ³•</a></li><li><a href="https://blog.csdn.net/pongba/article/details/1336028" target="_blank" rel="noopener">åˆ˜æœªé¹ï¼šåº·æ‰˜å°”ã€å“¥å¾·å°”ã€å›¾çµâ€”â€”æ°¸æ’çš„é‡‘è‰²å¯¹è§’çº¿(rev#2)</a></li></ul><h3 id="è‡ªæˆ‘æŒ‡æ¶‰"><a href="#è‡ªæˆ‘æŒ‡æ¶‰" class="headerlink" title="è‡ªæˆ‘æŒ‡æ¶‰"></a><a href="https://zh.wikipedia.org/wiki/%E8%87%AA%E6%8C%87" target="_blank" rel="noopener">è‡ªæˆ‘æŒ‡æ¶‰</a></h3><p><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/f/fa/Ouroboros.png/220px-Ouroboros.png" alt="è‡ªæˆ‘æŒ‡æ¶‰"></p><p>åœ¨æ•°å­¦ä¸­ï¼Œå¯¹è‡ªæŒ‡çš„ç ”ç©¶æœ€ç»ˆå¯¼è‡´äº†è‘—åçš„ <a href="https://zh.wikipedia.org/wiki/%E5%93%A5%E5%BE%B7%E5%B0%94%E4%B8%8D%E5%AE%8C%E5%A4%87%E5%AE%9A%E7%90%86" target="_blank" rel="noopener">å“¥å¾·å°”ä¸å®Œå¤‡å®šç†</a>ã€‚</p><blockquote><p>è®¡ç®—æœºç¨‹åºä¸­çš„è‡ªæŒ‡ä¸»è¦æ˜¯ä¸º <a href="https://zh.wikipedia.org/wiki/%E9%80%92%E5%BD%92" target="_blank" rel="noopener">é€’å½’</a></p></blockquote><p><a href="https://zh.wikipedia.org/wiki/%E5%BE%B7%E7%BD%97%E6%96%AF%E7%89%B9%E6%95%88%E5%BA%94" target="_blank" rel="noopener">å¾·ç½—æ–¯ç‰¹æ•ˆåº”</a>ï¼š</p><p>æˆ‘ä»¬ç»å¸¸å¯ä»¥åœ¨ä¸»æ’­é—´çœ‹åˆ°ç±»ä¼¼çš„ç”»é¢ï¼š</p><p><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b3/Screenshot_Recursion_via_vlc.png/128px-Screenshot_Recursion_via_vlc.png" alt="å¾·ç½—æ–¯ç‰¹æ•ˆåº”"></p><p>ä¹Ÿå¯ä»¥ç”¨ä¸¤é¢é•œå­è‡ªå·±åšè¿™ä¸ªå®éªŒã€‚</p><ul><li><a href="https://www.bilibili.com/video/av31411706?from=search&amp;seid=7703410137961337640" target="_blank" rel="noopener">å¦ˆå’ªè¯´ï¼šå“¥å¾·å°”</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> ç¼–ç¨‹åŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å†¯Â·è¯ºä¾æ›¼ç»“æ„</title>
      <link href="/blog/2019/04/22/%E5%86%AF%C2%B7%E8%AF%BA%E4%BE%9D%E6%9B%BC%E7%BB%93%E6%9E%84/"/>
      <url>/blog/2019/04/22/%E5%86%AF%C2%B7%E8%AF%BA%E4%BE%9D%E6%9B%BC%E7%BB%93%E6%9E%84/</url>
      
        <content type="html"><![CDATA[<h2 id="å†¯Â·è¯ºä¾æ›¼ç»“æ„"><a href="#å†¯Â·è¯ºä¾æ›¼ç»“æ„" class="headerlink" title="å†¯Â·è¯ºä¾æ›¼ç»“æ„"></a><a href="https://zh.wikipedia.org/wiki/%E5%86%AF%C2%B7%E8%AF%BA%E4%BC%8A%E6%9B%BC%E7%BB%93%E6%9E%84" target="_blank" rel="noopener">å†¯Â·è¯ºä¾æ›¼ç»“æ„</a></h2><p>å†¯Â·è¯ºä¼Šæ›¼ç»“æ„ä¸ <strong>å­˜å‚¨ç¨‹åºå‹è®¡ç®—æœº</strong> æ˜¯äº’ç›¸é€šç”¨çš„åè¯</p><blockquote><p><strong>å“ˆä½›ç»“æ„</strong> æ˜¯ä¸€ç§å°†ç¨‹åºæ•°æ®ä¸æ™®é€šæ•°æ®åˆ†å¼€å­˜å‚¨çš„è®¾è®¡æ¦‚å¿µï¼Œå¯ä»¥è¯´æ˜¯å†¯Â·è¯ºä¾æ›¼ç»“æ„çš„ä¸€ç§ã€‚</p></blockquote><p>å­˜å‚¨ç¨‹åºè®¡ç®—æœºåœ¨ä½“ç³»ç»“æ„ä¸Šä¸»è¦ç‰¹ç‚¹æœ‰ï¼š</p><ul><li>ä»¥è¿ç®—å•å…ƒä¸ºä¸­å¿ƒ</li><li><strong>é‡‡ç”¨å­˜å‚¨ç¨‹åºåŸç†</strong></li><li>å­˜å‚¨å™¨æ˜¯æŒ‰åœ°å€è®¿é—®ã€çº¿æ€§ç¼–å€çš„ç©ºé—´</li><li><strong>æ§åˆ¶æµç”±æŒ‡ä»¤æµäº§ç”Ÿ</strong></li><li>æŒ‡ä»¤ç”± <strong>æ“ä½œç </strong> å’Œ <strong>åœ°å€ç </strong> ç»„æˆ</li><li>æ•°æ®ä»¥äºŒè¿›åˆ¶ç¼–ç </li></ul><p>äº”ä¸ªç»„æˆéƒ¨åˆ†ï¼š</p><ul><li>å­˜å‚¨å™¨</li><li>æ§åˆ¶å™¨</li><li>è¿ç®—å™¨ï¼ˆç®—æœ¯é€»è¾‘å•å…ƒï¼‰</li><li>è¾“å…¥</li><li>è¾“å‡º</li></ul><a id="more"></a><h3 id="å†å²"><a href="#å†å²" class="headerlink" title="å†å²"></a>å†å²</h3><ul><li><a href="https://www.weibo.com/p/1001603799832564268572" target="_blank" rel="noopener">æ–‡æ˜ä¹‹å…‰ï¼šç”µå­è®¡ç®—æœºçš„å‘æ˜ï¼ä»å›¾çµåˆ°å†¯è¯ºä¾æ›¼ï¼ˆä¸Šï¼‰</a></li><li><a href="http://blog.sina.com.cn/s/blog_ac194d320102vdzu.html" target="_blank" rel="noopener">æ–‡æ˜ä¹‹å…‰ï¼šå†¯è¯ºä¾æ›¼ç³»ç»Ÿç»“æ„å’Œç”µå­è®¡ç®—æœºçš„å‘æ˜ï¼ˆä¸‹ï¼‰</a></li><li><a href="https://www.bilibili.com/video/av30558057?from=search&amp;seid=11377470098091075406" target="_blank" rel="noopener">å¦ˆå’ªè¯´ï¼šè¿‡ç›®ä¸å¿˜çš„å¤©æ‰â€”â€”å†¯è¯ºä¾æ›¼çš„ä¼ å¥‡äººç”Ÿ ä»–ä¸ºä½•è¢«ç§°ä½œé€šç”¨è®¡ç®—æœºä¹‹çˆ¶ï¼Ÿ</a></li><li><a href="https://www.youtube.com/watch?v=WTbZRcW_iTM" target="_blank" rel="noopener">å†¯Â·è¯ºä¾æ›¼</a></li></ul><blockquote><p>å†¯Â·è¯ºä¾æ›¼ç”±äºåœ¨æ›¼å“ˆé¡¿å·¥ç¨‹ä¸­éœ€è¦å¤§é‡çš„è¿ç®—ï¼Œä»è€Œä½¿ç”¨äº†å½“æ—¶æœ€å…ˆè¿›çš„ä¸¤å°è®¡ç®—æœº Mark I å’Œ ENIACï¼Œåœ¨ä½¿ç”¨ Mark I å’Œ ENIAC çš„è¿‡ç¨‹ä¸­ï¼Œä»–æ„è¯†åˆ°äº†å­˜å‚¨ç¨‹åºçš„é‡è¦æ€§ï¼Œä»è€Œæå‡ºäº†å­˜å‚¨ç¨‹åºé€»è¾‘æ¶æ„ã€‚</p></blockquote><p>æœ€æ—©çš„è®¡ç®—æœºå†…å«å›ºå®šç”¨é€”çš„ç¨‹åºï¼Œå¹¶éå¯ç¼–ç¨‹ï¼Œè‹¥æƒ³è¦æ”¹å˜æ­¤æœºå™¨çš„ç¨‹åºï¼Œä½ å¿…é¡»æ›´æ”¹çº¿è·¯ã€æ›´æ”¹ç»“æ„ç”šè‡³é‡æ–°è®¾è®¡æœºå™¨ã€‚è€Œå­˜å‚¨ç¨‹åºå‹è®¡ç®—æœºçš„æ¦‚å¿µæ”¹å˜äº†è¿™ä¸€åˆ‡ã€‚å€Ÿç€å°†æŒ‡ä»¤å½“æˆä¸€ç§ç‰¹åˆ«ç±»å‹çš„é™æ€æ•°æ®ï¼Œä¸€å°å­˜å‚¨ç¨‹åºå‹è®¡ç®—æœºå¯è½»æ˜“æ”¹å˜å…¶ç¨‹åºï¼Œå¹¶åœ¨ç¨‹åºæ§åˆ¶ä¸‹æ”¹å˜å…¶è¿ç®—å†…å®¹ã€‚</p><h3 id="ä¼˜åŠ¿"><a href="#ä¼˜åŠ¿" class="headerlink" title="ä¼˜åŠ¿"></a>ä¼˜åŠ¿</h3><p>å†¯Â·è¯ºä¾æ›¼æ¶æ„ç¬¬ä¸€æ¬¡ <strong>å°†å­˜å‚¨å™¨å’Œè¿ç®—å™¨åˆ†å¼€</strong>ï¼ŒæŒ‡ä»¤å’Œæ•°æ®å‡æ”¾ç½®äºå­˜å‚¨å™¨ä¸­ï¼Œä¸ºè®¡ç®—æœºçš„ <strong>é€šç”¨æ€§</strong> å¥ å®šäº†åŸºç¡€ã€‚è™½ç„¶åœ¨è§„èŒƒä¸­è®¡ç®—å•å…ƒä¾ç„¶æ˜¯æ ¸å¿ƒï¼Œä½†å†¯Â·è¯ºä¾æ›¼æ¶æ„äº‹å®ä¸Šå¯¼è‡´äº† <strong>ä»¥å­˜å‚¨å™¨ä¸ºæ ¸å¿ƒ</strong> çš„ç°ä»£è®¡ç®—æœºçš„è¯ç”Ÿã€‚</p><blockquote><p>æ³¨ï¼šè¯·å„ä½åœ¨å¿ƒé‡Œæ˜ç¡®ä¸€ä»¶äº‹æƒ…ï¼šå­˜å‚¨å™¨æŒ‡çš„æ˜¯å†…å­˜ï¼Œå³ RAMã€‚ç£ç›˜ç†è®ºä¸Šå±äºè¾“å…¥è¾“å‡ºè®¾å¤‡ã€‚</p></blockquote><h3 id="ç¼ºé™·"><a href="#ç¼ºé™·" class="headerlink" title="ç¼ºé™·"></a>ç¼ºé™·</h3><ol><li><strong>ç¨‹åºå¯ä¿®æ”¹å¾ˆå¯èƒ½æ˜¯éå¸¸å…·ä¼¤å®³æ€§çš„</strong>ï¼šåœ¨ä¸€ä¸ªç®€å•çš„å­˜å‚¨ç¨‹åºå‹è®¡ç®—æœºä¸Šï¼Œä¸€ä¸ªè®¾è®¡ä¸è‰¯çš„ç¨‹åºå¯èƒ½ä¼šä¼¤å®³è‡ªå·±ã€å…¶ä»–ç¨‹åºç”šæˆ–æ˜¯æ“ä½œç³»ç»Ÿï¼Œå¯¼è‡´æ­»æœºã€ç¼“å­˜æº¢å‡ºå°±æ˜¯ä¸€ä¸ªå…¸å‹ä¾‹å­ã€‚è€Œåˆ›é€ æˆ–æ›´æ”¹å…¶ä»–ç¨‹åºçš„èƒ½åŠ›ä¹Ÿå¯¼è‡´äº†æ¶æ„è½¯ä»¶çš„å‡ºç°ã€‚åˆ©ç”¨ç¼“å­˜æº¢å‡ºï¼Œä¸€ä¸ªæ¶æ„ç¨‹åºå¯ä»¥è¦†ç›–è°ƒç”¨å †æ ˆï¼ˆCall stackï¼‰å¹¶æ”¹å†™ä»£ç ï¼Œå¹¶ä¸”ä¿®æ”¹å…¶ä»–ç¨‹åºæ–‡ä»¶ä»¥é€ æˆè¿é”ç ´åã€‚å­˜å‚¨å™¨ä¿æŠ¤æœºåˆ¶åŠå…¶ä»–å½¢å¼çš„è®¿é—®æ§åˆ¶å¯ä»¥ä¿æŠ¤æ„å¤–æˆ–æ¶æ„çš„ä»£ç æ›´åŠ¨ã€‚</li><li><strong>å†¯Â·è¯ºä¼Šæ›¼ç“¶é¢ˆï¼ˆvon Neumann bottleneckï¼‰</strong>ï¼šåœ¨å†…å­˜å®¹é‡æŒ‡æ•°çº§æå‡ä»¥åï¼ŒCPU å’Œå†…å­˜ä¹‹é—´çš„æ•°æ®ä¼ è¾“å¸¦å®½æˆä¸ºäº†ç“¶é¢ˆã€‚ç¼“è§£çš„åŠæ³•æœ‰ï¼š<ol><li>åœ¨ CPU å’Œå†…å­˜ä¹‹é—´æä¾› cacheï¼ˆç¼“å­˜ï¼Œé€Ÿåº¦æ¯”å†…å­˜å¿«å¾ˆå¤šå€ï¼‰</li><li>å°†æ•°æ®å’ŒæŒ‡ä»¤åˆ†å¼€å­˜å‚¨å¹¶èƒ½å¤Ÿåšåˆ°åŒæ—¶è®¿é—®ï¼ˆåœ¨ä¸€èˆ¬çš„å†¯Â·è¯ºä¾æ›¼ç»“æ„ä¸­æ•°æ®å’ŒæŒ‡ä»¤æ”¾åœ¨åŒä¸€å†…å­˜é€šè¿‡åŒä¸€æ•°æ®æ€»çº¿è®¿é—®ï¼Œå–æ•°æ®å’Œå–æŒ‡ä»¤ä¸èƒ½åŒæ—¶è¿›è¡Œï¼Œè€Œå“ˆä½›ç»“æ„åˆ™æ˜¯å°†æ•°æ®å’ŒæŒ‡ä»¤åˆ†å¼€ï¼Œå¯åŒæ—¶è®¿é—®ï¼‰</li><li>åˆ†æ”¯é¢„æµ‹å’Œæµæ°´çº¿</li></ol></li></ol><blockquote><p>å®é™…ä¸Šï¼Œç»å¤§å¤šæ•°ç°ä»£è®¡ç®—æœºä½¿ç”¨çš„æ˜¯æ‰€è°“çš„â€œModified Harvard Architectureâ€ï¼ŒæŒ‡ä»¤å’Œæ•°æ®å…±äº«åŒä¸€ä¸ª address spaceï¼Œä½†ç¼“å­˜æ˜¯åˆ†å¼€çš„ã€‚åœ¨å†…å­˜é‡Œï¼ŒæŒ‡ä»¤å’Œæ•°æ®æ˜¯åœ¨ä¸€èµ·çš„ã€‚è€Œåœ¨ CPU å†…çš„ç¼“å­˜ä¸­ï¼Œè¿˜æ˜¯ä¼šåŒºåˆ†æŒ‡ä»¤ç¼“å­˜å’Œæ•°æ®ç¼“å­˜ï¼Œæœ€ç»ˆæ‰§è¡Œçš„æ—¶å€™ï¼ŒæŒ‡ä»¤å’Œæ•°æ®æ˜¯ä»ä¸¤ä¸ªä¸åŒçš„åœ°æ–¹å‡ºæ¥çš„ã€‚ä½ å¯ä»¥ç†è§£ä¸ºåœ¨ CPU å¤–éƒ¨ï¼Œé‡‡ç”¨çš„æ˜¯å†¯è¯ºä¾æ›¼æ¨¡å‹ï¼Œè€Œåœ¨ CPU å†…éƒ¨ç”¨çš„æ˜¯å“ˆä½›ç»“æ„ã€‚</p></blockquote><blockquote><p>å¤§éƒ¨åˆ†çš„<a href="https://zh.wikipedia.org/wiki/%E6%95%B8%E4%BD%8D%E8%A8%8A%E8%99%9F%E8%99%95%E7%90%86%E5%99%A8" target="_blank" rel="noopener">DSP</a>éƒ½æ²¡æœ‰ç¼“å­˜ï¼Œå› è€Œç›´æ¥å°±æ˜¯å“ˆä½›ç»“æ„ã€‚</p></blockquote><p><img src="https://i.loli.net/2019/04/22/5cbd7fbac175d.png" alt="TIMå›¾ç‰‡20190422164727.png"></p><p>ä¸Šå›¾æ˜¯ i9-7980XE 18 æ ¸ 36 çº¿ç¨‹çš„æ°‘ç”¨æœ€å¼º CPUï¼Œå…¶é…åˆè¶…é¢‘è¿‡çš„ DDR4 3200MHz çš„å†…å­˜ï¼Œæµ‹è¯•å‡ºçš„å†…å­˜è¯»å–é€Ÿåº¦ä¸º 90GB/Sã€‚çœ‹èµ·æ¥å¾ˆå¿«äº†æ˜¯ä¸æ˜¯ï¼Ÿçœ‹çœ‹å›¾ä¸­çš„ L1 Cacheï¼Œ3.7TB/Sã€‚</p><p>æˆ‘ä»¬å†æ¥ç®—ç®—æ—¶é—´ã€‚è¿™é¢— CPU æœ€å¤§ç¿é¢‘ 4.4GHzï¼Œå°±æ˜¯è¯´ CPU æ‰§è¡Œä¸€ä¸ªæŒ‡ä»¤éœ€è¦çš„æ—¶é—´æ˜¯ 0.000000000227273 ç§’ï¼Œå³ 0.22nsï¼ˆçº³ç§’ï¼‰ï¼Œè€Œå†…å­˜çš„å»¶è¿Ÿæ˜¯ 68.1nsã€‚æ¢å¥è¯è¯´ï¼Œåªè¦å»å†…å­˜é‡Œå–ä¸€ä¸ªå­—èŠ‚ï¼Œå°±éœ€è¦ CPU ç­‰å¾… 300 ä¸ªå‘¨æœŸï¼Œä½•å…¶çš„æµªè´¹ CPU çš„æ—¶é—´å•Šã€‚</p><p>CPU L1 L2 L3 ä¸‰çº§ç¼“å­˜æ˜¯ä½¿ç”¨å’Œ CPU åŒæ ·çš„ 14 çº³ç±³å·¥è‰ºåˆ¶é€ çš„ç¡…åŠå¯¼ä½“ï¼Œæ¯ä¸€ä¸ª bit éƒ½ä½¿ç”¨å…­ä¸ªåœºæ•ˆåº”ç®¡ï¼ˆé€šä¿—è§£é‡Šæˆä¸‰æç®¡ï¼‰æ„æˆï¼Œæˆæœ¬é«˜æ˜‚ä¸”éå¸¸å ç”¨ CPU æ ¸å¿ƒé¢ç§¯ï¼Œæ•…ä¸èƒ½åšæˆå¾ˆå¤§å®¹é‡ã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼ŒL1 L2 L3 ä¸‰çº§ç¼“å­˜å¯¹è®¡ç®—æœºé€Ÿåº¦çš„æå‡æ¥æºäºè®¡ç®—æœºå†…å­˜çš„ã€Œå±€éƒ¨æ€§ã€ï¼Œç›¸å…³å†…å®¹æˆ‘ä»¬ä¹‹åä¼šä¸“é—¨è®¨è®ºã€‚</p><p><a href="https://zh.wikipedia.org/zh-hans/%E9%9A%8F%E6%9C%BA%E5%AD%98%E5%8F%96%E5%AD%98%E5%82%A8%E5%99%A8" target="_blank" rel="noopener">RAM</a>ï¼ˆRandom Access Memoryï¼Œä¿—ç§° <strong>å†…å­˜</strong>ï¼‰ï¼šå†…å­˜æœ€å¤§çš„ç‰¹ç‚¹æ˜¯ï¼š<strong>æ‰ç”µå¤±å»æ•°æ®</strong>ã€‚ç¨‹åºæ˜¯é™æ€çš„æ–‡ä»¶å­˜æ”¾åœ¨å¤–å­˜ä¸­ï¼Œè¿›ç¨‹æ­£åœ¨è¿è¡Œçš„ç¨‹åºï¼Œè¿›ç¨‹å­˜æ”¾åœ¨å†…å­˜ä¸­ã€‚æˆ‘ä»¬ä¹‹æ‰€ä»¥ä½¿ç”¨å†…å­˜æ˜¯å› ä¸ºå†…å­˜çš„é€Ÿåº¦æ¯”å¤–å­˜å¿« 100 å€å·¦å³ã€‚</p><p><a href="https://zh.wikipedia.org/wiki/%E5%94%AF%E8%AE%80%E8%A8%98%E6%86%B6%E9%AB%94" target="_blank" rel="noopener">ROM</a>ï¼ˆRead-Only Memoryï¼Œåªè¯»å­˜å‚¨å™¨ï¼‰ï¼š<strong>ROM æ‰ç”µä¸å¤±å»æ•°æ®</strong>ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> ç¼–ç¨‹åŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä»€ä¹ˆæ˜¯å­—ç¬¦é›†å’Œç¼–ç </title>
      <link href="/blog/2019/04/21/%E4%BB%80%E4%B9%88%E6%98%AF%E5%AD%97%E7%AC%A6%E9%9B%86%E5%92%8C%E7%BC%96%E7%A0%81/"/>
      <url>/blog/2019/04/21/%E4%BB%80%E4%B9%88%E6%98%AF%E5%AD%97%E7%AC%A6%E9%9B%86%E5%92%8C%E7%BC%96%E7%A0%81/</url>
      
        <content type="html"><![CDATA[<p>æ–‡æœ¬æ–‡ä»¶ä¸­ï¼Œä¸ºäº†è®©æ¯”ç‰¹è¡¨ç¤ºæ–‡å­—ï¼Œæˆ‘ä»¬å‘æ˜äº†å­—ç¬¦é›†ï¼Œè®©ç‰¹å®šçš„æ¯”ç‰¹åºåˆ—å¯¹åº”ç‰¹å®šçš„å­—ç¬¦ã€‚</p><p>å¸¸è§çš„å­—ç¬¦é›†æœ‰ï¼š</p><ul><li><a href="https://zh.wikipedia.org/wiki/ASCII" target="_blank" rel="noopener">ASCII</a></li><li><a href="https://zh.wikipedia.org/wiki/EASCII" target="_blank" rel="noopener">EASCII</a></li><li><a href="https://zh.wikipedia.org/wiki/GB_2312" target="_blank" rel="noopener">GB2312</a></li><li><a href="https://zh.wikipedia.org/wiki/%E6%B1%89%E5%AD%97%E5%86%85%E7%A0%81%E6%89%A9%E5%B1%95%E8%A7%84%E8%8C%83" target="_blank" rel="noopener">GBK</a></li><li><a href="https://zh.wikipedia.org/wiki/Unicode" target="_blank" rel="noopener">Unicode</a></li><li><a href="https://zh.wikipedia.org/zh/UTF-8" target="_blank" rel="noopener">UTF-8</a> ï¼ˆä¸¥æ ¼æ¥è¯´ UTF-8 åªæ˜¯ Unicode çš„ä¸€ç§ç¼–ç æ–¹å¼ï¼‰</li><li><a href="https://baike.baidu.com/item/ANSI%E7%BC%96%E7%A0%81" target="_blank" rel="noopener">ANSI ç¼–ç </a></li></ul><a id="more"></a><h2 id="ASCII"><a href="#ASCII" class="headerlink" title="ASCII"></a>ASCII</h2><p>è®¡ç®—æœºè¯ç”Ÿäºç¾å›½ï¼Œå› æ­¤æœ€æ—©çš„æ—¶å€™ï¼Œäººä»¬åªéœ€è¦è¡¨ç¤ºè‹±æ–‡ 26 ä¸ªå­—ç¬¦åœ¨å†…çš„å°‘æ•°å­—ç¬¦ï¼Œç”¨åŠä¸ªå­—èŠ‚å°±å¯ä»¥è¡¨ç¤ºå®Œè¿™äº›å­—ç¬¦ã€‚è¿™å°±æ˜¯ ASCII å­—ç¬¦é›†ï¼Œæœ€é«˜ä½ä¸º 0ï¼Œå…¶ä½™ 7 ä½å¯ä»¥è¡¨ç¤ºçš„èŒƒå›´æ˜¯ï¼š<code>0~127</code>ã€‚æ€»å…± 128 ä¸ªå­—ç¬¦ã€‚</p><p>ASCII å­—ç¬¦åˆ†ä¸ºï¼š<strong>æ§åˆ¶å­—ç¬¦</strong>ï¼ˆä¸å¯æ˜¾ç¤ºï¼‰ å’Œ <strong>å¯æ˜¾ç¤ºå­—ç¬¦</strong></p><p>å…¶ä¸­ï¼Œ0x20 ä»¥ä¸‹ä¸ºæ§åˆ¶å­—ç¬¦ï¼Œä¸å¯æ˜¾ç¤ºã€‚æ¯”å¦‚ï¼Œ0x10 è¡¨ç¤ºæ¢è¡Œï¼Œ0x07 è¡¨ç¤ºå‘å£°ã€‚å¦å¤–è¿˜æœ‰ä¸ªç‰¹æ®Šçš„æ§åˆ¶å­—ç¬¦ï¼š0x7f è¡¨ç¤ºåˆ é™¤ï¼Œæ‰€ä»¥æ€»å…±æ˜¯ 33 ä¸ªæ§åˆ¶å­—ç¬¦ï¼Œ95 ä¸ªå¯æ˜¾ç¤ºå­—ç¬¦ã€‚</p><h2 id="EASCII"><a href="#EASCII" class="headerlink" title="EASCII"></a>EASCII</h2><p>æ¬§æ´²å›½å®¶ä½¿ç”¨è®¡ç®—æœºä¹‹åï¼Œä¹Ÿæœ‰äº†åˆ›å»ºå­—ç¬¦é›†çš„éœ€æ±‚ï¼Œäºæ˜¯å¯¹ ASCII è¿›è¡Œæ‰©å±•ï¼Œä½¿ç”¨äº†å‰©ä¸‹ä¸€åŠå­—èŠ‚çš„ç©ºé—´ï¼Œ<code>0x80 - 0xff</code>çš„å®šä¹‰å°±è¢«å¡«å……æˆäº†å¸Œè…Šå­—æ¯ï¼Œç½—é©¬å­—æ¯ç­‰ç¬¦å·ã€‚</p><p>æ­¤æ—¶ï¼Œç¼–ç ä¾æ—§æ§åˆ¶åœ¨ 8 ä½ä»¥å†…ï¼Œç›¸å®‰æ— äº‹ã€‚</p><h2 id="GB2312"><a href="#GB2312" class="headerlink" title="GB2312"></a>GB2312</h2><blockquote><p>GB æ˜¯å›½æ ‡çš„æ„æ€</p></blockquote><p>ä¸­å›½å¼€å§‹ä½¿ç”¨è®¡ç®—æœºï¼Œäºæ˜¯æœ‰äº†è¿™ä¸ªå­—ç¬¦é›†ï¼Œç”±äºä¸­æ–‡æ˜¯è±¡å½¢æ–‡å­—ï¼Œå¦‚æœæ¯ä¸ªå­—ç¬¦ä¸€ä¸ªé”®çš„è¯ï¼Œè‚¯å®šæ”¾ä¸ä¸‹ï¼š</p><p><img src="https://i.loli.net/2019/04/21/5cbc05ae5526e.jpg" alt="1555825210135.jpg"></p><p>ä½†æˆ‘ä»¬æœ‰æ‹¼éŸ³ï¼Œæ‰€ä»¥ç›´æ¥ç”¨ç¾å›½é”®ç›˜å°±è¡Œäº†ã€‚</p><p>GB2312 å…±æ”¶å½•äº† 6763 ä¸ªæ±‰å­—ï¼Œå…¶ä¸­ä¸€çº§æ±‰å­— 3755 ä¸ªï¼ŒäºŒçº§æ±‰å­— 3008 ä¸ªã€‚å®ƒæ‰€æ”¶å½•çš„æ±‰å­—å·²ç»è¦†ç›–ä¸­å›½å¤§é™† 99.75%çš„ä½¿ç”¨é¢‘ç‡ã€‚</p><p>GB2312 çš„åŸºæœ¬æ€æƒ³å¾ˆç®€å•ï¼Œå¦‚æœä¸€ä¸ªå­—ç¬¦å€¼ä¸º 127 åŠä»¥ä¸‹ï¼Œé‚£å®ƒå°±æ˜¯ä¸€ä¸ªå•å­—èŠ‚å­—ç¬¦ï¼Œå’Œ ASCII å…¼å®¹ï¼›å¦‚æœä¸€ä¸ªå­—ç¬¦å€¼ä¸º 127 ä»¥ä¸Šï¼Œé‚£å®ƒå’Œåé¢çš„é‚£ä¸ªå­—ç¬¦ç»„æˆä¸€ä¸ªæ±‰å­—ã€‚ï¼ˆåŒæ—¶ï¼Œåé¢é‚£ä¸ªå­—ç¬¦ä¹Ÿä¸€å®šæ˜¯ 127 ä»¥ä¸Šçš„ï¼‰</p><p>é€šè¿‡è¿™ä¸ªæ–¹å¼ï¼Œæˆ‘ä»¬æ‰©å±•å‡ºæ¥äº† 7000+çš„ç®€ä½“æ±‰å­—ï¼ŒåŒæ—¶è¿˜æŠŠæ—¥æœ¬å‡åï¼Œç½—é©¬å¸Œè…Šå­—æ¯ï¼Œæ•°å­¦ç¬¦å·ä¹Ÿå®¹çº³äº†è¿›æ¥ã€‚</p><p>åŒæ—¶è¿˜äº§ç”Ÿäº†ä¸€ä¸ªæ–°çš„æ¦‚å¿µï¼Œå…¨è§’å­—ç¬¦ï¼šASCII ç é‡Œæœ¬èº«æœ‰çš„å­—ç¬¦ï¼Œä¹Ÿè¢«æˆ‘ä»¬æ‰©å±•æˆäº†åŒå­—èŠ‚å­—ç¬¦ã€‚ä¸ºäº†åŒºåˆ†ï¼Œå‰è€…ç§°ä¸ºåŠè§’å­—ç¬¦ï¼Œåè€…ç§°ä¸ºå…¨è§’å­—ç¬¦ã€‚æ¯”å¦‚é€—å·ã€å†’å·ã€å¼•å·ç­‰ç­‰éƒ½æœ‰åŠè§’å’Œå…¨è§’ä¹‹åˆ†ã€‚</p><p>è‡³æ­¤ï¼Œä¸­æ–‡ä¹Ÿå¯ä»¥åœ¨è®¡ç®—æœºä¸Šè¡¨ç¤ºäº†ã€‚</p><h2 id="GBK"><a href="#GBK" class="headerlink" title="GBK"></a>GBK</h2><blockquote><p>K æ˜¯æ‰©å±•çš„æ„æ€</p></blockquote><p>7000 ä¸ªç®€ä½“æ±‰å­—å¹¶ä¸èƒ½æŠŠæ±‰å­—ç©·ä¸¾äº†ï¼Œä¸€äº›ç”Ÿåƒ»å­—å¹¶ä¸åŒ…å«åœ¨ GB2312 é‡Œã€‚</p><p>GB2312 è¡¨ç¤ºï¼Œæˆ‘å¯èƒ½è¿˜å¯ä»¥æŠ¢æ•‘ä¸€ä¸‹ï¼Œæˆ‘è¿˜æœ‰å¦ä¸€åŠçš„æ½œåŠ›æ²¡æœ‰å‘æŒ¥å‘¢ï¼</p><p>è¿™å¦ä¸€åŠçš„æ½œåŠ›å°±æ˜¯ï¼Œç¬¬äºŒä¸ªå­—èŠ‚çš„<code>0x00 - 0x7f</code>éƒ¨åˆ†ã€‚è¿™éƒ¨åˆ†ç©ºå‡ºæ¥ï¼Œæ˜¯ç”±äº GB2312 è¡¨ç¤ºæ±‰å­—æ—¶ï¼Œè¦æ±‚ä¸¤ä¸ªå­—èŠ‚éƒ½æ˜¯åœ¨<code>0x80 - 0xff</code>èŒƒå›´å†…çš„ã€‚</p><p>å¡«ä¸Šè¿™éƒ¨åˆ†çš„ç©ºæ¡£ä¹‹åï¼Œå†ç”Ÿåƒ»çš„å­—ä¹Ÿè¢«è¡¨ç¤ºå‡ºæ¥äº†ï¼ŒåŒæ—¶ï¼Œæˆ‘ä»¬è¿˜è€ƒè™‘åˆ°æ¸¯æ¾³å°åŒèƒçš„æ„Ÿå—ï¼ŒåŒ…å«äº†ç¹ä½“å­—ï¼Œä¸€å…±å¤§æ¦‚å¢åŠ äº† 20k çš„æ±‰å­—å’Œç¬¦å·ã€‚</p><h2 id="Unicode"><a href="#Unicode" class="headerlink" title="Unicode"></a>Unicode</h2><p>éšç€æ—¶é—´çš„æ¨ç§»ï¼Œäº’è”ç½‘çš„å…´èµ·ï¼Œä¸æ­¢æµ·å³¡ä¸¤å²¸ï¼Œå…¨ä¸–ç•ŒèŒƒå›´å†…å…±å»ºä¸€ä¸ªå­—ç¬¦é›†çš„å‘¼å£°è¶Šæ¥è¶Šé«˜ã€‚</p><p>Unicodeï¼Œç»Ÿä¸€äº†æ‰€æœ‰åœ°åŒºçš„å­—ç¬¦ï¼Œä¸”è¿˜åœ¨ä¸æ–­æ‰©å……ä¸­ã€‚Unicode ç¼–ç ç³»ç»Ÿå¯åˆ†ä¸º <strong>ç¼–ç æ–¹å¼</strong> å’Œ <strong>å®ç°æ–¹å¼</strong> ä¸¤ä¸ªå±‚æ¬¡ã€‚Unicode çš„å®ç°æ–¹å¼ç§°ä¸º Unicode è½¬æ¢æ ¼å¼ï¼ˆUnicode Transformation Formatï¼Œç®€ç§°ä¸º UTFï¼‰</p><blockquote><p>UTF-8 å…¼å®¹ ASCIIï¼ŒUTF-16 ä¸å…¼å®¹ ASCIIã€‚</p></blockquote><h2 id="UTF-8"><a href="#UTF-8" class="headerlink" title="UTF-8"></a>UTF-8</h2><p>å‰é¢è¯´çš„éƒ½æ˜¯å­—ç¬¦é›†ï¼ŒUTF-8 å´æ˜¯ä¸€ç§ç¼–ç æ–¹å¼ï¼Œå› ä¸ºå®ƒå¹¶ä¸æ˜¯å»åšå­—ç¬¦é›†çš„äº‹æƒ…ï¼Œè€Œæ˜¯ä¸ºçš„ä¾¿äº Unicode ç çš„ä¼ è¾“å’Œå­˜å‚¨è€Œç”Ÿçš„ã€‚UTF-8 å…¼å®¹ ASCII ç¼–ç ï¼Œæ‰€ä»¥åº”ç”¨éå¸¸å¹¿æ³›ï¼Œå‡ ä¹å·²ç»æ˜¯äº’è”ç½‘æ ‡å‡†ã€‚</p><p>ä¸å…¶ä»–çš„ç¼–ç æ–¹å¼ï¼ˆå¦‚å“ˆå¤«æ›¼ç¼–ç ï¼‰çš„æ€æƒ³ä¸€è‡´ï¼ŒUTF-8 çš„åŸåˆ™å°±æ˜¯ï¼Œä½¿ç”¨ä¸å®šé•¿å­—èŠ‚ï¼ˆ1-6 å­—èŠ‚ï¼‰æ¥è¡¨è¾¾ä¸€ä¸ªå­—ç¬¦ï¼Œä½¿ç”¨é¢‘ç‡è¶Šé«˜çš„å­—ç¬¦ï¼Œå­—èŠ‚æ•°è¶Šå°‘ã€‚è¿™æ ·å°±èƒ½æœ€å¤§ç¨‹åº¦ä¸ŠèŠ‚çº¦ç©ºé—´ã€‚å…·ä½“çš„ç¼–ç æ–¹å¼å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">å•å­—èŠ‚å­—ç¬¦ï¼š</span><br><span class="line">    ä»¥0å¼€å¤´ï¼Œåé¢7ä½è¡¨ç¤ºå­—ç¬¦ï¼Œäº‹å®ä¸Šï¼ŒUTF-8çš„å•å­—èŠ‚å­—ç¬¦å°±æ˜¯ASCIIå­—ç¬¦ï¼Œå®Œç¾å…¼å®¹ï¼›</span><br><span class="line">nå­—èŠ‚å­—ç¬¦ï¼š</span><br><span class="line">    ç¬¬ä¸€ä¸ªå­—èŠ‚çš„å‰nä½ä¸º1ï¼Œç¬¬n+1ä½ä¸º0ã€‚è¯»åˆ°æ­¤å­—èŠ‚æ—¶ï¼Œå¯ä»¥æ–¹ä¾¿çš„çŸ¥é“åç»­å¤šå°‘å­—èŠ‚æ˜¯ç”¨æ¥è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ï¼›</span><br><span class="line">    å…¶ä½™å­—èŠ‚ï¼Œä»¥10å¼€å¤´ã€‚</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Unicodeç¬¦å·èŒƒå›´ | UTF-8ç¼–ç æ–¹å¼</span><br><span class="line">(åå…­è¿›åˆ¶) | ï¼ˆäºŒè¿›åˆ¶ï¼‰</span><br><span class="line">â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“</span><br><span class="line">0000 0000-0000 007F | 0xxxxxxx</span><br><span class="line">0000 0080-0000 07FF | 110xxxxx 10xxxxxx</span><br><span class="line">0000 0800-0000 FFFF | 1110xxxx 10xxxxxx 10xxxxxx</span><br><span class="line">0001 0000-0010 FFFF | 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx</span><br></pre></td></tr></table></figure><blockquote><p>å®é™…ä¸Šä»ç¬¬äºŒè¡Œå¯¹ç…§å¼€å§‹ï¼Œå°±å­˜åœ¨ç©ºé—´æµªè´¹ï¼Œå› ä¸ºå³è¾¹çš„ x çš„ä½æ•°è¶³å¤Ÿç”¨æ¥è¡¨ç¤º 0 åˆ°å·¦è¾¹çš„ç¬¬äºŒä¸ªæ•°æ‰€è¡¨ç¤ºèŒƒå›´å†…çš„æ‰€æœ‰æ•°ï¼Œæ¯è¡Œæµªè´¹çš„ç©ºé—´å¤§å°æ˜¯å·¦è¾¹çš„ç¬¬ä¸€ä¸ªæ•°ã€‚</p></blockquote><p>UTF-8 å’Œ Unicode æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œå¯¹äºå¸¸ç”¨æ±‰å­—ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯å ç”¨ 3 ä¸ªå­—èŠ‚ï¼Œç”Ÿåƒ»æ±‰å­—å¯èƒ½å ç”¨åˆ° 6 ä¸ªå­—èŠ‚ã€‚å¯¹äº GB2312 å’Œ GBK æ¥è®²ï¼ŒUTF-8 æ— ç–‘é€ æˆäº†æµªè´¹ï¼Œæ‰€ä»¥ï¼ŒUTF-8 å¯ä»¥è¯´æ˜¯å¯¹è‹±æ–‡å‹å¥½ï¼Œä½†å¯¹ä¸­æ–‡ä¸å‹å¥½çš„ä¸€ç§ç¼–ç æ–¹å¼ã€‚æ‰€ä»¥åœ¨ä¸­æ–‡ç•Œï¼ŒGB2312 ä¸ GBK ä¾æ—§æœ‰è‡ªå·±çš„å¸‚åœºã€‚</p><h2 id="ANSI-ç¼–ç "><a href="#ANSI-ç¼–ç " class="headerlink" title="ANSI ç¼–ç "></a>ANSI ç¼–ç </h2><p>ANSI å¹¶ä¸æ˜¯ç¡®å®šçš„ä¸€ç§ç¼–ç ï¼Œåœ¨ç®€ä½“ä¸­æ–‡æ“ä½œç³»ç»ŸæŒ‡çš„æ˜¯ GB2312ï¼Œåœ¨ç¹ä½“æ“ä½œç³»ç»ŸæŒ‡çš„æ˜¯ BIG5ã€‚</p><p>Windows é‡Œè¯´çš„ã€ŒANSIã€å…¶å®æ˜¯ Windows code pagesï¼Œè¿™ä¸ªæ¨¡å¼æ ¹æ®å½“å‰ locale é€‰å®šå…·ä½“çš„ç¼–ç ï¼Œæ¯”å¦‚ç®€ä¸­ locale ä¸‹æ˜¯ GBKã€‚æŠŠè‡ªå·±è¿™äº› code page ç§°ä½œã€ŒANSIã€æ˜¯ Windows çš„è‡­æ¯›ç—…ã€‚åœ¨ ASCII èŒƒå›´å†…å®ƒä»¬åº”è¯¥æ˜¯å’Œ ASCII ä¸€è‡´çš„ã€‚</p><h2 id="å­—ç¬¦é›†ï¼ˆcharacter-setï¼‰ä¸ç¼–ç ï¼ˆencodingï¼‰çš„åŒºåˆ«"><a href="#å­—ç¬¦é›†ï¼ˆcharacter-setï¼‰ä¸ç¼–ç ï¼ˆencodingï¼‰çš„åŒºåˆ«" class="headerlink" title="å­—ç¬¦é›†ï¼ˆcharacter setï¼‰ä¸ç¼–ç ï¼ˆencodingï¼‰çš„åŒºåˆ«"></a>å­—ç¬¦é›†ï¼ˆcharacter setï¼‰ä¸ç¼–ç ï¼ˆencodingï¼‰çš„åŒºåˆ«</h2><p>å¯¹äº ASCIIã€GB 2312ã€Big5ã€GBKã€GB 18030 ä¹‹ç±»çš„é—ç•™æ–¹æ¡ˆæ¥è¯´ï¼ŒåŸºæœ¬ä¸Šä¸€ä¸ªå­—ç¬¦é›†æ–¹æ¡ˆåªä½¿ç”¨ä¸€ç§ç¼–ç æ–¹æ¡ˆã€‚</p><p>æ¯”å¦‚ ASCII è¿™éƒ¨æ ‡å‡†æœ¬èº«å°±ç›´æ¥è§„å®šäº†å­—ç¬¦å’Œå­—ç¬¦ç¼–ç çš„æ–¹å¼ï¼Œæ‰€ä»¥æ—¢æ˜¯å­—ç¬¦é›†åˆæ˜¯ç¼–ç æ–¹æ¡ˆï¼›è€Œ GB 2312 åªæ˜¯ä¸€ä¸ªåŒºä½ç å½¢å¼çš„å­—ç¬¦é›†æ ‡å‡†ï¼Œä¸è¿‡å®é™…ä¸ŠåŸºæœ¬éƒ½ç”¨ EUC-CN æ¥ç¼–ç ï¼Œæ‰€ä»¥æåŠã€ŒGB 2312ã€æ—¶ä¹Ÿè¯´çš„æ˜¯ä¸€ä¸ªå­—ç¬¦é›†å’Œç¼–ç è¿é”çš„æ–¹æ¡ˆï¼›GBK å’Œ GB 18030 ç­‰å‘åå…¼å®¹äº GB 2312 çš„æ–¹æ¡ˆä¹Ÿç±»ä¼¼ã€‚</p><p>äºæ˜¯ï¼Œå¾ˆå¤šäººå—è¿™äº›é—ç•™æ–¹æ¡ˆçš„å½±å“è€Œæ— æ³•ç†è§£å­—ç¬¦é›†å’Œç¼–ç çš„å…³ç³»ã€‚</p><p>å¯¹äº Unicodeï¼Œå­—ç¬¦é›†å’Œç¼–ç æ˜¯æ˜ç¡®åŒºåˆ†çš„ã€‚Unicode/UCS æ ‡å‡†é¦–å…ˆæ˜¯ä¸ªç»Ÿä¸€çš„å­—ç¬¦é›†æ ‡å‡†ã€‚è€Œ Unicode/UCS æ ‡å‡†åŒæ—¶ä¹Ÿå®šä¹‰äº†å‡ ç§å¯é€‰çš„ç¼–ç æ–¹æ¡ˆï¼Œåœ¨æ ‡å‡†æ–‡æ¡£ä¸­ç§°ä½œã€Œencoding formã€ï¼Œä¸»è¦åŒ…æ‹¬ UTF-8ã€UTF-16 å’Œ UTF-32ã€‚</p><p>æ‰€ä»¥ï¼Œå¯¹ Unicode æ–¹æ¡ˆæ¥è¯´ï¼ŒåŒæ ·çš„åŸºäº Unicode å­—ç¬¦é›†çš„æ–‡æœ¬å¯ä»¥ç”¨å¤šç§ç¼–ç æ¥å­˜å‚¨ã€ä¼ è¾“ã€‚æ‰€ä»¥ï¼Œç”¨ã€ŒUnicodeã€æ¥ç§°å‘¼ä¸€ä¸ªç¼–ç æ–¹æ¡ˆä¸åˆé€‚ï¼Œå¹¶ä¸”è¯¯å¯¼ã€‚</p><h2 id="å­—èŠ‚é¡ºåºæ ‡è®°ï¼ˆBOMï¼‰"><a href="#å­—èŠ‚é¡ºåºæ ‡è®°ï¼ˆBOMï¼‰" class="headerlink" title="å­—èŠ‚é¡ºåºæ ‡è®°ï¼ˆBOMï¼‰"></a><a href="https://zh.wikipedia.org/wiki/%E4%BD%8D%E5%85%83%E7%B5%84%E9%A0%86%E5%BA%8F%E8%A8%98%E8%99%9F" target="_blank" rel="noopener">å­—èŠ‚é¡ºåºæ ‡è®°ï¼ˆBOMï¼‰</a></h2><p>è¿™é‡Œæ¶‰åŠåˆ°ä¸€ä¸ª <strong><a href="../../../../2019/04/21/è®¡ç®—æœºä¸­çš„ä¿¡æ¯/#å­—èŠ‚åº">å­—èŠ‚åº</a></strong> çš„æ¦‚å¿µï¼Œè¯·å…ˆäº†è§£è¿™ä¸ªæ¦‚å¿µã€‚</p><p>BOMï¼ˆByte-Order Markï¼‰:ä¸€ç§ä¸ºäº†è·¨å¹³å°è®¾è®¡çš„æ–‡ä»¶èµ·å§‹æ ‡è®°ï¼Œä½†å¾ˆå¤šç¨‹åºæ²¡å»å¤„ç†è¿™ä¸ªï¼Œç”¨äº† BOM åè€Œå¸¸é€ æˆé—®é¢˜ã€‚</p><p>åœ¨ UTF-16 ä¸­ï¼Œå­—èŠ‚é¡ºåºæ ‡è®°è¢«æ”¾ç½®ä¸ºæ–‡ä»¶æˆ–å­—ç¬¦ä¸²æµçš„ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼Œä»¥æ ‡ç¤ºå­—èŠ‚é¡ºåºã€‚</p><ul><li>å¤§ç«¯ï¼š0xFEFF</li><li>å°ç«¯ï¼š0xFFFE</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> ç¼–ç¨‹åŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¡ç®—æœºä¸­çš„ä¿¡æ¯</title>
      <link href="/blog/2019/04/20/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%B8%AD%E7%9A%84%E4%BF%A1%E6%81%AF/"/>
      <url>/blog/2019/04/20/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%B8%AD%E7%9A%84%E4%BF%A1%E6%81%AF/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¿¡æ¯çš„æœ¬è´¨"><a href="#ä¿¡æ¯çš„æœ¬è´¨" class="headerlink" title="ä¿¡æ¯çš„æœ¬è´¨"></a>ä¿¡æ¯çš„æœ¬è´¨</h2><p><strong>ä¿¡æ¯çš„æœ¬è´¨æ˜¯æ¶ˆé™¤ä¸ç¡®å®šæ€§</strong>ï¼šæˆ‘ä»¬æŠ›æ·ä¸€æšç¡¬å¸ï¼Œç„¶åç”¨æ‰‹ç›–ä½ï¼Œå‡ºç°æ­£é¢æœä¸Šå’Œåé¢æœä¸Šçš„æ¦‚ç‡éƒ½æ˜¯äºŒåˆ†ä¹‹ä¸€ã€‚å½“æˆ‘ä»¬å·çœ‹äº†ç»“æœï¼Œç¡®å®šäº†æ˜¯æ­£é¢è¿˜æ˜¯åé¢æœä¸Šï¼Œä¹Ÿå°±è·å¾—äº†ä¿¡æ¯ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æ¶ˆé™¤çš„ä¸ç¡®å®šæ€§æ˜¯ä¸€ä¸ªäºŒåˆ†ä¹‹ä¸€çš„æ¦‚ç‡ã€‚åœ¨ <strong><a href="https://zh.wikipedia.org/zh-hans/%E5%85%8B%E5%8A%B3%E5%BE%B7%C2%B7%E9%A6%99%E5%86%9C" target="_blank" rel="noopener">é¦™å†œ</a></strong> åˆ’æ—¶ä»£çš„è®ºæ–‡ <strong><a href="http://math.harvard.edu/~ctm/home/text/others/shannon/entropy/entropy.pdf" target="_blank" rel="noopener">é€šä¿¡çš„æ•°å­¦åŸç†</a></strong> ä¸­ï¼Œé¦–æ¬¡æå‡ºäº†ä¿¡æ¯æ˜¯å¯é‡åŒ–çš„ï¼Œä»¥åŠå¦‚ä½•é‡åŒ–ä¿¡æ¯ã€‚æˆ‘ä»¬ä»¥ bit ä¸ºä¿¡æ¯çš„åº¦é‡å•ä½ï¼Œä¸€ä¸ª bit å¯ä»¥æ˜¯ 0 æˆ–è€… 1ï¼Œæˆ‘ä»¬æ¯è·å¾—ä¸€ä¸ª bit çš„ä¿¡æ¯ï¼Œå°±ä¼šæ¶ˆé™¤ä¸€ä¸ªäºŒåˆ†ä¹‹ä¸€çš„ä¸ç¡®å®šæ€§ã€‚</p><blockquote><p>å°æ€è€ƒé¢˜ï¼šå¦‚æœæˆ‘ä»¬æŠ›æ·çš„æ˜¯ä¸€ä¸ªéª°å­å‘¢ï¼Œå½“æˆ‘ä»¬ç¡®å®šäº†ä¸€æ¬¡æŠ•æ·ç»“æœï¼Œæˆ‘ä»¬è·å¾—å¤šå°‘ä¿¡æ¯ï¼ˆç”¨ bit ä¸ºå•ä½è¡¡é‡ï¼‰ï¼Ÿ<br>æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œéª°å­æœ‰ 6 ä¸ªé¢ï¼Œåˆ†åˆ«åˆ»æœ‰ 1~6ï¼Œæˆ‘ä»¬æœ‰å…­åˆ†ä¹‹ä¸€çš„æ¦‚ç‡å¾—åˆ°å…¶ä¸­ä»»æ„ä¸€ä¸ªé¢æœä¸Šã€‚é‚£ä¹ˆæˆ‘ä»¬è·å¾—çš„ä¿¡æ¯åº”è¯¥æ˜¯ï¼š$\log_2 6$ã€‚</p></blockquote><a id="more"></a><h2 id="ä¿¡æ¯è®¡é‡å•ä½"><a href="#ä¿¡æ¯è®¡é‡å•ä½" class="headerlink" title="ä¿¡æ¯è®¡é‡å•ä½"></a>ä¿¡æ¯è®¡é‡å•ä½</h2><p>æ¯”ç‰¹ï¼ˆbitï¼‰ï¼šæˆ‘ä»¬ç°åœ¨æ‰€ä½¿ç”¨çš„è®¡ç®—æœºéƒ½æ˜¯äºŒè¿›åˆ¶çš„ç”µå­è®¡ç®—æœºï¼Œæ¯ä¸ª bit é 0 å³ 1ã€‚ä¹‹æ‰€ä»¥ä½¿ç”¨äºŒè¿›åˆ¶æ˜¯å› ä¸ºç‰©ç†ä¸Šå®¹æ˜“å®ç°ï¼Œ<strong>é«˜ç”µå‹æˆ–ä½ç”µå‹</strong>ã€‚</p><p>å­—èŠ‚ï¼ˆbyteï¼‰ï¼šåœ¨è®¡ç®—æœºä¸­ä¸ºäº†æ–¹ä¾¿çš„ç®¡ç†å†…å­˜ï¼Œæˆ‘ä»¬ä»¥ 8 ä¸ªæ¯”ç‰¹ä¸ºä¸€ä¸ªå•ä½ï¼Œè¿™ä¸ªå•ä½å«åšå­—èŠ‚ã€‚</p><blockquote><p>åœ¨ä½ è´­ä¹°å®½å¸¦çš„æ—¶å€™ï¼Œæ¯”å¦‚ 100M å®½å¸¦ï¼ŒæŒ‡çš„æ˜¯ 100Mb/sï¼Œæ¢ç®—æˆå­—èŠ‚ä¸ºå•ä½çš„é€Ÿåº¦ï¼š$\frac{100Mb/s}{8}=12.5MB/s$ã€‚æ‰€ä»¥æˆ‘ä»¬å‘ç°ä¸‹è½½é€Ÿåº¦é€šå¸¸æ²¡æœ‰å¬èµ·æ¥é‚£ä¹ˆå¤¸å¼ ï¼Œå› ä¸ºä¸‹è½½çš„æ–‡ä»¶é€šå¸¸æ˜¯ä»¥å­—èŠ‚ä¸ºå•ä½çš„ï¼Œè€Œè¿è¥å•†å£ä¸­çš„ 100M æŒ‡çš„æ˜¯ä»¥æ¯”ç‰¹ä¸ºå•ä½çš„é€Ÿåº¦ã€‚</p></blockquote><p>Kã€Mã€Gï¼šè¿™ä¸‰ä¸ªæ˜¯æœ€å¸¸è§çš„å€æ•°å•ä½ï¼Œå¯ä»¥ç”¨æ¥æ­é… bï¼ˆbitï¼‰æˆ–è€… Bï¼ˆByteï¼‰ã€‚å®ƒä»¬éƒ½æ˜¯è¯æ ¹çš„ç¼©å†™ï¼ŒK æ˜¯ Kiloï¼Œè¡¨ç¤º$2^{10}$ ï¼›M æ˜¯ Megaï¼Œè¡¨ç¤º$2^{20}$ ï¼›G æ˜¯ Gigaï¼Œè¡¨ç¤º$2^{30}$ ã€‚</p><blockquote><p>å…¶å®åœ¨ä¸€èˆ¬çš„åœºåˆä¸­ï¼ŒK è¡¨ç¤º$10^3$ï¼ŒM è¡¨ç¤º$10^6$ï¼ŒG è¡¨ç¤º$10^9$ã€‚è€Œæˆ‘ä»¬çœ‹åˆ°ä¸Šé¢éƒ½æ˜¯ä»¥<code>1024</code>å€é€’å¢ï¼ˆ$2^{10}=1024$ï¼‰ï¼Œæ˜¯ 1000 çš„è¿‘ä¼¼ã€‚åœ¨ä½ è´­ä¹°ç¡¬ç›˜çš„æ—¶å€™ï¼Œå‚å•†å´æ˜¯ä½¿ç”¨ 1000 è¿™ä¸€å¥—è¿›ç‡çš„ã€‚æ¯”å¦‚ 100GB çš„ç¡¬ç›˜ï¼Œå…¶å®é™…å®¹é‡åªæœ‰ï¼š$\frac{100\times1000^3}{1024^3}=93.13GB$ã€‚è€Œå†…å­˜åˆ™æ˜¯ç”¨ 1024 è¿›ç‡ç®—çš„ï¼Œ1GB çš„å†…å­˜å°±æ˜¯$2^{30}$ä¸ªå­—èŠ‚ï¼Œå› ä¸ºé‡‡ç”¨åœ°å€æ€»çº¿å¯»å€ï¼Œå¯»å€ç©ºé—´å¿…é¡»æ˜¯$2^n$ï¼Œå¦åˆ™å°±ä¼šé€ æˆå†…å­˜æµªè´¹æˆ–è€…å®šä½åˆ°ä¸€ä¸ªä¸å­˜åœ¨çš„å†…å­˜ã€‚</p></blockquote><p>Tã€Pï¼šè¿™ä¸¤ä¸ªå¦‚æœä½ æ˜¯ç¨‹åºå‘˜çš„è¯ä¼šæ¯”è¾ƒå¸¸è§ã€‚T æ˜¯ Teraï¼Œ$2^{40}$ï¼›P æ˜¯ Petaï¼Œ$2^{50}$ã€‚</p><blockquote><p>å¾€ä¸Šèµ°è¿˜æœ‰å‡ ä¸ªå•ä½ï¼Œä½†å‡ ä¹æ²¡æœºä¼šç¢°åˆ°ï¼š<br>1EBï¼ˆExabyte ç™¾äº¿äº¿å­—èŠ‚ è‰¾å­—èŠ‚ï¼‰=1024PBï¼Œ<br>1ZB (Zettabyte åä¸‡äº¿äº¿å­—èŠ‚ æ³½å­—èŠ‚)= 1024 EB,<br>1YB (Yottabyte ä¸€äº¿äº¿äº¿å­—èŠ‚ å°§å­—èŠ‚)= 1024 ZB,<br>1BB (Brontobyte ä¸€åƒäº¿äº¿äº¿å­—èŠ‚)= 1024 YB.</p></blockquote><h2 id="å­—ç¬¦é›†"><a href="#å­—ç¬¦é›†" class="headerlink" title="å­—ç¬¦é›†"></a>å­—ç¬¦é›†</h2><p><strong>ä¿¡æ¯æ˜¯ bit ä½+ä¸Šä¸‹æ–‡</strong>ï¼ˆè¿™é‡Œçš„ä¿¡æ¯å¯ä»¥ç†è§£ä¸ºï¼šäººèƒ½è¯»æ‡‚çš„æœ‰æ„ä¹‰çš„ä¿¡æ¯ï¼‰ï¼Œæ¯”ç‰¹ä½ä¸­çš„ä¿¡æ¯å¯ä»¥æ ¹æ®ä¸Šä¸‹æ–‡è¢«ä»»æ„åœ°è§£è¯»ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ª<code>hello.c</code>æ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"hello, world\n"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœä»¥ <strong><a href="https://zh.wikipedia.org/wiki/ASCII" target="_blank" rel="noopener">ASCII ç¼–ç </a></strong> çš„è¯ï¼Œæ¯ä¸ªå­—èŠ‚çš„å†…å®¹å¦‚ä¸‹ï¼š</p><p><img src="https://i.loli.net/2019/04/21/5cbbc51c0887c.png" alt="ä¸€ä»½Cç¨‹åºçš„ASCIIç è¡¨ç¤º.png"></p><ul><li>æ–‡æœ¬æ–‡ä»¶ï¼šå†…å®¹æ˜¯æ–‡æœ¬ï¼Œæ–‡æœ¬æ–‡ä»¶éƒ½ä¼šé‡‡ç”¨ä¸€ç§ç‰¹å®šçš„ç¼–ç æ–¹å¼</li><li>äºŒè¿›åˆ¶æ–‡ä»¶ï¼šé™¤å»æ–‡æœ¬æ–‡ä»¶ï¼Œå…¶ä»–çš„éƒ½æ˜¯äºŒè¿›åˆ¶æ–‡ä»¶</li></ul><blockquote><p>å¦‚æœä½ ç¢°åˆ°è¿‡ä¹±ç é—®é¢˜ï¼Œé‚£ä¹ˆå¯ä»¥å°è¯•äº†è§£ä¸€ä¸‹ï¼š<a href="../../../../2019/04/21/ä»€ä¹ˆæ˜¯å­—ç¬¦é›†å’Œç¼–ç /">ä»€ä¹ˆæ˜¯å­—ç¬¦é›†å’Œç¼–ç </a></p></blockquote><p>Windows è®°äº‹æœ¬çš„ bugï¼ˆå…·ä½“åŸå› å¯ä»¥è‡ªå·±ä¸Šç½‘æŸ¥ï¼‰ï¼š</p><ul><li>æ–°å»ºä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œè¾“å…¥â€œå†™â€ï¼Œä¿å­˜ä¹‹åå†æ‰“å¼€ï¼Œä¹±ç <code>Ğ´</code>ã€‚</li><li>æ–°å»ºä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œè¾“å…¥â€œè”é€šâ€ï¼Œä¿å­˜ä¹‹åå†æ‰“å¼€ï¼Œä¹±ç <code>ï¿½ï¿½Í¨</code>ã€‚</li></ul><h2 id="å­—èŠ‚åº"><a href="#å­—èŠ‚åº" class="headerlink" title="å­—èŠ‚åº"></a>å­—èŠ‚åº</h2><p>è®¡ç®—æœºçš„å†…å­˜åœ°å€æ˜¯æŒ‰å­—èŠ‚ç¼–å·ï¼Œæ¯”å¦‚ 4GB çš„å†…å­˜ï¼Œå®ƒçš„å†…å­˜åœ°å€ä» 0 åˆ°$2^{30}$ï¼Œè¿™é‡Œæœ‰ä¸ªé—®é¢˜å°±æ˜¯å¤šå­—èŠ‚çš„æ•°æ®å¦‚ä½•ç¡®å®šå­˜æ”¾é¡ºåºã€‚æœ‰çš„è®¡ç®—æœºé‡‡ç”¨ <strong>å¤§ç«¯</strong> æœ‰çš„åˆ™é‡‡ç”¨ <strong>å°ç«¯</strong>ã€‚</p><p>å‡è®¾æˆ‘æœ‰ä¸€ä¸ª int å‹æ•°ï¼ˆ4 å­—èŠ‚ï¼‰ï¼š0x29 16 10 57</p><p>29 æ˜¯é«˜ä½ï¼Œ57 æ˜¯ä½ä½ï¼Œå¦‚æœé«˜ä½å­˜æ”¾çš„å†…å­˜åœ°å€ä¹Ÿæ˜¯é«˜åœ°å€ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±ç§°ä¹‹ä¸º <strong>å¤§ç«¯</strong> å­—èŠ‚åºã€‚åä¹‹å°±æ˜¯ <strong>å°ç«¯</strong> å­—èŠ‚åºã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> ç¼–ç¨‹åŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexoæŠŠè‹±æ–‡å¼•å·æ¸²æŸ“æˆä¸­æ–‡å¼•å·çš„é—®é¢˜</title>
      <link href="/blog/2019/04/15/hexo%E6%8A%8A%E8%8B%B1%E6%96%87%E5%BC%95%E5%8F%B7%E6%B8%B2%E6%9F%93%E6%88%90%E4%B8%AD%E6%96%87%E5%BC%95%E5%8F%B7%E7%9A%84%E9%97%AE%E9%A2%98/"/>
      <url>/blog/2019/04/15/hexo%E6%8A%8A%E8%8B%B1%E6%96%87%E5%BC%95%E5%8F%B7%E6%B8%B2%E6%9F%93%E6%88%90%E4%B8%AD%E6%96%87%E5%BC%95%E5%8F%B7%E7%9A%84%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<p>å…¶å®è¿™ä¸ªé—®é¢˜æˆ‘æ—©å°±å‘ç°äº†ï¼Œä½†ä¸€ç›´æ²¡å¤ªåœ¨æ„ï¼Œä»Šå¤©å†™åšå®¢çš„æ—¶å€™åˆçœ‹åˆ°è¿™ä¸ªéš¾çœ‹çš„å¼•å·ï¼Œç»ˆäºå¿ä¸ä½æƒ³çœ‹çœ‹åˆ°åº•å‡ºäº†ä»€ä¹ˆé—®é¢˜ã€‚</p><p>é¦–å…ˆæˆ‘è¯•äº†ä¸­æ–‡çš„å•å¼•å·å’Œè‹±æ–‡çš„å•å¼•å·ï¼Œå‘ç°æ¸²æŸ“æ•ˆæœéƒ½ä¸€æ ·ï¼Œç„¶åæƒ³çœ‹çœ‹å½“æˆ‘åˆ†åˆ«æ‰“ä¸­æ–‡å•å¼•å·å’Œè‹±æ–‡å•å¼•å·çš„æ—¶å€™ï¼Œhexo çš„æ¸²æŸ“ç»“æœåˆ°åº•æ˜¯ä¸æ˜¯ä¸€æ ·ã€‚</p><p>æ‰“å¼€ chrome å¼€å‘å·¥å…·ï¼Œå‘ç°é¡µé¢ä¸Šçš„è‹±æ–‡å•å¼•å·ç»Ÿä¸€è¢«æ¸²æŸ“æˆäº†ä¸­æ–‡çš„å•å¼•å·ã€‚</p><p>ç„¶åæˆ‘æ‰‹åŠ¨ä¿®æ”¹é¡µé¢çœ‹äº†ä¸‹è‹±æ–‡å•å¼•å·æ˜¯ä»€ä¹ˆæ ·å­ï¼Œå‘ç°æ ·å¼ç¡®å®å¾ˆä¸ä¸€æ ·ã€‚</p><p>é‚£ä¹ˆé—®é¢˜å°±ç¡®å®šäº†ï¼šhexo æŠŠè‹±æ–‡å¼•å·æ¸²æŸ“æˆäº†ä¸­æ–‡å¼•å·ã€‚</p><a id="more"></a><p>è°·æ­Œæœäº†ä¸€ä¸‹ï¼š<code>hexo æ¸²æŸ“ å•å¼•å· ä¸­æ–‡å•å¼•å·</code>ï¼Œå¾—åˆ°å‡ æ¡ä¸é”™çš„ç»“æœï¼š</p><ul><li><a href="https://github.com/hexojs/hexo/issues/1981" target="_blank" rel="noopener">æ±‚åŠ©ï¼šå•å¼•å·æ˜¾ç¤ºå¼‚å¸¸ #1981</a></li><li><a href="https://github.com/theme-next/hexo-theme-next/issues/462" target="_blank" rel="noopener">6.4.0 ç‰ˆæœ¬ä¹‹åçš„ä¸¤ä¸ªé—®é¢˜ #462</a></li></ul><p>å¯¹äºæˆ‘æ‰€ä½¿ç”¨çš„<code>kramed</code>ï¼Œåªéœ€è¦åœ¨<code>_config.yml</code>ä¸­é…ç½®ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">kramed:</span><br><span class="line">  smartypants: false</span><br></pre></td></tr></table></figure><p>é—®é¢˜çš„åŸå› æ˜¯ markdown æ¸²æŸ“å™¨æŠŠè‹±æ–‡å¼•å·æ¸²æŸ“æˆäº†ä¸­æ–‡å¼•å·ï¼Œä½†è¿™å…¶å®æ˜¯å¯ä»¥é…ç½®çš„ï¼Œæ‰€ä»¥è§£å†³èµ·æ¥æ¯”è¾ƒç®€å•ã€‚</p><p>åœ¨è§£å†³è¿™ä¸ªé—®é¢˜çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœä½ æƒ³é¡ºåˆ©çš„è§£å†³é—®é¢˜ï¼Œä½ éœ€è¦çš„çŸ¥è¯†ç‚¹æœ‰ï¼š</p><ul><li><strong>å­—ç¬¦é›†çš„çŸ¥è¯†</strong></li><li><strong>Chrome å¼€å‘å·¥å…·ä½¿ç”¨ç»éªŒ</strong></li><li><strong>å‰ç«¯å¼€å‘çŸ¥è¯†</strong></li><li><strong>å¥½çš„æœç´¢ä¹ æƒ¯</strong></li><li><strong>ä¸€å®šçš„è‹±è¯­æ°´å¹³</strong></li><li><strong>æŸ¥é˜…æ–‡æ¡£çš„æ„è¯†å’Œä¹ æƒ¯</strong></li></ul><p>å¦‚æœä½ å·²ç»å…·å¤‡äº†ä»¥ä¸Šå‰æï¼Œé‚£ä¹ˆå°±èƒ½æ¯”è¾ƒè½»æ¾æ„‰å¿«çš„è§£å†³è¿™ä¸ªé—®é¢˜äº†ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++ mapçš„removeå‡½æ•°å®ç°</title>
      <link href="/blog/2019/04/15/C++%E7%9A%84map%E7%9A%84remove%E5%87%BD%E6%95%B0%E5%AE%9E%E7%8E%B0/"/>
      <url>/blog/2019/04/15/C++%E7%9A%84map%E7%9A%84remove%E5%87%BD%E6%95%B0%E5%AE%9E%E7%8E%B0/</url>
      
        <content type="html"><![CDATA[<p>ä»Šå¤©åŒå­¦ç¾¤é‡Œé¢è®¨è®ºäº†è¿™æ ·ä¸€æ®µä»£ç ï¼Œè¯´æ˜¯äº§å“å‡ºäº† bugï¼Œç°åœºæ€¥ç€ä¿®å¤ã€‚</p><a id="more"></a><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"hello world"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="built_in">std</span>::<span class="built_in">string</span>&gt; mapPeople;</span><br><span class="line">    mapPeople[<span class="number">1</span>] = <span class="string">"hexu1"</span>;</span><br><span class="line">    mapPeople[<span class="number">2</span>] = <span class="string">"hexu2"</span>;</span><br><span class="line">    <span class="comment">// mapPeople[3] = "hexu3";</span></span><br><span class="line">    <span class="comment">// mapPeople[4] = "hexu4";</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="built_in">std</span>::<span class="built_in">string</span>&gt;::iterator iter = mapPeople.begin();</span><br><span class="line">    <span class="keyword">for</span> (; iter != mapPeople.end(); iter++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (iter-&gt;first == <span class="number">2</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"id : "</span> &lt;&lt; iter-&gt;first &lt;&lt; <span class="string">", name : "</span> &lt;&lt; iter-&gt;second &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">            mapPeople.erase(iter++);</span><br><span class="line">            <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; (iter != mapPeople.end()) &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//for (; iter != mapPeople.end();)</span></span><br><span class="line">    <span class="comment">//&#123;</span></span><br><span class="line">    <span class="comment">//if (iter-&gt;first == 2)</span></span><br><span class="line">    <span class="comment">//&#123;</span></span><br><span class="line">    <span class="comment">//std::cout &lt;&lt; "id : " &lt;&lt; iter-&gt;first &lt;&lt; ", name : " &lt;&lt; iter-&gt;second &lt;&lt; std::endl;</span></span><br><span class="line">    <span class="comment">//mapPeople.erase(iter++);</span></span><br><span class="line">    <span class="comment">//if (iter == mapPeople.end())</span></span><br><span class="line">    <span class="comment">//break;</span></span><br><span class="line">    <span class="comment">//&#125;</span></span><br><span class="line">    <span class="comment">//iter++;</span></span><br><span class="line">    <span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    getchar();</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¯´æ˜¯ç¬¬ä¸€ä¸ª for å¾ªç¯ä¼šå´©æºƒï¼Œç¬¬äºŒä¸ª for å¾ªç¯å¯ä»¥é€šè¿‡ã€‚ç»è¿‡åˆ†æï¼Œä¸»è¦é—®é¢˜å…¶å®æ˜¯å‡ºåœ¨å¯¹è¿­ä»£å™¨å’Œ erase çš„ä¸ç†Ÿæ‚‰ä¸Šï¼Œå¯¼è‡´é”™è¯¯çš„ä½¿ç”¨ï¼Œè¿™ä¸ªç¨‹åºçš„é”™è¯¯å¾ˆæ˜æ˜¾ï¼Œå°±æ˜¯åœ¨ erase è¿™æ¡åˆ†æ”¯ä¸­ï¼Œiter++äº†ä¸¤æ¬¡ã€‚é‚£ä¹ˆå¦‚ä½•å†™ä¸€ä¸ªæ­£ç¡®çš„ remove å‡½æ•°å‘¢ï¼Ÿä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"hello world"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="built_in">std</span>::<span class="built_in">string</span>&gt; mapPeople;</span><br><span class="line">    mapPeople[<span class="number">1</span>] = <span class="string">"hexu1"</span>;</span><br><span class="line">    mapPeople[<span class="number">2</span>] = <span class="string">"hexu2"</span>;</span><br><span class="line">    mapPeople[<span class="number">3</span>] = <span class="string">"hexu3"</span>;</span><br><span class="line">    mapPeople[<span class="number">4</span>] = <span class="string">"hexu4"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="built_in">std</span>::<span class="built_in">string</span>&gt;::iterator iter = mapPeople.begin();</span><br><span class="line">    <span class="keyword">while</span> (iter != mapPeople.end())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (iter-&gt;first == <span class="number">2</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"id : "</span> &lt;&lt; iter-&gt;first &lt;&lt; <span class="string">", name : "</span> &lt;&lt; iter-&gt;second &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">            iter = mapPeople.erase(iter);</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        iter++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦å¤–ï¼Œç¢°åˆ°åˆ é™¤çš„æ—¶å€™ï¼Œè¦å°å¿ƒï¼Œå¯ä»¥è¿™ä¹ˆå†™ï¼š<code>iter = mapPeople.erase(iter);</code>ï¼Œä¹Ÿå¯ä»¥è¿™ä¹ˆå†™ï¼š<code>mapPeople.erase(iter++);</code>ï¼ˆå¿…é¡»åœ¨åˆ é™¤å‰ç»™è¿­ä»£å™¨++ï¼Œå¦åˆ™è¿­ä»£å™¨ä¼šå¤±æ•ˆï¼Œè¿™ä¸ªé—®é¢˜é‚£ä½ç¨‹åºå‘˜å€’æ˜¯è€ƒè™‘åˆ°äº†ï¼‰ã€‚</p><p>æœ€åæˆ‘æƒ³è¯´çš„ä¸€ç‚¹æ˜¯ï¼Œæ ¹æ®æŒ‡å®š key åˆ é™¤ map ä¸­çš„å…ƒç´ ï¼Œè¿™ä¸ªåŠŸèƒ½åœ¨å…¶ä»–è¯­è¨€ä¸­éƒ½æœ‰åº“å‡½æ•°å¯ä»¥è°ƒç”¨ï¼Œè€Œ C++å´æ²¡æœ‰ï¼Œè¿˜è¦è‡ªå·±åŠ¨æ‰‹å†™ï¼Œè€Œä¸”éœ€è¦å¯¹ map çš„åŸç†æœ‰ä¸€å®šçš„äº†è§£ã€‚è¿™å°±ä»ä¾§é¢åæ˜ äº† C++å¯èƒ½å¹¶ä¸æ˜¯ä¸€ä¸ªé«˜æ•ˆçš„ç”Ÿäº§å·¥å…·ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŠ¨æ€æ•°ç»„çš„åˆ†æ‘Šåˆ†æ</title>
      <link href="/blog/2019/03/03/%E5%8A%A8%E6%80%81%E6%95%B0%E7%BB%84%E7%9A%84%E5%88%86%E6%91%8A%E5%88%86%E6%9E%90/"/>
      <url>/blog/2019/03/03/%E5%8A%A8%E6%80%81%E6%95%B0%E7%BB%84%E7%9A%84%E5%88%86%E6%91%8A%E5%88%86%E6%9E%90/</url>
      
        <content type="html"><![CDATA[<h2 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><p>åŠ¨æ€æ•°ç»„åœ¨æ¯æ¬¡å®¹é‡ç”¨å°½æ—¶ï¼Œé‡æ–°ç”³è¯· 2 å€äºå½“å‰æ•°ç»„çš„ç©ºé—´ï¼Œå¹¶å°†åŸæ•°ç»„ä¸­çš„å†…å®¹æ‹·è´åˆ°æ–°çš„ç©ºé—´ï¼Œç„¶åé‡Šæ”¾åŸæ•°ç»„çš„å†…å­˜ç©ºé—´ã€‚å¯¹äºåŠ¨æ€æ•°ç»„ï¼Œæ¯æ¬¡æ’å…¥çš„èŠ±è´¹æœ‰ä¸¤ç§æƒ…å†µï¼š</p><ol><li>å®¹é‡å¤Ÿç”¨ï¼Œæˆ‘ä»¬åªéœ€è¦å­˜å‚¨æ–°çš„å…ƒç´ </li><li>å®¹é‡ä¸å¤Ÿç”¨ï¼Œåˆ›å»ºæ–°çš„ç©ºé—´ï¼Œæ‹·è´åŸæ•°ç»„è¿›æ–°çš„ç©ºé—´ï¼Œå†å­˜å‚¨è¿™ä¸ªæ–°çš„å…ƒç´ </li></ol><p>åˆ†ææ–¹æ³•æœ‰è®¸å¤šï¼Œç»Ÿç§°ä¸ºï¼šamortized analysisï¼ˆåˆ†æ‘Šåˆ†æï¼‰</p><a id="more"></a><p><a href="https://www.cs.cornell.edu/courses/cs3110/2013sp/lectures/lec21-amortized/lec21.html" target="_blank" rel="noopener">Lecture 21: Amortized Analysis</a></p><h3 id="ç»Ÿè®¡åˆ†æï¼ˆaggregate-methodï¼‰"><a href="#ç»Ÿè®¡åˆ†æï¼ˆaggregate-methodï¼‰" class="headerlink" title="ç»Ÿè®¡åˆ†æï¼ˆaggregate methodï¼‰"></a>ç»Ÿè®¡åˆ†æï¼ˆaggregate methodï¼‰</h3><p>æŠŠ n è¯æ“ä½œèŠ±è´¹æ±‚å’Œï¼Œç„¶åå–å¹³å‡å€¼ã€‚</p><p>æ¯æ¬¡æ‰©å®¹æ—¶ï¼ŒååŠéƒ¨åˆ†å…ƒç´ ç»Ÿä¸€è¿›è¡Œç¬¬ä¸€æ¬¡ç§»åŠ¨ï¼Œè€Œè¿™äº›å…ƒç´ ä¹‹åçš„æ‰€æœ‰ç§»åŠ¨æ“ä½œä¹Ÿæ˜¯ä¸€èµ·å‘ç”Ÿçš„ï¼Œå› è€Œæˆ‘ä»¬å‘ç°å…ƒç´ æ˜¯ä»¥ç»„ä¸ºå•ä½ï¼Œç»„å†…çš„å…ƒç´ ç§»åŠ¨æ¬¡æ•°ç›¸åŒã€‚é‚£ä¹ˆæœ‰å¤šå°‘ä¸ªè¿™ç§ç»„å‘¢ï¼Ÿç¬¬ä¸€ç»„æ˜¯å•ä¸ªå…ƒç´ ï¼Œç¬¬äºŒç»„ä¹Ÿæ˜¯å•ä¸ªå…ƒç´ ï¼Œç¬¬ä¸‰ç»„æ˜¯ä¸¤ä¸ªå…ƒç´ ï¼Œç¬¬å››ç»„æ˜¯å››ä¸ªå…ƒç´ ï¼Œç¬¬äº”ç»„æ˜¯ 8 ä¸ªå…ƒç´ ï¼Œ... ï¼Œä»¥æ­¤ç±»æ¨ã€‚è€Œï¼š</p><p>$$<br>1 + 1 + 2+ 2^2 + \cdots + 2^i = n<br>$$</p><p>$$<br>i = \log_2 n -1<br>$$</p><p>è€Œè¿™äº›ç»„çš„ç§»åŠ¨æ¬¡æ•°åˆ†åˆ«æ˜¯å¤šå°‘å‘¢ï¼Ÿæœ€åä¸€ç»„å…ƒç´ åªç§»åŠ¨ä¸€æ¬¡ï¼Œå€’æ•°ç¬¬äºŒç»„å…ƒç´ ç§»åŠ¨ 2 æ¬¡ï¼Œä»¥æ­¤ç±»æ¨ã€‚æ‰€ä»¥æ€»çš„ç§»åŠ¨æ¬¡æ•°æ˜¯ï¼š</p><p>$$<br>1\times 2^i+2\times 2^{i-1}+3\times 2^{i-2}+\cdots+k\times 1<br>$$</p><p>$$<br>k = \log_2n + 1<br>$$</p><p>è¿™ä¸ªå¼å­æŒºæœ‰è§„å¾‹çš„ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶åˆ†ä¸ºå¾ˆå¤šä¸ªç»„ï¼Œç¬¬ä¸€ç»„æ˜¯ï¼š</p><p>$$<br>1 + 1 + 2+ 2^2 + \cdots + 2^i = n<br>$$</p><p>ç¬¬äºŒç»„æ˜¯ï¼š</p><p>$$<br>1 + 1 + 2+ 2^2 + \cdots + 2^{i-1} = \frac{n}{2}<br>$$</p><p>ä»¥æ­¤ç±»æ¨ã€‚</p><p>äºæ˜¯æˆ‘ä»¬å¾—åˆ°ä¸Šå¼çš„ç­‰ä»·è¡¨ç¤ºï¼š</p><p>$$<br>n + \frac{n}{2} + \cdots + 1 = 2n-1<br>$$</p><p>æ‰€ä»¥ç§»åŠ¨çš„å¹³å‡æ¬¡æ•°æ˜¯ï¼š$\frac{2n-1}{n}$ï¼Œä¹Ÿå°±æ˜¯æ¯ä¸ªå…ƒç´ æœ€å¤šç§»åŠ¨ 2 æ¬¡ï¼ŒåŠ ä¸Šæ’å…¥æ“ä½œï¼Œæœ€å¤šä¸‰ä¸ªæ“ä½œã€‚</p><h3 id="é“¶è¡Œç®—æ³•ï¼ˆbanker-methodï¼‰"><a href="#é“¶è¡Œç®—æ³•ï¼ˆbanker-methodï¼‰" class="headerlink" title="é“¶è¡Œç®—æ³•ï¼ˆbanker methodï¼‰"></a>é“¶è¡Œç®—æ³•ï¼ˆbanker methodï¼‰</h3><p>å¯¹åŠ¨æ€æ•°ç»„çš„æ’å…¥æ¥è¯´ï¼Œå¤§éƒ¨åˆ†ï¼ˆååŠéƒ¨åˆ†ï¼‰æ’å…¥æ“ä½œæ˜¯ä¸éœ€è¦é‡æ–°åˆ†é…å†…å­˜çš„ï¼Œæ˜¯å»‰ä»·çš„æ“ä½œã€‚è€Œå°‘éƒ¨åˆ†æ“ä½œæ˜¯éœ€è¦é‡æ–°åˆ†é…å†…å­˜çš„ï¼Œæ˜¯å¤æ‚çš„æ“ä½œã€‚æˆ‘ä»¬å¯ä»¥è¯•ç€æƒ³è±¡åœ¨æ¯æ¬¡å»‰ä»·æ“ä½œçš„æ—¶å€™å­˜å‚¨é¢å¤–çš„è´¹ç”¨ï¼Œç›¸å½“äºå­˜æ¬¾ï¼Œæ¥æ”¯ä»˜å¤æ‚æ“ä½œçš„è´¹ç”¨ã€‚</p><p>æˆ‘ä»¬å‡è®¾ä¸€æ¬¡åŸºæœ¬çš„æ“ä½œè´¹ç”¨æ˜¯ä¸€ä¸ªç¡¬å¸ï¼Œå½“æˆ‘ä»¬æ’å…¥äº†ä¸€ä¸ªä¸‹æ ‡ä¸º n çš„å…ƒç´ æ—¶ï¼š</p><ol><li>æˆ‘ä»¬è¦èŠ±è´¹ç¬¬ä¸€ä¸ªç¡¬å¸ï¼Œä½œä¸ºåŸºæœ¬çš„æ’å…¥æ“ä½œèŠ±è´¹</li><li>æˆ‘ä»¬è¿˜è¦å­˜å‚¨ç¬¬äºŒä¸ªç¡¬å¸ï¼Œä½œä¸ºæ–°æ’å…¥çš„ n åœ¨é‡æ–°åˆ†é…å†…å­˜æ—¶ç§»åŠ¨å®ƒçš„è´¹ç”¨</li><li>æœ€åæˆ‘ä»¬è¦å­˜å‚¨ç¬¬ä¸‰ä¸ªç¡¬å¸ï¼Œä½œä¸ºæ•°ç»„çš„å‰åŠéƒ¨åˆ†çš„æŸä¸ªå¯¹åº”å…ƒç´ é‡æ–°åˆ†é…å†…å­˜æ—¶ç§»åŠ¨è´¹ç”¨</li></ol><p>è¿™æ ·æ¥è®¡ç®—ï¼Œæ¯ä¸ªæ’å…¥æ“ä½œæœ€å¤šéœ€è¦ä»˜å‡ºä¸‰ä¸ªç¡¬å¸ï¼Œè€Œç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯ä¸éœ€è¦ç¬¬ä¸‰ä¸ªç¡¬å¸çš„ã€‚æ‰€ä»¥è´¹ç”¨æ€»æ•°æ˜¯ï¼š3n-1ã€‚</p><h3 id="åŠ¿èƒ½ç®—æ³•ï¼ˆPotential-Methodï¼‰"><a href="#åŠ¿èƒ½ç®—æ³•ï¼ˆPotential-Methodï¼‰" class="headerlink" title="åŠ¿èƒ½ç®—æ³•ï¼ˆPotential Methodï¼‰"></a>åŠ¿èƒ½ç®—æ³•ï¼ˆPotential Methodï¼‰</h3><p>é¦–å…ˆè¯´æ˜ä¸€ä¸‹ï¼Œç›®å‰æˆ‘å¯¹è¿™ä¸ªæ–¹æ³•è¿˜æ˜¯æ— æ³•ç›´è§‚çš„ç†è§£ã€‚å…ˆç¥­å‡ºè¿™ä¸ªåŠ¿èƒ½å‡½æ•°ï¼š</p><p>$$<br>\Phi(h) = 2n-m<br>$$</p><p>å…¶ä¸­ n æ˜¯å½“å‰æ•°ç»„å…ƒç´ çš„ä¸ªæ•°ï¼Œm æ˜¯å½“å‰æ•°ç»„å†…å­˜ç©ºé—´å¤§å°ã€‚</p><p>æ¯æ¬¡æ’å…¥çš„è´¹ç”¨å‡½æ•°å®šä¹‰ä¸ºï¼š</p><p>$$<br>c+\Phi(h&#39;)-\Phi(h)<br>$$</p><p>c è¡¨ç¤ºå½“å‰æ’å…¥æ“ä½œçš„æ€»çš„èŠ±è´¹ï¼Œ$\Phi(h&#39;)$æ˜¯æ’å…¥åçš„åŠ¿èƒ½å‡½æ•°ï¼Œ$\Phi(h)$æ˜¯æ’å…¥å‰çš„åŠ¿èƒ½å‡½æ•°ã€‚</p><p>è¿™é‡Œåˆ†ä¸ºä¸¤ç§æƒ…å†µï¼š</p><ol><li>å¦‚æœ<code>n&lt;m</code>ï¼Œä¸å¿…æ‰©å®¹ï¼Œc=1ï¼ŒåŠ¿èƒ½å‡½æ•°ç›¸å·® 2ï¼Œæ‰€ä»¥åŠ èµ·æ¥æ˜¯ 3</li><li>å¦‚æœ<code>n=m</code>ï¼Œé‚£ä¹ˆå°±è¦æ‰©å®¹ï¼Œc=n+1ï¼Œ$\Phi(h&#39;)=2(n+1)-2n$ï¼Œ$\Phi(h)=2n-n$ï¼ŒåŠ èµ·æ¥è¿˜æ˜¯ 3</li></ol><p>æ‰€ä»¥è´¹ç”¨å‡½æ•°å…¶å®æ˜¯ä¸€ä¸ªç­‰äº 3 çš„å¸¸æ•°å‡½æ•°ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¿«é€Ÿæ’åº</title>
      <link href="/blog/2019/02/19/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/"/>
      <url>/blog/2019/02/19/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/</url>
      
        <content type="html"><![CDATA[<p>å¿«é€Ÿæ’åºç®—æ³•æ˜¯ä¸€ä¸ªåŸç†éå¸¸ç®€å•æ˜“æ‡‚çš„ç®—æ³•ï¼Œä½†å¦‚æœç°åœºæ‰‹å†™çš„è¯åˆæœ‰å¤šå°‘äººèƒ½å†™å¾—å‡ºæ¥å‘¢ï¼Ÿæˆ‘ä»Šå¤©åˆè¯•äº†ä¸€ä¸‹ï¼Œå‘ç°è¿˜æ˜¯å­˜åœ¨ä¸€äº›è®¤çŸ¥ä¸Šçš„é—®é¢˜ã€‚é¦–å…ˆæˆ‘æ˜ç™½å¿«æ’çš„æ ¸å¿ƒæ“ä½œæ˜¯ï¼š<strong>é€‰å–ä¸€ä¸ªä¸­æ¢ï¼Œç„¶åæŠŠå°äºä¸­æ¢çš„æ”¾åˆ°å·¦è¾¹ï¼Œå¤§äºä¸­æ¢çš„æ”¾åˆ°å³è¾¹</strong>ã€‚ä½†æˆ‘å‘ç°æ—¶éš”ä»…ä»…ä¸€å¹´å¤šï¼Œæˆ‘å±…ç„¶å·²ç»å¿˜äº†è¿™ä¸ªæ“ä½œçš„è‹±æ–‡åå­—äº†ã€‚ç›´åˆ°æˆ‘åœ¨å†™è¿™ç¯‡æ–‡ç« çš„æ—¶å€™æ‰çªç„¶æƒ³èµ·æ¥ï¼špartition æ“ä½œã€‚</p><p>åœ¨ä½¿ç”¨ partition æ“ä½œçš„å‰æä¸‹ï¼Œé€’å½’è§£å†³é—®é¢˜å°± OK äº†ã€‚</p><a id="more"></a><p>partition å…·ä½“æ“ä½œå¦‚ä¸‹ï¼š</p><p>æˆ‘é€‰å–çš„ä¸­æ¢æ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œä¸”ä»å‰å¾€åéå†æ•°ç»„ã€‚é‡åˆ°å°äºä¸­æ¢çš„ï¼Œæˆ‘è¦äº¤æ¢å½“å‰ç»“ç‚¹å’Œä¸­æ¢ã€‚é‡åˆ°å¤§äºä¸­æ¢çš„ï¼Œç›´æ¥ç•¥è¿‡ã€‚</p><p>ç¬¬ä¸€ä¸ªåˆ†æ”¯ä¹Ÿå°±æ˜¯é‡åˆ°å°äºä¸­æ¢çš„ç»“ç‚¹ï¼Œè¿™é‡Œæ‰æ˜¯æ“ä½œæ¯”è¾ƒå¤æ‚çš„éƒ¨åˆ†ï¼Œä»”ç»†æƒ³æƒ³å…¶å®è¿™é‡Œè¦äº¤æ¢ä¸¤æ¬¡ã€‚å°†å°äºä¸­æ¢çš„ç»“ç‚¹ä¸ä¸­æ¢äº¤æ¢ä¹‹åï¼Œä¸­æ¢è·‘åˆ°äº†æœ€åé¢ï¼Œæ­¤æ—¶çš„ç»“æ„ç›¸å½“äºï¼š<code>å°å°å°..å¤§å¤§å¤§..ä¸­æ¢</code>ã€‚<strong>æˆ‘ä»¬è¿˜è¦å°†ä¸­æ¢å¡åˆ°ä¸­é—´å»</strong>ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">qsort</span><span class="params">(<span class="keyword">int</span>[] array, <span class="keyword">int</span> begin, <span class="keyword">int</span> end)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(begin&gt;=end-<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> pivotIndex = partition(array, begin, end);</span><br><span class="line">    qsort(array, begin, pivotIndex);</span><br><span class="line">    qsort(array, pivotIndex+<span class="number">1</span>, end);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">partition</span><span class="params">(<span class="keyword">int</span>[] array, <span class="keyword">int</span> begin, <span class="keyword">int</span> end)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> pivot = array[begin];</span><br><span class="line">    <span class="keyword">int</span> pivotIndex = begin;</span><br><span class="line">    <span class="keyword">int</span> index = begin+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(index&lt;end)&#123;</span><br><span class="line">        <span class="keyword">if</span>(array[index]&lt;pivot)&#123;</span><br><span class="line">            <span class="keyword">int</span> temp = array[index];</span><br><span class="line">            array[index] = array[pivotIndex];</span><br><span class="line">            array[pivotIndex++] = temp;</span><br><span class="line">            temp = array[index];</span><br><span class="line">            array[index] = array[pivotIndex];</span><br><span class="line">            array[pivotIndex] = temp;</span><br><span class="line">        &#125;</span><br><span class="line">        index++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> pivotIndex;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿˜å¯ä»¥æ€è€ƒä¸€ä¸‹ï¼š</p><ul><li>é€‰ç¬¬ä¸€ä¸ªå…ƒç´ åšä¸­æ¢ï¼Œä»åå¾€å‰éå†</li><li>é€‰æœ€åä¸€ä¸ªå…ƒç´ åšä¸­æ¢ï¼Œä»å‰å¾€åéå†</li><li>é€‰æœ€åä¸€ä¸ªå…ƒç´ åšä¸­æ¢ï¼Œä»åå¾€å‰éå†</li></ul><p>æ‰€ä»¥æœ€åæˆ‘å‘ç°å¿«é€Ÿæ’åºç¡®å®æ˜¯ä¸€ä¸ªç®€å•æ˜“æ‡‚çš„ç®—æ³•ï¼Œéš¾ç‚¹åœ¨äº partition æ“ä½œçš„å…·ä½“é—®é¢˜å…·ä½“åˆ†æã€‚å››ç±» partition å…¨éƒ¨å†™ä¸€éã€‚åº”è¯¥å·®ä¸å¤šäº†ã€‚</p><p>ä¸Šé¢çš„æ–¹æ³•å½’æ ¹ç»“åº•éƒ½æ˜¯ä½¿ç”¨ <strong>ä¸€ä¸ªä¸­æ¢</strong> æ¥åˆ’åˆ†ï¼Œå®é™…ä¸Šä¹Ÿå¯ä»¥ç”¨ä¸¤ä¸ªæŒ‡é’ˆæ¥åˆ’åˆ†ï¼šä¸€ä¸ªè®°å½•å°éƒ¨çš„æœ«å°¾ï¼Œä¸€ä¸ªè®°å½•å¤§éƒ¨çš„é¦–éƒ¨ã€‚è¿™ä¸¤ä¸ªæŒ‡é’ˆä¸€ä¸ªä»å‰å¾€åï¼Œä¸€ä¸ªä»åå¾€å‰ï¼Œç›´åˆ°ç›¸é‡ï¼Œæœ¬è½®åˆ’åˆ†æ“ä½œå°±ç»“æŸã€‚</p><p>äºæ˜¯æˆ‘åˆæŠ½ç©ºå†™äº†ä¸€ä¸‹è¿™ä¸ªä¸¤ä¸ªæŒ‡é’ˆå¾€ä¸­é—´é çš„ï¼Œç»“æœå¹¶æ²¡æœ‰ä¸€éå†™å¯¹ï¼ŒåŸå› æ˜¯è¾¹ç•Œæ£€æŸ¥ï¼Œå±…ç„¶è¦ä¸åœçš„æ£€æŸ¥ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">partition1</span><span class="params">(<span class="keyword">int</span>[] array, <span class="keyword">int</span> begin, <span class="keyword">int</span> end)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> pivot = array[begin];</span><br><span class="line">    <span class="keyword">int</span> smallEnd = begin;</span><br><span class="line">    <span class="keyword">int</span> bigBegin = end-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(smallEnd&lt;bigBegin)&#123;</span><br><span class="line">        <span class="keyword">while</span> (smallEnd&lt;bigBegin &amp;&amp; array[bigBegin]&gt;pivot)&#123;</span><br><span class="line">            bigBegin--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(smallEnd&lt;bigBegin)&#123;</span><br><span class="line">            array[smallEnd++] = array[bigBegin];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(smallEnd&lt;bigBegin &amp;&amp; array[smallEnd]&lt;pivot)&#123;</span><br><span class="line">            smallEnd++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(smallEnd&lt;bigBegin)&#123;</span><br><span class="line">            array[bigBegin--] = array[smallEnd];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    array[smallEnd] = pivot;</span><br><span class="line">    <span class="keyword">return</span> smallEnd;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·æ„Ÿè§‰å°±å¤ªä¸ç¾äº†ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¹¶æŸ¥é›†</title>
      <link href="/blog/2019/01/19/%E5%B9%B6%E6%9F%A5%E9%9B%86/"/>
      <url>/blog/2019/01/19/%E5%B9%B6%E6%9F%A5%E9%9B%86/</url>
      
        <content type="html"><![CDATA[<h2 id="å¹¶æŸ¥é›†"><a href="#å¹¶æŸ¥é›†" class="headerlink" title="å¹¶æŸ¥é›†"></a>å¹¶æŸ¥é›†</h2><h3 id="ä»€ä¹ˆæ˜¯å¹¶æŸ¥é›†"><a href="#ä»€ä¹ˆæ˜¯å¹¶æŸ¥é›†" class="headerlink" title="ä»€ä¹ˆæ˜¯å¹¶æŸ¥é›†"></a>ä»€ä¹ˆæ˜¯å¹¶æŸ¥é›†</h3><p>å¹¶æŸ¥é›†çš„æ ¸å¿ƒæ˜¯<code>parent</code>æŒ‡é’ˆï¼Œä¸€ä¸ªç»“ç‚¹å¯ä»¥æ‰¾åˆ°è‡ªå·±æ‰€å±çš„ç»“ç‚¹ã€‚ä»è€ŒæŠŠç»“ç‚¹<strong>å½’ç±»</strong>ã€‚æœ‰ä¸¤ä¸ªæ ¸å¿ƒæ“ä½œï¼š</p><ul><li>Unionï¼ˆç”¨æ¥åˆå¹¶ä¸¤ä¸ªå¹¶æŸ¥é›†ï¼‰</li><li>Findï¼ˆç”¨äºæŸ¥æ‰¾ä¸€ä¸ªç»“ç‚¹çš„<code>parent</code>ï¼‰</li></ul><p>æ‰€ä»¥å¹¶æŸ¥é›†å¯ä»¥å«åšï¼šunion-find data structureã€‚</p><a id="more"></a><h3 id="ä»€ä¹ˆæ˜¯è·¯å¾„å‹ç¼©"><a href="#ä»€ä¹ˆæ˜¯è·¯å¾„å‹ç¼©" class="headerlink" title="ä»€ä¹ˆæ˜¯è·¯å¾„å‹ç¼©"></a>ä»€ä¹ˆæ˜¯è·¯å¾„å‹ç¼©</h3><p>æˆ‘ä»¬çœ‹ä¸¤ä¸ªç»“ç‚¹æ˜¯å¦å±äºåŒä¸€ä¸ªå¹¶æŸ¥é›†ï¼Œå®é™…ä¸Šåªçœ‹æœ€é¡¶å±‚çš„é‚£ä¸ª<code>parent</code>ï¼Œå¦‚æœè¿™ä¸¤ä¸ªç»“ç‚¹å±äºåŒä¸€ä¸ªæœ€é¡¶å±‚<code>parent</code>ï¼Œé‚£ä¹ˆå®ƒä»¬å°±åœ¨åŒä¸€ä¸ªå¹¶æŸ¥é›†ä¸­ã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬å®é™…ä¸Šåªéœ€è¦ä¸¤å±‚çš„æ ‘ç»“æ„ï¼Œè®©æ‰€æœ‰å…¶ä»–ç»“ç‚¹çš„<code>parent</code>æŒ‡é’ˆæŒ‡å‘æœ€é¡¶å±‚<code>parent</code>ï¼Œè¿™æ ·å°±èƒ½è¾¾åˆ°æ‰å¹³åŒ–å¹¶æŸ¥é›†çš„ç›®çš„ï¼Œä»è€Œä½¿<code>Find</code>æ“ä½œä»<code>O(logN)</code>çš„æ—¶é—´å¤æ‚åº¦å˜æˆ<code>O(1)</code>ã€‚è¿™å°±å«ï¼š<strong>è·¯å¾„å‹ç¼©</strong></p><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">findParent</span><span class="params">(UnionFindSetNode node)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(node.parent!=node)&#123;</span><br><span class="line">        node.parent = findParent(node.parent);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> node.parent;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ®µä»£ç å¾ˆå·§å¦™ï¼Œå¯ä»¥åœ¨æŸ¥æ‰¾æœ¬ç»“ç‚¹çˆ¶äº²çš„æ—¶å€™ï¼Œå°†è·¯å¾„ä¸Šçš„æ‰€æœ‰ç¥–å…ˆæ‰å¹³åŒ–ã€‚</p><h3 id="åˆå¹¶æ“ä½œ"><a href="#åˆå¹¶æ“ä½œ" class="headerlink" title="åˆå¹¶æ“ä½œ"></a>åˆå¹¶æ“ä½œ</h3><p>æ ¸å¿ƒç›®æ ‡æ˜¯ï¼šå°½å¯èƒ½å‡å°‘æ·±åº¦ã€‚æ‰€ä»¥éœ€è¦æ³¨æ„çš„ç‚¹æ˜¯ï¼šæŠŠæ·±åº¦å°çš„å¹¶æŸ¥é›†å½’å¹¶åˆ°æ·±åº¦å¤§çš„å¹¶æŸ¥é›†ã€‚æˆ‘ä»¬ç»™å¹¶æŸ¥é›†å¤šæ·»åŠ ä¸€ä¸ªæ·±åº¦å±æ€§ï¼šrankï¼Œæ¯”å¦‚ä¸¤å±‚çš„å¹¶æŸ¥é›†ï¼Œparent çš„ rank å°±æ˜¯ 1ï¼Œå¶å­èŠ‚ç‚¹ä»¬çš„ rank å°±æ˜¯ 0ã€‚</p><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">union</span><span class="params">(UnionFindSetNode node1, UnionFindSetNode node2)</span></span>&#123;</span><br><span class="line">    UnionFindSetNode parent1 = findParent(node1);</span><br><span class="line">    UnionFindSetNode parent2 = findParent(node2);</span><br><span class="line">    <span class="keyword">if</span>(parent1!=parent2)&#123;</span><br><span class="line">        <span class="keyword">if</span>(parent1.rank&gt;parent2.rank)&#123;</span><br><span class="line">            parent2.parent = parent1;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(parent1.rank&lt;parent2.rank)&#123;</span><br><span class="line">            parent1.parent = parent2;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            parent1.parent = parent2;</span><br><span class="line">            parent2.rank++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>KMPç®—æ³•</title>
      <link href="/blog/2019/01/17/KMP%E7%AE%97%E6%B3%95/"/>
      <url>/blog/2019/01/17/KMP%E7%AE%97%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<h2 id="KMP-ç®—æ³•"><a href="#KMP-ç®—æ³•" class="headerlink" title="KMP ç®—æ³•"></a>KMP ç®—æ³•</h2><p>KMP ç®—æ³•ç”¨æ¥åœ¨ä¸€ä¸ªæ–‡æœ¬ä¸­æŸ¥æ‰¾æ¨¡å¼ä¸²ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p>æ–‡æœ¬åŒ¹é…ä¾‹å­ï¼š</p><p><img src="https://i.loli.net/2019/02/01/5c545a0ceea57.jpg#align=left&amp;display=inline&amp;height=78&amp;linkTarget=_blank&amp;originHeight=78&amp;originWidth=392&amp;width=392" alt></p><p>æˆ‘ä»¬æŠŠä¸Šé¢é‚£ä¸ªé•¿å­—ç¬¦ä¸²çš„ç§°ä¸º<strong>æ–‡æœ¬</strong>ï¼Œä¸‹é¢è¿™ä¸ªçŸ­çš„ç§°ä¸º<strong>æ¨¡å¼ä¸²</strong>ã€‚æˆ‘ä»¬çš„ç›®çš„æ˜¯æŸ¥çœ‹<code>ABADABAD</code>æ˜¯å¦å‡ºç°åœ¨æ–‡æœ¬ä¸­ã€‚</p><p>ä¸å¿…è¦çš„æ¯”è¾ƒï¼š</p><p><img src="https://i.loli.net/2019/02/01/5c545a0d27686.jpg#align=left&amp;display=inline&amp;height=100&amp;linkTarget=_blank&amp;originHeight=100&amp;originWidth=418&amp;width=418" alt></p><p>è·³è¿‡ä¸å¿…è¦çš„æ¯”è¾ƒï¼š</p><p><img src="https://i.loli.net/2019/02/01/5c545a0cf058c.jpg#align=left&amp;display=inline&amp;height=90&amp;linkTarget=_blank&amp;originHeight=90&amp;originWidth=410&amp;width=410" alt></p><p>KMP ç®—æ³•çš„æ ¸å¿ƒä½œç”¨åœ¨äºå¸®åŠ©æ¨¡å¼ä¸²é¡ºåˆ©çš„è·³è¿‡å¾ˆå¤šä¸å¿…è¦çš„æ¯”è¾ƒï¼ˆæ¨¡å¼ä¸²æ²¡æœ‰ä»»ä½•å‰ç¼€ä¸æ–‡æœ¬åŒ¹é…ï¼‰ï¼Œç›´æ¥åç§»åˆ°ä¸€éƒ¨åˆ†å‰ç¼€å·²ç»åŒ¹é…çš„ä½ç½®ï¼Œå¼€å§‹ä¸‹ä¸€æ¬¡çš„æ¯”è¾ƒã€‚æ›´å‡†ç¡®çš„è®²æ˜¯ç§»åŠ¨åˆ°ï¼šæœ€é•¿çœŸå‰åç¼€åŒ¹é…çš„ä½ç½®ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºçš„<code>ABA</code>ã€‚</p><a id="more"></a><h3 id="ä»€ä¹ˆæ˜¯çœŸå‰åç¼€"><a href="#ä»€ä¹ˆæ˜¯çœŸå‰åç¼€" class="headerlink" title="ä»€ä¹ˆæ˜¯çœŸå‰åç¼€"></a>ä»€ä¹ˆæ˜¯çœŸå‰åç¼€</h3><p>å‰ç¼€å’Œåç¼€æˆ‘ä»¬éƒ½ä¸é™Œç”Ÿï¼Œæ¯”å¦‚å•è¯<code>ABA</code>ï¼Œå®ƒæœ‰ä¸‰ä¸ªå‰ç¼€ï¼š<code>A</code>ã€<code>AB</code>ã€<code>ABA</code>ï¼Œå’Œä¸‰ä¸ªåç¼€ï¼š<code>A</code>ã€<code>BA</code>ã€<code>ABA</code>ã€‚</p><p>çœŸå‰åç¼€çš„æ„æ€æ˜¯ï¼Œå‰åç¼€å¿…é¡»æ˜¯å•è¯çš„<strong>çœŸå­é›†</strong>ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸èƒ½æ˜¯å•è¯æœ¬èº«ã€‚æ‰€ä»¥ä¸Šé¢é‚£ä¸ªå•è¯<code>ABA</code>çš„çœŸå‰ç¼€æ˜¯ï¼š<code>A</code>ã€<code>AB</code>ï¼ŒçœŸåç¼€æ˜¯ï¼š<code>A</code>ã€<code>BA</code>ã€‚</p><p>é‚£ä¹ˆå•è¯<code>ABA</code>çœŸå‰åç¼€çš„æœ€é•¿åŒ¹é…æ˜¯ï¼š<code>A</code>ã€‚</p><h4 id="é‚£ä¹ˆçœŸå‰åç¼€æ˜¯å¦åŒ¹é…æœ‰ä»€ä¹ˆç”¨ï¼Ÿ"><a href="#é‚£ä¹ˆçœŸå‰åç¼€æ˜¯å¦åŒ¹é…æœ‰ä»€ä¹ˆç”¨ï¼Ÿ" class="headerlink" title="é‚£ä¹ˆçœŸå‰åç¼€æ˜¯å¦åŒ¹é…æœ‰ä»€ä¹ˆç”¨ï¼Ÿ"></a>é‚£ä¹ˆçœŸå‰åç¼€æ˜¯å¦åŒ¹é…æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h4><p>æˆ‘ä»¬ä»”ç»†è§‚å¯Ÿæ–‡ç« æœ€å¼€å¤´çš„æ–‡æœ¬åŒ¹é…ä¾‹å­ã€‚åœ¨ä¸å¿…è¦çš„æ¯”è¾ƒä¸­ï¼Œæˆ‘ä»¬æ‹¿<code>BADABA</code>å’Œ<code>ABADAB</code>æ¯”è¾ƒã€‚è€Œè¿™ä¸¤ä¸ªï¼Œå‰è€…æ˜¯æ¨¡å¼ä¸²<code>ABADABA</code>éƒ¨åˆ†çš„åç¼€ï¼Œåè€…åˆ™æ˜¯å‰ç¼€ã€‚å¦‚æœæˆ‘ä»¬ç®—å¾—äº†<code>ABADABA</code>çš„çœŸå‰åç¼€çš„æœ€é•¿åŒ¹é…ï¼Œå°±å·²ç»çŸ¥é“äº†<code>BADABA</code>å’Œ<code>ABADAB</code>ä¸ç›¸ç­‰ã€‚è€Œä¸”è¿˜çŸ¥é“<code>ADABA</code>å’Œ<code>ABADA</code>ä¹Ÿä¸ç›¸ç­‰ï¼Œç­‰ç­‰ã€‚</p><p><strong>åªè¦æˆ‘ä»¬çŸ¥é“äº†çœŸå‰åç¼€çš„æœ€é•¿åŒ¹é…æ˜¯ä»€ä¹ˆï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥è·³è¿‡æ‰€æœ‰è¿™äº›æ²¡å¿…è¦çš„æ¯”è¾ƒã€‚</strong></p><p>KMP çš„æ ¸å¿ƒå°±æ˜¯ï¼š<strong>åœ¨æ¯ä¸€æ¬¡å¤±é…çš„æ—¶å€™</strong>ï¼Œåˆ©ç”¨æœ€é•¿çœŸå‰åç¼€åŒ¹é…é•¿åº¦ï¼Œç›´æ¥è·³è¿‡ä¸å¿…è¦çš„æ¯”è¾ƒã€‚</p><h3 id="next-æ•°ç»„"><a href="#next-æ•°ç»„" class="headerlink" title="next æ•°ç»„"></a>next æ•°ç»„</h3><p>next æ•°ç»„ä¹Ÿå°±æ˜¯ï¼šéƒ¨åˆ†åŒ¹é…è¡¨ï¼ˆPartial Match Tableï¼‰ã€‚<strong>å°±æ˜¯ä¸€ä¸ªæœ€é•¿çœŸå‰åç¼€åŒ¹é…é•¿åº¦è¡¨ã€‚</strong></p><p><strong>é¦–å…ˆ next æ•°ç»„åªéœ€è¦ç”¨æ¨¡å¼ä¸²å¾—å‡ºï¼Œå®ƒæ˜¯å¯¹æ¨¡å¼ä¸²çš„è§£æï¼Œè·Ÿè¦åŒ¹é…çš„æ–‡æœ¬æ²¡æœ‰åŠæ¯›é’±å…³ç³»ã€‚</strong>å…¶æ¬¡ next æ•°ç»„è®°å½•çš„å…¶å®å°±æ˜¯<strong>æœ€é•¿çœŸå‰åç¼€åŒ¹é…é•¿åº¦</strong>ï¼Œä½†é”™å¼€äº†ä¸€ä½ã€‚</p><blockquote><p>çœŸå‰åç¼€çš„æ„æ€æ˜¯ï¼Œå‰åç¼€ä¸èƒ½æ˜¯å­—ç¬¦ä¸²æœ¬èº«ï¼Œåªèƒ½æ˜¯å­—ç¬¦ä¸²çš„çœŸå­é›†</p></blockquote><table><thead><tr><th style="text-align:center">i</th><th style="text-align:center">0</th><th style="text-align:center">1</th><th style="text-align:center">2</th><th style="text-align:center">3</th><th style="text-align:center">4</th><th style="text-align:center">5</th><th style="text-align:center">6</th><th style="text-align:center">7</th><th style="text-align:center">8</th></tr></thead><tbody><tr><td style="text-align:center">æ¨¡å¼ä¸²</td><td style="text-align:center">A</td><td style="text-align:center">B</td><td style="text-align:center">A</td><td style="text-align:center">D</td><td style="text-align:center">A</td><td style="text-align:center">B</td><td style="text-align:center">A</td><td style="text-align:center">D</td><td style="text-align:center">\0</td></tr><tr><td style="text-align:center">next[i]</td><td style="text-align:center">-1</td><td style="text-align:center">0</td><td style="text-align:center">0</td><td style="text-align:center">1</td><td style="text-align:center">0</td><td style="text-align:center">1</td><td style="text-align:center">2</td><td style="text-align:center">3</td><td style="text-align:center">4</td></tr></tbody></table><ol><li>i = 0ï¼Œ<code>next[0]</code>ï¼Œæˆ‘ä»¬å¡«-1ï¼›</li><li>i = 1ï¼Œå‰é¢çš„å­—ç¬¦ä¸²ä¸º<code>A</code>ï¼Œå…¶æœ€é•¿ç›¸åŒçœŸå‰åç¼€é•¿åº¦ä¸º 0ï¼Œå³<code>next[1] = 0</code>ï¼›</li><li>i = 2ï¼Œå‰é¢çš„å­—ç¬¦ä¸²ä¸º<code>AB</code>ï¼Œå…¶æœ€é•¿ç›¸åŒçœŸå‰åç¼€é•¿åº¦ä¸º 0ï¼Œå³<code>next[2] = 0</code>ï¼›</li><li>i = 3ï¼Œå‰é¢çš„å­—ç¬¦ä¸²ä¸º<code>ABA</code>ï¼Œå…¶æœ€é•¿ç›¸åŒçœŸå‰åç¼€ä¸º<code>A</code>ï¼Œå³<code>next[3] = 1</code>ï¼›</li><li>i = 4ï¼Œå‰é¢çš„å­—ç¬¦ä¸²ä¸º<code>ABAD</code>ï¼Œå…¶æœ€é•¿ç›¸åŒçœŸå‰åç¼€é•¿åº¦ä¸º 0ï¼Œå³<code>next[4] = 0</code>ï¼›</li><li>i = 5ï¼Œå‰é¢çš„å­—ç¬¦ä¸²ä¸º<code>ABADA</code>ï¼Œå…¶æœ€é•¿ç›¸åŒçœŸå‰åç¼€é•¿åº¦ä¸º<code>A</code>ï¼Œå³<code>next[5] = 1</code>ï¼›</li><li>i = 6ï¼Œå‰é¢çš„å­—ç¬¦ä¸²ä¸º<code>ABADAB</code>ï¼Œå…¶æœ€é•¿ç›¸åŒçœŸå‰åç¼€é•¿åº¦ä¸º<code>AB</code>ï¼Œå³<code>next[6] = 2</code>ï¼›</li><li>i = 7ï¼Œå‰é¢çš„å­—ç¬¦ä¸²ä¸º<code>ABADABA</code>ï¼Œå…¶æœ€é•¿ç›¸åŒçœŸå‰åç¼€ä¸º<code>ABA</code>ï¼Œå³<code>next[7] = 3</code>ï¼›</li><li>i = 8ï¼Œå‰é¢çš„å­—ç¬¦ä¸²ä¸º<code>ABADABAD</code>ï¼Œå…¶æœ€é•¿ç›¸åŒçœŸå‰åç¼€ä¸º<code>ABAD</code>ï¼Œå³<code>next[8]=4</code>ï¼›</li></ol><p>è¿™å¼  next è¡¨æå…¶æœ‰ç”¨ï¼Œå‰é¢è¯´äº†ï¼Œåœ¨å­—ç¬¦ä¸²åŒ¹é…çš„æ¯ä¸€æ¬¡å¤±é…çš„æ—¶å€™ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥ç”¨å·²ç»åŒ¹é…ä¸Šçš„è¿™æ®µå­—ç¬¦ä¸²çš„æœ€é•¿çœŸå‰åç¼€åŒ¹é…é•¿åº¦æ¥å®šä½å°†è¦è·³è½¬çš„ä½ç½®ã€‚è¿˜æ˜¯æ‹¿æœ€å¼€å§‹çš„æ–‡æœ¬åŒ¹é…ä¾‹å­ï¼š</p><p>å½“å›¾ä¸€å¤±é…çš„æ—¶å€™ï¼Œæˆ‘ä»¬æŸ¥<code>ABADABAD</code>çš„å¤±é…ä½ç½®çš„ next æ•°ç»„ï¼Œä¹Ÿå°±æ˜¯<code>next[7]</code>ï¼Œå¾—åˆ°<code>ABADABA</code>çš„æœ€é•¿çœŸå‰åç¼€åŒ¹é…é•¿åº¦<code>3</code>ï¼Œç„¶åæ‹¿<code>&quot;ABADABAD&quot;.charAt(3)</code>ä¹Ÿå°±æ˜¯<code>D</code>è·Ÿæ–‡æœ¬ä¸­å¤±é…å¤„çš„å­—ç¬¦<code>&#39; &#39;</code>ç»§ç»­åŒ¹é…ã€‚å¦‚æœåˆå¤±é…ï¼Œé‚£ä¹ˆé€’å½’å¤„ç†ã€‚é€’å½’çš„è¾¹ç•Œæ˜¯ä»€ä¹ˆï¼Ÿç­”æ¡ˆæ˜¯<code>next[0]</code>ã€‚</p><h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><p>è¿™ä¸ªä»£ç å¹¶ä¸éš¾å†™ï¼Œæˆ‘ç®€å•è®²ä¸€ä¸‹ã€‚</p><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦æ„é€  next æ•°ç»„ï¼Œéœ€è¦çš„å‚æ•°åªæœ‰ä¸€ä¸ªï¼šæ¨¡å¼ä¸²ã€‚</p><p>ç„¶åæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªæŒ‡é’ˆ<strong>éå†æ¨¡å¼ä¸²</strong>ï¼Œå¦ä¸€ä¸ªæŒ‡é’ˆè´Ÿè´£<strong>è®°å½•åŒ¹é…æ·±åº¦</strong>ã€‚</p><blockquote><p><strong>ç”Ÿæˆ next æ•°ç»„ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªåŒ¹é…çš„è¿‡ç¨‹</strong>ï¼Œé‡åˆ°ä¸åŒ¹é…ä¹Ÿè¦è·³è¿‡ä¸å¿…è¦çš„æ¯”è¾ƒï¼Œæ‰€ä»¥è¿™å®é™…ä¸Šæ˜¯ä¸€ä¸ªé€’å½’çš„é—®é¢˜ã€‚</p></blockquote><p>åˆ†æ”¯åªæœ‰ä¸¤ä¸ªï¼Œ<strong>åŒ¹é…çš„æ—¶å€™</strong>ï¼ši++ï¼Œj++ï¼Œnext[i]=jã€‚<strong>ä¸åŒ¹é…çš„æ—¶å€™</strong>ï¼Œé€’å½’æŸ¥æ‰¾ä¸‹ä¸€ä¸ªå¿…è¦çš„åŒ¹é…ï¼šj=next[j]ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">int</span>[] getNextArray(String pattern)&#123;</span><br><span class="line">    <span class="keyword">int</span>[] nextArray = <span class="keyword">new</span> <span class="keyword">int</span>[pattern.length()+<span class="number">1</span>];</span><br><span class="line">    nextArray[<span class="number">0</span>]=-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> i=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> j=-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(i&lt;pattern.length())&#123;</span><br><span class="line">        <span class="keyword">if</span>(j==-<span class="number">1</span> || pattern.charAt(i)==pattern.charAt(j))&#123;</span><br><span class="line">            i++;</span><br><span class="line">            j++;</span><br><span class="line">            nextArray[i]=j;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            j = nextArray[j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> nextArray;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">KMP</span><span class="params">(String text, String pattern)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] nextArray = getNextArray(pattern);</span><br><span class="line">    <span class="keyword">int</span> i=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> j=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(i&lt;text.length() &amp;&amp; j&lt;pattern.length())&#123;</span><br><span class="line">        <span class="keyword">if</span>(j==-<span class="number">1</span> || text.charAt(i)==pattern.charAt(j))&#123;</span><br><span class="line">            i++;</span><br><span class="line">            j++;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            j = nextArray[j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(j==pattern.length())&#123;</span><br><span class="line">        <span class="keyword">return</span> i-j;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å½“ç„¶è¿™ç§é”™å¼€ï¼Œå’Œ<code>next[0]=-1</code>çš„è®¾å®šï¼Œä¸é‚£ä¹ˆè‡ªç„¶ã€‚å…¶å®å¯ä»¥æœ‰æ›´è‡ªç„¶çš„è®¾è®¡ï¼š</p></blockquote><table><thead><tr><th style="text-align:center">i</th><th style="text-align:center">0</th><th style="text-align:center">1</th><th style="text-align:center">2</th><th style="text-align:center">3</th><th style="text-align:center">4</th><th style="text-align:center">5</th><th style="text-align:center">6</th><th style="text-align:center">7</th><th style="text-align:center">8</th></tr></thead><tbody><tr><td style="text-align:center">æ¨¡å¼ä¸²</td><td style="text-align:center">A</td><td style="text-align:center">B</td><td style="text-align:center">A</td><td style="text-align:center">D</td><td style="text-align:center">A</td><td style="text-align:center">B</td><td style="text-align:center">A</td><td style="text-align:center">D</td><td style="text-align:center">\0</td></tr><tr><td style="text-align:center">next[i]</td><td style="text-align:center">0</td><td style="text-align:center">0</td><td style="text-align:center">1</td><td style="text-align:center">0</td><td style="text-align:center">1</td><td style="text-align:center">2</td><td style="text-align:center">3</td><td style="text-align:center">4</td></tr></tbody></table><p>è¿™æ ·ä¸€ä¸€å¯¹åº”å°±è¡Œäº†ï¼Œnext æ•°ç»„ä¹Ÿä¸æ¨¡å¼ä¸²ç­‰é•¿ã€‚</p><p>è¿™ç§ next è¡¨çš„ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">int</span>[] getNextArray(String pattern)&#123;</span><br><span class="line">    <span class="keyword">int</span>[] nextArray = <span class="keyword">new</span> <span class="keyword">int</span>[pattern.length()];</span><br><span class="line">    <span class="keyword">int</span> i=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> j=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(i&lt;pattern.length())&#123;</span><br><span class="line">        <span class="keyword">while</span>(j&gt;<span class="number">0</span> &amp;&amp; pattern.charAt(i)!=pattern.charAt(j))&#123;</span><br><span class="line">            j = nextArray[j-<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(i&lt;pattern.length() &amp;&amp; pattern.charAt(i)==pattern.charAt(j))&#123;</span><br><span class="line">            nextArray[i++] = ++j;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(j==<span class="number">0</span>)&#123;</span><br><span class="line">            nextArray[i++] = j;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> nextArray;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">KMP</span><span class="params">(String text, String pattern)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] nextArray = getNextArray(pattern);</span><br><span class="line">    <span class="keyword">int</span> i=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> j=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(i&lt;text.length() &amp;&amp; j&lt;pattern.length())&#123;</span><br><span class="line">        <span class="keyword">while</span>(j&gt;<span class="number">0</span> &amp;&amp; text.charAt(i)!=pattern.charAt(j))&#123;</span><br><span class="line">            j = nextArray[j-<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(i&lt;text.length() &amp;&amp; j&lt;pattern.length() &amp;&amp; text.charAt(i)==pattern.charAt(j))&#123;</span><br><span class="line">            i++;</span><br><span class="line">            j++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(j==<span class="number">0</span>)&#123;</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(j==pattern.length())&#123;</span><br><span class="line">        <span class="keyword">return</span> i-j;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ®µä»£ç çœ‹èµ·æ¥è¿œä¸å¦‚ä¸Šé¢ç¬¬ä¸€ç§ next è¡¨çš„ä»£ç ç®€æ´æ¸…æ™°ã€‚ä¸‹é¢åšä¸€ä¸ªç®€åŒ–ï¼Œå»æ‰å†…éƒ¨çš„å¾ªç¯ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">int</span>[] getNextArray(String pattern)&#123;</span><br><span class="line">    <span class="keyword">int</span>[] nextArray = <span class="keyword">new</span> <span class="keyword">int</span>[pattern.length()];</span><br><span class="line">    <span class="keyword">int</span> i=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> j=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(i&lt;pattern.length())&#123;</span><br><span class="line">        <span class="keyword">if</span>(j&gt;<span class="number">0</span> &amp;&amp; pattern.charAt(i)!=pattern.charAt(j))&#123;</span><br><span class="line">            j = nextArray[j-<span class="number">1</span>];</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(pattern.charAt(i)==pattern.charAt(j))&#123;</span><br><span class="line">            nextArray[i++] = ++j;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(j==<span class="number">0</span>)&#123;</span><br><span class="line">            nextArray[i++] = j;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> nextArray;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">KMP</span><span class="params">(String text, String pattern)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] nextArray = getNextArray(pattern);</span><br><span class="line">    <span class="keyword">int</span> i=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> j=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(i&lt;text.length() &amp;&amp; j&lt;pattern.length())&#123;</span><br><span class="line">        <span class="keyword">if</span>(j&gt;<span class="number">0</span> &amp;&amp; text.charAt(i)!=pattern.charAt(j))&#123;</span><br><span class="line">            j = nextArray[j-<span class="number">1</span>];</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(text.charAt(i)==pattern.charAt(j))&#123;</span><br><span class="line">            i++;</span><br><span class="line">            j++;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(j==<span class="number">0</span>)&#123;</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(j==pattern.length())&#123;</span><br><span class="line">        <span class="keyword">return</span> i-j;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>çœ‹ä»£ç å¾ˆå®¹æ˜“çŸ¥é“ï¼Œæ–‡æœ¬çš„æŒ‡é’ˆæ˜¯åªå¢ä¸å‡çš„ï¼Œè€Œä¸”åªåœ¨<strong>å¤±é…ä¸”åŒ¹é…æ·±åº¦å¤§äº 0</strong>çš„æ—¶å€™é€’å½’å¤„ç†å¤±é…æƒ…å†µã€‚ä½†å¦‚ä½•ç²¾ç¡®åˆ†æç®—æ³•å¤æ‚åº¦å‘¢ï¼Ÿ</p><h2 id="ç®—æ³•å¤æ‚åº¦åˆ†æ"><a href="#ç®—æ³•å¤æ‚åº¦åˆ†æ" class="headerlink" title="ç®—æ³•å¤æ‚åº¦åˆ†æ"></a>ç®—æ³•å¤æ‚åº¦åˆ†æ</h2><p>è¿™ä¸ªç®—æ³•çš„åˆ†æå±äºå¹³æ‘Šåˆ†æã€‚å¼•å…¥ä¸€ä¸ªå˜é‡ kï¼Œ<code>k=2*i-j</code>ã€‚è§‚å¯Ÿä¸‹é¢çš„ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(j&lt;m &amp;&amp; i&lt;n)&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="number">0</span>&gt;j || T[i]==P[j])&#123;</span><br><span class="line">        i++;j++;    <span class="comment">// kåŠ 1</span></span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        j = next[j];    <span class="comment">// jè‡³å°‘å‡ä¸€ï¼Œiä¸å˜ï¼Œé‚£ä¹ˆkè‡³å°‘åŠ 1</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç”±ä¸Šè¿°æ³¨é‡Šåˆ†æå¾—å‡ºï¼šk å•è°ƒé€’å¢ã€‚k çš„æœ€å¤§å€¼æ˜¯<code>2*n+1</code>ï¼Œè€Œ k æ˜¯è¿­ä»£æ¬¡æ•°çš„ä¸Šç•Œï¼Œæ‰€ä»¥ç®—æ³•æœ€åæ—¶é—´æ˜¯ï¼š<code>2*n+1</code>ï¼Œæ‰€ä»¥è¿™æ˜¯ä¸€ä¸ª<code>O(n)</code>çš„ç®—æ³•ã€‚åŒç†å¯å¾—ç®—å‡º<code>next</code>è¡¨çš„æ—¶é—´å¤æ‚åº¦æ˜¯<code>O(m)</code>ã€‚æ‰€ä»¥æ€»çš„ç®—æ³•å¤æ‚åº¦æ˜¯<code>O(m+n)</code>ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è“„æ°´æ± ç®—æ³•</title>
      <link href="/blog/2019/01/15/%E8%93%84%E6%B0%B4%E6%B1%A0%E7%AE%97%E6%B3%95/"/>
      <url>/blog/2019/01/15/%E8%93%84%E6%B0%B4%E6%B1%A0%E7%AE%97%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<h2 id="è“„æ°´æ± ç®—æ³•-Reservoir-Sampling"><a href="#è“„æ°´æ± ç®—æ³•-Reservoir-Sampling" class="headerlink" title="è“„æ°´æ± ç®—æ³•(Reservoir Sampling)"></a>è“„æ°´æ± ç®—æ³•(Reservoir Sampling)</h2><p>è¿™ä¸ªç®—æ³•çœŸçš„å¾ˆå¥‡å¦™ï¼Œå®ƒçš„æ ¸å¿ƒæ˜¯ä¸€ä¸ª<strong>æ•°å­¦è¯æ˜</strong>ã€‚å¤–å»¶ï¼Œæˆ–è€…è¯´åº”ç”¨åœºæ™¯æ˜¯ï¼š</p><ol><li>$C_n^k$ï¼Œä¹Ÿå°±æ˜¯ä»å¤§å°ä¸º n çš„æ ·æœ¬é›†ä¸­éšæœºå– k ä¸ªä¸åŒçš„æ ·æœ¬</li><li>æµå¼æ•°æ®ï¼Œæˆ–è€…è¯´æ— æ³•ç›´æ¥æ ¹æ®ç´¢å¼•æ‹¿åˆ°æ•°æ®ï¼ˆæ›´åŠ ä¸å¯èƒ½ä¸€éåŠ è½½åˆ°å†…å­˜ï¼‰</li></ol><a id="more"></a><h3 id="ç®—æ³•æè¿°"><a href="#ç®—æ³•æè¿°" class="headerlink" title="ç®—æ³•æè¿°"></a>ç®—æ³•æè¿°</h3><p>ç®—æ³•çš„æè¿°å…¶å®å¾ˆç®€å•ï¼š<a href="https://zh.wikipedia.org/zh-cn/%E6%B0%B4%E5%A1%98%E6%8A%BD%E6%A8%A3" target="_blank" rel="noopener">ç»´åŸºç™¾ç§‘ï¼šæ°´å¡˜æŠ½æ ·</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">é—®é¢˜æè¿°ï¼šä»åŒ…å«nä¸ªä¸åŒçš„é¡¹ç›®çš„é›†åˆSä¸­éšæœºé€‰å–kä¸ªä¸åŒçš„æ ·æœ¬ã€‚</span><br><span class="line">ç®—æ³•ï¼š</span><br><span class="line">ä»Sä¸­å–é¦–kä¸ªæ”¾å…¥[æ°´å¡˜]ä¸­</span><br><span class="line">å¯¹æ¯ä¸ªS[j]é¡¹ï¼ˆj&gt;=kï¼Œæ•°ç»„ä»0å¼€å§‹ï¼‰ï¼š</span><br><span class="line">trueéšæœºäº§ç”Ÿä¸€ä¸ªèŒƒå›´ä»0åˆ°jçš„æ•´æ•°r</span><br><span class="line">trueè‹¥r&lt;kåˆ™æŠŠæ°´å¡˜ä¸­çš„ç¬¬ré¡¹æ¢æˆS[j]é¡¹</span><br><span class="line">æœ€åå¾—åˆ°çš„æ°´å¡˜å°±æ˜¯æŠ½æ ·ç»“æœ</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªç®—æ³•ä¿è¯äº†æ¯ä¸€é¡¹æœ€åå¯èƒ½å­˜åœ¨äºæ°´å¡˜ä¸­çš„æ¦‚ç‡éƒ½æ˜¯ä¸€æ ·çš„ã€‚</p><p>å•çœ‹ç®—æ³•ï¼Œä½ è‚¯å®šä¸çŸ¥é“ä¸ºä»€ä¹ˆæ˜¯ç­‰æ¦‚ç‡ï¼Œå…¶å®æ•°å­¦è¯æ˜å¹¶ä¸éš¾ï¼Œè¯·çœ‹ä¸‹é¢çš„è¯æ˜ï¼š</p><h3 id="æ•°å­¦è¯æ˜"><a href="#æ•°å­¦è¯æ˜" class="headerlink" title="æ•°å­¦è¯æ˜"></a>æ•°å­¦è¯æ˜</h3><p>æˆ‘ä»¬æŠŠæ ·æœ¬åˆ†ä¸ºä¸¤ç±»ï¼š</p><ol><li>ä¸€ç±»æ˜¯é¦– k ä¸ªï¼Œå®ƒä»¬ä¸€å¼€å§‹å°±åœ¨æ°´å¡˜ä¸­</li><li>ä¸€ç±»æ˜¯å…¶ä»–ï¼Œå®ƒä»¬ä¸€å¼€å§‹å¹¶ä¸åœ¨æ°´å¡˜ä¸­</li></ol><p>æˆ‘ä»¬å‘ç°ä¸¤ä¸ªç®€å•çš„é€»è¾‘ï¼š</p><ol><li><strong>å¯¹äºæ°´å¡˜ä¸­çš„æ ·æœ¬ï¼Œåªè¦éšæœºæ•°ä¸é€‰åˆ°è¯¥æ ·æœ¬ï¼Œè¯¥æ ·æœ¬å°±ä¸ä¼šè¢«æ›¿æ¢</strong></li><li><strong>æ°´å¡˜çš„æŸä¸ªé¡¹ä¸€æ—¦è¢«æ›¿æ¢ï¼Œå°±ä¸å¯èƒ½å†å›åˆ°æ°´å¡˜</strong>ï¼Œä¸ä¼šå‡ºç°è¢«æ›¿æ¢æ‰ï¼Œç„¶åå†å›åˆ°æ°´å¡˜çš„å±€é¢ï¼Œè¿™æ ·å°±ä¿è¯äº†é—®é¢˜ä¸ä¼šè¿›ä¸€æ­¥å˜å¾—å¤æ‚ã€‚æ‰€ä»¥ï¼š<strong>æŸä¸ªé¡¹è¢«ä¿ç•™çš„æ¦‚ç‡ = è¢«é€‰ä¸­åˆ°æ°´å¡˜çš„æ¦‚ç‡ * åç»­ä¸è¢«æ›¿æ¢çš„æ¦‚ç‡</strong></li></ol><p>åˆ†ç±»è®¨è®ºï¼Œé¦– k ä¸ªæ ·æœ¬æœ€ç»ˆå­˜åœ¨äºæ°´å¡˜ä¸­çš„æ¦‚ç‡ï¼Œå’Œå…¶ä½™æ ·æœ¬æœ€ç»ˆå­˜åœ¨äºæ°´å¡˜ä¸­çš„æ¦‚ç‡ï¼š</p><ol><li>é¦– k ä¸ªæ ·æœ¬ï¼Œéšä¾¿é€‰ä¸€ä¸ªåšç ”ç©¶å¯¹è±¡ã€‚è¢«é€‰ä¸­åˆ°æ°´å¡˜çš„æ¦‚ç‡ä¸ºï¼š1ã€‚ï¼ˆæ•°ç»„ä» 1 å¼€å§‹ï¼‰ä» j=k+1 å¼€å§‹è€ƒè™‘æ›¿æ¢ï¼Œç¬¬ä¸€æ¬¡ä¸è¢«æ›¿æ¢çš„æ¦‚ç‡æ˜¯$\frac{k}{k+1}$ï¼Œç¬¬äºŒæ¬¡ä¸è¢«æ›¿æ¢çš„æ¦‚ç‡æ˜¯$\frac{k+1}{k+2}$ï¼Œç¬¬ä¸‰æ¬¡...ï¼Œä¸€ç›´åˆ°æœ€åä¸€æ¬¡ä¸è¢«æ›¿æ¢çš„æ¦‚ç‡æ˜¯$\frac{n-1}{n}$ã€‚<br><br>æ‰€ä»¥è¯¥é¡¹è¢«ä¿ç•™çš„æ¦‚ç‡ = $1\times\frac{k}{k+1}\times\frac{k+1}{k+2}\times\frac{k+2}{k+3}\times\cdots\times\frac{n-1}{n}=\frac{k}{n}$</li><li>ä¸€å¼€å§‹ä¸åœ¨æ°´å¡˜ä¸­çš„é‚£ä¸€éƒ¨åˆ†ï¼Œéšä¾¿é€‰ä¸€ä¸ªåšç ”ç©¶å¯¹è±¡ã€‚è¢«é€‰ä¸­åˆ°æ°´å¡˜çš„æ¦‚ç‡ä¸ºï¼š$\frac{k}{j}$ï¼Œåç»­ä¸è¢«æ›¿æ¢çš„æ¦‚ç‡$\frac{j}{j+1}$ï¼Œä¸€ç›´åˆ°$\frac{n-1}{n}$ã€‚<br><br>æ‰€ä»¥è¯¥é¡¹è¢«ä¿ç•™çš„æ¦‚ç‡ = $\frac{k}{j}\times\frac{j}{j+1}\times\cdots\frac{n-1}{n}=\frac{k}{n}$</li></ol><p>åˆ°æ­¤æˆ‘ä»¬å°±è¯æ˜äº†æ‰€ä»¥æ ·æœ¬æœ€ç»ˆå­˜åœ¨äºæ°´å¡˜ä¸­çš„æ¦‚ç‡éƒ½æ˜¯$\frac{k}{n}$ï¼Œè¿™ä¹Ÿå®Œå…¨ç¬¦åˆäº†æˆ‘ä»¬çš„æ•°å­¦æœŸæœ›ã€‚</p><h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><p>å¼„ä¸ªæµå¼æ•°æ®æˆ‘ä»¬è¿™é‡Œæ²¡æœ‰æ¡ä»¶ï¼Œåªèƒ½ç”¨ä¼ªä»£ç æ¨¡æ‹Ÿä¸€ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> Data[] reservoirSampling(<span class="keyword">int</span> k, DataStream dataStream)&#123;</span><br><span class="line">    Data[] reservoir = <span class="keyword">new</span> <span class="keyword">int</span>[k];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// init pool</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;reservoir.length;i++)&#123;</span><br><span class="line">        reservoir[i] = dataStream.getCurrentData();</span><br><span class="line">        dataStream.toNext();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Random random = <span class="keyword">new</span> Random();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=k;!dataStream.isFinish();i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> d = random.nextInt(i+<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span>(d&lt;k)&#123;</span><br><span class="line">            reservoir[d] = dataStream.getCurrentData();</span><br><span class="line">        &#125;</span><br><span class="line">        dataStream.toNext();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> reservoir;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>$\lim\limits_{x\rightarrow 0} \frac{\sin x}{x} = 1$çš„è¯æ˜</title>
      <link href="/blog/2019/01/07/%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%9E%81%E9%99%90%E7%9A%84%E8%AF%81%E6%98%8E/"/>
      <url>/blog/2019/01/07/%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%9E%81%E9%99%90%E7%9A%84%E8%AF%81%E6%98%8E/</url>
      
        <content type="html"><![CDATA[<p>é«˜æ•°ä¸­çš„ç¬¬ä¸€ä¸ªè¯æ˜ï¼Œå¯èƒ½å°±æ˜¯è¿™ä¸ª$\lim\limits_{x\rightarrow 0} \frac{\sin x}{x} = 1$çš„è¯æ˜äº†ã€‚ä¸‹é¢ç»™å‡ºè¿™ä¸ªæé™çš„è¯æ˜ï¼Œç”¨åˆ°äº†è§£æå‡ ä½•ï¼ˆä½œå›¾æ³•ï¼‰ã€‚</p><a id="more"></a><blockquote><p>ä½œå›¾å·¥å…· Geometry</p></blockquote><p><img src="https://i.loli.net/2019/01/07/5c3351ce31372.jpg" alt="1546867129927.jpg"></p><p>å¦‚å›¾æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæœ‰ä¸€ä¸ªå•ä½åœ†ï¼Œåœ†å¿ƒä¸º $A$ ï¼Œçº¿æ®µ $CE$ çš„é•¿åº¦ç­‰äº $\sin x$ï¼Œçº¿æ®µ $CB$ æ˜¯ <strong>å¼¦</strong>ï¼ˆæˆ‘ä»¬ä»¤ä»–ç­‰äº $a$ï¼‰ï¼Œå¼§ $\overset{\frown} {CB}$ çš„é•¿åº¦å°±æ˜¯ $x$ï¼Œçº¿æ®µ DB çš„é•¿åº¦ç­‰äº $\tan x$ã€‚</p><p>å®ƒä»¬çš„é•¿åº¦çš„å¤§å°å…³ç³»æˆ‘ä»¬å¾ˆå®¹æ˜“å¾—å‡ºï¼š</p><ol><li>$\sin x &lt; a$ï¼Œå› ä¸ºä¸‰è§’å½¢çš„ç›´è§’è¾¹å°äºæ–œè¾¹</li><li>$a &lt; x$ï¼Œå› ä¸ºä¸¤ç‚¹ä¹‹é—´çº¿æ®µæœ€çŸ­</li><li>$x &lt; \tan x$ï¼Œè¿™ä¸ªç•¥å¾®ä¸é‚£ä¹ˆç›´æ¥ï¼Œå¯ä»¥ç”¨é¢ç§¯æ³•ï¼ˆé€šè¿‡æ¯”è¾ƒé¢ç§¯ç»§è€Œå¾—åˆ°è¡¨è¾¾å¼ä¸­ä¸¤ä¸ªæœªçŸ¥æ•°çš„å¤§å°å…³ç³»ï¼‰ï¼Œæ‰‡å½¢ $CAB$ çš„é¢ç§¯ï¼š$\frac{1}{2} \cdot 1 \cdot x$ ï¼Œä¸‰è§’å½¢ $\triangle DAB$ çš„é¢ç§¯ï¼š$\frac{1}{2} \cdot 1 \cdot \tan x$ ã€‚è€Œ $CAB$ çš„é¢ç§¯å°äº $DAB$ çš„é¢ç§¯ã€‚æ‰€ä»¥å¾—åˆ° $x &lt; \tan x$</li></ol><p>ç”±æ­¤æˆ‘ä»¬å¾—åˆ°ä¸ç­‰å¼ï¼š$\sin x &lt; x &lt; \tan x$ (å½“ $x&gt;0$ )ï¼ŒåŒæ—¶é™¤ä»¥ $\sin x$ï¼Œå¾—åˆ°ï¼š$1 &lt; \frac{x}{\sin x} &lt; \frac{1}{\cos x}$ã€‚</p><p>å½“ $x&lt;0$ æ—¶ï¼Œæ˜¾ç„¶ $\sin x &gt; x &gt; \tan x$ï¼ŒåŒæ—¶é™¤ä»¥ $\sin x$ï¼ˆé™¤ä»¥è´Ÿæ•°è¦å˜å·ï¼‰ï¼Œå¾—åˆ°ï¼š$1 &lt; \frac{x}{\sin x} &lt; \frac{1}{\cos x}$ã€‚</p><p>ä»¤ $x\rightarrow 0^{-}$ï¼Œç”±å¤¹é€¼å®šç†å¾—åˆ°å·¦æé™ $\lim\limits_{x\rightarrow 0^{-}} \frac{\sin x}{x} = 1$</p><p>ä»¤ $x\rightarrow 0^{+}$ï¼Œç”±å¤¹é€¼å®šç†å¾—åˆ°å³æé™ $\lim\limits_{x\rightarrow 0^{+}} \frac{\sin x}{x} = 1$</p><p>æœ€ç»ˆå¯ä»¥å¾—åˆ°ï¼š$\lim\limits_{x\rightarrow 0} \frac{\sin x}{x} = 1$ ï¼ˆå·¦å³æé™éƒ½ç­‰äº 1ï¼‰</p>]]></content>
      
      
      
        <tags>
            
            <tag> æ•°å­¦ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç†Ÿç»ƒä½¿ç”¨JetBrainså®¶çš„IDE</title>
      <link href="/blog/2018/11/04/%E7%86%9F%E7%BB%83%E4%BD%BF%E7%94%A8JetBrains%E5%AE%B6%E7%9A%84IDE/"/>
      <url>/blog/2018/11/04/%E7%86%9F%E7%BB%83%E4%BD%BF%E7%94%A8JetBrains%E5%AE%B6%E7%9A%84IDE/</url>
      
        <content type="html"><![CDATA[<h2 id="é€šç”¨å¿«æ·é”®"><a href="#é€šç”¨å¿«æ·é”®" class="headerlink" title="é€šç”¨å¿«æ·é”®"></a>é€šç”¨å¿«æ·é”®</h2><ol><li>æ ¼å¼åŒ–ä»£ç ï¼ˆreformat codeï¼‰:<br>win: ctrl+alt+L<br>mac: command+option+L</li><li>åœ¨ä¸€è¡Œçš„ä»»æ„ä½ç½®ä½¿ç”¨ï¼š shift + enterï¼Œæ–°å»ºä¸‹ä¸€è¡Œå¹¶è·³åˆ°ä¸‹ä¸€è¡Œã€‚</li><li>å–„ç”¨ä»£ç è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½ï¼Œå˜é‡åå’Œæ–¹æ³•åç­‰å¯ä»¥ç”¨ enter è¡¥å…¨ã€‚å¯¼å…¥åŒ…å¯ä»¥ç”¨ alt + enterã€‚</li><li>ä¸Šä¸‹ç§»åŠ¨ä»£ç ï¼Œctrl+shift+ä¸Šä¸‹é”®</li><li>Android Studio ç”Ÿæˆå‡½æ•°æ³¨é‡Šï¼šä½ åœ¨æ–¹æ³•å‰è¾“å…¥/**ç„¶åä¸€å›è½¦ï¼Œè‡ªåŠ¨å¸®ä½ ç”Ÿæˆæ–¹æ³•å’Œå‚æ•°çš„æ³¨é‡Šã€‚</li></ol><a id="more"></a><h2 id="Intellj-Idea"><a href="#Intellj-Idea" class="headerlink" title="Intellj Idea"></a>Intellj Idea</h2><p>å¿«é€Ÿæ‰“å‡ºå¸¸ç”¨è¯­å¥ï¼š</p><ol><li><strong>sout</strong>ï¼š<code>System.out.println();</code></li><li><strong>psvm</strong>ï¼š</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="3"><li><p>ä½¿ç”¨ IDE çš„å³é”®ä¸­çš„ç”Ÿæˆ Getter Setter é€‰é¡¹è‡ªåŠ¨ç”Ÿæˆ Getter Setterï¼Œä½¿ç”¨ toString è‡ªåŠ¨ç”Ÿæˆ toStringã€‚</p></li><li><p>è·³è½¬åˆ°æ¥å£ï¼š<code>ctrl+b</code>ï¼› è·³è½¬åˆ°å®ç°ç±»ï¼š<code>ctrl + alt +B</code></p></li><li><p><img src="../../../../images/2018/ideaå›¾è§£.png" alt></p></li></ol><p>ä¸Šé¢è¿™ä¸ªæŒ‰é’®å¯ä»¥å¿«é€Ÿçš„åœ¨ç›®å½•æ ‘ä¸­å®šä½åˆ°å½“å‰ç±»æ‰€åœ¨çš„è·¯å¾„</p><ol start="6"><li>ctrl+alt+t</li></ol><p><img src="../../../../images/2018/idea-ctrl+alt+t.png" alt="idea-ctrl+alt+t.png"></p>]]></content>
      
      
      
        <tags>
            
            <tag> å·¥å…· </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç²¾é€šä¸€æ¬¾ç¼–è¾‘å™¨ä¹‹sublime text 3</title>
      <link href="/blog/2018/11/04/%E7%B2%BE%E9%80%9A%E4%B8%80%E6%AC%BE%E7%BC%96%E8%BE%91%E5%99%A8%E4%B9%8Bsublime%20text%203/"/>
      <url>/blog/2018/11/04/%E7%B2%BE%E9%80%9A%E4%B8%80%E6%AC%BE%E7%BC%96%E8%BE%91%E5%99%A8%E4%B9%8Bsublime%20text%203/</url>
      
        <content type="html"><![CDATA[<h2 id="ç¼–è¾‘å™¨å¸¸ç”¨åŠŸèƒ½"><a href="#ç¼–è¾‘å™¨å¸¸ç”¨åŠŸèƒ½" class="headerlink" title="ç¼–è¾‘å™¨å¸¸ç”¨åŠŸèƒ½"></a>ç¼–è¾‘å™¨å¸¸ç”¨åŠŸèƒ½</h2><ol><li>æ ¼å¼åŒ–ä»£ç ï¼šæ ¼å¼åŒ–ä»£ç å¯ä»¥è®©ä½ ä¸ç”¨ç®¡ä»£ç çš„æ ¼å¼ï¼Œå¯ä»¥æ”¾è‚†çš„å†™ç¨‹åºï¼Œä½ å¯ä»¥å°‘æ•²å¾ˆå¤šç©ºæ ¼ï¼Œä¸ç”¨å…³å¿ƒä»£ç çš„æ ¼å¼é—®é¢˜ï¼Œæœºå™¨ç»™å‡ºçš„ä»£ç æ ¼å¼é£æ ¼ç»Ÿä¸€ä¸”æ¼‚äº®ï¼Œä¸€é”®è§£å†³ä½ çš„æ ¼å¼é—®é¢˜ï¼ŒçœŸæ˜¯æé«˜ç ä»£ç æ•ˆç‡çš„éå¸¸é‡è¦çš„åŠŸèƒ½ã€‚</li><li>æŸ¥æ‰¾æ–‡ä»¶ï¼šæŸ¥æ‰¾æ–‡ä»¶æ˜¯åœ¨é›†æˆå¼€å‘çš„æ—¶å€™éå¸¸é‡è¦çš„åŠŸèƒ½ï¼Œå½“æ–‡ä»¶å¤šèµ·æ¥çš„æ—¶å€™ï¼Œå¿«é€Ÿå®šä½åˆ°æ–‡ä»¶å¯ä»¥èŠ‚çœå¾ˆå¤šæ—¶é—´ï¼Œç”šè‡³æœ‰æ—¶å€™æ–‡ä»¶å®åœ¨å¤ªå¤šï¼Œä½ åªèƒ½é€šè¿‡æŸ¥æ‰¾çš„æ–¹å¼æ‰¾åˆ°é‚£ä¸ªæ–‡ä»¶ã€‚</li><li>æ­£åˆ™å…¨æ–‡ä»¶æŸ¥æ‰¾å’Œæ›¿æ¢ï¼šè½»æ¾è®©ä½ æ›´æ”¹å…¨å±€å˜é‡å’Œé…ç½®ï¼Œè¿™æ˜¯ä¸€ä¸ªå¿…é¡»çš„åŠŸèƒ½ï¼Œæ²¡æœ‰å®ƒç®€ç›´æ— æ³•æƒ³è±¡å·¥ä½œé‡æœ‰å¤šå¤§ã€‚</li><li>ä»£ç æ”¶ç¼©å’Œæ‰©å±•ï¼šä»£ç å¤ªé•¿æ€ä¹ˆåŠï¼Œæ”¶ç¼©å’Œæ‰©å±•å•Šã€‚</li></ol><a id="more"></a><h2 id="å®‰è£…å¸è½½æ’ä»¶"><a href="#å®‰è£…å¸è½½æ’ä»¶" class="headerlink" title="å®‰è£…å¸è½½æ’ä»¶"></a>å®‰è£…å¸è½½æ’ä»¶</h2><ol><li><code>cmd+shift+p</code>ï¼šæ‰“å¼€å‘½ä»¤æ¿ï¼Œè¾“å…¥<code>install</code>ï¼Œç‚¹å‡»ï¼š<strong>Package Control: Install Package</strong>é€‰é¡¹ï¼Œç„¶åæœç´¢ä½ æƒ³è¦çš„æ’ä»¶ã€‚</li><li>å¸è½½è¯·åœ¨å‘½ä»¤æ¿è¾“å…¥ï¼š<code>remove</code>ï¼Œç‚¹å‡»ï¼š<strong>Package Control: Remove Package</strong>é€‰é¡¹ã€‚å…¶å®å¸è½½æ— éå°±æ˜¯ä¸¤ä¸ªè¯ï¼š<code>remove</code>å’Œ<code>uninstall</code>ï¼Œå¤šè¯•è¯•å°±è¡Œäº†ã€‚</li></ol><blockquote><p>æ‰“å¼€å‘½ä»¤æ¿ä¹‹åä»€ä¹ˆéƒ½ä¸æƒ³å¹²ï¼Œæ€ä¹ˆå…³é—­å‘½ä»¤æ¿å‘¢ï¼Ÿå…¶å®å¾ˆç®€å•ï¼Œå†æŒ‰ä¸€æ¬¡æ‰“å¼€å‘½ä»¤æ¿çš„å¿«æ·é”®å°±è¡Œäº†ï¼Œ<strong>å¼€å…³éƒ½ç”¨åŒä¸€ä¸ªé”®æˆ–è€…æŒ‰é’®ï¼ˆæœ¯è¯­å«ï¼štoggleï¼Œå¯å¼€å¯å…³ï¼‰ï¼Œè¿™æ˜¯æ¯”è¾ƒé€šç”¨è®¾è®¡ç†å¿µ</strong>ã€‚</p></blockquote><h2 id="åŸºæœ¬å¿«æ·é”®"><a href="#åŸºæœ¬å¿«æ·é”®" class="headerlink" title="åŸºæœ¬å¿«æ·é”®"></a>åŸºæœ¬å¿«æ·é”®</h2><ul><li>æ˜¾ç¤ºéšè—èœå•æ ï¼šaltï¼Œå¦‚æœä½ ä¸å°å¿ƒæŠŠèœå•æ éšè—äº†ï¼Œé™¤äº†ç”¨å¿«æ·é”®å”¤å‡ºï¼Œè¿˜çœŸä¸çŸ¥é“æœ‰ä»€ä¹ˆå…¶ä»–åŠæ³•ã€‚</li><li>æ˜¾ç¤ºéšè—ç›®å½•æ ‘ï¼šctrl+k+bï¼Œè¿™ä¸ªåŠŸèƒ½å¯ä»¥åœ¨èœå•æ ä¸­çš„ view ä¸­æ‰¾åˆ°ï¼Œæ‰€ä»¥æˆ‘è§‰å¾—è®°ä¸è®°æ— æ‰€è°“</li></ul><h2 id="vue-æ’ä»¶"><a href="#vue-æ’ä»¶" class="headerlink" title="vue æ’ä»¶"></a>vue æ’ä»¶</h2><ol><li><strong>vue-syntax-highlight</strong>ï¼šå¯ä»¥è®©<code>.vue</code>æ–‡ä»¶é«˜äº®ã€‚</li><li><strong>HTML-CSS-JS Prettify</strong>ï¼šå¯ä»¥æ ¼å¼åŒ–è¿™ä¸‰ç§è¯­è¨€çš„ä»£ç ï¼Œç‰¹åˆ«æ˜¯å•æ–‡ä»¶çš„ vueï¼Œéå¸¸éœ€è¦è¿™ä¸ªæ¥åŒæ—¶æ ¼å¼åŒ–ä¸‰ç§è¯­è¨€ã€‚ä¸è¿‡éœ€è¦é…ç½®ä¸€ä¸‹ã€‚å·¥å…·æ è·¯å¾„ï¼š<code>Sublime Text -&gt; Preferences -&gt; Package Settings -&gt; HTML/CSS/JS Prettify -&gt; Plugin Options - Default</code>ï¼Œç„¶åæœç´¢ï¼š<code>allowed_file_extensions</code>ï¼Œç»™è¿™ä¸ªé…ç½®é¡¹æ·»åŠ ä¸€ä¸ª<code>vue</code>å³å¯ï¼Œè¦æ³¨æ„çš„æ˜¯æœ‰å››å¤„æœ‰è¿™ä¸ªé…ç½®é¡¹ï¼Œåˆ†åˆ«æ˜¯<code>html</code>ã€<code>css</code>ã€<code>js</code>ã€<code>json</code>ï¼Œå¦‚æœä½ æƒ³å®ƒä»¬å…¨éƒ½èƒ½æ ¼å¼åŒ–ï¼Œè‡ªç„¶æ˜¯è¦å…¨éƒ½æ·»åŠ <code>vue</code>ï¼Œä½†å®éªŒè¯æ˜åªåŠ  html é‡Œé¢å°±è¡Œäº†ï¼Œå¦‚æœåœ¨å…¶ä»–å‡ ä¸ªé‡Œé¢åŠ åè€Œå¼•èµ·äº†å†²çªã€‚ç„¶åæ ¼å¼åŒ–ä»£ç çš„å¿«æ·é”®æ˜¯ä»€ä¹ˆå‘¢ï¼ŸåŒæ ·ä¹Ÿæœ‰é…ç½®æ–‡ä»¶çš„ï¼Œå·¥å…·æ è·¯å¾„ï¼š<code>Sublime Text -&gt; Preferences -&gt; Package Settings -&gt; HTML/CSS/JS Prettify -&gt; Keyboard Shortcuts - Default</code>ï¼Œå¯ä»¥çœ‹åˆ°ï¼š</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[&#123;</span><br><span class="line">  &quot;keys&quot;: [&quot;super+shift+h&quot;],</span><br><span class="line">  &quot;command&quot;: &quot;htmlprettify&quot;</span><br><span class="line">&#125;, &#123;</span><br><span class="line">  &quot;keys&quot;: [&quot;super+alt+h&quot;, &quot;p&quot;],</span><br><span class="line">  &quot;command&quot;: &quot;htmlprettify_set_prettify_prefs&quot;</span><br><span class="line">&#125;, &#123;</span><br><span class="line">  &quot;keys&quot;: [&quot;super+alt+h&quot;, &quot;o&quot;],</span><br><span class="line">  &quot;command&quot;: &quot;htmlprettify_set_plugin_options&quot;</span><br><span class="line">&#125;, &#123;</span><br><span class="line">  &quot;keys&quot;: [&quot;super+alt+h&quot;, &quot;k&quot;],</span><br><span class="line">  &quot;command&quot;: &quot;htmlprettify_set_keyboard_shortcuts&quot;</span><br><span class="line">&#125;, &#123;</span><br><span class="line">  &quot;keys&quot;: [&quot;super+alt+h&quot;, &quot;n&quot;],</span><br><span class="line">  &quot;command&quot;: &quot;htmlprettify_set_node_path&quot;</span><br><span class="line">&#125;]</span><br></pre></td></tr></table></figure><p>ç¬¬ä¸€é¡¹å³ä¸ºä½¿ç”¨è¿™ä¸ªæ’ä»¶çš„å¿«æ·é”®ï¼Œä¹Ÿå°±æ˜¯æ ¼å¼åŒ–ä»£ç çš„å¿«æ·é”®ã€‚</p><h2 id="åº•æ è®¾ç½®æ˜¾ç¤ºæ–‡ä»¶ç¼–ç "><a href="#åº•æ è®¾ç½®æ˜¾ç¤ºæ–‡ä»¶ç¼–ç " class="headerlink" title="åº•æ è®¾ç½®æ˜¾ç¤ºæ–‡ä»¶ç¼–ç "></a>åº•æ è®¾ç½®æ˜¾ç¤ºæ–‡ä»¶ç¼–ç </h2><p>åœ¨ mac osx ä¸Šä¸€ä¸å°å¿ƒæŒ‰äº† cmd+shift+cï¼Œæ–‡ä»¶çš„å­˜å‚¨æ ¼å¼ç°åœ¨å˜æˆäº† GBK æ ¼å¼ï¼Œå½“æˆ‘å†æŒ‰ä¸‹ cmd+s ä¿å­˜æ—¶ï¼Œæç¤ºæˆ‘ UTF-8 æ ¼å¼çš„æ–‡ä»¶ä¸èƒ½ç”¨ GBK æ ¼å¼æ¥ä¿å­˜ã€‚æ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿé¦–å…ˆæˆ‘æƒ³æŸ¥çœ‹è¿™ä¸ªæ–‡ä»¶æ˜¯ä»€ä¹ˆç¼–ç ï¼ŒSublime Text çš„é»˜è®¤è®¾ç½®æ˜¯ä¸å¼€å¯æ˜¾ç¤ºç¼–ç çš„ï¼Œå¦‚æœæƒ³å¼€å¯ï¼Œå¯é€šè¿‡èœå• Perference â†’ Settings â€“ Userï¼Œåœ¨æ‰“å¼€çš„é…ç½®æ–‡ä»¶é‡Œ ï¼Œåœ¨å¤§æ‹¬å·åé¢ï¼Œå¢åŠ ä»¥ä¸‹å†…å®¹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// Display file encoding in the status bar</span><br><span class="line">&quot;show_encoding&quot;: true,</span><br><span class="line">// Display line endings in the status bar</span><br><span class="line">&quot;show_line_endings&quot;: true,</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶ä¿å­˜è¯¥é…ç½®æ–‡ä»¶ï¼Œå°±èƒ½å¤Ÿçœ‹åˆ° sublime æœ€åº•ä¸‹ä¸€è¡Œä¼šæ˜¾ç¤ºæ–‡ä»¶ç¼–ç æ ¼å¼äº†ã€‚ä»¥ä¸Šçš„é…ç½®å†…å®¹åœ¨ Perference â†’ Settingâ”€Default éƒ½æ˜¯ false çš„ã€‚</p><p>ç„¶ååœ¨åº•æ ç‚¹å‡»æ–‡ä»¶ç¼–ç ï¼Œç‚¹å‡» reopen with encodingï¼Œç„¶åé€‰æ‹© utf-8ï¼Œç„¶å cmd+w å…³é—­çª—å£ï¼Œç„¶å cmd+shift+t é‡æ–°æ‰“å¼€åˆšåˆšå…³é—­çš„çª—å£ï¼Œå°±ä¸€åˆ‡æ¢å¤æ­£å¸¸äº†ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> å·¥å…· </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€ŠCSAPPã€‹ -- å¤„ç†å™¨ä½“ç³»ç»“æ„</title>
      <link href="/blog/2018/10/13/%E5%A4%84%E7%90%86%E5%99%A8%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/"/>
      <url>/blog/2018/10/13/%E5%A4%84%E7%90%86%E5%99%A8%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/</url>
      
        <content type="html"><![CDATA[<p>é˜…è¯»è¿™ç¯‡æ–‡ç« å¿…é¡»è¦å¯¹æ±‡ç¼–ç æœ‰è¶³å¤Ÿçš„äº†è§£ï¼Œå¦‚æœä½ å¯¹ IA32 æ±‡ç¼–ç è¿˜ä¸å¤Ÿäº†è§£ï¼Œå¯ä»¥å…ˆçœ‹çœ‹è¿™ç¯‡æ–‡ç« ï¼š<a href="../../08/ç¨‹åºçš„æœºå™¨çº§è¡¨ç¤º">ç¨‹åºçš„æœºå™¨çº§è¡¨ç¤º</a></p><h2 id="Y86-æŒ‡ä»¤é›†ä½“ç³»ç»“æ„"><a href="#Y86-æŒ‡ä»¤é›†ä½“ç³»ç»“æ„" class="headerlink" title="Y86 æŒ‡ä»¤é›†ä½“ç³»ç»“æ„"></a>Y86 æŒ‡ä»¤é›†ä½“ç³»ç»“æ„</h2><p>Y86 æŒ‡ä»¤é›†åŸºæœ¬ä¸Šæ˜¯ IA32 æŒ‡ä»¤é›†çš„ä¸€ä¸ªå­é›†ã€‚è¿™ä¸ªæŒ‡ä»¤é›†å°±æ˜¯æˆ‘ä»¬å¤„ç†å™¨å®ç°çš„ç›®æ ‡ã€‚å¦‚ä¸‹å›¾ï¼š</p><a id="more"></a><p><img src="../../../../images/2018/Y86æŒ‡ä»¤é›†.png" alt="Y86æŒ‡ä»¤é›†"></p><p>IA32 çš„ movl æŒ‡ä»¤åˆ†æˆäº† 4 ä¸ªä¸åŒæŒ‡ä»¤ï¼širmovlã€rrmovlã€mrmovl å’Œ rmmovlï¼Œi è¡¨ç¤ºç«‹å³æ•° Immediateï¼Œr è¡¨ç¤ºå¯„å­˜å™¨ Registerï¼Œm è¡¨ç¤ºå­˜å‚¨å™¨ Memmoryã€‚ç¬¬ä¸€ä¸ªå­—æ¯è¡¨ç¤ºæºï¼Œç¬¬äºŒä¸ªå­—æ¯è¡¨ç¤ºç›®çš„ã€‚</p><p>è¿™é‡Œä¸å®ç°çš„åŠŸèƒ½æœ‰ï¼š</p><ol><li>å­˜å‚¨å™¨å¼•ç”¨æ–¹å¼æ˜¯ç®€å•çš„åŸºå€+åç§»é‡å½¢å¼ï¼Œä¸æ”¯æŒå˜å€å¯„å­˜å™¨ï¼ˆsecond index registerï¼‰å’Œä»»ä½•å¯„å­˜å™¨ä¼¸ç¼©ï¼ˆscalingï¼‰ã€‚å¦‚æœå¯¹æ“ä½œæ•°çš„ç»“æ„ä¸å¤ªäº†è§£å¯ä»¥çœ‹çœ‹è¿™ä¸ªï¼š<a href="../../08/ç¨‹åºçš„æœºå™¨çº§è¡¨ç¤º/#æ“ä½œæ•°æŒ‡ç¤ºç¬¦">æ“ä½œæ•°æŒ‡ç¤ºç¬¦</a></li><li>å’Œ IA32 ä¸€æ ·ä¸å…è®¸ä»ä¸€ä¸ªå­˜å‚¨å™¨ç›´æ¥ä¼ é€åˆ°å¦ä¸€ä¸ªå­˜å‚¨å™¨åœ°å€ã€‚</li><li>ä¸å…è®¸ç«‹å³æ•°ä¼ é€åˆ°å­˜å‚¨å™¨</li></ol><p>4 ä¸ªæ•´æ•°æ“ä½œæŒ‡ä»¤ï¼šaddlã€sublã€andlã€xorl</p><p>7 ä¸ªè·³è½¬æŒ‡ä»¤ï¼šjmpã€jleã€jlã€jeã€jneã€jgeã€jgã€‚</p><p>6 ä¸ªæ¡ä»¶ä¼ é€æŒ‡ä»¤ï¼šcmovleã€cmovlã€cmoveã€cmovneã€cmovgeã€cmovgã€‚</p><p>å¦å¤–è¿˜æœ‰ï¼šcallã€retã€pushlã€poplï¼Œhalt æŒ‡ä»¤åœæ­¢æŒ‡ä»¤æ‰§è¡Œã€‚IA32 ä¸­æœ‰ä¸€ä¸ªä¸ä¹‹ç›¸å½“çš„æŒ‡ä»¤ hltï¼ŒIA32 çš„åº”ç”¨ç¨‹åºä¸å…è®¸ä½¿ç”¨è¿™æ¡æŒ‡ä»¤ï¼Œå› ä¸ºå®ƒä¼šå¯¼è‡´æ•´ä¸ªç³»ç»Ÿæš‚åœè¿è¡Œã€‚å¯¹äº Y86 æ¥è¯´ï¼Œæ‰§è¡Œ halt æŒ‡ä»¤ä¼šå¯¼è‡´å¤„ç†å™¨åœæ­¢ï¼Œå¹¶å°†çŠ¶æ€ç è®¾ç½®ä¸º HLTã€‚</p><h3 id="æŒ‡ä»¤ç¼–ç "><a href="#æŒ‡ä»¤ç¼–ç " class="headerlink" title="æŒ‡ä»¤ç¼–ç "></a>æŒ‡ä»¤ç¼–ç </h3><p>ä¸ IA32 ä¸€æ ·ä½¿ç”¨å°ç«¯ç¼–ç ã€‚</p><p><img src="../../../../images/2018/æŒ‡ä»¤ç¼–ç .png" alt="æŒ‡ä»¤ç¼–ç "></p><p>æ¯æ¡æŒ‡ä»¤çš„ç¬¬ä¸€ä¸ªå­—èŠ‚è¡¨æ˜æŒ‡ä»¤çš„ç±»å‹ï¼Œè¿™ä¸ªå­—èŠ‚åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œæ¯éƒ¨åˆ† 4 ä½ï¼šé«˜ 4 ä½æ˜¯ä»£ç ï¼ˆcodeï¼‰éƒ¨åˆ†ï¼Œä½ 4 ä½æ˜¯åŠŸèƒ½ï¼ˆfunctionï¼‰éƒ¨åˆ†ã€‚ä»£ç å€¼ä¸º 0~0xBã€‚å¯ä»¥è§‚å¯Ÿåˆ°ï¼Œ<code>rrmovl</code>ä¸æ¡ä»¶ä¼ é€æŒ‡ä»¤æœ‰åŒæ ·çš„ä»£ç éƒ¨åˆ†ï¼Œå¯ä»¥æŠŠå®ƒçœ‹ä½œæ˜¯ä¸€ä¸ªæ— æ¡ä»¶ä¼ é€ã€‚</p><p>å¯„å­˜å™¨ç¼–ç å¦‚ä¸‹ï¼š</p><p><img src="../../../../images/2018/å¯„å­˜å™¨ç¼–ç .png" alt="å¯„å­˜å™¨ç¼–ç "></p><p>ä¸¾ä¸ªä¾‹å­ï¼šç”¨ 16 è¿›åˆ¶è¡¨ç¤ºæŒ‡ä»¤ <code>rmmvol %esp, 0x12345(%edx)</code>çš„å­—èŠ‚ç¼–ç ã€‚</p><p>ä»ä¸Šé¢å›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼Œrmmovl ç¬¬ä¸€ä¸ªå­—èŠ‚ä¸º 40ï¼Œç”±äº%esp æ˜¯ 4ï¼ˆå  4 ä½ï¼‰ï¼Œ%edx æ˜¯ 2ï¼ˆå  4 ä½ï¼‰ï¼Œæ‰€ä»¥ç¬¬äºŒä¸ªå­—èŠ‚æ˜¯ 42ï¼Œæœ€åå†åŠ ä¸Šåç§»é‡ 00 01 23 45ï¼Œå°ç«¯è¡¨ç¤ºæ˜¯ï¼š45 23 01 00ï¼Œæ‰€ä»¥æœ€åå¾—åˆ°æŒ‡ä»¤çš„ç¼–ç æ˜¯ï¼š<code>404245230100</code>ã€‚</p><p>æŒ‡ä»¤é›†çš„ä¸€ä¸ªé‡è¦æ€§è´¨æ˜¯å­—èŠ‚ç¼–ç å¿…é¡»æœ‰å”¯ä¸€è§£é‡Šï¼Œä»»æ„ä¸€ä¸ªå­—èŠ‚åºåˆ—è¦ä¹ˆæ˜¯ä¸€ä¸ªå”¯ä¸€çš„æŒ‡ä»¤ï¼Œè¦ä¹ˆæ˜¯ä¸€ä¸ªä¸åˆæ³•çš„æŒ‡ä»¤ã€‚</p><p>ç›¸æ¯”äº IA32ï¼ŒY86 æ²¡é‚£ä¹ˆç´§å‡‘ï¼ŒIA32 å¯¹å¯„å­˜å™¨åªç”¨äº† 3 ä½æ¥ç¼–ç ï¼Œ5 ä½è¡¨æ˜æŒ‡ä»¤ç±»å‹ï¼Œæ‰€ä»¥ IA32 èƒ½å°†å‡ºæ ˆå…¥æ ˆæ”¾è¿›ä¸€ä¸ªå­—èŠ‚é‡Œã€‚å¦å¤– IA32 å¯ä»¥å°†å¸¸æ•°å€¼ç¼–ç æˆ 1ã€2ã€4 å­—èŠ‚ï¼ŒY86 æ€»æ˜¯ç¼–ç æˆ 4 å­—èŠ‚ã€‚</p><h3 id="RISC-å’Œ-CISC"><a href="#RISC-å’Œ-CISC" class="headerlink" title="RISC å’Œ CISC"></a>RISC å’Œ CISC</h3><ul><li>RISC: reduced instruction set computersï¼Œç²¾ç®€æŒ‡ä»¤é›†</li><li>CISC: complex instruction set computersï¼Œå¤æ‚æŒ‡ä»¤é›†</li></ul><h3 id="Y86-å¼‚å¸¸"><a href="#Y86-å¼‚å¸¸" class="headerlink" title="Y86 å¼‚å¸¸"></a>Y86 å¼‚å¸¸</h3><p><img src="../../../../images/2018/Y86å¼‚å¸¸.png" alt="Y86å¼‚å¸¸"></p><p>å¯¹äº Y86ï¼Œå½“é‡åˆ°è¿™äº›å¼‚å¸¸çš„æ—¶å€™ï¼Œæˆ‘ä»¬ç®€å•çš„è®©å¤„ç†å™¨åœæ­¢æ‰§è¡ŒæŒ‡ä»¤ã€‚åœ¨æ›´å®Œå–„çš„è®¾è®¡ä¸­ï¼Œå¤„ç†å™¨é€šå¸¸ä¼šè°ƒç”¨ä¸€ä¸ª exception handlerï¼ˆå¼‚å¸¸å¤„ç†ç¨‹åºï¼‰ï¼Œè¿™ä¸ªè¿‡ç¨‹è¢«æŒ‡å®šç”¨æ¥å¤„ç†é‡åˆ°çš„æŸç§ç±»å‹çš„å¼‚å¸¸ï¼Œä¾‹å¦‚æ”¾å¼ƒç¨‹åºæˆ–è°ƒç”¨ä¸€ä¸ªç”¨æˆ·è‡ªå®šä¹‰çš„ signal handlerï¼ˆä¿¡å·å¤„ç†ç¨‹åºï¼‰ã€‚</p><h3 id="Y86-ç¨‹åº"><a href="#Y86-ç¨‹åº" class="headerlink" title="Y86 ç¨‹åº"></a>Y86 ç¨‹åº</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Sum</span><span class="params">(<span class="keyword">int</span> *Start, <span class="keyword">int</span> Count)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (Count) &#123;</span><br><span class="line">        sum += *Start;</span><br><span class="line">        Start++;</span><br><span class="line">        Count--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="../../../../images/2018/IA32å¯¹æ¯”Y86ä»£ç .png" alt="IA32å¯¹æ¯”Y86ä»£ç "></p><p>å¯ä»¥çœ‹åˆ° Y86 æœ‰æ—¶å€™éœ€è¦ä¸¤æ¡æŒ‡ä»¤æ¥å®Œæˆ IA32 ä¸€æ¡æŒ‡ä»¤å°±èƒ½å®Œæˆçš„äº‹ã€‚ç„¶è€Œå¦‚æœç”¨æ•°ç»„ç´¢å¼•æ¥å†™è¿™ä¸ªç¨‹åºï¼Œè¦è½¬æ¢æˆ Y86 ä¼šå¾ˆå›°éš¾ï¼Œå› ä¸º Y86 æ²¡æœ‰ä¼¸ç¼©å¯»å€ã€‚</p><p>å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š</p><p><img src="../../../../images/2018/Y86æ±‡ç¼–ä»£ç .png" alt="Y86æ±‡ç¼–ä»£ç "></p><p>ä»¥<code>.</code>å¼€å¤´çš„æ˜¯ assembler directiveï¼ˆæ±‡ç¼–å™¨å‘½ä»¤ï¼‰ï¼Œå‘½ä»¤<code>.pos 0</code>å‘Šè¯‰æ±‡ç¼–å™¨åº”è¯¥ä»åœ°å€ 0 å¤„å¼€å§‹äº§ç”Ÿä»£ç ã€‚ç¬¬ 3ã€4 è¡Œä½¿ç”¨çš„ Stack æ ‡ç­¾ï¼Œåœ¨æœ€åæœ‰å£°æ˜ï¼Œå…¶ä½ç½®æ˜¯ 0x100ã€‚ç¬¬ 9 åˆ° 13 è¡Œå£°æ˜äº†ä¸€ä¸ªæ•°ç»„ï¼Œ4 å­—èŠ‚å¯¹é½ï¼Œå€¼åˆ†åˆ«æ˜¯ï¼š0xdï¼Œ0xc0ï¼Œ0xb00ï¼Œ0xa000ï¼Œarray æ ‡ç­¾æ˜¯èµ·å€ã€‚</p><blockquote><p>ç»†èŠ‚é—®é¢˜ï¼Œ<code>pushl %esp</code>ï¼ˆè¿™ä¸ªæŒ‡ä»¤åªèƒ½ç”¨æ±‡ç¼–è¯­è¨€å†™ï¼ŒC è¯­è¨€æ— æ³•äº§ç”Ÿï¼‰æ˜¯å…ˆæŠŠ%esp çš„å€¼è½¬ç§»åˆ°æ ˆï¼Œè¿˜æ˜¯å…ˆ%esp å‡ 4 å†å°†ç»“æœè½¬ç§»åˆ°æ ˆï¼Œå®é™…ä¸Šä¸åŒç‰ˆæœ¬çš„ intel å¤„ç†å™¨éƒ½ä¼šäº§ç”Ÿä¸åŒçš„ç»“æœï¼Œæ‰€ä»¥ä¸€ä¸ªå¾ˆé‡è¦çš„æ•™è®­æ˜¯è¦ä¿è¯ç»†èŠ‚ä¸Šçš„ä¸€è´¯æ€§ã€‚</p></blockquote><h2 id="é€»è¾‘è®¾è®¡å’Œç¡¬ä»¶æ§åˆ¶è¯­è¨€-HCLï¼ˆHardware-Control-Languageï¼‰"><a href="#é€»è¾‘è®¾è®¡å’Œç¡¬ä»¶æ§åˆ¶è¯­è¨€-HCLï¼ˆHardware-Control-Languageï¼‰" class="headerlink" title="é€»è¾‘è®¾è®¡å’Œç¡¬ä»¶æ§åˆ¶è¯­è¨€ HCLï¼ˆHardware Control Languageï¼‰"></a>é€»è¾‘è®¾è®¡å’Œç¡¬ä»¶æ§åˆ¶è¯­è¨€ HCLï¼ˆHardware Control Languageï¼‰</h2><h3 id="é€»è¾‘é—¨"><a href="#é€»è¾‘é—¨" class="headerlink" title="é€»è¾‘é—¨"></a>é€»è¾‘é—¨</h3><p><img src="../../../../images/2018/é€»è¾‘é—¨.png" alt="é€»è¾‘é—¨"></p><h3 id="ç»„åˆç”µè·¯å’Œ-HCL-è¯­è¨€"><a href="#ç»„åˆç”µè·¯å’Œ-HCL-è¯­è¨€" class="headerlink" title="ç»„åˆç”µè·¯å’Œ HCL è¯­è¨€"></a>ç»„åˆç”µè·¯å’Œ HCL è¯­è¨€</h3><p>æ„å»ºä¸€ä¸ªç»„åˆç”µè·¯æœ‰ä¸¤æ¡é™åˆ¶ï¼š</p><ol><li>ä¸¤ä¸ªæˆ–å¤šä¸ªé€»è¾‘é—¨çš„è¾“å‡ºä¸èƒ½è¿æ¥åœ¨ä¸€èµ·ã€‚è¿™æ ·ä¼šå¯¼è‡´çº¿ä¸Šçš„ä¿¡å·çŸ›ç›¾ï¼Œäº§ç”Ÿä¸åˆæ³•çš„ç”µå‹æˆ–ç”µè·¯æ•…éšœã€‚</li><li>å¿…é¡»æ˜¯æ— ç¯çš„ï¼Œä¹Ÿå°±æ˜¯ä¸èƒ½å½¢æˆå›è·¯ã€‚</li></ol><p>ä¸‹é¢æ˜¯ä¸ªç®€å•çš„ä¾‹å­ï¼š</p><p><img src="../../../../images/2018/ç»„åˆç”µè·¯.png" alt="ç»„åˆç”µè·¯"></p><p>ç”¨ HCL æ¥å†™è¿™ä¸ªç½‘çš„å‡½æ•°å°±æ˜¯ï¼š<code>bool eq = (a &amp;&amp; b) || (!a &amp;&amp; !b)</code></p><p>HCL æ˜¯ç”¨æ¥ C è¯­è¨€é£æ ¼çš„è¯­æ³•ï¼Œä½†è¿™é‡ŒåŒ C è¯­è¨€ä¸ä¸€æ ·ï¼Œè¯¥è¯­å¥çš„æ„æ€ä¸æ˜¯æ‰§è¡Œäº†ä¸€æ¬¡è®¡ç®—å¹¶å°†ç»“æœæ”¾å…¥å­˜å‚¨å™¨ï¼Œè€Œæ˜¯ä½¿ç”¨ä¸€ä¸ªåå­— eq æ¥ç§°è°“ä¸€ä¸ªè¡¨è¾¾å¼ã€‚</p><p>å®é™…ä¸Šä¸Šé¢çš„ç»„åˆç”µè·¯å°±æ˜¯åŒæˆ–ï¼Œå¼‚æˆ–çš„è¡¨è¾¾å¼æ˜¯ï¼š<code>bool eq = (!a &amp;&amp; b) || (a &amp;&amp; !b)</code></p><p>å¤šè·¯å¤ç”¨å™¨ï¼ˆmultiplexorï¼Œé€šå¸¸ç§°ä¸ºï¼šMUXï¼‰ï¼š</p><p><img src="../../../../images/2018/MUXç»„åˆç”µè·¯.png" alt="MUXç»„åˆç”µè·¯"></p><p><code>bool out = (s &amp;&amp; a) || (!s &amp;&amp; b)</code></p><h3 id="å­—çº§çš„ç»„åˆç”µè·¯å’Œ-HCL-æ•´æ•°è¡¨è¾¾å¼"><a href="#å­—çº§çš„ç»„åˆç”µè·¯å’Œ-HCL-æ•´æ•°è¡¨è¾¾å¼" class="headerlink" title="å­—çº§çš„ç»„åˆç”µè·¯å’Œ HCL æ•´æ•°è¡¨è¾¾å¼"></a>å­—çº§çš„ç»„åˆç”µè·¯å’Œ HCL æ•´æ•°è¡¨è¾¾å¼</h3><p>é€šå¸¸æˆ‘ä»¬è®¾è®¡èƒ½å¯¹å­—ï¼ˆwordï¼‰è¿›è¡Œæ“ä½œçš„ç»„åˆç”µè·¯ï¼Œå­—çº§ç”µè·¯ä¸­ç”¨åˆ°çš„å°±æ˜¯ HCL æ•´æ•°è¡¨è¾¾å¼äº†ã€‚</p><p>å­—çº§ä¸ç”µè·¯ï¼š</p><p><img src="../../../../images/2018/å­—çº§ä¸ç”µè·¯.png" alt="å­—çº§ä¸ç”µè·¯"></p><p><code>bool Eq = (A == B);</code></p><p>ä¹Ÿå¯ä»¥ç”¨å¼‚æˆ–æ¥å®ç°ï¼š</p><p><img src="../../../../images/2018/å­—çº§å¼‚æˆ–ç”µè·¯.png" alt="å­—çº§å¼‚æˆ–ç”µè·¯"></p><p>åœ¨ HCL ä¸­ï¼Œå¤šè·¯å¤ç”¨å‡½æ•°æ˜¯ç”¨æƒ…å†µè¡¨è¾¾å¼ï¼ˆcase expressionï¼‰æ¥æè¿°çš„ã€‚æƒ…å†µè¡¨è¾¾å¼çš„é€šç”¨æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    select_1 : expr_1;</span><br><span class="line">    select_2 : expr_2;</span><br><span class="line">             .</span><br><span class="line">             .</span><br><span class="line">             .</span><br><span class="line">    select_k : expr_k;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>åŒ C è¯­è¨€çš„ switch è¯­å¥ä¸åŒï¼Œæˆ‘ä»¬ä¸è¦æ±‚ä¸åŒçš„é€‰æ‹©è¡¨è¾¾å¼ä¹‹é—´äº’æ–¥ã€‚ä»é€»è¾‘ä¸Šè®²ï¼Œè¿™äº›é€‰æ‹©è¡¨è¾¾å¼æ˜¯é¡ºåºæ±‚å€¼çš„ï¼Œä¸”ç¬¬ä¸€ä¸ªæ±‚å€¼ä¸º 1 çš„æƒ…å†µå°±ä¼šè¢«é€‰ä¸­ã€‚</p><p>å­—çº§å¤šè·¯å¤ç”¨ç”µè·¯ï¼š</p><p><img src="../../../../images/2018/å­—çº§å¤šè·¯å¤ç”¨ç”µè·¯.png" alt="å­—çº§å¤šè·¯å¤ç”¨ç”µè·¯"></p><p>ç”¨ HCL æ¥æè¿°å°±æ˜¯ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">int Out = [</span><br><span class="line">    s: A;</span><br><span class="line">    1: B;</span><br><span class="line">];</span><br></pre></td></tr></table></figure><p>å¤§å¤šæ•°äººç¬¬ä¸€çœ¼æ˜¯çœ‹ä¸æ‡‚è¿™ä¸ªè¡¨è¾¾å¼çš„ï¼Œå…¶å®é‡Œé¢æœ‰ä¸ªæš—å«çš„æ¡ä»¶ï¼šå…ˆæ‰§è¡Œ <code>s: A;</code> å¦‚æœå¤±è´¥ï¼ˆæ²¡æœ‰è¾“å‡º Aï¼‰æ‰ä¼šå†æ‰§è¡Œ <code>1: B;</code>ã€‚è€Œ<code>1: B;</code>å®é™…ä¸Šæ˜¯<code>!s&amp;&amp;1: B;</code>çš„ç®€å†™ã€‚æ²¡æœ‰è¾“å‡º A å°±å·²ç»ä»£è¡¨ s æ˜¯ 0 äº†ï¼Œé‚£ä¹ˆ!s å°±æ˜¯ 1ã€‚</p><p>å››è·¯å¤ç”¨å™¨ï¼š</p><p><img src="../../../../images/2018/å››è·¯å¤ç”¨å™¨.png" alt="å››è·¯å¤ç”¨å™¨"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">int Out4 = [</span><br><span class="line">    !s1 &amp;&amp; !s0: A; # 00</span><br><span class="line">    !s1       : B; # 01</span><br><span class="line">    !s0       : C; # 10</span><br><span class="line">    1         : D; # 11</span><br><span class="line">];</span><br></pre></td></tr></table></figure><p>ç¬¬äºŒä¸ªè¡¨è¾¾å¼å¯ä»¥å†™æˆ<code>!s1</code>ï¼Œè€Œä¸ç”¨å†™çš„æ›´å®Œæ•´<code>!s1&amp;&amp;s0</code>ï¼Œæ˜¯å› ä¸ºå¦ä¸€ç§å¯èƒ½<code>s0=0</code>å·²ç»å‡ºç°åœ¨äº†ç¬¬ä¸€ä¸ªé€‰æ‹©è¡¨è¾¾å¼äº†ï¼Œè‹¥èƒ½åˆ°è¾¾ç¬¬äºŒä¸ªé€‰æ‹©è¡¨è¾¾å¼ï¼Œåˆ™<code>s0=1</code>ã€‚ç±»ä¼¼çš„ï¼Œç¬¬ä¸‰ä¸ªè¡¨è¾¾å¼å¯ä»¥å†™æˆ<code>!s0</code>ï¼Œç¬¬å››ä¸ªè¡¨è¾¾å¼å¯ä»¥ç®€å•çš„å†™æˆ 1ã€‚</p><p>æ¥çœ‹æœ€åä¸€ä¸ªä¾‹å­ï¼Œå‡è®¾æˆ‘ä»¬æƒ³è®¾è®¡ä¸€ä¸ªé€»è¾‘ç”µè·¯æ¥æ‰¾ä¸€ç»„å­— Aã€B å’Œ C ä¸­çš„æœ€å°å€¼ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="../../../../images/2018/æœ€å°å€¼ç”µè·¯.png" alt="æœ€å°å€¼ç”µè·¯"></p><p>ç”¨ HCL æ¥è¡¨è¾¾ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">int Min3 = [</span><br><span class="line">    A&lt;=B &amp;&amp; A&lt;=C : A;</span><br><span class="line">    B&lt;=A &amp;&amp; B&lt;=C : B;</span><br><span class="line">    1            : C;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>ç®—æœ¯é€»è¾‘å•å…ƒï¼ˆarithmetic/logic unit, ALUï¼‰</p><p><img src="../../../../images/2018/ALU.png" alt="ALU"></p><h3 id="é›†åˆå…³ç³»"><a href="#é›†åˆå…³ç³»" class="headerlink" title="é›†åˆå…³ç³»"></a>é›†åˆå…³ç³»</h3><p><img src="../../../../images/2018/é›†åˆå…³ç³».png" alt="é›†åˆå…³ç³»"></p><p>åœ¨è¿™ä¸ªç”µè·¯ä¸­ï¼Œä¸¤ä½çš„ä¿¡å· code å°±å¯ä»¥ç”¨æ¥æ§åˆ¶å¯¹ 4 ä¸ªæ•°æ®å­— Aã€Bã€C å’Œ D åšé€‰æ‹©ã€‚æ ¹æ®å¯èƒ½çš„ code å€¼ï¼Œå¯ä»¥ç”¨ç›¸ç­‰æµ‹è¯•æ¥è¡¨ç¤ºä¿¡å· s1 å’Œ s0 çš„äº§ç”Ÿï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bool s1= code==2 || code==3;</span><br><span class="line">bool s0= code==1 || code==3;</span><br></pre></td></tr></table></figure><p>è¿˜æœ‰ä¸€ç§æ›´ç®€æ´çš„æ–¹å¼æ¥è¡¨ç¤ºè¿™æ ·çš„å±æ€§ï¼šå½“ code åœ¨é›†åˆ<code>{2,3}</code>ä¸­ s1 ä¸º 1ï¼Œè€Œ code åœ¨é›†åˆ<code>{1,3}</code>ä¸­ s0 ä¸º 1ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bool s1= code in &#123;2,3&#125;;</span><br><span class="line">bool s0= code in &#123;1,3&#125;;</span><br></pre></td></tr></table></figure><p>åˆ¤æ–­é›†åˆå…³ç³»çš„é€šç”¨æ ¼å¼ï¼š<code>iexpr in {iexpr1, iexpr2, ... , iexprk}</code></p><h3 id="å­˜å‚¨å™¨å’Œæ—¶é’Ÿ"><a href="#å­˜å‚¨å™¨å’Œæ—¶é’Ÿ" class="headerlink" title="å­˜å‚¨å™¨å’Œæ—¶é’Ÿ"></a>å­˜å‚¨å™¨å’Œæ—¶é’Ÿ</h3><p>ç»„åˆç”µè·¯ä»æœ¬è´¨ä¸Šè®²ï¼Œä¸å­˜å‚¨ä»»ä½•ä¿¡æ¯ï¼Œå®ƒä»¬åªæ˜¯ç®€å•çš„æ ¹æ®è¾“å…¥ä¿¡å·äº§ç”Ÿä¸€ä¸ªè¾“å‡ºä¿¡å·ã€‚ä¸ºäº†äº§ç”Ÿæ—¶åºç”µè·¯ï¼ˆsequential circuitï¼‰ï¼Œä¹Ÿå°±æ˜¯æœ‰çŠ¶æ€å¹¶ä¸”åœ¨è¿™ä¸ªçŠ¶æ€ä¸Šè¿›è¡Œè®¡ç®—çš„ç³»ç»Ÿï¼Œæˆ‘ä»¬å¿…é¡»å¼•å…¥æŒ‰ä½å­˜å‚¨ä¿¡æ¯çš„è®¾å¤‡ã€‚å­˜å‚¨è®¾å¤‡éƒ½æ˜¯ç”±åŒä¸€ä¸ªæ—¶é’Ÿæ§åˆ¶ï¼Œæ—¶é’Ÿæ˜¯ä¸€ä¸ªå‘¨æœŸæ€§ä¿¡å·ï¼Œå†³å®šä»€ä¹ˆæ—¶å€™è¦æŠŠæ–°å€¼åŠ è½½åˆ°è®¾å¤‡ä¸­ã€‚è€ƒè™‘ä¸¤ç±»å­˜å‚¨å™¨è®¾å¤‡ï¼š</p><ul><li><strong>æ—¶é’Ÿå¯„å­˜å™¨</strong>ï¼ˆç®€ç§°å¯„å­˜å™¨ï¼‰å­˜å‚¨å•ä¸ªä½æˆ–å­—ã€‚æ—¶é’Ÿä¿¡å·æ§åˆ¶å¯„å­˜å™¨åŠ è½½è¾“å…¥å€¼ã€‚</li><li><strong>éšæœºè®¿é—®å­˜å‚¨å™¨</strong>ï¼ˆç®€ç§°å­˜å‚¨å™¨ï¼‰å­˜å‚¨å¤šä¸ªå­—ï¼Œç”¨åœ°å€æ¥é€‰æ‹©è¯¥è¯»æˆ–è¯¥å†™å“ªä¸ªå­—ã€‚éšæœºè®¿é—®å­˜å‚¨å™¨çš„ä¾‹å­åŒ…æ‹¬ï¼š1.å¤„ç†å™¨çš„è™šæ‹Ÿå­˜å‚¨å™¨ç³»ç»Ÿï¼ˆç”±ç¡¬ä»¶å’Œæ“ä½œç³»ç»Ÿç»“åˆèµ·æ¥ä½¿å¤„ç†å™¨å¯ä»¥åœ¨ä¸€ä¸ªå¾ˆå¤§çš„åœ°å€ç©ºé—´å†…è®¿é—®ä»»æ„çš„å­—ï¼Œç¡¬ä»¶ä¸ŠåŒ…æ‹¬ç”±ç¼“å­˜ã€å†…å­˜ã€å¤–å­˜ï¼‰ã€‚2.å¯„å­˜å™¨æ–‡ä»¶ï¼Œåœ¨æ­¤ï¼Œå¯„å­˜å™¨æ ‡è¯†ç¬¦ä½œä¸ºåœ°å€ã€‚åœ¨ IA32 æˆ– Y86 å¤„ç†å™¨ä¸­ï¼Œå¯„å­˜å™¨æ–‡ä»¶æœ‰ 8 ä¸ªç¨‹åºå¯„å­˜å™¨ï¼ˆ%eaxã€%ecx ç­‰ï¼‰ã€‚</li></ul><p>æ­£å¦‚æˆ‘ä»¬çœ‹åˆ°çš„é‚£æ ·ï¼Œåœ¨è¯´åˆ°ç¡¬ä»¶å’Œæœºå™¨çº§ç¼–ç¨‹æ—¶ï¼Œâ€œå¯„å­˜å™¨â€è¿™ä¸ªè¯æ˜¯æœ‰ä¸¤ä¸ªä¸åŒçš„æ„æ€çš„ã€‚éœ€è¦é¿å…æ­§ä¹‰çš„æ—¶å€™ï¼Œæˆ‘ä»¬åˆ†åˆ«ç§°å‘¼è¿™ä¸¤ç±»å¯„å­˜å™¨ä¸ºï¼š<code>ç¡¬ä»¶å¯„å­˜å™¨</code>å’Œ<code>ç¨‹åºå¯„å­˜å™¨</code>ã€‚</p><p>ä¸‹å›¾è¯´æ˜äº†ç¡¬ä»¶å¯„å­˜å™¨æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼š</p><p><img src="../../../../images/2018/ç¡¬ä»¶å¯„å­˜å™¨.png" alt="ç¡¬ä»¶å¯„å­˜å™¨"></p><p>å¯„å­˜å™¨æ˜¯ä½œä¸ºç”µè·¯ä¸åŒéƒ¨åˆ†ä¸­çš„ç»„åˆé€»è¾‘ä¹‹é—´çš„å±éšœã€‚æˆ‘ä»¬çš„ Y86 å¤„ç†å™¨ä¼šç”¨æ—¶é’Ÿå¯„å­˜å™¨ä¿å­˜ç¨‹åºè®¡æ•°å™¨ï¼ˆPCï¼‰ï¼Œæ¡ä»¶ç ï¼ˆCCï¼‰å’Œç¨‹åºçŠ¶æ€ï¼ˆStatï¼‰ã€‚</p><p>ä¸‹å›¾å±•ç¤ºäº†ä¸€ä¸ªå…¸å‹çš„å¯„å­˜å™¨æ–‡ä»¶ï¼š</p><p><img src="../../../../images/2018/å¯„å­˜å™¨æ–‡ä»¶.png" alt="å¯„å­˜å™¨æ–‡ä»¶"></p><p>å¯„å­˜å™¨æ–‡ä»¶æœ‰ä¸¤ä¸ªè¯»ç«¯å£ï¼Œä¸€ä¸ªå†™ç«¯å£ã€‚æ¯ä¸ªç«¯å£éƒ½æœ‰ä¸€ä¸ªåœ°å€è¾“å…¥ï¼Œåœ°å€æ˜¯å›¾ 4-4 ä¸­çš„å¯„å­˜å™¨æ ‡è¯†ç¬¦ã€‚è¿™æ ·ä¸€ä¸ªå¤šç«¯å£éšæœºè®¿é—®å­˜å‚¨å™¨å…è®¸åŒæ—¶è¿›è¡Œå¤šä¸ªè¯»å’Œå†™æ“ä½œã€‚</p><p>è™½ç„¶å¯„å­˜å™¨æ–‡ä»¶ä¸æ˜¯ç»„åˆç”µè·¯ï¼Œå› ä¸ºå®ƒæœ‰å†…éƒ¨å­˜å‚¨ã€‚ä¸è¿‡åœ¨æˆ‘ä»¬çš„å®ç°ä¸­ï¼Œä»å¯„å­˜å™¨æ–‡ä»¶ä¸­è¯»æ•°æ®å°±å¥½åƒå®ƒæ˜¯ä¸€ä¸ªä»¥åœ°å€ä¸ºè¾“å…¥ã€æ•°æ®ä¸ºè¾“å‡ºçš„ä¸€ä¸ªç»„åˆé€»è¾‘å—ã€‚å½“ srcA æˆ– srcB è¢«è®¾æˆæŸä¸ªå¯„å­˜å™¨ ID æ—¶ï¼Œåœ¨ä¸€æ®µå»¶è¿Ÿä¹‹åï¼Œå­˜å‚¨åœ¨ç›¸åº”å¯„å­˜å™¨ä¸Šçš„å€¼å°±ä¼šå‡ºç°åœ¨ valA æˆ– valB ä¸Šã€‚</p><p>å‘å¯„å­˜å™¨æ–‡ä»¶å†™å…¥å­—æ˜¯ç”±æ—¶é’Ÿä¿¡å·æ§åˆ¶çš„ï¼Œæ§åˆ¶æ–¹å¼ç±»ä¼¼äºå°†å€¼åŠ è½½åˆ°æ—¶é’Ÿå¯„å­˜å™¨ã€‚æ¯æ¬¡æ—¶é’Ÿä¸Šå‡æ—¶ï¼Œè¾“å…¥ valW ä¸Šçš„å€¼ä¼šè¢«å†™å…¥ dstW æŒ‡æ˜çš„å¯„å­˜å™¨ä¸Šã€‚å½“ dstW è®¾ä¸ºç‰¹æ®Šçš„ ID å€¼ 0xF æ—¶ï¼Œä¸ä¼šå†™ä»»ä½•ç¨‹åºå¯„å­˜å™¨ã€‚</p><p>ç”±äºå¯„å­˜å™¨æ–‡ä»¶æ—¢å¯ä»¥è¯»åˆå¯ä»¥å†™ï¼Œä¸€ä¸ªå¾ˆè‡ªç„¶çš„é—®é¢˜å°±æ˜¯ï¼šå¦‚æœæˆ‘ä»¬åŒæ—¶è¯»å’Œå†™ä¸€ä¸ªç¨‹åºå¯„å­˜å™¨ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿç­”æ¡ˆç®€å•æ˜äº†ï¼šæˆ‘ä»¬ä¼šçœ‹åˆ°ä¸€ä¸ªæ—§å€¼åˆ°æ–°å€¼çš„å˜åŒ–ã€‚æ‰€ä»¥åœ¨è®¾è®¡å¤„ç†å™¨çš„æ—¶å€™è¦æŠŠè¿™ä¸ªé—®é¢˜è€ƒè™‘è¿›å»ã€‚</p><p>æˆ‘ä»¬çš„å¤„ç†å™¨æœ‰ä¸€ä¸ªéšæœºè®¿é—®å­˜å‚¨å™¨ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="../../../../images/2018/éšæœºè®¿é—®å­˜å‚¨å™¨.png" alt="éšæœºè®¿é—®å­˜å‚¨å™¨"></p><p>åŒå¯„å­˜å™¨æ–‡ä»¶ä¸€æ ·ï¼Œä»å­˜å‚¨å™¨ä¸­è¯»çš„æ“ä½œæ–¹å¼ç±»ä¼¼äºç»„åˆé€»è¾‘ï¼šå¦‚æœæˆ‘ä»¬åœ¨è¾“å…¥ address ä¸Šæä¾›ä¸€ä¸ªåœ°å€ï¼Œå¹¶å°† write æ§åˆ¶ä¿¡å·è®¾ç½®ä¸º 0ï¼Œé‚£ä¹ˆç»è¿‡ä¸€äº›å»¶è¿Ÿä¹‹åï¼Œå­˜å‚¨åœ¨é‚£ä¸ªåœ°å€ä¸Šçš„å€¼ä¼šå‡ºç°åœ¨è¾“å‡º data ä¸Šã€‚å¦‚æœåœ°å€è¶…å‡ºäº†èŒƒå›´ï¼Œerror ä¿¡å·ä¼šç½®ä¸º 1ï¼Œå¦åˆ™å°±æ˜¯ 0ã€‚</p><p>å†™å­˜å‚¨å™¨æ˜¯ç”±æ—¶é’Ÿæ§åˆ¶çš„ï¼šæˆ‘ä»¬å°† address è®¾ç½®ä¸ºæœŸæœ›çš„åœ°å€ï¼Œå°† data in è®¾ç½®ä¸ºæœŸæœ›çš„å€¼ï¼Œè€Œ write è®¾ç½®ä¸º 1ã€‚ç„¶åæˆ‘ä»¬æ§åˆ¶æ—¶é’Ÿæ—¶ï¼Œåªè¦åœ°å€æ˜¯åˆæ³•çš„ï¼Œå°±ä¼šæ›´æ–°ç›¸åº”çš„åœ°å€ä¸­çš„å€¼ï¼Œå¦‚æœæ˜¯éæ³•åœ°å€ï¼Œerror å°±ä¼šç½®ä¸º 1ã€‚</p><h2 id="Y86-çš„é¡ºåºå®ç°"><a href="#Y86-çš„é¡ºåºå®ç°" class="headerlink" title="Y86 çš„é¡ºåºå®ç°"></a>Y86 çš„é¡ºåºå®ç°</h2><h3 id="å°†å¤„ç†ç»„ç»‡æˆé˜¶æ®µ"><a href="#å°†å¤„ç†ç»„ç»‡æˆé˜¶æ®µ" class="headerlink" title="å°†å¤„ç†ç»„ç»‡æˆé˜¶æ®µ"></a>å°†å¤„ç†ç»„ç»‡æˆé˜¶æ®µ</h3><ul><li><strong>å–æŒ‡ï¼ˆfetchï¼‰</strong>ï¼šä»å­˜å‚¨å™¨å–æŒ‡ä»¤ï¼Œåœ°å€ä¸º PC æ‰€æŒ‡çš„åœ°å€ã€‚ä»æŒ‡ä»¤ä¸­æŠ½å–å‡ºæŒ‡ä»¤æŒ‡ç¤ºç¬¦å­—èŠ‚çš„ä¸¤ä¸ªå››ä½éƒ¨åˆ†ï¼Œç§°ä¸º icodeï¼ˆæŒ‡ä»¤ä»£ç ï¼‰å’Œ ifunï¼ˆæŒ‡ä»¤åŠŸèƒ½ï¼‰ã€‚</li><li><strong>è¯‘ç ï¼ˆdecodeï¼‰</strong>ï¼šè¯‘ç é˜¶æ®µä»å¯„å­˜å™¨æ–‡ä»¶æœ€å¤šè¯»å…¥ä¸¤ä¸ªæ“ä½œæ•°ï¼Œå¾—åˆ°å€¼ valA å’Œ valBï¼ˆå¦‚æœæ˜¯ä¸¤ä¸ªçš„è¯ï¼‰ã€‚é€šå¸¸ï¼Œå®ƒè¯»å…¥æŒ‡ä»¤ rA å’Œ rB å­—æ®µæŒ‡æ˜çš„å¯„å­˜å™¨ï¼Œä¸è¿‡æœ‰äº›æŒ‡ä»¤æ˜¯è¯»å¯„å­˜å™¨%esp çš„ã€‚</li><li><strong>æ‰§è¡Œï¼ˆexecuteï¼‰</strong></li><li><strong>è®¿å­˜ï¼ˆmemoryï¼‰</strong>ï¼šè®¿å­˜é˜¶æ®µå¯ä»¥å°†æ•°æ®å†™å…¥å­˜å‚¨å™¨ï¼Œæˆ–è€…ä»å­˜å‚¨å™¨è¯»å‡ºæ•°æ®ã€‚è¯»å‡ºçš„å€¼ä¸º valMã€‚</li><li><strong>å†™å›ï¼ˆwrite backï¼‰</strong>ï¼šå†™å›é˜¶æ®µæœ€å¤šå¯ä»¥å†™ä¸¤ä¸ªç»“æœåˆ°å¯„å­˜å™¨æ–‡ä»¶ã€‚</li><li><strong>æ›´æ–° PCï¼ˆPC updateï¼‰</strong>ï¼šå°† PC è®¾ç½®æˆä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€ã€‚</li></ul><p>å¤„ç†å™¨æ— é™å¾ªç¯ï¼Œæ‰§è¡Œè¿™äº›é˜¶æ®µã€‚åœ¨æˆ‘ä»¬ç®€åŒ–çš„å®ç°ä¸­ï¼Œå‘ç”Ÿä»»ä½•å¼‚å¸¸æ—¶ï¼Œå¤„ç†å™¨å°±ä¼šåœæ­¢ã€‚æ¯”å¦‚ï¼šå®ƒæ‰§è¡Œ halt æŒ‡ä»¤æˆ–éæ³•æŒ‡ä»¤ï¼Œæˆ–è€…å®ƒè¯•å›¾è¯»æˆ–è€…å†™éæ³•åœ°å€ã€‚åœ¨æ›´å®Œæ•´çš„è®¾è®¡ä¸­ï¼Œå¤„ç†å™¨ä¼šè¿›å…¥å¼‚å¸¸å¤„ç†æ¨¡å¼ï¼Œå¼€å§‹æ‰§è¡Œç”±å¼‚å¸¸çš„ç±»å‹å†³å®šçš„ç‰¹æ®Šä»£ç ã€‚</p><p>åœ¨ç¡¬ä»¶ä¸Šå¤åˆ¶é€»è¾‘å—çš„æˆæœ¬æ¯”è½¯ä»¶ä¸­æœ‰é‡å¤ä»£ç çš„æˆæœ¬è¦å¤§å¾—å¤šã€‚è€Œä¸”åœ¨ç¡¬ä»¶ç³»ç»Ÿä¸­å¤„ç†è®¸å¤šç‰¹æ®Šæƒ…å†µå’Œç‰¹æ€§è¦æ¯”ç”¨è½¯ä»¶æ¥å¤„ç†å›°éš¾å¾—å¤šã€‚</p><p>æˆ‘ä»¬é¢ä¸´çš„ä¸€ä¸ªæŒ‘æˆ˜æ˜¯å°†æ¯æ¡ä¸åŒæŒ‡ä»¤æ‰€éœ€è¦çš„è®¡ç®—æ”¾å…¥åˆ°ä¸Šè¿°çš„é€šç”¨æ¡†æ¶ä¸­ã€‚æˆ‘ä»¬ä¼šä½¿ç”¨å›¾ 4-17 ä¸­æ‰€ç¤ºçš„ä»£ç æ¥æè¿°ä¸åŒçš„ Y86 æŒ‡ä»¤çš„å¤„ç†ã€‚å›¾ 4-18 åˆ° 4-21 æè¿°äº†ä¸åŒ Y86 æŒ‡ä»¤åœ¨å„é˜¶æ®µæ˜¯æ€æ ·å¤„ç†çš„ã€‚</p><p><img src="../../../../images/2018/Y86æŒ‡ä»¤é˜¶æ®µè§£æ.png" alt="Y86æŒ‡ä»¤é˜¶æ®µè§£æ"></p><p><img src="../../../../images/2018/4-18.png" alt="4-18"></p><p>è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªå…·ä½“çš„ä¾‹å­ï¼Œå›¾ 4-17 ä¸­çš„ç¬¬ä¸‰æ¡æŒ‡ä»¤ï¼š</p><p><img src="../../../../images/2018/sublæŒ‡ä»¤.png" alt="sublæŒ‡ä»¤"></p><p><img src="../../../../images/2018/4-19.png" alt="4-19"></p><p>å›¾ 4-17 ä¸­ç¬¬äº”æ¡æŒ‡ä»¤ï¼š</p><p><img src="../../../../images/2018/rmmovlæŒ‡ä»¤.png" alt="rmmovlæŒ‡ä»¤"></p><p><img src="../../../../images/2018/4-20.png" alt="4-20"></p><p>å›¾ 4-17 ä¸­ç¬¬å…­æ¡æŒ‡ä»¤ï¼š</p><p><img src="../../../../images/2018/pushlæŒ‡ä»¤.png" alt="pushlæŒ‡ä»¤"></p><p>å›¾ 4-21 è¡¨æ˜äº†ä¸‰ç±»æ§åˆ¶è½¬ä¹‰æŒ‡ä»¤çš„å¤„ç†ï¼šå„ç§è·³è½¬ã€call å’Œ retã€‚</p><p><img src="../../../../images/2018/4-21.png" alt="4-21"></p><p>å›¾ 4-17 ä¸­ç¬¬ 8 æ¡æŒ‡ä»¤ï¼š</p><p><img src="../../../../images/2018/jeæŒ‡ä»¤.png" alt="jeæŒ‡ä»¤"></p><p>å›¾ 4-17 ä¸­ç¬¬ 13 æ¡æŒ‡ä»¤ï¼š</p><p><img src="../../../../images/2018/retæŒ‡ä»¤.png" alt="retæŒ‡ä»¤"></p><h2 id="SEQ-ç¡¬ä»¶ç»“æ„"><a href="#SEQ-ç¡¬ä»¶ç»“æ„" class="headerlink" title="SEQ ç¡¬ä»¶ç»“æ„"></a>SEQ ç¡¬ä»¶ç»“æ„</h2><p><img src="../../../../images/2018/SEQç¡¬ä»¶ç»“æ„.png" alt="SEQç¡¬ä»¶ç»“æ„"></p>]]></content>
      
      
      
        <tags>
            
            <tag> ç¼–ç¨‹åŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€ŠCSAPPã€‹ -- ç¨‹åºçš„æœºå™¨çº§è¡¨ç¤º</title>
      <link href="/blog/2018/10/08/%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9C%BA%E5%99%A8%E7%BA%A7%E8%A1%A8%E7%A4%BA/"/>
      <url>/blog/2018/10/08/%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9C%BA%E5%99%A8%E7%BA%A7%E8%A1%A8%E7%A4%BA/</url>
      
        <content type="html"><![CDATA[<h2 id="ä»ç¼–è¯‘-C-è¯­è¨€æ–‡ä»¶è¯´èµ·"><a href="#ä»ç¼–è¯‘-C-è¯­è¨€æ–‡ä»¶è¯´èµ·" class="headerlink" title="ä»ç¼–è¯‘ C è¯­è¨€æ–‡ä»¶è¯´èµ·"></a>ä»ç¼–è¯‘ C è¯­è¨€æ–‡ä»¶è¯´èµ·</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ gcc <span class="number">-01</span> -o p p1.c p2.c</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨äº† gcc å‘½ä»¤æ¥ç¼–è¯‘ï¼Œä¹Ÿå¯ä»¥ç®€å•å†™ä½œï¼š<code>cc</code>ã€‚</p><p>ä¼˜åŒ–å±‚çº§ä¸º 1ï¼Œ1 çº§æ˜¯æœ€ä½çš„ï¼Œå±‚çº§è¶Šé«˜ç¨‹åºä¼˜åŒ–è¶Šå¥½ï¼Œä½†å¢åŠ äº†ç¼–è¯‘æ—¶é—´ï¼Œä¹Ÿä½¿è°ƒè¯•å˜å¾—æ›´éš¾ï¼Œä¸”è·Ÿæºç¨‹åºå·®å¼‚å¾ˆå¤§ä¸ä¾¿äºç†è§£ã€‚</p><p>ç¼–è¯‘çš„æµç¨‹æ˜¯ï¼š</p><ol><li>é¢„å¤„ç†å™¨ï¼ˆpreprocessorï¼‰æŠŠè¯¸å¦‚ï¼š<code>#include</code>ã€<code>#define</code>ã€<code>#if</code>ã€<code>#else</code>ã€<code>#elif</code>ã€<code>#ifdef</code>ã€<code>#endif</code>ç­‰é¢„ç¼–è¯‘æŒ‡ä»¤æ›¿æ¢æ‰ã€‚</li><li>ç¼–è¯‘å™¨ï¼ˆcompilerï¼‰æŠŠ<code>.c</code>æºæ–‡ä»¶ç¼–è¯‘æˆ<code>.s</code>çš„æ±‡ç¼–ä»£ç æ–‡ä»¶ã€‚</li><li>æ±‡ç¼–å™¨ï¼ˆassemblerï¼‰æŠŠæ±‡ç¼–ä»£ç æ–‡ä»¶è½¬æ¢æˆç›¸åº”çš„äºŒè¿›åˆ¶ç›®æ ‡æ–‡ä»¶<code>.o</code>ï¼Œç›®æ ‡æ–‡ä»¶å·²ç»æ˜¯æœºå™¨ç äº†ï¼Œåªæ˜¯æ²¡æœ‰å¡«å…¥å…¨å±€å˜é‡çš„åœ°å€ã€‚</li><li>é“¾æ¥å™¨ï¼ˆlinkerï¼‰ï¼ŒæŠŠå¤šç›®æ ‡æ–‡ä»¶å’Œåº“å‡½æ•°é“¾æ¥åœ¨ä¸€èµ·ï¼Œå½¢æˆå¯æ‰§è¡Œæ–‡ä»¶ã€‚</li></ol><a id="more"></a><p><strong>instruction set architectureï¼ŒISAï¼ŒæŒ‡ä»¤é›†ä½“ç³»ç»“æ„</strong>ï¼Œå®šä¹‰äº†å¤„ç†å™¨çŠ¶æ€ï¼ŒæŒ‡ä»¤çš„æ ¼å¼å’Œè¡Œä¸ºã€‚intel çš„æŒ‡ä»¤é›†åŒ…æ‹¬ 32 ä½çš„ï¼šIA32ï¼Œä»¥åŠ 64 ä½çš„ï¼šx86-64ã€‚</p><p>ç¼–è¯‘å™¨åšäº†æ•´ä¸ªç¼–è¯‘æµç¨‹çš„å¤§éƒ¨åˆ†å·¥ä½œï¼Œæ±‡ç¼–ä»£ç å‡ ä¹å°±æ˜¯æœºå™¨ç çš„ä¾›äººé˜…è¯»ç‰ˆã€‚æ‰€ä»¥çœ‹æ‡‚æ±‡ç¼–ä»£ç æ˜¯å…³é”®ã€‚</p><p>IA32 ç¨‹åºä»£ç å’Œ C è¯­è¨€å¾ˆä¸ç›¸åŒï¼Œä¸€äº›åœ¨ C è¯­è¨€ä¸‹çœ‹ä¸åˆ°çš„å¤„ç†å™¨çŠ¶æ€å¯ä»¥åœ¨è¿™é‡Œçœ‹åˆ°ï¼š</p><ul><li>ç¨‹åºè®¡æ•°å™¨ï¼ˆprogram counterï¼ŒPCï¼Œä¹Ÿå«ï¼šinstructor pointerï¼ŒIPï¼‰åœ¨ IA32 ä¸­å«ï¼š<code>%eip</code>ï¼ŒæŒ‡å‡ºä¸‹ä¸€æ¡æŒ‡ä»¤åœ¨å†…å­˜ä¸­çš„ä½ç½®</li><li>æ•´æ•°å¯„å­˜å™¨ï¼Œå¯ä»¥ç”¨æ¥ä¿å­˜æ•°æ®</li><li>çŠ¶æ€ç å¯„å­˜å™¨ï¼Œå¯ä»¥ç”¨æ¥å®ç°æ¡ä»¶æ§åˆ¶ä»£ç å¦‚ï¼šif å’Œ while</li><li>æµ®ç‚¹å¯„å­˜å™¨ï¼Œç”¨æ¥è®¡ç®—æµ®ç‚¹æ•°</li></ul><h2 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> accum = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sum</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t = x + y;</span><br><span class="line">    accum += t;</span><br><span class="line">    <span class="keyword">return</span> t;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœè¦çœ‹åˆ°ç¼–è¯‘å‡ºçš„æ±‡ç¼–ä»£ç ï¼Œå¯ä»¥ä½¿ç”¨<code>-S</code>é€‰é¡¹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ gcc -01 -S code.c</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±ä¼šä½¿ç¼–è¯‘æµç¨‹åœç•™åœ¨ <strong>é¢„å¤„ç†-&gt;ç¼–è¯‘</strong> é˜¶æ®µï¼Œè€Œä¸æ˜¯ç»§ç»­è¿›è¡Œæ¥ä¸‹æ¥çš„æ±‡ç¼–å’Œé“¾æ¥ï¼Œç”Ÿæˆçš„æ–‡ä»¶æ˜¯ï¼š<code>.s</code>æ±‡ç¼–æ–‡ä»¶ã€‚ç¼–è¯‘åçš„æ±‡ç¼–ä»£ç ä¸­ä¼šåŒ…å«å¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">sum:</span><br><span class="line">    pushl %ebp</span><br><span class="line">    movl %esp, %ebp</span><br><span class="line">    movl 12(%ebp), %eax</span><br><span class="line">    addl 8(%ebp), %eax</span><br><span class="line">    addl %eax, accum</span><br><span class="line">    popl %ebp</span><br><span class="line">    ret</span><br></pre></td></tr></table></figure><p>è¿™æ®µä»£ç ä¸­çš„æ¯ä¸€å¥éƒ½å¯¹åº”ä¸€ä¸ªæœºå™¨æŒ‡ä»¤ï¼Œæ¯”å¦‚ pushl è¿™å¥çš„æ„æ€å°±æ˜¯æŠŠå¯„å­˜å™¨%ebp çš„å†…å®¹ push åˆ°ç¨‹åºæ ˆï¼ˆå†…å­˜ä¸­ï¼‰ä¸Šã€‚<strong>åœ¨æ±‡ç¼–ä»£ç é‡Œæ‰€æœ‰çš„å±€éƒ¨å˜é‡éƒ½ä¸è§äº†ï¼Œå…¨å±€å˜é‡è¿˜å¯ä»¥çœ‹åˆ°ï¼Œå› ä¸ºç¼–è¯‘å™¨è¿˜æ²¡æœ‰å†³å®šè¿™ä¸ªå˜é‡åœ¨å†…å­˜ä¸­çš„å­˜å‚¨ä½ç½®ã€‚</strong></p><p>å¦‚æœæˆ‘ä»¬ä½¿ç”¨<code>-c</code>é€‰é¡¹ï¼ŒGCC å°±ä¼šæ—¢ç¼–è¯‘åˆæ±‡ç¼–ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ gcc -01 -c code.c</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±ç”Ÿæˆäº†ç›®æ ‡æ–‡ä»¶<code>code.o</code>ï¼Œåœ¨ 800bytes çš„ code.o æ–‡ä»¶ä¸­ï¼Œæœ‰ 17bytes æ˜¯å¯¹åº”ä¸Šé¢çš„æ±‡ç¼–ä»£ç çš„ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">55 89 e5 8b 45 0c 03 45 08 01 05 00 00 00 00 5d c3</span><br></pre></td></tr></table></figure><p>å¯ä»¥ä½¿ç”¨åæ±‡ç¼–å°†éš¾æ‡‚çš„ç›®æ ‡æ–‡ä»¶ä»£ç è½¬æˆæ±‡ç¼–ä»£ç ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ objdump -d code.o</span><br></pre></td></tr></table></figure><p><img src="../../../../images/2018/åæ±‡ç¼–.png" alt="åæ±‡ç¼–"></p><ul><li>IA32 æŒ‡ä»¤çš„é•¿åº¦æ˜¯ 1 åˆ° 15 å­—èŠ‚ï¼Œè¶Šå¸¸ç”¨çš„ï¼Œæ“ä½œæ•°è¶Šå°‘çš„æŒ‡ä»¤è¶ŠçŸ­ï¼Œåä¹‹åˆ™è¶Šé•¿ã€‚</li><li>ç»™å®šä¸€ä¸ªå¼€å§‹çš„ä½ç½®ï¼Œåªå¯¹åº”ä¸€ç§æœºå™¨æŒ‡ä»¤ï¼Œæ¯”å¦‚åªæœ‰<code>pushl %ebp</code>æŒ‡ä»¤æ˜¯ä»¥ 55 å¼€å¤´çš„</li><li>åæ±‡ç¼–åªéœ€è¦æ ¹æ®ç›®æ ‡æ–‡ä»¶å°±å¯ä»¥ç¿»è¯‘å‡ºæ±‡ç¼–æ–‡ä»¶</li><li>åæ±‡ç¼–å‡ºæ¥çš„æ–‡ä»¶è·Ÿç›´æ¥ç¼–è¯‘çš„æ±‡ç¼–æ–‡ä»¶æœ‰äº›ä¸ä¸€æ ·ï¼Œæ¯”å¦‚æ‰€æœ‰æŒ‡ä»¤éƒ½çœç•¥äº†åç¼€<code>l</code>ã€‚<code>l</code>æ˜¯å¤§å°æŒ‡ç¤ºç¬¦ï¼Œè€Œå¤§å¤šæ•°æƒ…å†µä¸‹æ˜¯å¯ä»¥çœç•¥ l çš„ã€‚</li></ul><blockquote><p>å¤´ä¸¤ä¸ªå±æ€§è·Ÿ<a href="https://zh.wikipedia.org/wiki/%E9%9C%8D%E5%A4%AB%E6%9B%BC%E7%BC%96%E7%A0%81" target="_blank" rel="noopener">å“ˆå¤«æ›¼ç¼–ç </a>çš„åŸç†æ˜¯ä¸€è‡´çš„ï¼Œå¯ä»¥è¯´è¿™æ˜¯ä¸€ç§é€šç”¨çš„ç¼–ç åŸåˆ™ï¼Œç¬¬ä¸€æ¡ç”¨æ¥ä¿è¯èŠ‚çœå­—èŠ‚ç©ºé—´ï¼Œç¬¬äºŒæ¡åˆ™ä¿è¯ç¼–ç çš„å”¯ä¸€æ€§ã€‚</p></blockquote><p>ç”ŸæˆçœŸæ­£å¯æ‰§è¡Œçš„æ–‡ä»¶è¿˜éœ€è¦é“¾æ¥æ“ä½œï¼Œè€Œä¸”å¿…é¡»åŒ…å« main å‡½æ•°ã€‚å‡è®¾æˆ‘ä»¬çš„<code>main.c</code>æ–‡ä»¶å¦‚ä¸‹ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> sum(<span class="number">1</span>, <span class="number">3</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¦‚ä¸‹æŒ‡ä»¤ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ gcc -01 -o prog code.o main.c</span><br></pre></td></tr></table></figure><p>prog æ–‡ä»¶å¢é•¿åˆ°äº† 9123bytesï¼Œå› ä¸ºå®ƒä¸ä»…åŒ…å«æˆ‘ä»¬å†™çš„ä»£ç ï¼Œè€Œä¸”åŒ…å«äº†ç”¨æ¥å¼€å§‹å’Œç»“æŸçš„ç¨‹åºï¼Œä»¥åŠä¸æ“ä½œç³»ç»Ÿè¿›è¡Œäº¤äº’çš„ç¨‹åºã€‚</p><p><img src="../../../../images/2018/é“¾æ¥ä¹‹åçš„åæ±‡ç¼–ä»£ç 1.png" alt="é“¾æ¥ä¹‹åçš„åæ±‡ç¼–ä»£ç 1"></p><p><img src="../../../../images/2018/é“¾æ¥ä¹‹åçš„åæ±‡ç¼–ä»£ç 2.png" alt="é“¾æ¥ä¹‹åçš„åæ±‡ç¼–ä»£ç 2"></p><p>å¯ä»¥çœ‹åˆ°ç¬¬ 6 è¡Œï¼Œå…¨å±€å˜é‡åœ¨é“¾æ¥çš„æ—¶å€™å®šå€ã€‚</p><h2 id="æ±‡ç¼–ä»£ç çš„æ ¼å¼"><a href="#æ±‡ç¼–ä»£ç çš„æ ¼å¼" class="headerlink" title="æ±‡ç¼–ä»£ç çš„æ ¼å¼"></a>æ±‡ç¼–ä»£ç çš„æ ¼å¼</h2><p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ª C è¯­è¨€æ–‡ä»¶<code>simple.c</code>ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">simple</span><span class="params">(<span class="keyword">int</span> *xp, <span class="keyword">int</span> y)</span> 2</span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t = *xp + y;</span><br><span class="line">    *xp = t;</span><br><span class="line">    <span class="keyword">return</span> t;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥å¾—åˆ°å¦‚ä¸‹æ±‡ç¼–ä»£ç ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">.file   &quot;simple.c&quot;</span><br><span class="line">  .text</span><br><span class="line">.globl simple</span><br><span class="line">  .type   simple, @function</span><br><span class="line">simple:</span><br><span class="line">  pushl   %ebp</span><br><span class="line">  movl    %esp, %ebp</span><br><span class="line">  movl    8(%ebp), %edx</span><br><span class="line">  movl    12(%ebp), %eax</span><br><span class="line">  addl    (%edx), %eax</span><br><span class="line">  movl    %eax, (%edx)</span><br><span class="line">  popl    %ebp</span><br><span class="line">  ret</span><br><span class="line">  .size   simple, .-simple</span><br><span class="line">  .ident  &quot;GCC: (Ubuntu 4.3.2-1ubuntu11) 4.3.2&quot;</span><br><span class="line">  .section        .note.GNU-stack,&quot;&quot;,@progbits</span><br></pre></td></tr></table></figure><p>æ‰€æœ‰ä»¥<code>.</code>å¼€å¤´çš„è¡Œéƒ½æ˜¯ç”¨æ¥æŒ‡å¯¼æ±‡ç¼–å™¨å’Œé“¾æ¥å™¨çš„ï¼Œæˆ‘ä»¬ä¸ç”¨å»ç®¡ã€‚è€Œè¿™æ®µä»£ç çš„å¤§æ¦‚æ„æ€å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">simple:</span><br><span class="line">    pushl %ebp           ä¿å­˜å¸§æŒ‡é’ˆ</span><br><span class="line">    movl  %esp, %ebp     åˆ›å»ºæ–°çš„å¸§æŒ‡é’ˆ</span><br><span class="line">    movl  8(%ebp), %edx  ä»å†…å­˜ä¸­è¯»å–xp</span><br><span class="line">    movl  12(%ebp), %eax ä»å†…å­˜ä¸­è¯»å–y</span><br><span class="line">    addl  (%edx), %eax   *xp+y=t</span><br><span class="line">    movl  %eax, (%edx)   æŠŠtå­˜åˆ°xpæŒ‡å‘çš„åœ°å€ä¸­</span><br><span class="line">    popl  %ebp           é‡æ–°è·å–å¸§æŒ‡é’ˆ</span><br><span class="line">    ret                  è¿”å›</span><br></pre></td></tr></table></figure><blockquote><p>è¿™æ®µä»£ç å¯¹%ebp å’Œ%esp çš„æ“ä½œæ¶‰åŠåˆ°äº†ç¨‹åºæ ˆæ¨¡å‹ï¼Œçœ‹ä¸æ‡‚å¾ˆæ­£å¸¸ï¼Œæ–‡ç« ä¸‹é¢ä¼šæœ‰è®²è§£çš„ã€‚</p></blockquote><h3 id="ATT-å’Œ-intel-æ±‡ç¼–æ ¼å¼"><a href="#ATT-å’Œ-intel-æ±‡ç¼–æ ¼å¼" class="headerlink" title="ATT å’Œ intel æ±‡ç¼–æ ¼å¼"></a>ATT å’Œ intel æ±‡ç¼–æ ¼å¼</h3><p>ATT å³ AT&amp;Tï¼Œæ˜¯è´å°”å®éªŒå®¤æ——ä¸‹çš„å…¬å¸ã€‚</p><p>GCC å’Œ OBJDUMP é»˜è®¤ç”Ÿæˆ ATT æ ¼å¼çš„æ±‡ç¼–ä»£ç ï¼Œå¾®è½¯å’Œå› ç‰¹å°”çš„ç¼–ç¨‹å·¥å…·åˆ™é»˜è®¤ç”Ÿæˆ intel æ ¼å¼çš„æ±‡ç¼–ä»£ç ã€‚</p><p>ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å¯ä»¥è®© GCC ç”Ÿæˆ intel æ ¼å¼çš„ä»£ç ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ gcc -01 -S -masm=intel code.c</span><br></pre></td></tr></table></figure><p>ä¸¤è€…çš„åŒºåˆ«å¦‚ä¸‹ï¼š</p><ul><li>intel ä»£ç çœç•¥äº†ç”¨æ¥æŒ‡å®šå¤§å°çš„åç¼€ï¼Œæ¯”å¦‚ä½¿ç”¨<code>mov</code>è€Œä¸æ˜¯<code>movl</code></li><li>intel ä»£ç çœç•¥äº†å¯„å­˜å™¨å‰é¢çš„%ï¼Œæ¯”å¦‚ä½¿ç”¨<code>esp</code>è€Œä¸æ˜¯<code>%esp</code></li><li>intel ä»£ç ç”¨äº†ä¸åŒçš„æ–¹å¼æ¥æè¿°å†…å­˜åœ°å€ï¼Œæ¯”å¦‚ä½¿ç”¨<code>DWORD PTR [ebp+8]</code>è€Œä¸æ˜¯<code>8(%ebp)</code></li><li>intel ä»£ç å¤šæ“ä½œæ•°æŒ‡ä»¤çš„æ“ä½œæ•°é¡ºåºè·Ÿ ATT ç›¸å</li></ul><p>ç”±äºæ˜¯ç”± 16bit æ¶æ„æ‰©å±•åˆ° 32bit æ¶æ„çš„ï¼Œintel ç®¡ 16bit æ•°æ®ç±»å‹å«ï¼š<code>word</code>ï¼Œ32bit æ•°æ®ç±»å‹å«ï¼š<code>double words</code>ï¼Œ64bit æ•°æ®ç±»å‹å«ï¼š<code>quad words</code>ã€‚</p><h2 id="æ•°æ®æ ¼å¼"><a href="#æ•°æ®æ ¼å¼" class="headerlink" title="æ•°æ®æ ¼å¼"></a>æ•°æ®æ ¼å¼</h2><p><img src="../../../../images/2018/æ•°æ®æ ¼å¼.png" alt="æ•°æ®æ ¼å¼"></p><h2 id="è®¿é—®æ•°æ®"><a href="#è®¿é—®æ•°æ®" class="headerlink" title="è®¿é—®æ•°æ®"></a>è®¿é—®æ•°æ®</h2><p>IA32 CPU åŒ…å«äº† 8 ä¸ªå¯„å­˜å™¨ï¼Œæ¯ä¸ªæœ‰ 32bit å­˜å‚¨ç©ºé—´ï¼Œç”¨æ¥å­˜å‚¨æ•´å½¢å€¼ä»¥åŠæŒ‡é’ˆã€‚</p><p><img src="../../../../images/2018/IA32å¯„å­˜å™¨.png" alt="IA32å¯„å­˜å™¨"></p><p>x86-64 åˆ™è¿›ä¸€æ­¥æ‰©å±•äº†è¿™äº›å¯„å­˜å™¨ï¼š</p><p><img src="../../../../images/2018/x86-64å¯„å­˜å™¨.jpg" alt="x86-64å¯„å­˜å™¨"></p><p>å‰å…­ä¸ªå¯„å­˜å™¨ç§°ä¸ºé€šç”¨å¯„å­˜å™¨ï¼Œæœ‰å…¶ç‰¹å®šçš„ç”¨é€”ï¼š</p><ul><li>%rax(%eax) ç”¨äºåšç´¯åŠ ï¼Œè¿‡ç¨‹è°ƒç”¨è¿”å›å€¼</li><li>%rcx(%ecx) ç”¨äºè®¡æ•°</li><li>%rdx(%edx) ç”¨äºä¿å­˜æ•°æ®</li><li>%rbx(%ebx) ç”¨äºåšå†…å­˜æŸ¥æ‰¾çš„åŸºç¡€åœ°å€</li><li>%rsi(%esi) ç”¨äºä¿å­˜æºç´¢å¼•å€¼</li><li>%rdi(%edi) ç”¨äºä¿å­˜ç›®æ ‡ç´¢å¼•å€¼</li></ul><h3 id="æ“ä½œæ•°æŒ‡ç¤ºç¬¦"><a href="#æ“ä½œæ•°æŒ‡ç¤ºç¬¦" class="headerlink" title="æ“ä½œæ•°æŒ‡ç¤ºç¬¦"></a>æ“ä½œæ•°æŒ‡ç¤ºç¬¦</h3><p><img src="../../../../images/2018/æ“ä½œæ•°æŒ‡ç¤ºç¬¦.png" alt="æ“ä½œæ•°æŒ‡ç¤ºç¬¦"></p><p>æœ‰ä¸‰ç§ç±»å‹çš„æ“ä½œæ•°ï¼Œç«‹å³æ•°(Imm)ã€å¯„å­˜å™¨å€¼(Reg)ã€å†…å­˜å€¼(Mem)ã€‚</p><h3 id="mov-æŒ‡ä»¤"><a href="#mov-æŒ‡ä»¤" class="headerlink" title="mov æŒ‡ä»¤"></a>mov æŒ‡ä»¤</h3><p><img src="../../../../images/2018/movæŒ‡ä»¤.png" alt="movæŒ‡ä»¤"></p><p><img src="../../../../images/2018/æ±‡ç¼–æ ˆæ“ä½œ.png" alt="æ±‡ç¼–æ ˆæ“ä½œ"></p><p><code>pushl %ebp</code>æŒ‡ä»¤ç­‰ä»·äºä¸‹é¢çš„æŒ‡ä»¤ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">subl $4,%esp     å‡å°æ ˆæŒ‡é’ˆ</span><br><span class="line">movl %ebp,(%esp) æŠŠ%ebpä¸­çš„æ•°æ®å†™åˆ°%espæŒ‡å‘çš„å†…å­˜ä¸­</span><br></pre></td></tr></table></figure><p><code>popl %eax</code>æŒ‡ä»¤ç­‰ä»·äºä¸‹é¢çš„æŒ‡ä»¤ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">movl (%esp), %ebp  æŠŠ%espæŒ‡å‘çš„å†…å­˜åœ°å€ä¸­çš„å€¼è¯»åˆ°%eaxä¸­</span><br><span class="line">addl $4, %esp      å¢åŠ æ ˆæŒ‡é’ˆ</span><br></pre></td></tr></table></figure><h2 id="ç®—æœ¯å’Œé€»è¾‘æ“ä½œ"><a href="#ç®—æœ¯å’Œé€»è¾‘æ“ä½œ" class="headerlink" title="ç®—æœ¯å’Œé€»è¾‘æ“ä½œ"></a>ç®—æœ¯å’Œé€»è¾‘æ“ä½œ</h2><p>load effective addressï¼Œleal æŒ‡ä»¤ï¼Œå®é™…ä¸Šæ˜¯ä¸€ä¸ª movl æŒ‡ä»¤ã€‚</p><p><img src="../../../../images/2018/ç®—æœ¯å’Œé€»è¾‘æ“ä½œæŒ‡ä»¤.png" alt="ç®—æœ¯å’Œé€»è¾‘æ“ä½œæŒ‡ä»¤"></p><p>å¤šä¸ªæ“ä½œæ•°çš„æŒ‡ä»¤ï¼Œæ³¨æ„ä¸€ä¸‹ä¸¤ä¸ªæ“ä½œæ•°çš„é¡ºåºå³å¯</p><h3 id="ä½ç§»æ“ä½œ"><a href="#ä½ç§»æ“ä½œ" class="headerlink" title="ä½ç§»æ“ä½œ"></a>ä½ç§»æ“ä½œ</h3><p>ä½ç§»çš„å€¼æ˜¯ç”¨ä¸€ä¸ªå•å­—èŠ‚æ¥è¡¨ç¤ºï¼Œä¸”æ•°å€¼åªèƒ½æ˜¯ 0 åˆ° 31ï¼Œæ‰€ä»¥è¿™ä¸ªå­—èŠ‚åªæœ‰ä½äº”ä½æ‰ä¼šè¢«è€ƒè™‘ã€‚</p><h3 id="æ‰©å±•ä¹˜é™¤æŒ‡ä»¤"><a href="#æ‰©å±•ä¹˜é™¤æŒ‡ä»¤" class="headerlink" title="æ‰©å±•ä¹˜é™¤æŒ‡ä»¤"></a>æ‰©å±•ä¹˜é™¤æŒ‡ä»¤</h3><p><img src="../../../../images/2018/æ‰©å±•ä¹˜é™¤æ“ä½œ.png" alt="æ‰©å±•ä¹˜é™¤æ“ä½œ"></p><h2 id="æ§åˆ¶"><a href="#æ§åˆ¶" class="headerlink" title="æ§åˆ¶"></a>æ§åˆ¶</h2><h3 id="çŠ¶æ€ç "><a href="#çŠ¶æ€ç " class="headerlink" title="çŠ¶æ€ç "></a>çŠ¶æ€ç </h3><p>ä½¿ç”¨å•æ¯”ç‰¹çš„çŠ¶æ€ç æ¥æè¿°ç®—æ•°å’Œé€»è¾‘è¿ç®—çš„çŠ¶æ€ã€‚æœ€å¸¸ç”¨çš„çŠ¶æ€ç å¦‚ä¸‹ï¼š</p><ul><li>CF: carry flag è¿›ä½ç¬¦ï¼Œç”¨æ¥è¡¨ç¤ºæœ€é«˜ä½çš„è¿›ä½ã€‚é€šå¸¸ç”¨æ¥æ£€æµ‹æ— ç¬¦å·è¿ç®—çš„æº¢å‡º</li><li>ZF: zero flagï¼Œé›¶æ ‡å¿—ç¬¦ï¼Œæœ€è¿‘çš„æ“ä½œäº§ç”Ÿäº† 0</li><li>SF: sign flagï¼Œç¬¦å·ä½ï¼Œæœ€è¿‘çš„æ“ä½œäº§ç”Ÿäº†è´Ÿæ•°</li><li>OF: overflow flagï¼Œæº¢å‡ºç¬¦ï¼Œè¡¥ç æº¢å‡ºï¼Œæ­£è´Ÿéƒ½å¯ä»¥ï¼Œè¡¨ç¤ºæœ‰ç¬¦å·æº¢å‡º</li></ul><p><img src="../../../../images/2018/æµç¨‹æ§åˆ¶æŒ‡ä»¤.png" alt="æµç¨‹æ§åˆ¶æŒ‡ä»¤"></p><p>ä¸¾ä¸ªä¾‹å­ï¼št=a+bï¼Œaã€bã€t éƒ½æ˜¯æ•´å½¢æ•°ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CF: (unsigned)t&lt;(unsigned)a       æ— ç¬¦å·æº¢å‡º</span><br><span class="line">ZF: (t==0)                        é›¶</span><br><span class="line">SF: (t&lt;0)                         è´Ÿæ•°</span><br><span class="line">OF: (a&lt;0 == b&lt;0) &amp;&amp; (t&lt;0 != a&lt;0)  æœ‰ç¬¦å·æº¢å‡º</span><br></pre></td></tr></table></figure><blockquote><p>OF çš„è¡¨è¾¾å¼ä¹Ÿå¯ä»¥å†™ä½œï¼š(a&lt;0 &amp;&amp; b<0 && t>0) || (a&gt;0 &amp;&amp; b&gt;0 &amp;&amp; t&lt;0)ï¼Œä¹Ÿå°±æ˜¯è¯´ aã€b éƒ½æ˜¯è´Ÿæ•°ç›¸åŠ å´æ˜¯æ­£æ•°ï¼Œæˆ–è€… aã€b éƒ½æ˜¯æ­£æ•°ç›¸åŠ å´æ˜¯è´Ÿæ•°ï¼Œè¿™ä¸¤ç§æƒ…å†µå°±ä»£è¡¨æº¢å‡ºäº†ã€‚</0></p></blockquote><p>leal æ“ä½œä¸ä¼šæ”¹å˜çŠ¶æ€ç ï¼Œå› ä¸ºè¿™ä¸ªæŒ‡ä»¤åªæ˜¯ç”¨æ¥è®¡ç®—åœ°å€ã€‚é™¤æ­¤ä¹‹å¤–è¡¨ 3.7 ä¸­çš„æ‰€æœ‰æ“ä½œéƒ½å¯èƒ½æ”¹å˜çŠ¶æ€ç ã€‚ä¾‹å¦‚é€»è¾‘æ“ä½œï¼šXORï¼Œä¼šä½¿ CF å’Œ OF ç½®é›¶ï¼Œç§»ä½æ“ä½œä¼šä½¿ CF ç½®ä¸ºæœ€åä¸€ä¸ªç§»ä½å‡ºå»çš„ bitï¼Œä½† OF è¦ç½®é›¶ã€‚è‡ªå¢å’Œè‡ªå‡æŒ‡ä»¤ä¼šè®¾ç½® OF å’Œ ZFï¼Œä¸è®¾ç½® CFã€‚</p><p>CMP æŒ‡ä»¤ç±»ä¼¼äº SUB æŒ‡ä»¤ï¼Œä½†åªä¿®æ”¹çŠ¶æ€ç è€Œä¸æ”¹å˜å…¶ä»–å¯„å­˜å™¨ï¼Œå¦‚æœä¸¤ä¸ªæ“ä½œæ•°ç›¸ç­‰ï¼ŒZF å°±ä¼šè¢«è®¾ç½®ï¼›TEST æŒ‡ä»¤ç±»ä¼¼äº AND æŒ‡ä»¤ï¼Œä½†åªä¿®æ”¹çŠ¶æ€ç è€Œä¸æ”¹å˜å…¶ä»–å¯„å­˜å™¨ï¼Œå¦‚æœä¸¤ä¸ªæ“ä½œæ•°æ˜¯é‡å¤çš„ï¼š testl %eax,%eaxï¼Œä½œç”¨æ˜¯æ£€æµ‹%eax æ˜¯ 0ï¼Œè¿˜æ˜¯æ­£æ•°ï¼Œè¿˜æ˜¯è´Ÿæ•°ã€‚</p><h3 id="è®¿é—®çŠ¶æ€ç "><a href="#è®¿é—®çŠ¶æ€ç " class="headerlink" title="è®¿é—®çŠ¶æ€ç "></a>è®¿é—®çŠ¶æ€ç </h3><p>æœ‰ä¸‰ç§å¸¸ç”¨çš„æ–¹å¼è®¿é—®çŠ¶æ€ç ï¼š</p><ol><li>æ ¹æ®å‡ ä¸ªçŠ¶æ€ç çš„é€»è¾‘ç»„åˆï¼Œè®¾ç½®å•ä¸ªå­—èŠ‚ä¸º 0 æˆ– 1ï¼Œä¹Ÿå°±æ˜¯ set æŒ‡ä»¤</li><li>æ ¹æ®çŠ¶æ€ç ï¼Œè·³è½¬åˆ°ç¨‹åºçš„å…¶ä»–åˆ†æ”¯</li><li>æ ¹æ®çŠ¶æ€ç ä¼ é€æ•°æ®</li></ol><p><img src="../../../../images/2018/setæŒ‡ä»¤.png" alt="setæŒ‡ä»¤"></p><p>ä¸¾ä¸ªä¾‹å­ï¼šè®¡ç®—<code>a&lt;b</code>ï¼Œa å’Œ b éƒ½æ˜¯ int å‹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a is in %edx, b is in %eax</span><br><span class="line">cmpl   %eax, %edx       Compare a:b</span><br><span class="line">setl   %al              Set low order byte of %eax to 0 or 1</span><br><span class="line">movzbl %al, %eax        Set remaining byte of %eax to 0</span><br></pre></td></tr></table></figure><p>setl æŒ‡ä»¤æ˜¯ï¼š<code>D &lt;- SF^OF</code>ï¼Œä¹Ÿå°±æ˜¯æœ‰ä¸¤ç§æƒ…å†µä»£è¡¨ <code>a-b&lt;0</code>ï¼š</p><ol><li>OF=0ï¼ˆa-b æ²¡æœ‰å‘ç”Ÿæº¢å‡ºï¼‰ï¼Œä¸” SF=1ï¼ˆa-b ç»“æœä¸ºè´Ÿï¼‰</li><li>OF=1ï¼ˆa-b å‘ç”Ÿäº†æº¢å‡ºï¼‰ï¼Œä¸” SF=0ï¼ˆa-b ç»“æœä¸ºéè´Ÿï¼‰</li></ol><p>ç¬¬äºŒç§æƒ…å†µæ¯”è¾ƒå¤æ‚ï¼Œéœ€è¦ç®€å•åˆ†æä¸€ä¸‹ã€‚a-b å‘ç”Ÿäº†æº¢å‡ºï¼Œæœ‰ä¸¤ç§æƒ…å†µï¼š<strong>æ­£æº¢å‡ºå’Œè´Ÿæº¢å‡º</strong>ã€‚è´Ÿæº¢å‡ºï¼ša æ˜¯è´Ÿæ•°ï¼Œb æ˜¯æ­£æ•°ï¼Œä½† a-b ç»“æœä¸ºæ­£ï¼ˆç»“æœå°äºäº†æœ€å°çš„è´Ÿæ•°ï¼Œå‘ç”Ÿæº¢å‡ºï¼‰ï¼›æ­£æº¢å‡ºï¼ša æ˜¯æ­£æ•°ï¼Œb æ˜¯è´Ÿæ•°ï¼Œä½† a-b ç»“æœä¸ºè´Ÿï¼ˆç»“æœå¤§äºäº†æœ€å¤§çš„æ­£æ•°ï¼Œå‘ç”Ÿæº¢å‡ºï¼‰ã€‚</p><p>æ¯”å¦‚ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-128ï¼š 1000 0000</span><br><span class="line">127:   0111 1111</span><br><span class="line">-127:  1000 0001</span><br></pre></td></tr></table></figure><p>a=-128, b=127, a-b=-128-127= $(1 0000 0001)_2$ , ä»ç»“æœä¸Šæ¥çœ‹å°±å˜æˆäº† 1ï¼ˆæ­£æ•°ï¼‰ï¼Œè¿™å°±æ˜¯è´Ÿæº¢å‡º</p><p>a=127, b=-127, a-b=127-(-127) = $(1111 1110)_2$ , ä»ç»“æœä¸Šæ¥çœ‹å°±å˜æˆäº† -2ï¼ˆè´Ÿæ•°ï¼‰ï¼Œè¿™å°±æ˜¯æ­£æº¢å‡º</p><p>OF=1, SF=0ï¼Œå°±æ˜¯è´Ÿæº¢å‡ºï¼Œè€Œè´Ÿæº¢å‡ºä»£è¡¨ç€ a æ˜¯è´Ÿæ•°ï¼Œb æ˜¯æ­£æ•°ï¼Œä¹Ÿå°±æ˜¯<code>a&lt;b</code></p><p>å…¶ä»–ä¸‰ä¸ªæœ‰ç¬¦å·æ¯”è¾ƒä»¥æ­¤ç±»æ¨ã€‚</p><h3 id="è·³è½¬æŒ‡ä»¤"><a href="#è·³è½¬æŒ‡ä»¤" class="headerlink" title="è·³è½¬æŒ‡ä»¤"></a>è·³è½¬æŒ‡ä»¤</h3><p><img src="../../../../images/2018/è·³è½¬æŒ‡ä»¤.png" alt="è·³è½¬æŒ‡ä»¤"></p><p>å¯ä»¥çœ‹åˆ°æ¡ä»¶è·³è½¬å¿…é¡»æ˜¯ç›´æ¥çš„ï¼Œè€Œæ— æ¡ä»¶è·³è½¬å¯ä»¥ä½¿ç”¨æ“ä½œæ•°ã€‚</p><p>è·³è½¬ä½ç½®çš„ç¼–ç æœ‰ä¸¤ç§ï¼š</p><ol><li>å€ŸåŠ© PC ä½¿ç”¨ç›¸å¯¹å®šä½</li><li>ä½¿ç”¨ç»å¯¹å®šä½</li></ol><p>å®ä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">jle .L2                  if &lt;=, goto dest2</span><br><span class="line">  .L5:                   dest1:</span><br><span class="line">  movl %edx, %eax</span><br><span class="line">  sarl %eax</span><br><span class="line">  subl %eax, %edx</span><br><span class="line">  leal (%edx,%edx,2), %edx</span><br><span class="line">  testl %edx, %edx</span><br><span class="line">jg .L5                   if &gt;, goto dest1</span><br><span class="line">  .L2:                   dest2:</span><br><span class="line">   movl %edx, %eax</span><br></pre></td></tr></table></figure><p>ç›®æ ‡æ–‡ä»¶å’Œæ±‡ç¼–æ–‡ä»¶å¯¹åº”å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">8: 7e 0d                 jle 17 &lt;silly+0x17&gt; Target = dest2</span><br><span class="line">a: 89 d0                 mov %edx,%eax dest1:</span><br><span class="line">c: d1 f8                 sar %eax</span><br><span class="line">e: 29 c2                 sub %eax,%edx</span><br><span class="line">10: 8d 14 52             lea (%edx,%edx,2),%edx</span><br><span class="line">13: 85 d2                test %edx,%edx</span><br><span class="line">15: 7f f3                jg a &lt;silly+0xa&gt; Target = dest1</span><br><span class="line">17: 89 d0                mov %edx,%eax dest2:</span><br></pre></td></tr></table></figure><p>å¯¹åº”çš„å…³ç³»æ˜¯ï¼š<code>0xd+0xa=0x17</code>ï¼Œ<code>0xf3+0x17=0xa</code>ï¼Œä¸ºä»€ä¹ˆæ˜¯åŠ ä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€è€Œä¸æ˜¯å½“å‰æŒ‡ä»¤å‘¢ï¼Ÿè¿™ä¸ªä¼ ç»Ÿè¦è¿½æº¯åˆ°è®¡ç®—æœºçš„æ—©æœŸå®ç°ï¼Œå½“æ—¶çš„å¤„ç†å™¨ä¼šåœ¨æ‰§è¡Œæ¯ä¸€æ¡æŒ‡ä»¤ä¹‹å‰å…ˆæ›´æ–°ä¸€ä¸‹ PCï¼ˆprogram counterï¼‰ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">804839c: 7e 0d           jle 80483ab &lt;silly+0x17&gt;</span><br><span class="line">804839e: 89 d0           mov %edx,%eax</span><br><span class="line">80483a0: d1 f8           sar %eax</span><br><span class="line">80483a2: 29 c2           sub %eax,%edx</span><br><span class="line">80483a4: 8d 14           52 lea (%edx,%edx,2),%edx</span><br><span class="line">80483a7: 85 d2           test %edx,%edx</span><br><span class="line">80483a9: 7f f3           jg 804839e &lt;silly+0xa&gt;</span><br><span class="line">80483ab: 89 d0           mov %edx,%eax</span><br></pre></td></tr></table></figure><p>ä»åæ±‡ç¼–ä»£ç æ¥çœ‹ï¼Œ<strong>è·³è½¬å¦‚æœä½¿ç”¨ PC ç›¸å¯¹åœ°å€ï¼Œåˆ™ä¸ç®¡ä»£ç å­˜å‚¨åˆ°å†…å­˜ä¸­çš„å“ªä¸ªä½ç½®ï¼Œè·³è½¬çš„åœ°å€éƒ½ä¸éœ€è¦ä¿®æ”¹ï¼Œä¸”éœ€è¦çš„ç¼–ç æ›´çŸ­</strong>ã€‚</p><h3 id="ç¿»è¯‘æ¡ä»¶åˆ†æ”¯"><a href="#ç¿»è¯‘æ¡ä»¶åˆ†æ”¯" class="headerlink" title="ç¿»è¯‘æ¡ä»¶åˆ†æ”¯"></a>ç¿»è¯‘æ¡ä»¶åˆ†æ”¯</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">if(test-expr)</span><br><span class="line">  then-statement</span><br><span class="line">else</span><br><span class="line">  else-statement</span><br></pre></td></tr></table></figure><p>å…ˆå†™æˆç­‰ä»·çš„ goto ç‰ˆæœ¬ï¼Œç„¶åå°±å¯ä»¥å¾ˆè½»æ¾çš„è½¬æˆæ±‡ç¼–äº†</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">t=test-expr;</span><br><span class="line">if(!t)</span><br><span class="line">  goto false;</span><br><span class="line">  then-statement</span><br><span class="line">  goto done;</span><br><span class="line">false:</span><br><span class="line">  else-statement</span><br><span class="line">done:</span><br></pre></td></tr></table></figure><p>ä»æ±‡ç¼–çš„è§’åº¦çœ‹ <code>&amp;&amp;çŸ­è·¯</code> åŸç†ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">void cond(int a, int *p)</span><br><span class="line">&#123;</span><br><span class="line">  if (p &amp;&amp; a &gt; 0)</span><br><span class="line">  *p += a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">a %ebp +8, p at %ebp +12</span><br><span class="line"></span><br><span class="line">movl 8(%ebp), %edx</span><br><span class="line">movl 12(%ebp), %eax</span><br><span class="line">testl %eax, %eax</span><br><span class="line">je .L3</span><br><span class="line">testl %edx, %edx</span><br><span class="line">jle .L3</span><br><span class="line">addl %edx, (%eax)</span><br><span class="line">.L3:</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ç¬¬ä¸€ä¸ªæ¡ä»¶é€šä¸è¿‡çš„æ—¶å€™å°±è·³è¿‡äº†ç¬¬äºŒä¸ªæ¡ä»¶åˆ¤æ–­ã€‚</p><h3 id="å¾ªç¯"><a href="#å¾ªç¯" class="headerlink" title="å¾ªç¯"></a>å¾ªç¯</h3><h4 id="do-while"><a href="#do-while" class="headerlink" title="do while"></a>do while</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">do</span><br><span class="line">  body-statement</span><br><span class="line">  while(test-expr)</span><br></pre></td></tr></table></figure><p>goto ç‰ˆæœ¬ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">loop:</span><br><span class="line">  body-statement</span><br><span class="line">  t = test-expr;</span><br><span class="line">  if (t)</span><br><span class="line">goto loop;</span><br></pre></td></tr></table></figure><p><img src="../../../../images/2018/whileçš„æ±‡ç¼–å½¢å¼.png" alt="whileçš„æ±‡ç¼–å½¢å¼"></p><h4 id="while"><a href="#while" class="headerlink" title="while"></a>while</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">while (test-expr)</span><br><span class="line">  body-statement</span><br></pre></td></tr></table></figure><p>å…ˆè½¬æˆ do while å½¢å¼ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">if (!test-expr)</span><br><span class="line">  goto done;</span><br><span class="line">do</span><br><span class="line">  body-statement</span><br><span class="line">  while (test-expr);</span><br><span class="line">done:</span><br></pre></td></tr></table></figure><p>åœ¨æŠŠ do while è½¬æˆ goto ç‰ˆï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">t = test-expr;</span><br><span class="line">if (!t)</span><br><span class="line">  goto done;</span><br><span class="line">loop:</span><br><span class="line">  body-statement</span><br><span class="line">  t = test-expr;</span><br><span class="line">  if (t)</span><br><span class="line">    goto loop;</span><br><span class="line">done:</span><br></pre></td></tr></table></figure><h4 id="for"><a href="#for" class="headerlink" title="for"></a>for</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">for (init-expr; test-expr; update-expr)</span><br><span class="line">  body-statement</span><br></pre></td></tr></table></figure><p>å…ˆè½¬æˆ while å½¢å¼ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">init-expr;</span><br><span class="line">while (test-expr) &#123;</span><br><span class="line">  body-statement</span><br><span class="line">  update-expr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åè½¬æˆ do while å½¢å¼ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">init-expr;</span><br><span class="line">if (!test-expr)</span><br><span class="line">  goto done;</span><br><span class="line">do &#123;</span><br><span class="line">  body-statement</span><br><span class="line">  update-expr;</span><br><span class="line">&#125; while (test-expr);</span><br><span class="line">done:</span><br></pre></td></tr></table></figure><p>æœ€åè½¬æˆ do while çš„ goto ç‰ˆæœ¬ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">init-expr;</span><br><span class="line">t = test-expr;</span><br><span class="line">if (!t)</span><br><span class="line">  goto done;</span><br><span class="line">loop:</span><br><span class="line">  body-statement</span><br><span class="line">  update-expr;</span><br><span class="line">  t = test-expr;</span><br><span class="line">  if (t)</span><br><span class="line">    goto loop;</span><br><span class="line">done:</span><br></pre></td></tr></table></figure><h3 id="çŠ¶æ€è½¬ç§»æŒ‡ä»¤"><a href="#çŠ¶æ€è½¬ç§»æŒ‡ä»¤" class="headerlink" title="çŠ¶æ€è½¬ç§»æŒ‡ä»¤"></a>çŠ¶æ€è½¬ç§»æŒ‡ä»¤</h3><p><img src="../../../../images/2018/çŠ¶æ€è¡¨è¾¾å¼.png" alt="çŠ¶æ€è¡¨è¾¾å¼"></p><p><img src="../../../../images/2018/çŠ¶æ€è½¬ç§»æŒ‡ä»¤.png" alt="çŠ¶æ€è½¬ç§»æŒ‡ä»¤"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">v = test-expr ? then-expr : else-expr;</span><br></pre></td></tr></table></figure><p>goto ç‰ˆï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">if (!test-expr)</span><br><span class="line">  goto false;</span><br><span class="line">v = true-expr;</span><br><span class="line">goto done;</span><br><span class="line">false:</span><br><span class="line">  v = else-expr;</span><br><span class="line">done:</span><br></pre></td></tr></table></figure><h3 id="switch"><a href="#switch" class="headerlink" title="switch"></a>switch</h3><p>switch ä¸»è¦ä½¿ç”¨äº†è·³è½¬è¡¨ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">switch_eg</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> result = x;</span><br><span class="line">  <span class="keyword">switch</span> (n) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">100</span>:</span><br><span class="line">      result *= <span class="number">13</span>;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">102</span>:</span><br><span class="line">      result += <span class="number">10</span>;</span><br><span class="line">      <span class="comment">/* Fall through */</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">103</span>:</span><br><span class="line">      result += <span class="number">11</span>;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">104</span>:</span><br><span class="line">    <span class="keyword">case</span> <span class="number">106</span>:</span><br><span class="line">      result *= result;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">      result = <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">switch_eg_impl</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">  <span class="comment">/* Table of code pointers */</span></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">void</span> *jt[<span class="number">7</span>] = &#123;</span><br><span class="line">    &amp;&amp;loc_A, &amp;&amp;loc_def, &amp;&amp;loc_B,</span><br><span class="line">    &amp;&amp;loc_C, &amp;&amp;loc_D, &amp;&amp;loc_def,</span><br><span class="line">    &amp;&amp;loc_D</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">unsigned</span> index = n - <span class="number">100</span>;</span><br><span class="line">  <span class="keyword">int</span> result;</span><br><span class="line">  <span class="keyword">if</span> (index &gt; <span class="number">6</span>)</span><br><span class="line">    <span class="keyword">goto</span> loc_def;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* Multiway branch */</span></span><br><span class="line">  <span class="keyword">goto</span> *jt[index];</span><br><span class="line"></span><br><span class="line">  loc_def: <span class="comment">/* Default case*/</span></span><br><span class="line">    result = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">goto</span> done;</span><br><span class="line"></span><br><span class="line">  loc_C: <span class="comment">/* Case 103 */</span></span><br><span class="line">    result = x;</span><br><span class="line">    <span class="keyword">goto</span> rest;</span><br><span class="line"></span><br><span class="line">  loc_A: <span class="comment">/* Case 100 */</span></span><br><span class="line">    result = x * <span class="number">13</span>;</span><br><span class="line">    <span class="keyword">goto</span> done;</span><br><span class="line"></span><br><span class="line">  loc_B: <span class="comment">/* Case 102 */</span></span><br><span class="line">    result = x + <span class="number">10</span>;</span><br><span class="line">    <span class="comment">/* Fall through */</span></span><br><span class="line"></span><br><span class="line">  rest: <span class="comment">/* Finish case 103 */</span></span><br><span class="line">    result += <span class="number">11</span>;</span><br><span class="line">    <span class="keyword">goto</span> done;</span><br><span class="line"></span><br><span class="line">  loc_D: <span class="comment">/* Cases 104, 106 */</span></span><br><span class="line">    result = x * x;</span><br><span class="line">    <span class="comment">/* Fall through */</span></span><br><span class="line"></span><br><span class="line">  done:</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ±‡ç¼–ä»£ç å¦‚ä¸‹ï¼š</p><p><img src="../../../../images/2018/switchæ±‡ç¼–ä»£ç .png" alt="switchæ±‡ç¼–ä»£ç "></p><p><img src="../../../../images/2018/switchè·³è½¬è¡¨1.png" alt="switchè·³è½¬è¡¨1"></p><p><img src="../../../../images/2018/switchè·³è½¬è¡¨2.png" alt="switchè·³è½¬è¡¨2"></p><p>è·³è½¬è¡¨çš„æ­¥é•¿æ˜¯ 4</p><blockquote><p>.rodata çš„æ„æ€æ˜¯ï¼šread only data</p></blockquote><h2 id="è¿‡ç¨‹è°ƒç”¨"><a href="#è¿‡ç¨‹è°ƒç”¨" class="headerlink" title="è¿‡ç¨‹è°ƒç”¨"></a>è¿‡ç¨‹è°ƒç”¨</h2><p><img src="../../../../images/2018/ç¨‹åºæ ˆå†…å­˜ç»“æ„.png" alt="ç¨‹åºæ ˆå†…å­˜ç»“æ„"></p><p>æœ‰ä»¥ä¸‹å‡ ä¸ªè¦ç‚¹ï¼š</p><ol><li>æ ˆæ˜¯å€’ç€é•¿çš„</li><li>æ¯ä¸ªè¿‡ç¨‹è°ƒç”¨éƒ½æœ‰ä¸€ä¸ª stack frameï¼Œæ ˆå¸§</li><li>æ ˆé¡¶å¸§ç”¨ä¸¤ä¸ªæŒ‡é’ˆæ¥ç»´æŠ¤ï¼Œä¸€ä¸ªæ˜¯å¸§èµ·å€ï¼š%ebpï¼Œä¸€ä¸ªæ˜¯æ ˆæŒ‡é’ˆï¼š%esp æŒ‡å‘æ ˆé¡¶ã€‚</li></ol><p>%esp åœ¨è¿‡ç¨‹è¿è¡Œçš„æ—¶å€™å¯èƒ½ä¼šè¢«æŠ¹æ‰ï¼Œè¿™æ—¶å€™å¯ä»¥é€šè¿‡%ebp æ¥å®šä½ã€‚</p><p>å¯ä»¥çœ‹åˆ°è¿”å›åœ°å€åœ¨æ¯ä¸€å¸§çš„æœ€åã€‚è€Œæ¯ä¸€å¸§çš„ç¬¬ä¸€ä¸ªä½ç½®å­˜æ”¾ç€ä¸Šä¸€å¸§çš„å¸§èµ·å€%ebpã€‚å¸§çš„ä¸­é—´åˆ™æ”¾ç½®å±€éƒ¨å˜é‡ã€è¿‡ç¨‹å‚æ•°ç­‰å€¼ã€‚</p><p>æœ‰ä»¥ä¸‹å‡ ç§æƒ…å†µä¼šå°†å±€éƒ¨å˜é‡æ”¾åˆ°æ ˆå¸§ä¸­ï¼š</p><ol><li>å±€éƒ¨å˜é‡å¤šåˆ°å¯„å­˜å™¨æ”¾ä¸ä¸‹</li><li>å±€éƒ¨å˜é‡æ˜¯æ•°ç»„æˆ–è€…ç»“æ„ä½“ï¼Œå¿…é¡»ç”¨åˆ°å¼•ç”¨</li><li>å±€éƒ¨å˜é‡ä½¿ç”¨äº†å–å€ç¬¦<code>&amp;</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬å¿…é¡»ç»™å®ƒç”Ÿæˆåœ°å€</li></ol><h3 id="è½¬ç§»æ§åˆ¶"><a href="#è½¬ç§»æ§åˆ¶" class="headerlink" title="è½¬ç§»æ§åˆ¶"></a>è½¬ç§»æ§åˆ¶</h3><p><img src="../../../../images/2018/è½¬ç§»æ§åˆ¶æŒ‡ä»¤.png" alt="è½¬ç§»æ§åˆ¶æŒ‡ä»¤"></p><p>call æŒ‡ä»¤çš„æ•ˆæœæ˜¯ï¼šæŠŠè¿”å›åœ°å€ push åˆ°æ ˆä¸­ï¼Œç„¶åè·³åˆ°è°ƒç”¨ç¨‹åºçš„åœ°å€ï¼ˆä¹Ÿå°±æ˜¯æŠŠ PC è®¾ç½®ä¸€ä¸‹ï¼‰ã€‚<strong>è¿”å›åœ°å€</strong>æ˜¯æ±‡ç¼–ä»£ç ä¸­ call æŒ‡ä»¤åé¢é‚£æ¡æŒ‡ä»¤çš„åœ°å€ã€‚</p><p>ret æŒ‡ä»¤æŠŠæ ˆé¡¶çš„è¿”å›åœ°å€ pop å‡ºæ¥ï¼Œå¹¶è·³è½¬åˆ°è¿™ä¸ªåœ°å€ã€‚</p><p><img src="../../../../images/2018/ç¨‹åºè°ƒç”¨æ¨¡å‹.png" alt="ç¨‹åºè°ƒç”¨æ¨¡å‹"></p><h3 id="å¯„å­˜å™¨ä½¿ç”¨ä¼ ç»Ÿ"><a href="#å¯„å­˜å™¨ä½¿ç”¨ä¼ ç»Ÿ" class="headerlink" title="å¯„å­˜å™¨ä½¿ç”¨ä¼ ç»Ÿ"></a>å¯„å­˜å™¨ä½¿ç”¨ä¼ ç»Ÿ</h3><p>%eax, %edx, %ecx æ˜¯è°ƒç”¨è€…ä¿å­˜å¯„å­˜å™¨ã€‚ä¹Ÿå°±æ˜¯è¯´å½“è¿‡ç¨‹ Q è¢«è¿‡ç¨‹ P è°ƒç”¨ï¼Œè¿‡ç¨‹ Q å¯ä»¥éšæ„çš„å†™è¿™ä¸‰ä¸ªå¯„å­˜å™¨ï¼Œå› ä¸ºåœ¨è°ƒç”¨ Q ä¹‹å‰ P å¿…é¡»ä¿å­˜è¿™ä¸‰ä¸ªå¯„å­˜å™¨çš„å€¼ã€‚</p><p>%ebx, %esi, %edi æ˜¯è¢«è°ƒç”¨è€…ä¿å­˜å¯„å­˜å™¨ã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨è¿‡ç¨‹ Q å†™è¿™äº›å¯„å­˜å™¨ä¹‹å‰ï¼Œå¿…é¡»ä¿å­˜é‡Œé¢çš„å€¼ï¼Œå¹¶åœ¨ return ä¹‹å‰æ¢å¤åŸæ ·ã€‚</p><h3 id="è¿‡ç¨‹è°ƒç”¨ä¾‹å­"><a href="#è¿‡ç¨‹è°ƒç”¨ä¾‹å­" class="headerlink" title="è¿‡ç¨‹è°ƒç”¨ä¾‹å­"></a>è¿‡ç¨‹è°ƒç”¨ä¾‹å­</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">int swap_add(int *xp, int *yp)</span><br><span class="line">&#123;</span><br><span class="line">  int x = *xp;</span><br><span class="line">  int y = *yp;</span><br><span class="line"></span><br><span class="line">  *xp = y;</span><br><span class="line">  *yp = x;</span><br><span class="line">  return x + y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int caller()</span><br><span class="line">&#123;</span><br><span class="line">  int arg1 = 534;</span><br><span class="line">  int arg2 = 1057;</span><br><span class="line"></span><br><span class="line">  int sum = swap_add(&amp;arg1, &amp;arg2);</span><br><span class="line">  int diff = arg1 - arg2;</span><br><span class="line">  return sum * diff;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="../../../../images/2018/è¿‡ç¨‹è°ƒç”¨å†…å­˜æ¨¡å‹.png" alt="è¿‡ç¨‹è°ƒç”¨å†…å­˜æ¨¡å‹"></p><p>ä¸€äº›ç¼–ç¨‹è¯­è¨€ï¼Œæ¯”å¦‚ Pascalï¼Œæä¾›äº†å€¼ä¼ å‚å’Œå¼•ç”¨ä¼ å‚ã€‚ä½† C è¯­è¨€åªæœ‰å€¼ä¼ å‚ï¼ŒC++æä¾›äº†å¼•ç”¨ä¼ å‚ã€‚C è¯­è¨€å¯ä»¥é€šè¿‡æŒ‡é’ˆæ¥å®ç°å¼•ç”¨ä¼ å‚ã€‚</p><p><img src="../../../../images/2018/è¿‡ç¨‹è°ƒç”¨æ±‡ç¼–ä»£ç .png" alt="è¿‡ç¨‹è°ƒç”¨æ±‡ç¼–ä»£ç "></p><p>æ€»å…±ç”³è¯·äº† 24 å­—èŠ‚çš„ç©ºé—´ï¼Œ8 å­—èŠ‚ç”¨æ¥å­˜å±€éƒ¨å˜é‡ï¼Œ8 å­—èŠ‚ç”¨æ¥å­˜å‚æ•°ï¼Œè¿˜æœ‰ 8 å­—èŠ‚æœªä½¿ç”¨ã€‚</p><blockquote><p>ä¸ºä»€ä¹ˆè¦æµªè´¹ 8 å­—èŠ‚ï¼ŒåŸå› æ˜¯ï¼šå†…å­˜å¯¹é½ã€‚GCC éµå¾ªä¸€ä¸ª x86 ç¼–ç¨‹æ–¹é’ˆï¼šæ ˆç©ºé—´å¿…é¡»æ˜¯ 16 çš„æ•´æ•°å€ï¼ŒåŒ…æ‹¬ä¿å­˜%ebp çš„ 4 å­—èŠ‚å’Œè¿”å›åœ°å€çš„ 4 å­—èŠ‚ã€‚è¿™é‡Œæ€»å…±åŠ èµ·æ¥æ˜¯ 24 å­—èŠ‚ï¼Œæ‰€ä»¥éœ€è¦é¢å¤–çš„ 8 å­—èŠ‚å¡«å……æˆ 32 å­—èŠ‚ã€‚</p></blockquote><p>swap_add çš„æ±‡ç¼–ä»£ç å¦‚ä¸‹ï¼š</p><p>åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼šsetupã€bodyã€finish</p><p>setup:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">swap_add:</span><br><span class="line">  pushl %ebp                  Save old %ebp</span><br><span class="line">  movl %esp, %ebp             Set %ebp as frame pointer</span><br><span class="line">  pushl %ebx                  Save %ebx</span><br></pre></td></tr></table></figure><p>é¦–å…ˆè¦ä¿å­˜è°ƒç”¨è€…çš„å¸§åŸºæŒ‡é’ˆï¼Œç„¶åé‡æ–°è®¾ç½®å½“å‰å¸§åŸºæŒ‡é’ˆï¼Œç„¶åå¦‚æœç”¨åˆ°%ebx,%esi,%edi ç­‰å¯„å­˜å™¨å°±éœ€è¦ä¿å­˜ã€‚</p><p>body:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">movl 8(%ebp), %edx            Get xp</span><br><span class="line">movl 12(%ebp), %ecx           Get yp</span><br><span class="line">movl (%edx), %ebx             Get x</span><br><span class="line">movl (%ecx), %eax             Get y</span><br><span class="line">movl %eax, (%edx)             Store y at xp</span><br><span class="line">movl %ebx, (%ecx)             Store x at yp</span><br><span class="line">addl %ebx, %eax               Return value = x+y</span><br></pre></td></tr></table></figure><p>è·å–å‚æ•°ï¼Œè¿›è¡Œè®¡ç®—ã€‚</p><p>finish:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">popl %ebx                     Restore %ebx</span><br><span class="line">popl %ebp                     Restore %ebp</span><br><span class="line">ret                           Return</span><br></pre></td></tr></table></figure><p>æ¢å¤ä¸¤ä¸ªå¯„å­˜å™¨ï¼ŒåŒæ—¶%esp å›åˆ°äº†ä¸Šä¸€ä¸ªå¸§çš„æ ˆé¡¶ï¼ŒæŒ‡å‘äº†è¿”å›åœ°å€ï¼Œç„¶å ret æŒ‡ä»¤å°±å¯ä»¥æŠŠ PC ç½®ä¸ºè¿”å›åœ°å€äº†ï¼Œè¿™æ ·å°±å®Œæˆäº†æ§åˆ¶æƒçš„è½¬ç§»ã€‚</p><p>ç„¶åæ‰§è¡Œè°ƒç”¨å®Œ swap_add ä¹‹åçš„ä»£ç ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">movl -4(%ebp), %edx</span><br><span class="line">subl -8(%ebp), %edx</span><br><span class="line">imull %edx, %eax</span><br><span class="line">leave</span><br><span class="line">ret</span><br></pre></td></tr></table></figure><p>leave æŒ‡ä»¤çš„ä½œç”¨æ˜¯é‡ç½®æ ˆæŒ‡é’ˆå’Œå¸§æŒ‡é’ˆï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ popl æ¥é‡ç½®ï¼Œå¾ˆç®€å•ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//ä½¿%espæŒ‡å‘%ebpçš„åœ°å€ï¼ˆä¹Ÿå°±æ˜¯Saved %ebpé‚£é‡Œï¼‰</span><br><span class="line">movl %ebp, %esp</span><br><span class="line">//poplæŒ‡ä»¤ä¼šå¯¼è‡´%esp+4ï¼Œæ‰€ä»¥%espä¹‹åä¼šæŒ‡å‘ä¸Šä¸€å¸§çš„å¸§å°¾ï¼ˆä¹Ÿå°±æ˜¯Return Addressé‚£é‡Œï¼‰ï¼Œpoplçš„å†…å®¹åˆ™æ”¾åˆ°äº†%ebpé‡Œé¢</span><br><span class="line">popl %ebp</span><br></pre></td></tr></table></figure><p>è€Œä¹‹åçš„<code>ret</code>æŒ‡ä»¤ç»§ç»­å°†<code>Return Address</code> pop å‡ºæ¥ï¼Œå¹¶å°†<code>Return Address</code>æ”¾åˆ° PC ä¸­ã€‚</p><p>ä»è¿™ä¸ªä¾‹å­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œç¼–è¯‘å™¨éµå¾ªä¸€ç»„ç®€å•çš„æƒ¯ä¾‹æ¥ç®¡ç†æ ˆç»“æ„ã€‚</p><ol><li>é€šè¿‡%ebp åŠ åç§»é‡ï¼ˆ+8,+12,...ï¼‰è®¿é—®å‚æ•°</li><li>é€šè¿‡ push æŒ‡ä»¤æˆ–è€…æ ˆæŒ‡é’ˆå‡åç§»é‡æ¥åˆ†é…æ ˆç©ºé—´</li><li>åœ¨è¿”å›å‰æ¢å¤ä¿å­˜å¥½çš„å¯„å­˜å™¨ï¼Œå¹¶ä½¿æ ˆæŒ‡é’ˆæŒ‡å‘è°ƒç”¨è€…çš„è¿”å›åœ°å€ï¼ˆReturn Addressï¼‰</li></ol><p>æ•°ç»„ã€å¤šç»´æ•°ç»„ã€ç»“æ„ä½“ã€è”åˆä½“è¿™äº›éƒ½æ¯”è¾ƒç®€å•ï¼Œè¿™é‡Œç•¥è¿‡ã€‚</p><blockquote><p>è¦æ³¨æ„çš„ç‚¹ï¼šåªæœ‰ call æ‰ä¼š push ä¸€ä¸ªè¿”å›åœ°å€ï¼Œæ‰€ä»¥ swap_add çš„æ ˆå¸§ä¸­å¹¶æ²¡æœ‰è¿”å›åœ°å€ï¼Œè¯´æ˜å®ƒæ²¡æœ‰è°ƒç”¨å…¶ä»–å‡½æ•°</p></blockquote><h2 id="æŒ‡é’ˆ"><a href="#æŒ‡é’ˆ" class="headerlink" title="æŒ‡é’ˆ"></a>æŒ‡é’ˆ</h2><p>æ¯ç§æ•°æ®ç±»å‹éƒ½æœ‰å¯¹åº”çš„æŒ‡é’ˆç±»å‹ï¼Œä½†æŒ‡é’ˆç±»å‹ä¸æ˜¯æœºå™¨ç çš„ä¸€éƒ¨åˆ†ï¼Œåªæ˜¯ C è¯­è¨€æä¾›çš„ä¸€ç§æŠ½è±¡ï¼Œå¸®åŠ©ç¨‹åºå‘˜é¿å…çŠ¯é”™ã€‚</p><h2 id="å†…å­˜å¼•ç”¨è¶Šç•Œå’Œç¼“å†²åŒºæº¢å‡º"><a href="#å†…å­˜å¼•ç”¨è¶Šç•Œå’Œç¼“å†²åŒºæº¢å‡º" class="headerlink" title="å†…å­˜å¼•ç”¨è¶Šç•Œå’Œç¼“å†²åŒºæº¢å‡º"></a>å†…å­˜å¼•ç”¨è¶Šç•Œå’Œç¼“å†²åŒºæº¢å‡º</h2><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ° C è¯­è¨€å¯¹æ•°ç»„å¼•ç”¨æ²¡æœ‰ä»»ä½•è¾¹ç•Œæ£€æŸ¥ï¼Œè€Œä¸”æ ˆé‡Œé¢æ—¢ä¿å­˜äº†å±€éƒ¨å˜é‡åˆä¿å­˜äº†å¯„å­˜å™¨å€¼ä»¥åŠè¿”å›åœ°å€ã€‚æ‰€ä»¥ä¸€æ—¦æ•°ç»„è¶Šç•Œå†™å°±ä¼šç ´åæ•´ä¸ªç¨‹åºçš„è¿è¡Œã€‚</p><p>çœ‹ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Sample implementation of library function gets() */</span></span><br><span class="line"><span class="function"><span class="keyword">char</span> *<span class="title">gets</span><span class="params">(<span class="keyword">char</span> *s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> c;</span><br><span class="line">  <span class="keyword">char</span> *dest = s;</span><br><span class="line">  <span class="keyword">int</span> gotchar = <span class="number">0</span>; <span class="comment">/* Has at least one character been read? */</span></span><br><span class="line">  <span class="keyword">while</span> ((c = getchar()) != <span class="string">'\n'</span> &amp;&amp; c != EOF) &#123;</span><br><span class="line">    *dest++ = c; <span class="comment">/* No bounds checking! */</span></span><br><span class="line">    gotchar = <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  *dest++ = <span class="string">'\0'</span>; <span class="comment">/* Terminate string */</span></span><br><span class="line">  <span class="keyword">if</span> (c == EOF &amp;&amp; !gotchar)</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">NULL</span>; <span class="comment">/* End of file or error */</span></span><br><span class="line">  <span class="keyword">return</span> s;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Read input line and write it back */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">echo</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">char</span> buf[<span class="number">8</span>]; <span class="comment">/* Way too small! */</span></span><br><span class="line">  gets(buf);</span><br><span class="line">  <span class="built_in">puts</span>(buf);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ®µ C è¯­è¨€ä»£ç å¯¹åº”çš„æ±‡ç¼–ä»£ç å¦‚ä¸‹ï¼š</p><p><img src="../../../../images/2018/getsç¼“å†²åŒºæº¢å‡º.png" alt="getsç¼“å†²åŒºæº¢å‡º"></p><p>åˆ†é…æ•°ç»„ç©ºé—´çš„æ—¶å€™æ˜¯ç›´æ¥å›ºå®šäº† 8 å­—èŠ‚ï¼Œè¿™é‡Œç»™ buf åˆ†é…çš„ç©ºé—´ä¹Ÿæ˜¯ 8 å­—èŠ‚ï¼š<code>leal -12(%ebp), %ebx</code>ï¼Œå¹¶æŠŠ buf ä½œä¸ºå‚æ•°æ”¾ç½®äºæ ˆé¡¶ã€‚</p><p><img src="../../../../images/2018/ç¼“å†²åŒºæº¢å‡ºå†…å­˜æ¨¡å‹.png" alt="ç¼“å†²åŒºæº¢å‡ºå†…å­˜æ¨¡å‹"></p><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå½“è¯»å†™ buf[8]çš„æ—¶å€™ï¼Œå®é™…ä¸Šæ˜¯åœ¨è¯»å†™<code>Saved %ebx</code>ã€‚</p><p><img src="../../../../images/2018/ç¼“å†²åŒºæ”»å‡»èŒƒå›´.png" alt="ç¼“å†²åŒºæ”»å‡»èŒƒå›´"></p><p>é€šå¸¸ç»™è¢«æ”»å‡»çš„ç¨‹åºè¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²åŒ…å«äº†å¯æ‰§è¡Œä»£ç çš„å­—èŠ‚ç¼–ç ï¼Œå¦‚æœæˆ‘ä»¬é€šè¿‡ç¼“å†²åŒºæº¢å‡ºä¿®æ”¹äº†è¿”å›åœ°å€ï¼Œé‚£ä¹ˆ ret æŒ‡ä»¤å°±å¯ä»¥è·³è½¬åˆ°æˆ‘ä»¬æ”»å‡»ä»£ç çš„ä½ç½®ã€‚</p><blockquote><p>è •è™«ï¼ˆwormsï¼‰å’Œç—…æ¯’ï¼ˆvirusesï¼‰çš„åŒºåˆ«ï¼šç›¸åŒç‚¹ï¼šéƒ½å¯ä»¥å¤åˆ¶å’Œä¼ æ’­è‡ªèº«ï¼Œä¸åŒç‚¹ï¼šè •è™«å¯ä»¥è‡ªå·±è¿è¡Œï¼Œç—…æ¯’æ˜¯æŠŠè‡ªå·±åŠ å…¥åˆ°å…¶ä»–ç¨‹åºä¸­ï¼ŒåŒ…æ‹¬æ“ä½œç³»ç»Ÿä»£ç ï¼Œç—…æ¯’æ˜¯ä¸èƒ½ç‹¬ç«‹è¿è¡Œçš„ã€‚</p></blockquote><h3 id="å¯¹æŠ—ç¼“å†²åŒºæº¢å‡ºæ”»å‡»çš„æ–¹æ³•"><a href="#å¯¹æŠ—ç¼“å†²åŒºæº¢å‡ºæ”»å‡»çš„æ–¹æ³•" class="headerlink" title="å¯¹æŠ—ç¼“å†²åŒºæº¢å‡ºæ”»å‡»çš„æ–¹æ³•"></a>å¯¹æŠ—ç¼“å†²åŒºæº¢å‡ºæ”»å‡»çš„æ–¹æ³•</h3><h4 id="æ ˆéšæœºåŒ–"><a href="#æ ˆéšæœºåŒ–" class="headerlink" title="æ ˆéšæœºåŒ–"></a>æ ˆéšæœºåŒ–</h4><p>æ”»å‡»è€…éœ€è¦æ’å…¥æ”»å‡»ä»£ç ï¼ˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼‰ï¼Œå¹¶çŸ¥é“æ”»å‡»ä»£ç çš„ä½ç½®ï¼ˆä¹Ÿå°±æ˜¯å­—ç¬¦ä¸²å­˜æ”¾çš„æ ˆåœ°å€ï¼‰ï¼Œè€Œä¸”æŒ‡å‘è¿™æ®µå­—ç¬¦ä¸²çš„æŒ‡é’ˆä¹Ÿæ˜¯è¿™ä¸ªå­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†ã€‚å¦‚æœæ ˆçš„ä½ç½®æ˜¯å›ºå®šçš„ï¼Œé‚£ä¹ˆå°±å¾ˆå®¹æ˜“çŒœåˆ°æ”»å‡»ä»£ç çš„å­˜æ”¾ä½ç½®ã€‚ç”¨å¦‚ä¸‹ä»£ç å¯ä»¥æ£€æµ‹æ ˆçš„ä½ç½®ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> local;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">"local at %p\n"</span>, &amp;local);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åªéœ€è¦æ‰“å°ä¸€ä¸ªå±€éƒ¨å˜é‡çš„åœ°å€ã€‚</p><p>æ ˆéšæœºåŒ–çš„æ€æƒ³æ˜¯ç¨‹åºæ¯æ¬¡è¿è¡Œæ—¶æ ˆçš„ä½ç½®éƒ½ä¸ä¸€æ ·ï¼Œå®ç°æ–¹å¼æ˜¯ï¼šç¨‹åºå¼€å§‹æ—¶ï¼Œåœ¨æ ˆä¸Šåˆ†é…ä¸€æ®µ 0~n å­—èŠ‚ä¹‹é—´çš„éšæœºå¤§å°çš„ç©ºé—´ï¼Œä¾‹å¦‚ä½¿ç”¨<code>alloca</code>å¯ä»¥åœ¨æ ˆä¸Šåˆ†é…ç©ºé—´ã€‚ç¨‹åºä¸ä½¿ç”¨è¿™æ®µç©ºé—´ï¼Œå®ƒçš„ä½œç”¨æ˜¯ä½¿åç»­æ ˆçš„ä½ç½®å‘ç”Ÿå˜åŒ–ã€‚åˆ†é…çš„ n å¿…é¡»è¶³å¤Ÿå¤§ï¼Œè¿™æ ·æ‰èƒ½æœ‰è¶³å¤Ÿå¤šçš„å˜åŒ–ï¼Œä½†åˆå¿…é¡»è¶³å¤Ÿå°ï¼Œè¿™æ ·æ‰ä¸ä¼šæµªè´¹ç©ºé—´ã€‚</p><p>æ ˆéšæœºåŒ–æ˜¯æ›´å¤§ä¸€ç±»æŠ€æœ¯çš„ä¸€ç§ï¼Œè¿™ç±»æŠ€æœ¯ç§°ä¸ºï¼šAddress-Space Layout Randomizationï¼ŒASLRï¼Œåœ°å€ç©ºé—´å¸ƒå±€éšæœºåŒ–ã€‚ä½†æ”»å‡»è€…è¿˜æ˜¯å¯ä»¥é‡‡å–ä¸€å®šæªæ–½æ¥å¢åŠ æ”»å‡»æˆåŠŸç‡ï¼Œä¸€ç§å¸¸è§çš„æ‰‹æ®µå°±æ˜¯åœ¨æ”»å‡»ä»£ç å‰ä¸­æ’å…¥å¾ˆé•¿ä¸€æ®µçš„<code>nop</code>æŒ‡ä»¤ï¼Œè¿™ä¸ªæŒ‡ä»¤åªä¼šä½¿ç¨‹åºè®¡æ•°å™¨ï¼ˆPCï¼‰åŠ ä¸€ï¼Œé™¤æ­¤ä¹‹å¤–æ²¡æœ‰ä»»ä½•å‰¯ä½œç”¨ã€‚åªè¦æ”»å‡»è€…èƒ½å¤ŸçŒœä¸­è¿™æ®µåºåˆ—ä¸­çš„æŸä¸ªåœ°å€ï¼Œå°±å¯ä»¥é¡ºåˆ©åˆ°è¾¾æ”»å‡»ä»£ç ã€‚è¿™ä¸ªåºåˆ—çš„å¸¸ç”¨æœ¯è¯­æ˜¯ï¼š<strong>nop sled ç©ºæ“ä½œé›ªæ©‡</strong>ã€‚</p><h4 id="æ ˆç ´åæ£€æµ‹"><a href="#æ ˆç ´åæ£€æµ‹" class="headerlink" title="æ ˆç ´åæ£€æµ‹"></a>æ ˆç ´åæ£€æµ‹</h4><p>åœ¨å±€éƒ¨ç¼“å†²åŒºå’Œæ ˆçŠ¶æ€ä¹‹é—´æ’å…¥ä¸€ä¸ªéšæœºçš„é‡‘ä¸é›€å€¼ï¼ˆä¹Ÿå«å“¨å…µå€¼ï¼‰ï¼Œä¸€æ—¦å‘ç°è¿™ä¸ªå€¼è¢«æ”¹å˜ï¼Œå°±è¯´æ˜ç¼“å†²åŒºæº¢å‡ºäº†ï¼Œé‚£ä¹ˆå°±å¯ä»¥å°†ç¨‹åºå¼‚å¸¸ä¸­æ­¢ã€‚</p><blockquote><p>æ”»å‡»è€…åªæœ‰è¾“å…¥å±€éƒ¨ç¼“å†²åŒºå˜é‡çš„æƒé™ï¼Œæ‰€ä»¥æ— ä»å¾—çŸ¥é‡‘ä¸é›€å€¼ã€‚</p></blockquote><p><img src="../../../../images/2018/é‡‘ä¸é›€å€¼.png" alt="é‡‘ä¸é›€å€¼"></p><p>GCC é»˜è®¤å°±ä¼šæ’å…¥é‡‘ä¸é›€å€¼ï¼Œå¦‚æœä¸æƒ³è¦å¯ä»¥ä½¿ç”¨å‚æ•°ï¼š<code>-fno-stack-protector</code>æ¥é˜»æ­¢ GCC äº§ç”Ÿè¿™ç§ä»£ç ã€‚å½“ä¸ä½¿ç”¨æ­¤å‚æ•°æ—¶ï¼Œäº§ç”Ÿä»£ç å¦‚ä¸‹ï¼š</p><p><img src="../../../../images/2018/å«é‡‘ä¸é›€å€¼æ±‡ç¼–ç 1.png" alt="å«é‡‘ä¸é›€å€¼æ±‡ç¼–ç 1"></p><p><img src="../../../../images/2018/å«é‡‘ä¸é›€å€¼æ±‡ç¼–ç 2.png" alt="å«é‡‘ä¸é›€å€¼æ±‡ç¼–ç 2"></p><p>æŒ‡ä»¤å‚æ•°<code>%gs20, %eax</code>æŒ‡æ˜é‡‘ä¸é›€å€¼ä½¿ç”¨ segmented addressingï¼ˆæ®µå¯»å€ï¼‰ä»å­˜å‚¨å™¨ä¸­è¯»å…¥ã€‚å°†æ®µæ ‡å¿—ä¸ºåªè¯»ï¼Œè¿™æ ·æ”»å‡»è€…å°±ä¸èƒ½åŒæ—¶ä¿®æ”¹æ®µä¸­çš„é‡‘ä¸é›€å€¼ã€‚æœ€åä½¿ç”¨<code>xorl</code>æ¯”è¾ƒæ®µå’Œæ ˆä¸­çš„é‡‘ä¸é›€å€¼ï¼Œå¦‚æœä¸ç›¸ç­‰åˆ™<code>call __stack_chk_fail</code>ã€‚</p><p>è¿™ç§åšæ³•å¯ä»¥å¸¦æ¥å¾ˆå°çš„æ€§èƒ½æŸå¤±ã€‚</p><h4 id="é™åˆ¶å¯æ‰§è¡Œä»£ç åŒºåŸŸ"><a href="#é™åˆ¶å¯æ‰§è¡Œä»£ç åŒºåŸŸ" class="headerlink" title="é™åˆ¶å¯æ‰§è¡Œä»£ç åŒºåŸŸ"></a>é™åˆ¶å¯æ‰§è¡Œä»£ç åŒºåŸŸ</h4><p>åœ¨å…¸å‹çš„ç¨‹åºä¸­ï¼Œåªæœ‰ä¿å­˜ç¼–è¯‘å™¨äº§ç”Ÿçš„ä»£ç çš„é‚£ä¸€éƒ¨åˆ†å­˜å‚¨ç©ºé—´æ‰éœ€è¦æ˜¯å¯æ‰§è¡Œçš„ã€‚å…¶ä»–éƒ¨åˆ†å¯ä»¥è¢«é™åˆ¶ä¸ºåªå…è®¸è¯»å†™ã€‚è™šæ‹Ÿå­˜å‚¨å™¨ç©ºé—´åœ¨é€»è¾‘ä¸Šåˆ†æˆäº†é¡µï¼ˆpageï¼‰ï¼Œå…¸å‹çš„æ¯é¡µæ˜¯ 2048 æˆ–è€… 4096 å­—èŠ‚ã€‚ç”±ç¡¬ä»¶æä¾›å­˜å‚¨å™¨ä¿æŠ¤ã€‚ä»¥å‰ï¼Œx86 ä½“ç³»ç»“æ„å°†è¯»å’Œæ‰§è¡Œè®¿é—®æ§åˆ¶åˆå¹¶æˆä¸€ä¸ª 1 ä½æ ‡å¿—ï¼Œæ‰€ä»¥ä»»ä½•è¢«æ ‡è®°ä¸ºå¯è¯»çš„éƒ¨åˆ†ä¹Ÿæ˜¯å¯æ‰§è¡Œçš„ï¼Œå½“ç„¶ä¹Ÿæœ‰å¾ˆå¤šæœºåˆ¶å¯ä»¥é™åˆ¶ä¸€äº›é¡µæ˜¯å¯è¯»çš„ä½†æ˜¯ä¸å¯æ‰§è¡Œï¼Œç„¶è€Œè¿™äº›æœºåˆ¶éƒ½å¾ˆæ¶ˆè€—æ€§èƒ½ã€‚æœ€è¿‘ï¼ŒAMDï¼ˆAdvanced Micro Devicesï¼‰ä¸ºå®ƒçš„ 64 ä½å¤„ç†å™¨çš„å†…å­˜åŠ å…¥äº† NX, No-eXecuteï¼Œä¸å¯æ‰§è¡Œä½ï¼Œintel ä¹Ÿè·Ÿè¿›äº†ï¼Œæ£€æŸ¥é¡µæ˜¯å¦å¯æ‰§è¡Œç”±ç¡¬ä»¶æ¥å®Œæˆï¼Œæ•ˆç‡ä¸Šæ²¡æœ‰ä»»ä½•æŸå¤±ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> ç¼–ç¨‹åŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æµ®ç‚¹æ•°åŸç†</title>
      <link href="/blog/2018/09/27/%E6%B5%AE%E7%82%B9%E6%95%B0%E5%8E%9F%E7%90%86/"/>
      <url>/blog/2018/09/27/%E6%B5%AE%E7%82%B9%E6%95%B0%E5%8E%9F%E7%90%86/</url>
      
        <content type="html"><![CDATA[<p><strong>æµ®ç‚¹æ•°çš„ä½œç”¨</strong>ï¼šåŒºåˆ«äºæ•´å½¢æ•°ï¼Œç”¨æ¥è¡¨ç¤ºå°æ•°ã€‚å¯ä»¥ç”¨æ¥è¡¨ç¤ºå¾ˆå¤§çš„æ•°ï¼Œæˆ–è€…éå¸¸æ¥è¿‘ 0 çš„å°æ•°ï¼Œæˆ–è€…è¿‘ä¼¼çš„åšå®æ•°è®¡ç®—ï¼Œæµ®ç‚¹æ•°çš„ä¸€èˆ¬å½¢å¼ï¼š$x\times 2^y$ã€‚</p><blockquote><p><strong>IEEEï¼ˆpronounced â€œEye-Triple-Eeeâ€ï¼‰æµ®ç‚¹æ•°æ ‡å‡†</strong> æ˜¯è¡Œä¸šå†…å…¬è®¤çš„æ ‡å‡†ã€‚</p></blockquote><p><strong>rounding</strong>ï¼šwhen a number cannot be represented exactly in the format and hence must be adjusted upward or downwardã€‚å¯ä»¥ç¿»è¯‘ä¸ºï¼š<strong>èˆå…¥</strong>ã€‚</p><p>åè¿›åˆ¶çš„å°æ•°è¡¨ç¤ºï¼š$d_m d_{m-1} \cdots d_1 d_0 . d_{-1} d_{-2} \cdots d_{-n}$ï¼Œå†™æˆæ•°å­¦è¡¨è¾¾å¼ï¼š</p><p>$$<br>d = \sum_{i=-n}^m 10^i \times d_i<br>$$</p><p>ç›¸åº”çš„ï¼ŒäºŒè¿›åˆ¶ä¹Ÿå¯ä»¥å†™æˆè¿™ç§å½¢å¼ï¼š</p><p>$$<br>b = \sum_{i=-n}^m 2^i \times b_i<br>$$</p><a id="more"></a><h1 id="æµ®ç‚¹æ•°çš„è¡¨ç¤º"><a href="#æµ®ç‚¹æ•°çš„è¡¨ç¤º" class="headerlink" title="æµ®ç‚¹æ•°çš„è¡¨ç¤º"></a>æµ®ç‚¹æ•°çš„è¡¨ç¤º</h1><p>IEEE æµ®ç‚¹æ•°çš„æ ¼å¼ï¼š$V = (-1)^s \times M \times 2^E$</p><ul><li>s æ˜¯ç¬¦å·ï¼ˆSignï¼‰ï¼Œs ä¸º 0 æ—¶æ˜¯æ­£ï¼Œs ä¸º 1 æ—¶æ˜¯è´Ÿ</li><li>M æ˜¯æœ‰æ•ˆæ•°å­—ï¼ˆSignificandï¼Œå³ <strong>å°¾æ•°</strong>ï¼‰</li><li>E æ˜¯ <strong>æŒ‡æ•°</strong>ï¼ŒExponentï¼Œä¹Ÿå« <strong>å¹‚æ•°</strong>ï¼Œ<strong>é˜¶ç </strong></li><li>éšå«çš„ <strong>åŸºæ•°</strong> æ˜¯ 2</li></ul><p>ä¸‹å›¾æ˜¯æµ®ç‚¹æ•°çš„å†…å­˜åˆ†å¸ƒæ¨¡å‹ï¼Œé¦–å…ˆæ˜¯ç¬¦å·åŸŸï¼Œç„¶åæ˜¯æŒ‡æ•°åŸŸï¼Œæœ€åæ˜¯åˆ†æ•°åŸŸï¼š</p><p><img src="../../../../images/æµ®ç‚¹æ•°å†…å­˜æ¨¡å‹.png" alt="æµ®ç‚¹æ•°å†…å­˜æ¨¡å‹"></p><ul><li>ç¬¦å·ä½ s ä¸ªï¼Œç¬¦å·ä½åªéœ€è¦ä¸€ä½ï¼Œs=1</li><li>æŒ‡æ•°ä½ k ä¸ªï¼ŒæŒ‡æ•°åŸŸ $exp=e_{k-1}\cdots e_1 e_0$ï¼Œç”¨æ¥è®¡ç®—æŒ‡æ•° E</li><li>åˆ†æ•°ä¸º n ä¸ªï¼Œåˆ†æ•°åŸŸ $frac=f_{n-1}\cdots f_1 f_0$ï¼Œç”¨æ¥è®¡ç®—æœ‰æ•ˆæ•°å­— M</li></ul><p>32 ä½æµ®ç‚¹æ•°ï¼ˆå•ç²¾åº¦ï¼Œfloat å‹ï¼‰ä¸­ï¼Œs=1ï¼Œk=8ï¼Œn=23ï¼›64 ä½æµ®ç‚¹æ•°ï¼ˆåŒç²¾åº¦ï¼Œdouble å‹ï¼‰ä¸­ï¼Œs=1ï¼Œk=11ï¼Œn=52ã€‚</p><h2 id="æ­£å¸¸åŒ–å€¼ï¼ˆNormalized-Valuesï¼‰"><a href="#æ­£å¸¸åŒ–å€¼ï¼ˆNormalized-Valuesï¼‰" class="headerlink" title="æ­£å¸¸åŒ–å€¼ï¼ˆNormalized Valuesï¼‰"></a>æ­£å¸¸åŒ–å€¼ï¼ˆNormalized Valuesï¼‰</h2><p>å½“ $exp$ åŸŸæ—¢ä¸æ˜¯å…¨ 0ï¼Œä¹Ÿä¸æ˜¯å…¨ 1 çš„æ—¶å€™ï¼Œå°±æ˜¯æ­£å¸¸åŒ–å€¼ã€‚</p><p>$E = e - Bias$ï¼Œå…¶ä¸­ $e$ å°±æ˜¯ $exp$ åŸŸï¼š$e_{k-1}\cdots e_1e_0$ çš„å€¼ï¼ˆé™¤å»å…¨ 0 å’Œå…¨ 1 ä¹‹åï¼Œå–å€¼èŒƒå›´æ˜¯ 1 åˆ°$2^k-2$ï¼‰ï¼Œ$Bias=2^{k-1}-1$ï¼ˆå•ç²¾åº¦çš„æ—¶å€™æ˜¯ 127ï¼ŒåŒç²¾åº¦çš„æ—¶å€™æ˜¯ 1023ï¼‰ï¼Œé‚£ä¹ˆ $E$ çš„å–å€¼èŒƒå›´ï¼Œå•ç²¾åº¦çš„æ—¶å€™æ˜¯ï¼š<code>-126 ~ +127</code>ï¼ŒåŒç²¾åº¦çš„æ—¶å€™æ˜¯ï¼š<code>-1022 ~ +1023</code>ï¼Œå…¶å® $E$ çš„ç®—æ³•å°±æ˜¯ <strong>ç§»ç </strong> çš„è®¡ç®—æ–¹æ³•ã€‚</p><p>$M = 1+f$ï¼Œ$0\le f\lt 1$ï¼Œå†…å­˜é‡Œåªè®°å½• fï¼Œè€Œ 1 ä½œä¸ºä¸€ä¸ªå‰å¯¼å€¼è®¡ç®—æ—¶å€™å†åŠ ä¸Šï¼Œæ‰€ä»¥ f æ˜¯åˆ†æ•°åŸŸ $frac$ çš„ $0.f_{n-1}\cdots f_1f_0$ è¿™ç§å½¢å¼</p><h2 id="éæ­£å¸¸åŒ–å€¼ï¼ˆDenormalized-Valuesï¼‰"><a href="#éæ­£å¸¸åŒ–å€¼ï¼ˆDenormalized-Valuesï¼‰" class="headerlink" title="éæ­£å¸¸åŒ–å€¼ï¼ˆDenormalized Valuesï¼‰"></a>éæ­£å¸¸åŒ–å€¼ï¼ˆDenormalized Valuesï¼‰</h2><p>å½“æŒ‡æ•°åŸŸå…¨ 0ï¼Œå°±æ˜¯éæ­£å¸¸åŒ–æ ¼å¼ã€‚</p><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒæŒ‡æ•°å€¼æ˜¯ $E = 1-Bias$ï¼Œä¹Ÿå°±æ˜¯å›ºå®šäº†ï¼Œæœ‰æ•ˆæ•°å­—å€¼ $M = f$ ä¹Ÿå°±æ˜¯æ²¡æœ‰å‰å¯¼ 1 äº†ã€‚è¿™ä¸ªæ ¼å¼ä¸‹å¯ä»¥è¡¨ç¤º 0ï¼Œå› ä¸ºæ­£å¸¸åŒ–å€¼ä¸­ï¼Œä¸€å®šæœ‰ï¼š $M\ge 1$ï¼Œæ‰€ä»¥æˆ‘ä»¬æ— æ³•åœ¨æ­£å¸¸åŒ–å€¼æ ¼å¼ä¸‹è¡¨ç¤º 0ã€‚å½“ç¬¦å·ä½æ˜¯ 0ï¼Œæœ‰æ•ˆæ•°å­— $M=f=0$ï¼Œæˆ‘ä»¬å¾—åˆ°çš„å°±æ˜¯<code>+0.0</code>ï¼Œå½“ç¬¦å·ä½æ˜¯ 1 çš„æ—¶å€™å°±æ˜¯<code>-0.0</code>ã€‚</p><p>é™¤äº†å¯ä»¥è¡¨ç¤º 0ï¼Œè¿™ä¸ªæ ¼å¼çš„å¦ä¸€ä¸ªä½œç”¨å°±æ˜¯ç”¨æ¥è¡¨ç¤ºéå¸¸æ¥è¿‘ 0 çš„æ•°ã€‚</p><h2 id="ç‰¹æ®Šå€¼ï¼ˆSpecial-Valuesï¼‰"><a href="#ç‰¹æ®Šå€¼ï¼ˆSpecial-Valuesï¼‰" class="headerlink" title="ç‰¹æ®Šå€¼ï¼ˆSpecial Valuesï¼‰"></a>ç‰¹æ®Šå€¼ï¼ˆSpecial Valuesï¼‰</h2><p>å½“æŒ‡æ•°åŸŸå…¨ 1 çš„æ—¶å€™ï¼Œä¸”åˆ†æ•°åŸŸæ˜¯å…¨ 0ï¼Œå°±è¡¨ç¤ºæ— ç©·å¤§ï¼Œå¦‚æœç¬¦å·åŸŸä¸º 0ï¼Œè¡¨ç¤º $+\infty$ï¼Œå¦‚æœç¬¦å·ä½æ˜¯ 1ï¼Œåˆ™è¡¨ç¤º $-\infty$ã€‚æ— ç©·å¤§å¯ä»¥ä½œä¸ºæº¢å‡ºçš„ç»“æœï¼Œå½“æˆ‘ä»¬ç”¨ä¸¤ä¸ªå¾ˆå¤§çš„æ•°ç›¸ä¹˜ï¼Œæˆ–è€…é™¤ä»¥ 0ï¼›</p><p>å½“æŒ‡æ•°åŸŸå…¨ 1ï¼Œä¸”åˆ†æ•°åŸŸå¹¶éå…¨ 0 çš„æ—¶å€™ï¼Œç»“æœå¯ä»¥å«åšï¼š<code>NaN</code>ï¼ˆNot a Number çš„ç®€å†™ï¼‰ï¼Œè¿™ç§å€¼ç”¨æ¥è¡¨ç¤ºä¸èƒ½ç”¨å®æ•°æˆ–è€…æ— ç©·å¤§è¡¨ç¤ºçš„è®¡ç®—ç»“æœï¼Œæ¯”å¦‚è®¡ç®—ï¼š$\sqrt{-1}$ æˆ–è€… $\infty - \infty$ã€‚</p><h2 id="ç»¼åˆç†è§£"><a href="#ç»¼åˆç†è§£" class="headerlink" title="ç»¼åˆç†è§£"></a>ç»¼åˆç†è§£</h2><p>ä¸‹å›¾æ˜¯ä¸‰ç±»æµ®ç‚¹æ•°åœ¨æ•°è½´ä¸Šçš„æ˜¾ç¤ºï¼š</p><p><img src="../../../../images/æµ®ç‚¹æ•°ä¸‰ç§ç±»å‹.png" alt="æµ®ç‚¹æ•°ä¸‰ç§ç±»å‹"></p><p>å¯ä»¥çœ‹åˆ°éæ­£å¸¸åŒ–å€¼é›†ä¸­åœ¨ 0 é™„è¿‘ï¼Œæ­£å¸¸åŒ–å€¼æ•£å¸ƒåœ¨æ•´ä¸ªæ•°è½´çš„ç©ºé—´ï¼Œç‰¹æ®Šå€¼åˆ™åªè¡¨ç¤ºä¸¤ä¸ªæ— ç©·å€¼ã€‚</p><p>ä¸‹å›¾æ˜¯æµ®ç‚¹æ•°ä¸‰ç§ç±»å‹çš„å…‰æ»‘è¡”æ¥ï¼š</p><p><img src="../../../../images/æµ®ç‚¹æ•°ä¸‰ç§ç±»å‹å…‰æ»‘è¡”æ¥.png" alt="æµ®ç‚¹æ•°ä¸‰ç§ç±»å‹å…‰æ»‘è¡”æ¥"></p><p>çœ‹å®Œæµ®ç‚¹æ•°çš„è®¾è®¡å’Œæ„é€ æˆ‘ä»¬å¯ä»¥å‘ç°ä»¥ä¸‹è¿™äº›ç‰¹ç‚¹ï¼š</p><ul><li><strong>ä»ç¼–ç ä¸Šæœ‰æ•ˆæ•°å­—åŸŸé‡‡ç”¨äº†æ— ç¬¦å·æ•´æ•°ç¼–ç ï¼Œè€ŒæŒ‡æ•°åŸŸé‡‡ç”¨äº†ç§»ç ç¼–ç </strong></li><li><strong>éæ­£å¸¸åŒ–å€¼å‡åŒ€åˆ†å¸ƒåœ¨ 0 é™„è¿‘</strong></li><li><strong>æ­£å¸¸åŒ–å€¼çš„é—´éš”éšç€ $2^E$ å˜å¤§è€Œé€æ¸å˜å¤§ï¼Œä¹Ÿå°±æ˜¯ç²¾åº¦é€æ¸é™ä½</strong></li><li><strong>ç²¾åº¦æ˜¯åˆ†ç»„çš„ï¼Œä»¥ $2^E$ å¢åŠ  1 ä¸ºä¸€ç»„ï¼Œæ¯ç»„æœ‰ $2^n$ ä¸ªæ•°ï¼ˆn æ˜¯æœ‰æ•ˆæ•°å­—åŸŸçš„ä½æ•°ï¼‰</strong></li><li><strong>æœ€é«˜ç²¾åº¦å°±æ˜¯ä¸¤ä¸ªéæ­£å¸¸åŒ–å€¼çš„é—´éš”ï¼Œæœ€ä½ç²¾åº¦æ˜¯æœ€å¤§çš„ä¸€ç»„æ­£å¸¸åŒ–å€¼çš„ç›¸é‚»ä¸¤æ•°çš„é—´éš”ã€‚</strong></li><li><strong>éæ­£å¸¸åŒ–å€¼æŒ‰ç…§ç²¾åº¦åªå ä¸€ç»„ï¼Œæ­£å¸¸åŒ–å€¼çš„æ•°é‡æ˜¯éæ­£å¸¸åŒ–å€¼æ•°é‡çš„ $2^{k}-2$ å€</strong></li><li><strong>æ­£å¸¸åŒ–å€¼çš„ç¬¬ä¸€ç»„çš„ç²¾åº¦å’Œéæ­£å¸¸åŒ–å€¼çš„ç²¾åº¦ä¸€æ ·ï¼Œä¹Ÿå°±æ˜¯å®ç°äº†æ— ç¼è¡”æ¥</strong></li></ul><h1 id="æµ®ç‚¹æ•°çš„è®¡ç®—"><a href="#æµ®ç‚¹æ•°çš„è®¡ç®—" class="headerlink" title="æµ®ç‚¹æ•°çš„è®¡ç®—"></a>æµ®ç‚¹æ•°çš„è®¡ç®—</h1><h2 id="èˆå…¥"><a href="#èˆå…¥" class="headerlink" title="èˆå…¥"></a>èˆå…¥</h2><p><img src="../../../../images/èˆå…¥å››ç§ç­–ç•¥.png" alt="èˆå…¥å››ç§ç­–ç•¥"></p><p><a href="https://en.wikipedia.org/wiki/Rounding" target="_blank" rel="noopener">Rounding ç»´åŸºç™¾ç§‘</a></p><p><a href="https://upload.wikimedia.org/wikipedia/commons/8/8a/Comparison_rounding_graphs_SMIL.svg" target="_blank" rel="noopener">å„ç§ Rounding åˆé›†å›¾</a></p><p>æµ®ç‚¹æ•°ä¸­ä½¿ç”¨çš„æ˜¯ï¼šèˆå…¥åˆ°æœ€è¿‘çš„å¶æ•°ï¼Œå› ä¸ºèˆå…¥ç»“æœæ”¾å¤§å’Œç¼©å°å„å  50%çš„æ¦‚ç‡ï¼Œè¿™æ ·å°±å¯ä»¥é˜²æ­¢æœ€ç»ˆç»“æœåå¤§æˆ–è€…åå°ã€‚</p><p>ä¸‹é¢æ˜¯æŠŠæµ®ç‚¹æ•°èˆå…¥åˆ°å°æ•°ç‚¹åä¸¤ä½æ•°ï¼š</p><p>$10.00011_2(2\frac{3}{32})$ -&gt; $10.00_2(2)$ ä¸åˆ°ä¸€åŠï¼Œæ­£å¸¸å››èˆäº”å…¥<br>$10.00110_2(2\frac{3}{16})$ -&gt; $10.01_2(2\frac{1}{4})$ è¶…è¿‡ä¸€åŠï¼Œæ­£å¸¸å››èˆäº”å…¥<br>$10.11100_2(2\frac{7}{8})$ -&gt; $11.00_2(3)$ æ­£å¥½ä¸€åŠï¼Œä¿è¯æœ€åä¸€ä½æ˜¯å¶æ•°ï¼Œæ‰€ä»¥å‘ä¸Šèˆå…¥<br>$10.10100_2(2\frac{5}{8})$ -&gt; $10.10_2(2\frac{1}{2})$ æ­£å¥½ä¸€åŠï¼Œä¿è¯æœ€åä¸€ä½æ˜¯å¶æ•°ï¼Œæ‰€ä»¥å‘ä¸‹èˆå…¥</p><h2 id="æµ®ç‚¹æ•°åŠ å‡è¿ç®—"><a href="#æµ®ç‚¹æ•°åŠ å‡è¿ç®—" class="headerlink" title="æµ®ç‚¹æ•°åŠ å‡è¿ç®—"></a>æµ®ç‚¹æ•°åŠ å‡è¿ç®—</h2><h3 id="åŸºæœ¬æ€§è´¨"><a href="#åŸºæœ¬æ€§è´¨" class="headerlink" title="åŸºæœ¬æ€§è´¨"></a>åŸºæœ¬æ€§è´¨</h3><ul><li>ç›¸åŠ å¯èƒ½äº§ç”Ÿ infinity æˆ–è€… NaN</li><li>ä¸æ»¡è¶³äº¤æ¢å¾‹ï¼Œä¸æ»¡è¶³ç»“åˆå¾‹ï¼ˆå› ä¸ºèˆå…¥ä¼šé€ æˆç²¾åº¦ä¸Šçš„æŸå¤±ï¼‰</li><li>åŠ ä¸Š 0 ç­‰äºåŸæ¥çš„æ•°</li><li>é™¤äº† infinity å’Œ NaNï¼Œæ¯ä¸ªå…ƒç´ éƒ½æœ‰å¯¹åº”çš„ç›¸åæ•°</li><li>é™¤äº† infinity å’Œ NaNï¼Œæ»¡è¶³å•è°ƒæ€§ï¼Œå³ $a\ge b \rightarrow a+c\ge b+c$</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// æµ®ç‚¹æ•°åŠ æ³•ä¸æ»¡è¶³äº¤æ¢å¾‹</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="number">3.14</span> + <span class="number">1e20</span> - <span class="number">1e20</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="number">1e20</span> - <span class="number">1e20</span> + <span class="number">3.14</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">// æµ®ç‚¹æ•°åŠ æ³•ä¸æ»¡è¶³ç»“åˆå¾‹</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; (<span class="number">3.14</span> + <span class="number">1e20</span>) - <span class="number">1e20</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="number">3.14</span> + (<span class="number">1e20</span> - <span class="number">1e20</span>) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœ:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">0</span><br><span class="line">3.14</span><br><span class="line">0</span><br><span class="line">3.14</span><br></pre></td></tr></table></figure><h3 id="å…·ä½“ç»†èŠ‚"><a href="#å…·ä½“ç»†èŠ‚" class="headerlink" title="å…·ä½“ç»†èŠ‚"></a>å…·ä½“ç»†èŠ‚</h3><p>è®¾ä¸¤ä¸ªæµ®ç‚¹æ•° $x$ å’Œ $y$ï¼š</p><p>$$<br>\begin{cases}<br>x=(-1)^{s_x} M_x 2^{E_x} \<br>y=(-1)^{s_y} M_y 2^{E_y}<br>\end{cases}<br>$$</p><p>åˆ™æµ®ç‚¹æ•°åŠ å‡è¿ç®—ç»“æœä¸ºï¼š</p><p>$$<br>x\pm y = \left((-1)^{s_x}M_x 2^{E_x-E_y} \pm (-1)^{s_y}M_y \right)2^{E_y}<br>$$</p><ol><li><strong>å¯¹é˜¶</strong>ï¼šé¦–å…ˆè¦æŠŠæŒ‡æ•°ä½ï¼ˆé˜¶ç ï¼‰è°ƒæˆä¸€æ ·ï¼Œå¹¶ç›¸åº”çš„ä½¿ M ç§»ä½ï¼Œç”±äºæœ‰æ•ˆåŸŸå·¦ç§»ä¼šå¼•èµ·æœ€é«˜æœ‰æ•ˆä½ä¸¢å¤±ï¼Œè¯¯å·®å¤§ï¼Œæ‰€ä»¥é‡‡ç”¨å³ç§»ï¼Œæ­¤æ—¶é˜¶ç è¦å¢åŠ ã€‚æ‰€ä»¥å¯¹é˜¶åŸåˆ™æ˜¯ï¼š<strong>å°é˜¶å‘å¤§é˜¶çœ‹é½</strong>ã€‚</li><li><strong>æœ‰æ•ˆæ•°åŠ å‡</strong>ï¼šç®€å•çš„æ— ç¬¦å·æ•°å­—ç›¸åŠ å‡ã€‚</li><li><strong>è§„æ ¼åŒ–</strong>ï¼šæœ‰æ•ˆæ•°æ±‚å’Œç»“æœå¯èƒ½å¤§äº 1ï¼Œé‚£ä¹ˆå°±å‘å³è§„æ ¼åŒ–ï¼šå°¾æ•°å³ç§» 1 ä½ï¼Œé˜¶ç åŠ  1ã€‚</li><li><strong>èˆå…¥</strong>ï¼šå¯¹äºå³ç§»å‡ºå»çš„ä½ï¼Œé‡‡å–èˆå…¥</li><li><strong>æ£€æŸ¥é˜¶ç æ˜¯å¦æº¢å‡º</strong>ï¼š<ul><li><strong>é˜¶ç ä¸‹æº¢</strong>ï¼šè¿ç®—ç»“æœä¸ºéè§„æ ¼åŒ–æ•°</li><li><strong>é˜¶ç ä¸Šæº¢</strong>ï¼šç½®æº¢å‡ºæ ‡å¿—</li></ul></li></ol><h3 id="æµ®ç‚¹æ•°åŠ å‡å®ä¾‹"><a href="#æµ®ç‚¹æ•°åŠ å‡å®ä¾‹" class="headerlink" title="æµ®ç‚¹æ•°åŠ å‡å®ä¾‹"></a>æµ®ç‚¹æ•°åŠ å‡å®ä¾‹</h3><p>$x=3.14, y=2.718$ æ±‚ $z=x+y$ã€‚</p><p>é¦–å…ˆç®—å‡º $x$ å’Œ $y$ çš„å†…å­˜è¡¨ç¤ºï¼š</p><p>$x = 3+0.14$ï¼Œ3 çš„äºŒè¿›åˆ¶è¡¨ç¤ºæ˜¯<code>11</code>ï¼Œ0.14 çš„äºŒè¿›åˆ¶è¦ç¨å¾®è®¡ç®—ä¸€ä¸‹ï¼Œæˆ‘ä»¬è®© 0.14 ä¸æ–­çš„ä¹˜ä»¥ 2ï¼ˆä¹Ÿå°±æ˜¯å·¦ç§»ï¼‰ï¼Œå¾—åˆ°çš„æ•´æ•°ä½éƒ¨åˆ†å°±æ˜¯å…¶äºŒè¿›åˆ¶å€¼çš„ä¸€ä½ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">0.14 * 2 = 0.28     0</span><br><span class="line">0.28 * 2 = 0.56     0</span><br><span class="line">0.56 * 2 = 1.12     1</span><br><span class="line">0.12 * 2 = 0.24     0</span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line">.</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥å†™ä¸ªç¨‹åºæ¥å®Œæˆè¿™ä¸ªè®¡ç®—å·¥ä½œï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–æ•´å½¢æ•°çš„ä½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getDigits</span><span class="params">(<span class="keyword">int</span> num)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(num/<span class="number">10</span>&gt;<span class="number">0</span>)&#123;</span><br><span class="line">        num %= <span class="number">10</span>;</span><br><span class="line">        count++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è·å–å°æ•°çš„äºŒè¿›åˆ¶è¡¨ç¤º</span></span><br><span class="line"><span class="comment"> * @params precision äºŒè¿›åˆ¶è¡¨ç¤ºç²¾ç¡®åˆ°å¤šå°‘ä½</span></span><br><span class="line"><span class="comment"> * @params num å°æ•°çš„æ•´æ•°è¡¨ç¤º</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">char</span>* <span class="title">getFloatBitset</span><span class="params">(<span class="keyword">int</span> precision, <span class="keyword">int</span> num)</span></span>&#123;</span><br><span class="line">    <span class="keyword">char</span>* res = <span class="keyword">new</span> <span class="keyword">char</span>[precision];</span><br><span class="line">    <span class="keyword">int</span> digits = getDigits(num);</span><br><span class="line">    <span class="keyword">int</span> mod = <span class="built_in">pow</span>(<span class="number">10</span>, digits);</span><br><span class="line">    <span class="keyword">char</span> printFormat[<span class="number">50</span>];</span><br><span class="line">    <span class="built_in">sprintf</span>(printFormat,<span class="string">"%%0.%df"</span>,<span class="number">2</span>);</span><br><span class="line">    <span class="comment">// cout &lt;&lt; printFormat &lt;&lt;endl;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;precision;i++)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(printFormat, num*<span class="number">1.0</span>/mod);</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">" * 2 = "</span>;</span><br><span class="line">        num &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(num &gt;= mod)&#123;</span><br><span class="line">            <span class="built_in">printf</span>(printFormat, num*<span class="number">1.0</span>/mod);</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"       1"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            num %= mod;</span><br><span class="line">            res[i] = <span class="string">'1'</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">printf</span>(printFormat, num*<span class="number">1.0</span>/mod);</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"       0"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            res[i] = <span class="string">'0'</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è·å–å°æ•°çš„äºŒè¿›åˆ¶è¡¨ç¤º</span></span><br><span class="line"><span class="comment"> * @params precision äºŒè¿›åˆ¶è¡¨ç¤ºç²¾ç¡®åˆ°å¤šå°‘ä½</span></span><br><span class="line"><span class="comment"> * @params num æµ®ç‚¹å‹å°æ•°</span></span><br><span class="line"><span class="comment"> * @params digits è¾“å…¥çš„æ—¶å€™æµ®ç‚¹å‹å°æ•°çš„ä½æ•°</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">char</span>* <span class="title">getFloatBitset2</span><span class="params">(<span class="keyword">int</span> precision, <span class="keyword">float</span> num, <span class="keyword">int</span> digits)</span></span>&#123;</span><br><span class="line">    <span class="keyword">char</span>* res = <span class="keyword">new</span> <span class="keyword">char</span>[precision];</span><br><span class="line">    <span class="keyword">int</span> mod = <span class="built_in">pow</span>(<span class="number">10</span>,digits);</span><br><span class="line">    <span class="comment">// cout&lt;&lt;mod&lt;&lt;endl;</span></span><br><span class="line">    <span class="keyword">char</span> printFormat[<span class="number">50</span>];</span><br><span class="line">    <span class="built_in">sprintf</span>(printFormat,<span class="string">"%%0.%df"</span>,<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;precision;i++)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(printFormat, num);</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">" * 2 = "</span>;</span><br><span class="line">        num*=<span class="number">2</span>;</span><br><span class="line">        num = round(num*mod)/mod;</span><br><span class="line">        <span class="keyword">if</span>(num &gt;= <span class="number">1</span>)&#123;</span><br><span class="line">            <span class="built_in">printf</span>(printFormat, num);</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"       1"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            num -= <span class="number">1</span>;</span><br><span class="line">            res[i] = <span class="string">'1'</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">printf</span>(printFormat, num);</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"       0"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            res[i] = <span class="string">'0'</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>* argv[])</span></span>&#123;</span><br><span class="line">    <span class="comment">// char* res = getFloatBitset(atoi(argv[1]), atoi(argv[2]));</span></span><br><span class="line">    <span class="keyword">char</span>* res = getFloatBitset2(atoi(argv[<span class="number">1</span>]), atof(argv[<span class="number">2</span>]), atoi(argv[<span class="number">3</span>]));</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; res &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç ä¿å­˜æˆï¼š<code>float2Bitset.cpp</code>æ–‡ä»¶ï¼Œç„¶åç¼–è¯‘ï¼Œå¹¶ä½¿ç”¨ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ g++ -o float2Bitset float2Bitset.cpp</span><br><span class="line">$ ./float2Bitset 23 0.14 2</span><br></pre></td></tr></table></figure><p>å°æ•°ä½ç²¾ç¡®åˆ° 23 ä½çš„è¯ï¼Œ3.14 çš„å®šç‚¹æµ®ç‚¹æ•°è¡¨ç¤ºæ˜¯ï¼š<code>11.00100011110101110000101</code>ã€‚</p><p>è½¬æˆæµ®ç‚¹æ•°ï¼Œé¦–å…ˆè§„æ ¼åŒ– Mï¼Œé‚£ä¹ˆæ•´ä½“è¦å³ç§» 1 ä½ï¼ŒæŒ‡æ•°æ˜¯ 1ï¼Œç”± $E = e-Bias$ï¼Œ$E=1$, $Bias=127$ å¾— $e=128$ï¼Œä¹Ÿå°±æ˜¯ï¼š<code>1000 0000</code>ã€‚</p><p>æœ€ç»ˆ 3.14 çš„å†…å­˜è¡¨ç¤ºæ˜¯ï¼š</p><p>$$<br>\underbrace{0}_{Sign}~\underbrace{10000000}_{Exponent}~~\underbrace{10010001111010111000011}_{Significand}<br>$$</p><p>åŒæ ·çš„æ–¹æ³•å¾—åˆ° 2.718 çš„å†…å­˜è¡¨ç¤ºï¼š</p><p>$$<br>\underbrace{0}_{Sign}~\underbrace{10000000}_{Exponent}~~\underbrace{01011011111001110110110}_{Significand}<br>$$</p><p>è¿™ä¸¤ä¸ªæ•°æ°å¥½æ˜¯åŒé˜¶çš„ï¼Œé‚£ä¹ˆå°±ä¸éœ€è¦å¯¹é˜¶æ“ä½œäº†ã€‚å°† M ç›¸åŠ ï¼Œä½†è¿™ä¸ªæ•°å¤ªé•¿äº†çœ‹ç€çœ¼èŠ±ï¼Œæˆ‘ä»¬å†™ä¸ªåŠ æ³•ç¨‹åºï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†ä¸¤ä¸ªç›¸åŒä½æ•°çš„äºŒè¿›åˆ¶æ•°ç›¸åŠ </span></span><br><span class="line"><span class="function"><span class="keyword">char</span>* <span class="title">addBitset</span><span class="params">(<span class="keyword">char</span> num1[], <span class="keyword">char</span> num2[], <span class="keyword">int</span> length)</span></span>&#123;</span><br><span class="line">    <span class="keyword">char</span>* res = <span class="keyword">new</span> <span class="keyword">char</span>[length+<span class="number">2</span>];</span><br><span class="line">    res[length+<span class="number">1</span>] = <span class="string">'\0'</span>;</span><br><span class="line">    <span class="keyword">int</span> carry = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=length<span class="number">-1</span>;i&gt;=<span class="number">0</span>;i--)&#123;</span><br><span class="line">        res[i+<span class="number">1</span>] = num1[i]-<span class="string">'0'</span>+num2[i]-<span class="string">'0'</span>+carry+<span class="string">'0'</span>;</span><br><span class="line">        carry = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>(res[i+<span class="number">1</span>]&gt;<span class="string">'1'</span>)&#123;</span><br><span class="line">            res[i+<span class="number">1</span>] -= <span class="number">2</span>;</span><br><span class="line">            carry = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(carry)&#123;</span><br><span class="line">        res[<span class="number">0</span>]=<span class="string">'1'</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        res[<span class="number">0</span>]=<span class="string">'0'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>* argv[])</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(argv[<span class="number">1</span>][i]!=<span class="string">'\0'</span>)&#123;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; i &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">char</span>* res = addBitset(argv[<span class="number">1</span>], argv[<span class="number">2</span>], i);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; res &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šè¿°ä»£ç ä¿å­˜æˆï¼š<code>addBitset.cpp</code>ï¼Œç¼–è¯‘å¹¶ä½¿ç”¨è¯¥ç¨‹åºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ g++ -o addBitset addBitset.cpp</span><br><span class="line">$ ./addBitset 10010001111010111000011 01011011111001110110110</span><br></pre></td></tr></table></figure><p>ç›¸åŠ ç»“æœç­‰äºï¼š<code>0 11101101110100101111001</code>ï¼Œæœ€é«˜ä½æ²¡æœ‰äº§ç”Ÿè¿›ä½ï¼Œè¿™é‡Œç”¨äº†ä¸€ä¸ª 0 æ¥ä»£æ›¿ï¼Œä½†ä¸¤ä¸ªå‰å¯¼ 1 ç›¸åŠ äº§ç”Ÿäº†è¿›ä½ï¼Œæ‰€ä»¥è¿˜éœ€è¦å¯¹ M å³å½’ä¸€ä¸‹ï¼Œå†å¯¹æŒ‡æ•°åŠ  1ã€‚æ‰€ä»¥åŠ æ³•ç»“æœçš„æµ®ç‚¹æ•°è¡¨ç¤ºæ˜¯ï¼š</p><p>$$<br>\underbrace{0}_{Sign}~\underbrace{10000001}_{Exponent}~~\underbrace{01110110111010010111101}_{Significand}<br>$$</p><p>è¿™ä¸ªæ•°çš„åè¿›åˆ¶è¡¨ç¤ºçš„è®¡ç®—æ–¹æ³•æ˜¯ï¼š$$2^2 \times (1+0\times (\frac{1}{2})^1 + 1\times (\frac{1}{2})^2 + 1\times (\frac{1}{2})^3 +1\times (\frac{1}{2})^4+0\times(\frac{1}{2})^5+\cdots)$$</p><p>æˆ‘ä»¬ä¾ç„¶é‡‡ç”¨ç¨‹åºæ¥è®¡ç®—è¿™ä¸€é•¿ä¸²äºŒè¿›åˆ¶å¯¹åº”çš„åè¿›åˆ¶å°æ•°ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">bitset2Float</span><span class="params">(<span class="keyword">char</span>* num1, <span class="keyword">int</span> length)</span></span>&#123;</span><br><span class="line">    <span class="keyword">double</span> res = <span class="number">0.0</span>;</span><br><span class="line">    <span class="keyword">int</span> count=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;length;i++)&#123;</span><br><span class="line">        <span class="keyword">double</span> temp = (num1[i]-<span class="string">'0'</span>)/<span class="built_in">pow</span>(<span class="number">2</span>,count);</span><br><span class="line">        <span class="comment">// cout &lt;&lt; temp &lt;&lt; endl;</span></span><br><span class="line">        res += temp;</span><br><span class="line">        count++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>* argv[])</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(argv[<span class="number">1</span>][i]!=<span class="string">'\0'</span>)&#123;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">double</span> res = bitset2Float(argv[<span class="number">1</span>],i);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; res &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šè¿°ä»£ç ä¿å­˜ä¸ºï¼š<code>Bitset2float.cpp</code>ï¼Œç¼–è¯‘å¹¶æ‰§è¡Œï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ g++ -o Bitset2float Bitset2float.cpp</span><br><span class="line">$ ./Bitset2float 01110110111010010111101</span><br></pre></td></tr></table></figure><p>å¯¹å¾—åˆ°ç»“æœï¼š<code>0.4645</code>ï¼Œ$1.4645\times 2^2 = 5.858$ï¼Œè€Œ $3.14+2.718=5.858$ï¼Œè¿™å°±è¯´æ˜æˆ‘ä»¬çš„è®¡ç®—æ— è¯¯ã€‚</p><h3 id="ç®—æ³•æµç¨‹å›¾"><a href="#ç®—æ³•æµç¨‹å›¾" class="headerlink" title="ç®—æ³•æµç¨‹å›¾"></a>ç®—æ³•æµç¨‹å›¾</h3><p><img src="../../../../images/æµ®ç‚¹æ•°åŠ å‡æµç¨‹å›¾.jpg" alt="æµ®ç‚¹æ•°åŠ å‡æµç¨‹å›¾"></p><p>è¿™ä¸ªæµç¨‹å›¾å¹¶ä¸æ˜¯å®Œç¾çš„ï¼ŒçœŸå®çš„æµ®ç‚¹æ•°æµç¨‹å›¾å’Œæµ®ç‚¹æ•°è®¡ç®—ç”µè·¯æ¯”è¿™ä¸ªå¤æ‚ã€‚å¦å¤–æˆ‘å¿˜ç”»äº†ä¸€ä¸ªä¸œè¥¿ï¼Œè¿™ä¸ªå›¾æœ€ååº”è¯¥åŠ ä¸Šæº¢å‡ºå¤„ç†æ¨¡å—ï¼ŒE å¯èƒ½ä¼šä¸Šæº¢ï¼ˆå½“ E åŠ  1 çš„æ—¶å€™ï¼‰ï¼Œä¹Ÿå¯èƒ½ä¼šä¸‹æº¢ï¼ˆå½“ E å‡ 1 çš„æ—¶å€™ï¼‰ã€‚</p><p>æœ€åè¿™ä¸ªæµç¨‹å›¾ä¸­æ²¡æœ‰å¯¹ç‰¹æ®Šå€¼çš„åˆ¤æ–­ï¼Œæ¯”å¦‚ï¼š$\infty - \infty = NaN$, $\infty + \infty = \infty$, $NaN + ä»»ä½•æ•° = NaN$ã€‚</p><p>äº†è§£äº†æµ®ç‚¹æ•°åŠ æ³•çš„æµç¨‹ä¹‹åï¼Œæœ€åæˆ‘ä»¬å›åˆ°æœ€ä¸Šé¢è¯´çš„ <strong>æµ®ç‚¹æ•°åŠ å‡æ³•ä¸æ»¡è¶³äº¤æ¢å¾‹å’Œç»“åˆå¾‹</strong>ï¼Œä»è®¡ç®—ç»†èŠ‚åˆ†æä¸ºä»€ä¹ˆä¸è¡Œã€‚</p><p>é¦–å…ˆ 3.14 çš„æµ®ç‚¹æ•°è¡¨ç¤ºæˆ‘ä»¬å·²ç»è®¡ç®—è¿‡äº†ï¼Œé‚£ä¹ˆ 1e20 çš„æµ®ç‚¹æ•°æ˜¯å¤šå°‘å‘¢ï¼Ÿ1e20 ä¹Ÿå°±æ˜¯ $10^{20}$ï¼Œç”¨è¾—è½¬ç›¸é™¤æ³•å¯ä»¥å¾—åˆ°å…¶äºŒè¿›åˆ¶è¡¨ç¤ºã€‚æˆ‘ä»¬è¿™é‡Œä½¿ç”¨è®¡ç®—å™¨å·¥å…·</p><p><img src="../../../../images/10çš„19æ¬¡æ–¹çš„äºŒè¿›åˆ¶.png" alt="10çš„19æ¬¡æ–¹çš„äºŒè¿›åˆ¶"></p><p>å¾ˆé—æ†¾çš„æ˜¯ 64bit åªèƒ½æ‘†çš„ä¸‹ $10^{19}$ã€‚æˆ‘è¯•äº†ä¸€ä¸‹æŠŠæºç¨‹åºä¸­çš„ 1e20 æ¢æˆ 1e19 ä¹Ÿæ˜¯åŒæ ·çš„ç»“æœã€‚æ‰€ä»¥æˆ‘ä»¬å°±ä½¿ç”¨ 1e19 æ¥åˆ†æè¿™é“é¢˜ã€‚</p><p>é¦–å…ˆæ˜¯ M è§„æ ¼åŒ–ï¼ŒM å³ç§» 63 ä½ï¼ŒE åŠ  63ï¼Œèˆå…¥ Mï¼Œé‚£ä¹ˆ 1e19 æœ€ç»ˆçš„åŒç²¾åº¦æµ®ç‚¹æ•°è¡¨ç¤ºæ˜¯ï¼š<code>0 10000111110 0001010110001110010001100000100100010011110100000000</code></p><p>å°é˜¶å‘å¤§é˜¶çœ‹é½ï¼Œ3.14 çš„é˜¶æ˜¯ 1ï¼ŒM éœ€è¦å³ç§» 62 ä½ï¼Œè€Œ M çš„ç²¾åº¦æ‰ 52ï¼Œå¯æƒ³è€ŒçŸ¥ M å°±æ˜¯ 0 äº†ã€‚é‚£ä¹ˆ 3.14 + 1e19 çš„ç»“æœå°±æ˜¯ <strong>1e19</strong>ã€‚1e20 å°±æ›´åŠ ä¸ç”¨è¯´äº†ã€‚</p><h2 id="æµ®ç‚¹æ•°ä¹˜é™¤"><a href="#æµ®ç‚¹æ•°ä¹˜é™¤" class="headerlink" title="æµ®ç‚¹æ•°ä¹˜é™¤"></a>æµ®ç‚¹æ•°ä¹˜é™¤</h2><h3 id="åŸºæœ¬æ€§è´¨-1"><a href="#åŸºæœ¬æ€§è´¨-1" class="headerlink" title="åŸºæœ¬æ€§è´¨"></a>åŸºæœ¬æ€§è´¨</h3><ul><li>ç›¸ä¹˜å¯èƒ½äº§ç”Ÿ infinity æˆ–è€… NaN</li><li>ä¸æ»¡è¶³äº¤æ¢å¾‹ï¼Œç»“åˆå¾‹ï¼Œåˆ†é…ç‡ï¼ˆå› ä¸ºæº¢å‡ºä¼šé€ æˆç¨‹åºæ— æ³•è®¡ç®—å‡ºæ­£ç¡®çš„ç»“æœï¼‰</li><li>ä¹˜ä»¥ 1 ä¼šç­‰äºåŸæ¥çš„æ•°</li><li>é™¤äº† infinity å’Œ NaNï¼Œæ»¡è¶³å•è°ƒæ€§ï¼š$a\ge b \rightarrow a\times c \ge b \times c$</li></ul><h3 id="å…·ä½“ç»†èŠ‚-1"><a href="#å…·ä½“ç»†èŠ‚-1" class="headerlink" title="å…·ä½“ç»†èŠ‚"></a>å…·ä½“ç»†èŠ‚</h3><p>è®¾ä¸¤ä¸ªæµ®ç‚¹æ•° $x$ å’Œ $y$ ï¼š</p><p>$$<br>\begin{cases}<br>x = \pm M_x 2^{E_x} \<br>y = \pm M_y 2^{E_y}<br>\end{cases}<br>$$</p><p>åˆ™æµ®ç‚¹æ•°ä¹˜é™¤è¿ç®—ç»“æœæ˜¯ï¼š</p><p>$$<br>xy = \pm (M_x\times M_y)2^{E_x\pm E_y}<br>$$</p><ol><li>è®¡ç®—é˜¶ç ï¼Œåˆ¤æ–­æ˜¯å¦æº¢å‡º</li><li>æ±‚æœ‰æ•ˆæ•°çš„ä¹˜ç§¯</li><li>æœ‰æ•ˆæ•°èˆå…¥</li><li>è®¡ç®—ç¬¦å·ä½</li></ol><p>æµ®ç‚¹æ•°è¿˜æœ‰ç›¸å½“å¤šçš„ç»†èŠ‚ï¼Œå¯ä»¥å‚è€ƒï¼š<a href="https://zh.wikipedia.org/wiki/IEEE_754" target="_blank" rel="noopener">IEEE 754</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> ç¼–ç¨‹åŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>wsl oh my zsh å­—ç¬¦ä¹±ç é—®é¢˜</title>
      <link href="/blog/2018/09/20/wsl-oh-my-zsh%E5%AD%97%E4%BD%93%E9%97%AE%E9%A2%98/"/>
      <url>/blog/2018/09/20/wsl-oh-my-zsh%E5%AD%97%E4%BD%93%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="å®‰è£…-oh-my-zsh"><a href="#å®‰è£…-oh-my-zsh" class="headerlink" title="å®‰è£… oh my zsh"></a>å®‰è£… oh my zsh</h2><p>é¦–å…ˆæ£€æŸ¥è‡ªå·±æœ‰æ²¡æœ‰ zshï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/shells</span><br></pre></td></tr></table></figure><p>å¦‚æœæœ‰çš„è¯å°±ä¸‹è½½<a href="https://github.com/robbyrussell/oh-my-zsh" target="_blank" rel="noopener">oh my zsh</a></p><a id="more"></a><h2 id="è®¾ç½®é»˜è®¤-shell"><a href="#è®¾ç½®é»˜è®¤-shell" class="headerlink" title="è®¾ç½®é»˜è®¤ shell"></a>è®¾ç½®é»˜è®¤ shell</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chsh -s /bin/zsh</span><br></pre></td></tr></table></figure><p>æœ‰å¯èƒ½ä¼šé‡åˆ°è®¾ç½®ä¸æˆåŠŸçš„é—®é¢˜ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨ä¿®æ”¹<code>/etc/passwd</code>ï¼Œæ‰¾åˆ°è‡ªå·±é‚£ä¸€æ¡é…ç½®ä¿¡æ¯ï¼ŒæŠŠé»˜è®¤ shell æ”¹æˆ<code>/bin/zsh</code>å°± OK äº†ã€‚</p><h2 id="å­—ä½“é—®é¢˜"><a href="#å­—ä½“é—®é¢˜" class="headerlink" title="å­—ä½“é—®é¢˜"></a>å­—ä½“é—®é¢˜</h2><p><code>-&gt;</code>ç­‰ä¸€äº›å…¶ä»–å­—ç¬¦å¯èƒ½æ˜¾ç¤ºä¸å‡ºæ¥ï¼Œè¿™æ˜¯å­—ä½“å¯¼è‡´çš„ã€‚google ä¸€ä¸‹ï¼š<code>wsl oh my zsh font</code>ï¼Œæ‰¾åˆ°ï¼š<a href="https://github.com/Microsoft/WSL/issues/1517" target="_blank" rel="noopener">https://github.com/Microsoft/WSL/issues/1517</a>ï¼Œä¸‹è½½å¹¶è®¾ç½®å­—ä½“ä¸ºï¼š<a href="https://github.com/powerline/fonts/blob/master/DejaVuSansMono/DejaVu%20Sans%20Mono%20for%20Powerline.ttf" target="_blank" rel="noopener">DejaVuSansMono</a>ã€‚</p><h2 id="æ€ä¹ˆè®¾ç½®å­—ä½“"><a href="#æ€ä¹ˆè®¾ç½®å­—ä½“" class="headerlink" title="æ€ä¹ˆè®¾ç½®å­—ä½“"></a>æ€ä¹ˆè®¾ç½®å­—ä½“</h2><p>å³é”®æ ‡é¢˜æ ï¼Œè¿›å…¥å±æ€§</p>]]></content>
      
      
      
        <tags>
            
            <tag> wsl </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>wslä¿®æ”¹å³é”®bashå›¾æ ‡</title>
      <link href="/blog/2018/09/19/wsl%E4%BF%AE%E6%94%B9%E5%8F%B3%E9%94%AEbash%E5%9B%BE%E6%A0%87/"/>
      <url>/blog/2018/09/19/wsl%E4%BF%AE%E6%94%B9%E5%8F%B3%E9%94%AEbash%E5%9B%BE%E6%A0%87/</url>
      
        <content type="html"><![CDATA[<p>ä½¿ç”¨ windows subsystem for linux (ç®€ç§°ï¼šWSL) çš„æ—¶å€™ï¼Œé‡åˆ°ä¸€ä¸ªå°é—®é¢˜ï¼Œåœ¨æ–‡ä»¶ç®¡ç†å™¨ä¸­å³é”®ï¼Œå”¤å‡º bashï¼Œå‘ç°å›¾æ ‡ä¸å¯¹ï¼š</p><p><img src="https://i.loli.net/2018/09/19/5ba25208ca7de.png" alt="æˆªå›¾1"></p><a id="more"></a><p>ç‚¹å‡»ä¹‹åå¯ä»¥çœ‹åˆ°è°ƒç”¨çš„æ˜¯å“ªä¸ªç¨‹åºï¼š</p><p><img src="https://i.loli.net/2018/09/19/5ba254dbe66ea.png" alt="æˆªå›¾2"></p><p>google ä¸€ä¸‹ï¼š<code>windows å³é”®å›¾æ ‡</code>ï¼Œæœåˆ°ç™¾åº¦ç»éªŒï¼š<a href="https://jingyan.baidu.com/article/7c6fb428321b4a80642c90fd.html" target="_blank" rel="noopener">https://jingyan.baidu.com/article/7c6fb428321b4a80642c90fd.html</a>ï¼Œç…§ç€ä¿®æ”¹å°±è¡Œäº†ã€‚</p><p>å¦‚å›¾ï¼š</p><p><img src="https://i.loli.net/2018/09/19/5ba255cbd964f.png" alt="æˆªå›¾3"></p><p>é‚£ä¹ˆæ”¹æˆä»€ä¹ˆå‘¢ï¼Ÿgoogle ä¸€ä¸‹ï¼š<code>wsl bash icon</code>ï¼Œæœåˆ°ï¼š<a href="https://github.com/Microsoft/WSL/issues/1269" target="_blank" rel="noopener">https://github.com/Microsoft/WSL/issues/1269</a>ï¼Œç„¶ååˆåœ¨è¿™ä¸ªé¡µé¢æ‰¾åˆ°äº†è¿™ä¸ªï¼š<a href="https://github.com/cmderdev/cmder/issues/1063#issuecomment-401947209" target="_blank" rel="noopener">https://github.com/cmderdev/cmder/issues/1063#issuecomment-401947209</a></p><p><img src="https://i.loli.net/2018/09/20/5ba2ffde07591.png" alt="æˆªå›¾4"></p><p>æŠŠ icon æ¢æˆï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:\Program Files\WindowsApps\CanonicalGroupLimited.UbuntuonWindows_1804.2018.817.0_x64__79rhkp1fndgsc\ubuntu.exe</span><br></pre></td></tr></table></figure><p>å†ç‚¹å‡»å³é”®ï¼Œå°±èƒ½çœ‹åˆ°è¿™ä¸ªå›¾æ ‡äº†ã€‚</p><p>é™¤äº†ä¿®æ”¹å³é”®æ˜¾ç¤ºçš„ iconï¼Œè¿˜å¯ä»¥ä¿®æ”¹å³é”®æ˜¾ç¤ºçš„åå­—ï¼Œä»¥åŠè¿è¡Œçš„ç›®æ ‡ç¨‹åºã€‚</p><p><img src="https://i.loli.net/2018/09/20/5ba301516885f.png" alt="TIMå›¾ç‰‡20180920100903.png"></p><p>æ”¹ä¸ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:\Program Files\WindowsApps\CanonicalGroupLimited.UbuntuonWindows_1804.2018.817.0_x64__79rhkp1fndgsc\ubuntu.exe</span><br></pre></td></tr></table></figure><p>ä½†å‘ç°æ— æ³•æŠŠå·¥ä½œç›®å½•å®šåˆ°å½“å‰å³é”®çš„ç›®å½•ï¼Œéœ€è¦åŠ ä¸€ä¸ª<code>run</code>ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:\Program Files\WindowsApps\CanonicalGroupLimited.UbuntuonWindows_1804.2018.817.0_x64__79rhkp1fndgsc\ubuntu.exe run</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> wsl </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¼–ç¨‹ç ç‘ç³»åˆ—ç¬”è®° -- ç¬¬äºŒç«  å•Šå“ˆï¼ç®—æ³•</title>
      <link href="/blog/2018/06/28/%E7%BC%96%E7%A8%8B%E7%8F%A0%E7%8E%91%E7%AC%AC%E4%BA%8C%E7%AB%A0/"/>
      <url>/blog/2018/06/28/%E7%BC%96%E7%A8%8B%E7%8F%A0%E7%8E%91%E7%AC%AC%E4%BA%8C%E7%AB%A0/</url>
      
        <content type="html"><![CDATA[<p>æœ¬ä¹¦çš„å¦ä¸€ä¸ªä¸­å¿ƒæ€æƒ³æ˜¾è€Œæ˜“è§ï¼š<strong>è‰¯å¥½çš„ç®—æ³•æ˜¯ç¨‹åºæ€§èƒ½æå‡çš„å…³é”®ã€‚</strong></p><p>ä¸‹é¢è¿˜æ˜¯é€šè¿‡æ¢è®¨å‡ ä¸ªå®ä¾‹ï¼Œæ¥é¢†ä¼šä¸€ä¸‹ç®—æ³•çš„é‡è¦æ€§ã€‚</p><a id="more"></a><h2 id="ä¸‰ä¸ªé—®é¢˜"><a href="#ä¸‰ä¸ªé—®é¢˜" class="headerlink" title="ä¸‰ä¸ªé—®é¢˜"></a>ä¸‰ä¸ªé—®é¢˜</h2><p>A. ç»™å®šä¸€ä¸ªæœ€å¤šåŒ…å« 40 äº¿ä¸ªéšæœºæ’åˆ—çš„ 32 ä½æ•´æ•°çš„é¡ºåºæ–‡ä»¶ï¼Œæ‰¾å‡ºä¸€ä¸ªä¸åœ¨æ–‡ä»¶ä¸­çš„ 32 ä½æ•´æ•°(åœ¨æ–‡ä»¶ä¸­è‡³å°‘ç¼ºå¤±ä¸€ä¸ªè¿™æ ·çš„æ•° - - ä¸ºä»€ä¹ˆ? )ã€‚åœ¨å…·æœ‰è¶³å¤Ÿå†…å­˜çš„æƒ…å†µä¸‹ï¼Œå¦‚ä½•è§£å†³è¯¥é—®é¢˜?å¦‚æœæœ‰å‡ ä¸ªå¤–éƒ¨çš„â€œä¸´æ—¶â€æ–‡ä»¶å¯ç”¨ï¼Œä½†æ˜¯ä»…æœ‰å‡ ç™¾å­—èŠ‚çš„å†…å­˜ï¼Œåˆè¯¥å¦‚ä½•è§£å†³è¯¥é—®é¢˜?</p><p>è‡³å°‘ç¼ºå¤±ä¸€ä¸ªè¿™æ ·çš„æ•°æ˜¯å› ä¸ºï¼š32 ä½æ— ç¬¦å·æ•´æ•°çš„è¡¨ç¤ºèŒƒå›´æ˜¯<code>0 åˆ° 4,294,967,295</code>ï¼Œæ¯” 40 äº¿å¤§ï¼šã€‚å¦‚æœæœ‰è¶³å¤Ÿçš„å†…å­˜ï¼Œå¯ä»¥é‡‡ç”¨ç¬¬ä¸€ç« çš„ä½å›¾è¡¨ç¤ºæ³•ï¼Œéœ€è¦çš„å†…å­˜æ˜¯ï¼š<code>4 000 000 000/8 = 500 000 000</code>ï¼Œ500MB çš„å†…å­˜ã€‚è€Œä¸”æˆ‘ä»¬éœ€è¦ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾æ¥åŠ é€ŸæŸ¥æ‰¾è¿‡ç¨‹ï¼Œé¡ºåºéå† 500MB çš„ç©ºé—´æ˜¯å¾ˆæ…¢çš„ã€‚ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾å¯¹è¿™ç§é‡å¤§çš„æ•°æ®é›†æ˜¯éå¸¸é‡è¦çš„æ‰‹æ®µï¼Œä½† <strong>äºŒåˆ†æŸ¥æ‰¾çš„åŸºç¡€æ˜¯æ•°æ®é›†æœ‰åº</strong>ã€‚æ‰€ä»¥åˆçœ‹è¿™é‡Œæ˜¯æ²¡æ³•ç›´æ¥ä½¿ç”¨äºŒåˆ†æ³•çš„ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬è¿™æ ·æƒ³ï¼š32 ä½æ•´æ•°çš„æ¯ä¸€ä½ä¸æ˜¯ 0 å°±æ˜¯ 1ï¼Œæˆ‘ä»¬æŒ‰ç…§ç¬¬ 1 ä½åˆ’åˆ†çš„è¯ï¼Œå°±å¯ä»¥åˆ’åˆ†å‡ºä¸¤ä¸ªé›†åˆï¼ˆéœ€è¦éå†å…¨éƒ¨æ•°æ®ä¸€éï¼‰ï¼Œå¦‚æœæŸä¸ªé›†åˆå°äº $2^{31}$ ä¸ªæ•°å°±é€‰ä¸­æˆä¸ºæˆ‘ä»¬ä¸‹ä¸€æ¬¡åˆ’åˆ†çš„å¯¹è±¡ï¼ˆå¦‚æœä¸¤ä¸ªé›†åˆéƒ½å°äº $2^{31}$ å°±éšä¾¿é€‰ä¸€ä¸ªï¼‰ï¼Œç›´åˆ°æˆ‘ä»¬å¾—åˆ°ä¸€ä¸ªç©ºé›†ï¼Œè€Œè¿™ä¸ªç©ºé›†ä¸­æœ¬æ¥åº”è¯¥å­˜åœ¨çš„é‚£äº›æ•°ï¼Œå°±æ˜¯ç¼ºå¤±çš„æ•°äº†ã€‚åœ¨åˆ’åˆ†é›†åˆçš„æ—¶å€™ï¼Œæˆ‘ä»¬å®é™…ä¸Šè¦æŠŠæ•°æ®å­˜åˆ°ç¡¬ç›˜ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ buffer æ¥å‡å°‘ IO æ¬¡æ•°ã€‚æœ€åæ—¶é—´å¤æ‚åº¦æ˜¯ä¸€ä¸ªç­‰æ¯”æ•°åˆ—ï¼š<br>$$n+\frac{1}{2}n+\cdots+1 = 2n$$</p><p>å¯è§è¿™é‡Œçš„äºŒåˆ†æ³•å¹¶æ²¡æœ‰èµ·åˆ°<code>logN</code>çš„æ•ˆæœã€‚éœ€è¦éå†çš„äºŒåˆ†æ³•è¿˜ç®—ä»€ä¹ˆäºŒåˆ†æ³•å‘¢ï¼Ÿä½†åº†å¹¸çš„æ˜¯ï¼Œæˆ‘ä»¬è‡³å°‘å¯ä»¥è§£å†³è¿™ä¸€é¢˜ã€‚</p><p>B. å°†ä¸€ä¸ª n å…ƒä¸€ç»´å‘é‡å·¦æ—‹è½¬ i ä¸ªä½ç½®ã€‚ä¾‹å¦‚ï¼Œå½“ n=8 ä¸” i=3 æ—¶ï¼Œå‘é‡ abcdefgh æ—‹è½¬ä¸º defghabcã€‚ç®€å•çš„ä»£ç ä½¿ç”¨ä¸€ä¸ª n å…ƒçš„ä¸­é—´å‘é‡åœ¨ n æ­¥å†…å®Œæˆè¯¥å·¥ä½œã€‚ä½ èƒ½å¦ä»…ä½¿ç”¨æ•°åä¸ªé¢å¤–å­—èŠ‚çš„å­˜å‚¨ç©ºé—´ï¼Œåœ¨æ­£æ¯”äº n çš„æ—¶é—´å†…å®Œæˆå‘é‡çš„æ—‹è½¬ï¼Ÿ</p><p>æ–¹æ³• 1ï¼šå°†å‰ i ä¸ªå…ƒç´ å¤åˆ¶åˆ°ä¸€ä¸ªä¸´æ—¶ç©ºé—´ï¼Œä½™ä¸‹çš„ n-i ä¸ªå…ƒç´ å‘å·¦ç§» i ä¸ªä½ç½®ï¼Œæœ€åå°†æœ€åˆçš„ i ä¸ªå…ƒç´ ä»ä¸´æ—¶ç©ºé—´å¤åˆ¶åˆ° x ä¸­ä½™ä¸‹çš„ä½ç½®ã€‚æ—¶é—´å¤æ‚åº¦ï¼š2i+(n-i)=n+iï¼Œä¹Ÿå°±æ˜¯ O(n)ï¼›ç©ºé—´å¤æ‚åº¦ï¼šiï¼Œä¹Ÿå°±æ˜¯ O(n)ã€‚</p><p>æ–¹æ³• 2ï¼šä½¿ç”¨ç±»ä¼¼æ–¹æ³• 1 çš„åŠæ³•ï¼Œä½†åªä½¿ç”¨ä¸€ä¸ªå…ƒç´ å¤§å°çš„ä¸´æ—¶ç©ºé—´ï¼Œæ¯æ¬¡åªç§»åŠ¨ä¸€ä½ï¼Œæ€»å…±éœ€è¦ç§»åŠ¨ i æ¬¡ã€‚æ—¶é—´å¤æ‚åº¦ï¼š(n+1)*iï¼Œä¹Ÿå°±æ˜¯ O(n^2)ï¼›ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚</p><p>æ–¹æ³• 3ï¼šæ‚æŠ€ç®—æ³•ã€‚ç¬¬ä¸€æ­¥ï¼šç§»åŠ¨<code>x[0]</code>åˆ°ä¸´æ—¶å˜é‡ tï¼Œç„¶åç§»åŠ¨<code>x[i]</code>åˆ°<code>x[0]</code>ï¼Œ<code>x[2i]</code>åˆ°<code>x[i]</code>ï¼Œä¾æ­¤ç±»æ¨ï¼ˆå°† x ä¸­çš„æ‰€æœ‰ä¸‹æ ‡å¯¹ n å–æ¨¡ï¼‰ï¼Œç›´è‡³è¿”å›åˆ°å–<code>x[0]</code>ä¸­çš„å…ƒç´ ï¼Œæ­¤æ—¶æ”¹ä¸ºä» t å–å€¼ç„¶åç»ˆæ­¢è¿‡ç¨‹ã€‚ç¬¬äºŒæ­¥ï¼šå¦‚æœè¯¥è¿‡ç¨‹æ²¡æœ‰ç§»åŠ¨å…¨éƒ¨å…ƒç´ ï¼Œå°±ä»<code>x[1]</code>å¼€å§‹å†æ¬¡è¿›è¡Œç§»åŠ¨ï¼ˆæ‰§è¡Œç¬¬ä¸€æ­¥çš„ç®—æ³•æ“ä½œï¼‰ï¼Œç›´åˆ°æ‰€æœ‰çš„å…ƒç´ éƒ½å·²ç»ç§»åŠ¨ä¸ºæ­¢ã€‚</p><p>è¿™ä¸ªç®—æ³•çš„æ ¸å¿ƒæ€æƒ³åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š<strong>å°†è¯¥æ•°ç»„åºåˆ—çœ‹æˆæ˜¯ä¸€ä¸ªç¯çŠ¶é˜Ÿåˆ—ï¼Œæ¯æ¬¡æ‰§è¡Œç¬¬ä¸€æ­¥çš„ç®—æ³•éƒ½å¯ä»¥ä½¿ä¸€ç»„å…ƒç´ è½åˆ°å®ƒä»¬æœ€ç»ˆçš„ä½ç½®ä¸Šï¼Œè€Œåˆä¸å½±å“åˆ°å…¶å®ƒå…ƒç´ ã€‚</strong></p><p>ç¬¬äºŒæ­¥æ‰§è¡Œçš„æ¬¡æ•°æ˜¯<a href="https://zh.wikipedia.org/zh-hans/%E6%9C%80%E5%A4%A7%E5%85%AC%E5%9B%A0%E6%95%B8" target="_blank" rel="noopener"><code>GCD(n,i)</code></a>ï¼ˆn å’Œ i çš„æœ€å¤§å…¬çº¦æ•°ï¼‰ã€‚è¿™æ ·ä¸€æ¥æˆ‘ä»¬å°±ä¸ç”¨è®°å½•å…ƒç´ æ˜¯å¦ç§»åŠ¨è¿‡è¿™ä¸ªçŠ¶æ€äº†ï¼Œç›´æ¥å°±å¯ä»¥çŸ¥é“å¾ªç¯å¤šå°‘æ¬¡ã€‚</p><p>è¯¥ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ï¼šn+GCD(n,i)ï¼Œä¹Ÿå°±æ˜¯ O(n)ã€‚ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚</p><p>è¿™ä¸ªç®—æ³•è™½ç„¶è¡¨ç°ä¸é”™ï¼Œä½†æ˜¯ä¸ä¾¿äºç†è§£ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">gcd</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a%b?gcd(b, a%b): b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> a[<span class="number">20</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">acrobat</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n=<span class="number">20</span>, i=<span class="number">6</span>;</span><br><span class="line">    <span class="keyword">int</span> temp;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;gcd(n,i);j++)&#123;</span><br><span class="line">        temp = a[j];</span><br><span class="line">        <span class="keyword">int</span> count=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(i*(count+<span class="number">1</span>)%n == <span class="number">0</span>)&#123;</span><br><span class="line">                a[j+i*count%n] = temp;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                a[j+i*count%n] = a[j+i*(count+<span class="number">1</span>)%n];</span><br><span class="line">                count++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">20</span>;i++)&#123;</span><br><span class="line">        a[i] = i;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    acrobat();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"out"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">20</span>;i++)&#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; a[i] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ–¹æ³• 4ï¼šé€’å½’ç®—æ³•ã€‚æ—‹è½¬å‘é‡ x å…¶å®å°±æ˜¯äº¤æ¢å‘é‡ ab çš„ä¸¤æ®µï¼Œå¾—åˆ°å‘é‡ baã€‚è¿™é‡Œ a ä»£è¡¨ x ä¸­çš„å‰ i ä¸ªå…ƒç´ ã€‚å‡è®¾ a æ¯” b çŸ­ï¼Œå°† b åˆ†ä¸º$b_l$å’Œ$b_r$ï¼Œä½¿å¾—$b_r$å…·æœ‰ä¸ a ç›¸åŒçš„é•¿åº¦ã€‚äº¤æ¢ a å’Œ$b_r$ï¼Œä¹Ÿå°±å°†$ab_l b_r$è½¬æ¢ä¸º$b_r b_l a$ã€‚åºåˆ— a æ­¤æ—¶å·²å¤„äºå…¶æœ€ç»ˆçš„ä½ç½®ï¼Œå› æ­¤ç°åœ¨çš„é—®é¢˜å°±é›†ä¸­åˆ°äº¤æ¢ b çš„éƒ¨åˆ†ã€‚ç”±äºæ–°çš„é—®é¢˜ä¸åŸæ¥çš„é—®é¢˜å…·æœ‰ç›¸åŒçš„å½¢å¼ï¼Œæˆ‘ä»¬å¯ä»¥é€’å½’è§£å†³ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åˆ†åˆ«ä»iå’Œjä½ç½®å¼€å§‹ï¼Œäº¤æ¢kä¸ªå…ƒç´ </span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> i, <span class="keyword">int</span> j, <span class="keyword">int</span> k)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> p=<span class="number">0</span>;p&lt;k;p++)&#123;</span><br><span class="line">        <span class="keyword">int</span> temp = a[i+p];</span><br><span class="line">        a[i+p] = a[j+p];</span><br><span class="line">        a[j+p] = temp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä»iä½ç½®å¼€å§‹ï¼Œå¤„ç†å·¦leniï¼Œå³lenjçš„æ—‹è½¬</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">first</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> i, <span class="keyword">int</span> leni, <span class="keyword">int</span> lenj)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(leni == lenj)&#123;</span><br><span class="line">        swap(a, i, i+leni, leni);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(leni&lt;lenj)&#123;</span><br><span class="line">        swap(a, i, i+lenj, leni);</span><br><span class="line">        first(a, i, leni, lenj-leni);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        swap(a, i, i+leni, lenj);</span><br><span class="line">        first(a, i+lenj, leni-lenj, lenj);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ–¹æ³• 5ï¼šä¸‰æ¬¡ç¿»è½¬: $(a^r b^r)^r = ba$ã€‚ä» ab å¼€å§‹ï¼Œé¦–å…ˆå¯¹ a æ±‚é€†ï¼Œå¾—åˆ°$a^r b$ï¼Œç„¶åå¯¹ b æ±‚é€†ï¼Œå¾—åˆ°$a^r b^r$ã€‚æœ€åå¯¹æ•´ä½“æ±‚é€†ï¼Œå¾—åˆ°$(a^r b^r)^r$ï¼Œæ­¤æ—¶æ°å¥½å°±æ˜¯ abã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">reverse(0, i-1) /* cbadefgh */</span><br><span class="line">reverse(i, n-1) /* cbahgfed */</span><br><span class="line">reverse(0, n-1) /* defghabc */</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä»iä½ç½®å¼€å§‹ï¼Œåˆ°jä½ç½®ç»“æŸ(åŒ…å«j)ï¼Œç¿»è½¬è¿™ä¸€æ®µçš„aä¸­çš„å…ƒç´ </span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">reverse</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">0</span>;k&lt;(j+<span class="number">1</span>-i)/<span class="number">2</span>;k++)&#123;</span><br><span class="line">        <span class="keyword">int</span> temp = a[k+i];</span><br><span class="line">        a[k+i] = a[j-k];</span><br><span class="line">        a[j-k] = temp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//iä½ç½®æ˜¯bæ®µçš„å¼€å§‹ï¼Œæ€»é•¿åº¦n</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">res</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> i, <span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">    reverse(a, <span class="number">0</span>, i<span class="number">-1</span>);</span><br><span class="line">    reverse(a, i, n<span class="number">-1</span>);</span><br><span class="line">    reverse(a, <span class="number">0</span>, n<span class="number">-1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>C. ç»™å®šä¸€ä¸ªè‹±è¯­å­—å…¸ï¼Œæ‰¾å‡ºå…¶ä¸­çš„æ‰€æœ‰å˜ä½è¯é›†åˆã€‚ä¾‹å¦‚ï¼Œâ€œpotsâ€ã€â€œstopâ€ã€â€œtopsâ€äº’ä¸ºå˜ä½è¯ï¼Œå› æ­¤æ¯ä¸€ä¸ªå•è¯éƒ½å¯ä»¥é€šè¿‡æ”¹å˜å…¶ä»–å•è¯ä¸­å­—æ¯çš„é¡ºåºæ¥å¾—åˆ°ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ç¼–ç¨‹ç ç‘ç³»åˆ—ç¬”è®° -- ç¬¬ä¸€ç«  å¼€ç¯‡</title>
      <link href="/blog/2018/06/22/%E7%BC%96%E7%A8%8B%E7%8F%A0%E7%8E%91%E7%AC%AC%E4%B8%80%E7%AB%A0/"/>
      <url>/blog/2018/06/22/%E7%BC%96%E7%A8%8B%E7%8F%A0%E7%8E%91%E7%AC%AC%E4%B8%80%E7%AB%A0/</url>
      
        <content type="html"><![CDATA[<p>æœ¬ä¹¦çš„ä¸­å¿ƒæ€æƒ³ï¼š<strong>å¯¹å®ä¾‹ç ”ç©¶çš„æ·±å…¥æ€è€ƒä¸ä»…æœ‰è¶£ï¼Œè€Œä¸”å¯ä»¥è·å¾—å®é™…çš„ç›Šå¤„ã€‚</strong></p><p>è§„å¾‹å’Œæ™ºæ…§éƒ½éšè—åœ¨å®ä¾‹ä¹‹ä¸­ï¼Œè€Œæˆ‘ä»¬é€šè¿‡å®ä¾‹æ¥çª¥æ¢å®ƒä»¬ã€‚å®ä¾‹æ˜¯é“çš„è½½ä½“ã€‚</p><h2 id="å¼€ç¯‡"><a href="#å¼€ç¯‡" class="headerlink" title="å¼€ç¯‡"></a>å¼€ç¯‡</h2><p>æ˜ç¡®é—®é¢˜ï¼Œä¸€æ—¦é—®é¢˜æ˜ç¡®ï¼Œè¿™åœºæˆ˜å½¹å°±æˆåŠŸäº† 90%ã€‚</p><p>ç¡®å®šç”¨æˆ·çš„çœŸå®éœ€æ±‚æ˜¯ç¨‹åºè®¾è®¡çš„æ ¹æœ¬ã€‚</p><p>ç®€å•çš„ç¨‹åºé€šå¸¸æ¯”å…·æœ‰ç›¸åŒåŠŸèƒ½çš„å¤æ‚ç¨‹åºæ›´å¯é ã€æ›´å®‰å…¨ã€æ›´å¥å£®ã€æ›´é«˜æ•ˆï¼Œè€Œä¸”æ˜“äºå®ç°å’Œç»´æŠ¤ã€‚å› ä¸ºç®€å•çš„ç¨‹åºå¾€å¾€æ›´å…·æœ‰æ¦‚æ‹¬æ€§ã€æ›´æŠ½è±¡ã€æ›´èƒ½æ´æ‚‰é—®é¢˜çš„æœ¬è´¨ã€‚</p><a id="more"></a><h3 id="å…·ä½“é—®é¢˜å…·ä½“åˆ†æ"><a href="#å…·ä½“é—®é¢˜å…·ä½“åˆ†æ" class="headerlink" title="å…·ä½“é—®é¢˜å…·ä½“åˆ†æ"></a>å…·ä½“é—®é¢˜å…·ä½“åˆ†æ</h3><p>Aï¼šæ€æ ·ç»™ä¸€ä¸ªç£ç›˜æ–‡ä»¶æ’åºï¼Ÿ<br>Bï¼šä¸ºä»€ä¹ˆéè¦è‡ªå·±å†™æ’åºç¨‹åºå‘¢ï¼Ÿä¸ºä»€ä¹ˆä¸ç”¨ç³»ç»Ÿæä¾›çš„æ’åºç¨‹åºå‘¢ï¼Ÿ<br>Aï¼šæˆ‘éœ€è¦åœ¨ä¸€ä¸ªå¤§ç³»ç»Ÿä¸­æ’åºã€‚ç”±äºä¸æ˜çš„æŠ€æœ¯åŸå› ï¼Œæˆ‘ä¸èƒ½ä½¿ç”¨ç³»ç»Ÿä¸­çš„æ–‡ä»¶æ’åºç¨‹åºã€‚<br>Bï¼šéœ€è¦æ’åºçš„å†…å®¹æ˜¯ä»€ä¹ˆï¼Ÿæ–‡ä»¶ä¸­æœ‰å¤šå°‘æ¡è®°å½•ï¼Ÿæ¯æ¡è®°å½•çš„æ ¼å¼æ˜¯ä»€ä¹ˆï¼Ÿ<br>Aï¼šæ–‡ä»¶æœ€å¤šåŒ…å« 1 åƒä¸‡æ¡è®°å½•ï¼Œæ¯æ¡è®°å½•éƒ½æ˜¯ 7 ä½çš„æ•´æ•°ã€‚<br>Bï¼šç­‰ä¸€ä¸‹ï¼Œæ—¢ç„¶æ–‡ä»¶è¿™ä¹ˆå°ï¼Œä½•å¿…éè¦åœ¨éè¦åœ¨ç£ç›˜ä¸Šè¿›è¡Œæ’åºå‘¢ï¼Ÿä¸ºä»€ä¹ˆä¸åœ¨å†…å­˜é‡Œè¿›è¡Œæ’åºå‘¢ï¼Ÿ<br>Aï¼šå°½ç®¡æœºå™¨æœ‰è®¸å¤šå…†å­—èŠ‚çš„å†…å­˜ï¼Œä½†æ’åºåŠŸèƒ½åªæ˜¯å¤§ç³»ç»Ÿä¸­çš„ä¸€éƒ¨åˆ†ï¼Œæ‰€ä»¥ä¼°è®¡åˆ°æ—¶å€™åªæœ‰ 1MB çš„å†…å­˜å¯ç”¨ã€‚<br>Bï¼šä½ è¿˜èƒ½å‘Šè¯‰æˆ‘å…¶ä»–ä¸€äº›ä¸è®°å½•ç›¸å…³çš„ä¿¡æ¯å—ï¼Ÿ<br>Aï¼šæ¯æ¡è®°å½•éƒ½æ˜¯ 7 ä½çš„æ­£æ•´æ•°ï¼Œå†æ— å…¶ä»–ç›¸å…³æ•°æ®ã€‚æ¯ä¸ªæ•´æ•°æœ€å¤šå‡ºç°ä¸€æ¬¡ã€‚</p><p>å®é™…ä¸Šé—®äº†è¿™ä¹ˆå¤šï¼Œæé—®è€…éƒ½æ²¡æœ‰ä¸»åŠ¨å°†è‡ªå·±çš„é—®é¢˜æ— ä¿ç•™çš„å‘Šè¯‰è¢«æ±‚åŠ©å¯¹è±¡ï¼Œåè€Œæ˜¯è¢«æ±‚åŠ©å¯¹è±¡è€å¿ƒçš„ä¸€ç‚¹ä¸€ç‚¹è¯¢é—®ã€‚é—®é¢˜çš„çœŸå®èƒŒæ™¯æ˜¯è¿™æ ·çš„ï¼š</p><p>åœ¨ç¾å›½ï¼Œç”µè¯å·ç ç”± 3 ä½åŒºå·åå†è·Ÿ 7 ä½æ•°å­—ç»„æˆï¼Œæ‹¨æ‰“å«å…è´¹åŒºå· 800ï¼ˆå½“æ—¶åªæœ‰è¿™ä¸€ä¸ªå·ç ï¼‰çš„ç”µè¯æ˜¯ä¸æ”¶è´¹çš„ã€‚è¿™ä½ç¨‹åºå‘˜æ­£åœ¨å¼€å‘è¿™ç±»æ•°æ®åº“å¤„ç†ç³»ç»Ÿçš„ä¸€å°éƒ¨åˆ†ï¼Œéœ€è¦æ’åºçš„æ•´æ•°å°±æ˜¯å…è´¹ç”µè¯å·ç ã€‚è¾“å…¥æ–‡ä»¶æ˜¯ç”µè¯å·ç åˆ—è¡¨ï¼Œå·ç é‡å¤å‡ºç°ç®—å‡ºé”™ã€‚æœŸæœ›çš„è¾“å‡ºæ–‡ä»¶æ˜¯ä»¥å‡åºæ’åˆ—çš„ç”µè¯å·ç åˆ—è¡¨ã€‚åº”ç”¨èƒŒæ™¯åŒæ—¶å®šä¹‰äº†ç›¸åº”çš„æ€§èƒ½éœ€æ±‚ã€‚å½“ä¸ç³»ç»Ÿçš„ä¼šè¯æ—¶é—´è¾ƒé•¿æ—¶ï¼Œç”¨æˆ·å¤§çº¦æ¯å°æ—¶è¯·æ±‚ä¸€æ¬¡æœ‰åºæ–‡ä»¶ï¼Œå¹¶ä¸”åœ¨æ’åºæœªå®Œæˆä¹‹å‰ä»€ä¹ˆéƒ½åšä¸äº†ã€‚å› æ­¤ï¼Œæ’åºæœ€å¤šåªå…è®¸æ‰§è¡Œå‡ åˆ†é’Ÿï¼Œ10 ç§’é’Ÿæ˜¯æ¯”è¾ƒç†æƒ³çš„è¿è¡Œæ—¶é—´ã€‚</p><h3 id="å‡†ç¡®çš„é—®é¢˜æè¿°"><a href="#å‡†ç¡®çš„é—®é¢˜æè¿°" class="headerlink" title="å‡†ç¡®çš„é—®é¢˜æè¿°"></a>å‡†ç¡®çš„é—®é¢˜æè¿°</h3><p><strong>è¾“å…¥ï¼š</strong> ä¸€ä¸ªæœ€å¤šåŒ…å« n ä¸ªæ­£æ•´æ•°çš„æ–‡ä»¶ï¼Œæ¯ä¸ªæ•°éƒ½å°äº nï¼Œå…¶ä¸­ n=$10^7$ã€‚å¦‚æœåœ¨è¾“å…¥æ–‡ä»¶ä¸­æœ‰ä»»ä½•æ•´æ•°é‡å¤å‡ºç°å°±æ˜¯è‡´å‘½é”™è¯¯ã€‚æ²¡æœ‰å…¶ä»–æ•°æ®ä¸è¯¥æ•´æ•°ç›¸å…³è”ã€‚</p><p><strong>è¾“å‡ºï¼š</strong> æŒ‰å‡åºæ’åˆ—çš„è¾“å…¥æ•´æ•°çš„åˆ—è¡¨ã€‚</p><p><strong>çº¦æŸï¼š</strong> æœ€å¤šæœ‰ï¼ˆå¤§çº¦ï¼‰1MB çš„å†…å­˜å¯ç”¨ï¼Œæœ‰å……è¶³çš„ç£ç›˜å­˜å‚¨ç©ºé—´ã€‚è¿è¡Œæ—¶é—´æœ€å¤šå‡ åˆ†é’Ÿï¼Œè¿è¡Œæ—¶é—´ä¸º 10 ç§’é’Ÿå°±ä¸éœ€è¦å†ä¼˜åŒ–äº†ã€‚</p><h3 id="ç¨‹åºè®¾è®¡"><a href="#ç¨‹åºè®¾è®¡" class="headerlink" title="ç¨‹åºè®¾è®¡"></a>ç¨‹åºè®¾è®¡</h3><p>ä¼ ç»Ÿçš„æ’åºæœ‰å½’å¹¶æ’åºã€å¿«é€Ÿæ’åºï¼Œä¸€èˆ¬äººæƒ³åˆ°çš„éƒ½æ˜¯ä½¿ç”¨ä¸€ä¸ª 4 å­—èŠ‚çš„ int å‹æ¥è¡¨ç¤ºæ•°æ®ï¼Œä½† 1000 ä¸‡çš„æ•°æ®å°±éœ€è¦ 40MB çš„å†…å­˜ï¼Œæ‰€ä»¥éœ€è¦è‡³å°‘ 40 è¶Ÿæ’åºï¼Œéœ€è¦è¯»å–è¾“å…¥æ–‡ä»¶è‡³å°‘ 40 æ¬¡ï¼Œè¿™å°†ä¼šæ˜¯éå¸¸å¤§çš„å¼€é”€ã€‚</p><p>å¾ˆæ˜¾ç„¶ï¼Œæˆ‘ä»¬çœŸæ­£è¦åšçš„åº”è¯¥æ˜¯å‹ç¼©æ•°æ®è¡¨ç¤ºï¼Œå¦‚æœèƒ½è®©æ‰€æœ‰æ•°æ®ä¸€æ¬¡è¯»å…¥å†…å­˜ï¼ˆä»… 1MBï¼‰å°±å¥½äº†ã€‚è€ƒè™‘åˆ°è¿™ä¸€é¢˜çš„ç‰¹æ®Šæ€§ï¼Œæˆ‘ä»¬ä½¿ç”¨é•¿åº¦ä¸º 1000 ä¸‡ä½çš„ä½å›¾æ¥è¡¨ç¤ºæ‰€æœ‰æ•°æ®ï¼Œæ¯ä¸ªæ•´æ•°éƒ½åªå  1bitï¼Œå¯ä»¥è¯´æ˜¯æé™çš„æ•°æ®è¡¨ç¤ºæ³•äº†ã€‚è¿™æ ·ä¸€æ¥æˆ‘ä»¬åªéœ€è¦ 125 ä¸‡ä¸ªå­—èŠ‚ï¼Œä¹Ÿå°±æ˜¯ 1.25MB å†…å­˜ã€‚æ»¡è¶³äº†ä¸€æ¬¡è¯»å…¥å†…å­˜çš„è¦æ±‚ã€‚</p><p>è¿™ç§æ•°æ®è¡¨ç¤ºï¼Œåˆ©ç”¨äº†è¯¥é—®é¢˜çš„ä¸‰ä¸ªåœ¨æ’åºé—®é¢˜ä¸­ä¸å¸¸è§çš„å±æ€§ï¼š</p><ol><li>è¾“å…¥æ•°æ®é™åˆ¶åœ¨ç›¸å¯¹è¾ƒå°çš„èŒƒå›´å†…</li><li>æ•°æ®æ²¡æœ‰é‡å¤</li><li>å¯¹æ¯æ¡è®°å½•è€Œè¨€ï¼Œé™¤äº†å•ä¸€æ•´æ•°å¤–ï¼Œæ²¡æœ‰ä»»ä½•å…¶ä»–å…³è”æ•°æ®</li></ol><p>æ’åºä¼ªä»£ç ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">/* phase 1: initialize set to empty */</span><br><span class="line">for i = [0, n)</span><br><span class="line">    bit[i]=0</span><br><span class="line">/* phase 2: insert present elements into the set */</span><br><span class="line">for each i in the input file</span><br><span class="line">    bit[i]=1</span><br><span class="line">/* phase 3: write sorted output */</span><br><span class="line">for i = [0, n)</span><br><span class="line">    if b[i]==1</span><br><span class="line">        write i on the output file</span><br></pre></td></tr></table></figure><p><strong>æ—¶é—´-ç©ºé—´æŠ˜ä¸­ä¸åŒèµ¢ï¼š</strong> éšç€ç°åœ¨å­˜å‚¨å™¨çš„ç©ºé—´è¶Šæ¥è¶Šå¤§ï¼Œæˆ‘ä»¬å¾€å¾€å€¾å‘äºç”¨ç©ºé—´æ¢æ—¶é—´çš„ç®—æ³•ï¼Œè¿™ç§æŠ˜ä¸­éå¸¸å¸¸è§ã€‚ä½†å‡å°‘ç¨‹åºçš„è¿è¡Œç©ºé—´éœ€æ±‚ä¹Ÿä¼šå‡å°‘å…¶è¿è¡Œæ—¶é—´ã€‚ç©ºé—´éœ€æ±‚çš„å‡å°‘ä¹‹æ‰€ä»¥ä¼šå¯¼è‡´è¿è¡Œæ—¶é—´çš„å‡å°‘ï¼Œæœ‰ä¸¤ä¸ªåŸå› ï¼šéœ€è¦å¤„ç†çš„æ•°æ®å˜å°‘äº†ï¼Œæ„å‘³ç€å¤„ç†è¿™äº›æ•°æ®æ‰€éœ€çš„æ—¶é—´ä¹Ÿå˜å°‘äº†ã€‚åŒæ—¶å¯ä»¥å°†è¿™äº›æ•°æ®ä¿å­˜åœ¨å†…å­˜ä¸­è€Œä¸æ˜¯ç£ç›˜ä¸Šï¼Œè¿›ä¸€æ­¥é¿å…äº†ç£ç›˜è®¿é—®çš„æ—¶é—´ï¼ˆIO æ˜¯å·¨å¤§çš„å¼€é”€ï¼Œç½‘ç»œä¼ é€’æ•°æ®æ˜¯æ›´å¤§çš„å¼€é”€ï¼‰ã€‚å½“ç„¶äº†ï¼Œåªæœ‰åœ¨è®¾è®¡è¿œéæœ€ä¼˜çš„æ—¶å€™ï¼Œæ‰æœ‰å¯èƒ½æ—¶ç©ºåŒèµ¢ã€‚</p><blockquote><p>æŠ˜ä¸­åœ¨æ‰€æœ‰å·¥ç¨‹é¢†åŸŸéƒ½å­˜åœ¨ã€‚ä¾‹å¦‚ï¼Œæ±½è½¦è®¾è®¡è€…å¯èƒ½ä¼šé€šè¿‡å¢åŠ æ²‰é‡çš„éƒ¨ä»¶ï¼Œç”¨è¡Œé©¶é‡Œç¨‹çš„å‡å°‘æ¥æ¢å–æ›´å¿«çš„åŠ é€Ÿã€‚ä½†åŒèµ¢æ˜¯æ›´å¥½çš„ç»“æœã€‚æˆ‘å¯¹è‡ªå·±é©¾é©¶è¿‡çš„ä¸€è¾†å°è½¿è½¦åšè¿‡ä¸€ç•ªç ”ç©¶ï¼Œæˆ‘è§‚å¯Ÿåˆ°ï¼šâ€œè½¿è½¦åŸºæœ¬ç»“æ„é‡é‡çš„å‡å°‘ä¼šä½¿å„åº•ç›˜éƒ¨ä»¶çš„é‡é‡è¿›ä¸€æ­¥å‡å°‘--ç”šè‡³æ¶ˆé™¤äº†å¯¹æŸäº›åº•ç›˜éƒ¨ä»¶çš„éœ€æ±‚ï¼Œä¾‹å¦‚è½¬å‘åŠ©åŠ›ç³»ç»Ÿã€‚â€</p></blockquote><h4 id="çœŸå®ä»£ç "><a href="#çœŸå®ä»£ç " class="headerlink" title="çœŸå®ä»£ç "></a>çœŸå®ä»£ç </h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BITSPERWORD 32</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SHIFT 5</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MASK 0x1F</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 10000000</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> a[N/BITSPERWORD];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">set</span><span class="params">(<span class="keyword">int</span> i)</span></span>&#123;</span><br><span class="line">    a[i&gt;&gt;SHIFT] |= (<span class="number">1</span>&lt;&lt;(i&amp;MASK));</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">clear</span><span class="params">(<span class="keyword">int</span> i)</span></span>&#123;</span><br><span class="line">    a[i&gt;&gt;SHIFT] &amp;= ~(<span class="number">1</span>&lt;&lt;(i&amp;MASK));</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">(<span class="keyword">int</span> i)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a[i&gt;&gt;SHIFT] &amp; (<span class="number">1</span>&lt;&lt;(i&amp;MASK));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;N;i++)&#123;</span><br><span class="line">        clear(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;i)!=EOF)&#123;</span><br><span class="line">        <span class="built_in">set</span>(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;N;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(test(i))&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯¹ç§»ä½æ“ä½œç†Ÿæ‚‰çš„è¯å°±ä¼šçŸ¥é“ï¼Œ<code>i&gt;&gt;SHIFT</code>çš„æ„æ€å°±æ˜¯<code>i/32</code>ã€‚<code>a[i&gt;&gt;SHIFT]</code>ä¹Ÿå°±æ˜¯å®šä½åˆ° i æ‰€å±çš„æ•°ç»„å•å…ƒï¼ˆæ¯ä¸ªæ•°ç»„å•å…ƒ 4 ä¸ªå­—èŠ‚ï¼‰ã€‚è€Œ<code>i&amp;MASK</code>çš„æ„æ€æ˜¯<code>i%32</code>ï¼Œç„¶å<code>(1&lt;&lt;(i&amp;MASK))</code>å°±å®šä½äº† i åœ¨æ‰€å±çš„æ•°ç»„å•å…ƒä¸­çš„å…·ä½“ä½ç½®ã€‚</p><p>ä½†æˆ‘ä»¬æ‰‹ä¸Šæ²¡æœ‰æ•°æ®æ¥æµ‹è¯•æˆ‘ä»¬çš„ä»£ç æ˜¯å¦æ­£ç¡®ï¼Œæµ‹è¯•æ•°æ®å¯ä»¥ç”¨éšæœºç”Ÿæˆçš„åŠæ³•äº§ç”Ÿï¼Œå…·ä½“ä¼šåœ¨<a href="#">ã€Šç¼–ç¨‹ç ç‘ç¬¬ 12 ç«  å–æ ·é—®é¢˜ã€‹</a>ä¸­è®²è§£ã€‚</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬æ¥çœ‹çœ‹ä¹ é¢˜ï¼š</p><h2 id="ä¹ é¢˜"><a href="#ä¹ é¢˜" class="headerlink" title="ä¹ é¢˜"></a>ä¹ é¢˜</h2><ol><li>å¦‚æœä¸ç¼ºå†…å­˜ï¼Œå¦‚ä½•ä½¿ç”¨ä¸€ä¸ªå…·æœ‰åº“çš„è¯­è¨€æ¥å®ç°ä¸€ç§æ’åºç®—æ³•ä»¥è¡¨ç¤ºå’Œæ’åºé›†åˆï¼Ÿ</li></ol><p>ä½¿ç”¨ C è¯­è¨€çš„æ ‡å‡†åº“å‡½æ•°<code>qsort</code>:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">intcompare</span><span class="params">(<span class="keyword">int</span> *x, <span class="keyword">int</span> *y)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> *x - *y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> a[<span class="number">10000000</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;a[n])!=EOF)&#123;</span><br><span class="line">        n++;</span><br><span class="line">    &#125;</span><br><span class="line">    qsort(a, n, <span class="keyword">sizeof</span>(<span class="keyword">int</span>), intcompare);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d"</span>, a[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ C++çš„æ ‡å‡†æ¨¡æ¿åº“ä¸­çš„å®¹å™¨<code>set</code>æ¥å®Œæˆç›¸åŒä»»åŠ¡ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt; S;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt;::iterator j;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span> &gt;&gt; i)&#123;</span><br><span class="line">        S.insert(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(j=S.begin();j&lt;S.end();j++)&#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; *j &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>å¦‚ä½•ä½¿ç”¨ä½é€»è¾‘è¿ç®—ï¼ˆä¾‹å¦‚ä¸ã€æˆ–ã€ç§»ä½ï¼‰æ¥å®ç°ä½å‘é‡ï¼Ÿ</li></ol><p>ä»£ç ä¸Šé¢å·²ç»ç»™å‡ºï¼š<a href="#çœŸå®ä»£ç ">çœŸå®ä»£ç </a></p><ol start="3"><li><p>è¿è¡Œæ—¶æ•ˆç‡æ˜¯è®¾è®¡ç›®æ ‡çš„ä¸€ä¸ªé‡è¦ç»„æˆéƒ¨åˆ†ï¼Œæ‰€å¾—åˆ°çš„ç¨‹åºéœ€è¦è¶³å¤Ÿé«˜æ•ˆã€‚åœ¨ä½ è‡ªå·±çš„ç³»ç»Ÿä¸Šå®ç°ä½å›¾æ’åºå¹¶åº¦é‡å…¶è¿è¡Œæ—¶é—´ã€‚è¯¥æ—¶é—´ä¸ç³»ç»Ÿæ’åºçš„è¿è¡Œæ—¶é—´ä»¥åŠä¹ é¢˜ 1 ä¸­æ’åºçš„è¿è¡Œæ—¶é—´ç›¸æ¯”å¦‚ä½•ï¼Ÿå‡è®¾ n ä¸º 10000000ï¼Œä¸”è¾“å…¥æ–‡ä»¶åŒ…å« 10000000 ä¸ªæ•´æ•°ã€‚</p></li><li><p>å¦‚æœè®¤çœŸè€ƒè™‘äº†ä¹ é¢˜ 3ï¼Œä½ å°†ä¼šç”Ÿæˆå°äº n ä¸”æ²¡æœ‰é‡å¤çš„ k ä¸ªæ•´æ•°çš„é—®é¢˜ã€‚æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯ä½¿ç”¨å‰ k ä¸ªæ­£æ•´æ•°ã€‚è¿™ä¸ªæç«¯çš„æ•°æ®é›†åˆå°†ä¸ä¼šæ˜æ˜¾åœ°æ”¹å˜ä½å›¾æ–¹æ³•çš„è¿è¡Œæ—¶é—´ï¼Œä½†æ˜¯å¯èƒ½ä¼šæ­ªæ›²ç³»ç»Ÿæ’åºçš„è¿è¡Œæ—¶é—´ã€‚å¦‚ä½•ç”Ÿæˆä½äº 0 è‡³ n-1 ä¹‹é—´çš„ k ä¸ªä¸åŒçš„éšæœºé¡ºåºçš„éšæœºæ•´æ•°ï¼Ÿå°½é‡ä½¿ä½ çš„ç¨‹åºç®€çŸ­ä¸”é«˜æ•ˆã€‚</p></li><li><p>é‚£ä¸ªç¨‹åºå‘˜è¯´ä»–æœ‰ 1MB çš„å†…å­˜ç©ºé—´å¯ç”¨ï¼Œä½†æ˜¯æˆ‘ä»¬æ¦‚è¦æè¿°çš„ä»£ç éœ€è¦ 1.25MB å†…å­˜ã€‚ä»–å¯ä»¥ä¸è´¹åŠ›çš„ç´¢å–åˆ°é¢å¤–çš„ç©ºé—´ã€‚å¦‚æœ 1MB ç©ºé—´æ˜¯ä¸¥æ ¼çš„è¾¹ç•Œï¼Œä½ ä¼šæ¨èå¦‚ä½•å¤„ç†å‘¢ï¼Ÿä½ çš„ç®—æ³•çš„è¿è¡Œæ—¶é—´åˆæ˜¯å¤šå°‘ï¼Ÿ</p></li></ol><p>ä½¿ç”¨ä½å›¾è¡¨ç¤º 1 000 ä¸‡ä¸ªæ•°éœ€è¦ 1000 ä¸‡ä¸ªä½ï¼Œæˆ–è€…è¯´ 125 ä¸‡å­—èŠ‚ã€‚è€ƒè™‘åˆ°æ²¡æœ‰ä»¥æ•°å­— 0 æˆ– 1 æ‰“å¤´<br>çš„ç”µè¯å·ç ï¼Œæˆ‘ä»¬å¯ä»¥å°†å†…å­˜éœ€æ±‚é™ä½ä¸º 100 ä¸‡å­—èŠ‚ã€‚å¦ä¸€ç§åšæ³•æ˜¯é‡‡ç”¨ä¸¤è¶Ÿç®—æ³•ï¼Œé¦–å…ˆä½¿ç”¨<br>5 000 000/8=625 000 ä¸ªå­—çš„å­˜å‚¨ç©ºé—´æ¥æ’åº 0~4 999 999 ä¹‹é—´çš„æ•´æ•°ï¼Œç„¶ååœ¨ç¬¬äºŒè¶Ÿæ’åº 5 000 000~9 999 999 çš„æ•´æ•°ã€‚k è¶Ÿç®—æ³•å¯ä»¥åœ¨ kn çš„æ—¶é—´å¼€é”€å’Œ n/k çš„ç©ºé—´å¼€é”€å†…å®Œæˆå¯¹æœ€å¤š n ä¸ªå°äº n çš„æ— é‡å¤æ­£æ•´æ•°çš„æ’åºã€‚</p><ol start="6"><li>å¦‚æœé‚£ä¸ªç¨‹åºå‘˜è¯´çš„ä¸æ˜¯æ¯ä¸ªæ•´æ•°æœ€å¤šå‡ºç°ä¸€æ¬¡ï¼Œè€Œæ˜¯æ¯ä¸ªæ•´æ•°æœ€å¤šå‡ºç° 10 æ¬¡ï¼Œä½ åˆå¦‚ä½•å»ºè®®ä»–å‘¢ï¼Ÿä½ çš„è§£å†³æ–¹æ¡ˆå¦‚ä½•éšç€å¯ç”¨å­˜å‚¨ç©ºé—´æ€»é‡çš„å˜åŒ–è€Œå˜åŒ–ï¼Ÿ</li></ol><p>å¦‚æœæ¯ä¸ªæ•´æ•°æœ€å¤šå‡ºç° 10 æ¬¡ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ 4 ä½çš„åŠå­—èŠ‚æ¥ç»Ÿè®¡å®ƒå‡ºç°çš„æ¬¡æ•°ã€‚åˆ©ç”¨ä¹ é¢˜ 5 çš„ç­”æ¡ˆï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ 10 000 000/2 ä¸ªå­—èŠ‚åœ¨ 1 è¶Ÿå†…å®Œæˆå¯¹æ•´ä¸ªæ–‡ä»¶çš„æ’åºï¼Œæˆ–ä½¿ç”¨ 10 000 000/2k ä¸ªå­—èŠ‚åœ¨ k è¶Ÿå†…å®Œæˆå¯¹æ•´ä¸ªæ–‡ä»¶çš„æ’åºã€‚</p><ol start="9"><li>ä½¿ç”¨æ›´å¤šçš„ç©ºé—´æ¥æ¢å–æ›´å°‘çš„è¿è¡Œæ—¶é—´å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼šåˆå§‹åŒ–ç©ºé—´æœ¬èº«éœ€è¦æ¶ˆè€—å¤§é‡çš„æ—¶é—´ã€‚è¯´æ˜å¦‚ä½•è®¾è®¡ä¸€ç§æŠ€æœ¯ï¼Œåœ¨ç¬¬ä¸€æ¬¡è®¿é—®å‘é‡çš„é¡¹æ—¶å°†å…¶åˆå§‹åŒ–ä¸º 0ã€‚ä½ çš„æ–¹æ¡ˆåº”è¯¥ä½¿ç”¨å¸¸é‡æ—¶é—´è¿›è¡Œåˆå§‹åŒ–å’Œå‘é‡è®¿é—®ï¼Œä½¿ç”¨çš„é¢å¤–ç©ºé—´åº”æ­£æ¯”äºå‘é‡çš„å¤§å°ã€‚å› ä¸ºè¯¥æ–¹æ³•é€šè¿‡è¿›ä¸€æ­¥å¢åŠ ç©ºé—´æ¥å‡å°‘å‡å°‘åˆå§‹åŒ–çš„æ—¶é—´ï¼Œæ‰€ä»¥ä»…åœ¨ç©ºé—´å¾ˆå»‰ä»·ã€æ—¶é—´å¾ˆå®è´µä¸”å‘é‡å¾ˆç¨€ç–çš„æƒ…å†µä¸‹æ‰è€ƒè™‘ä½¿ç”¨ã€‚</li></ol><p>å€ŸåŠ©äºä¸¤ä¸ªé¢å¤–çš„ n å…ƒå‘é‡ fromã€to å’Œä¸€ä¸ªæ•´æ•° topï¼Œfrom å’Œ to ä¹Ÿéƒ½æ²¡æœ‰åˆå§‹åŒ–è¿‡ï¼Œtop åˆå§‹åŒ–ä¸º 0ã€‚å½“æˆ‘ä»¬è®¿é—®ç´¢å¼•ä¸º i çš„ data å…ƒç´ ï¼Œæƒ³è¦çŸ¥é“<code>data[i]</code>æœ‰æ²¡æœ‰åˆå§‹åŒ–è¿‡ã€‚å¦‚æœ<code>from[i]&lt;top</code>ä¸”<code>to[from[i]]=i</code>ï¼Œé‚£ä¹ˆè¯´æ˜å·²ç»åˆå§‹åŒ–è¿‡ã€‚to æ•°ç»„å°±æ˜¯ç”¨æ¥è®°å½•å·²ç»è®¿é—®è¿‡å“ªäº› data å…ƒç´ çš„ï¼Œå®é™…ä¸Š to æ•°ç»„å¯ä»¥æ˜¯ä¸€ä¸ª<a href="https://zh.wikipedia.org/zh/Vector_(STL" target="_blank" rel="noopener">åŠ¨æ€æ•°ç»„</a>&gt;)ã€‚</p><p><img src="../../../../images/2018/ç¼–ç¨‹ç ç‘ç¬¬ä¸€ç« 1.png" width="300px"></p><p>ä¸‹é¢ä»£ç å®ç°å¯¹ data[i]çš„é¦–æ¬¡è®¿é—®ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">from[i] = top;</span><br><span class="line">to[top] = i;</span><br><span class="line">data[i] = <span class="number">0</span>;</span><br><span class="line">top++;</span><br></pre></td></tr></table></figure><ol start="10"><li>åœ¨æˆæœ¬ä½å»‰çš„éš”æ—¥é€è¾¾æ—¶ä»£ä¹‹å‰ï¼Œå•†åº—å…è®¸é¡¾å®¢é€šè¿‡ç”µè¯è®¢è´­å•†å“ï¼Œå¹¶åœ¨å‡ å¤©åä¸Šé—¨è‡ªå–ã€‚å•†åº—çš„æ•°æ®åº“ä½¿ç”¨å®¢æˆ·çš„ç”µè¯å·ç ä½œä¸ºå…¶æ£€ç´¢çš„ä¸»å…³é”®å­—ï¼ˆå®¢æˆ·çŸ¥é“ä»–ä»¬è‡ªå·±çš„ç”µè¯å·ç ï¼Œè€Œä¸”è¿™äº›å…³é”®å­—å‡ ä¹éƒ½æ˜¯å”¯ä¸€çš„ï¼‰ã€‚ä½ å¦‚ä½•ç»„ç»‡å•†åº—çš„æ•°æ®åº“ï¼Œä»¥å…è®¸é«˜æ•ˆçš„æ’å…¥å’Œæ£€ç´¢æ“ä½œï¼Ÿ</li></ol><p>å•†åº—å°†çº¸è´¨è®¢å•è¡¨æ ¼æ”¾åœ¨ 10x10 çš„ç®±æ•°ç»„ä¸­ï¼Œä½¿ç”¨å®¢æˆ·ç”µè¯å·ç çš„æœ€åä¸¤ä½ä½œä¸ºæ•£åˆ—ç´¢å¼•ã€‚å½“å®¢æˆ·æ‰“ç”µè¯ä¸‹è®¢å•æ—¶ï¼Œå°†è®¢å•æ”¾åˆ°é€‚å½“çš„ç®±ä¸­ã€‚å½“å®¢æˆ·æ¥å–å•†å“æ—¶ï¼Œé”€å”®äººå‘˜é¡ºåºæœç´¢å¯¹åº”ç®±ä¸­çš„è®¢å•--è¿™å°±æ˜¯ç»å…¸çš„â€œç”¨é¡ºåºæœç´¢æ¥è§£å†³å†²çªçš„å¼€æ”¾æ•£åˆ—â€ã€‚ç”µè¯å·ç çš„æœ€åä¸¤ä½æ•°å­—éå¸¸æ¥è¿‘äºéšæœºï¼Œå› æ­¤æ˜¯éå¸¸ç†æƒ³çš„æ•£åˆ—å‡½æ•°ï¼Œè€Œæœ€å‰é¢çš„ä¸¤ä½æ•°å­—åˆ™å¾ˆä¸ç†æƒ³ - - ä¸ºä»€ä¹ˆ?ä¸€äº›å¸‚æ”¿æœºå…³ä½¿ç”¨ç±»ä¼¼çš„æ–¹æ¡ˆåœ¨è®°äº‹æœ¬ä¸­è®°å½•ä¿¡æ¯ã€‚</p><ol start="11"><li>åœ¨ 20 ä¸–çºª 80 å¹´ä»£æ—©æœŸï¼Œæ´›å…‹å¸Œå¾·å…¬å¸åŠ åˆ©ç¦å°¼äºšå·æ¡‘å°¼ç»´å°”å¸‚å·¥å‚çš„å·¥ç¨‹å¸ˆæ¯å¤©éƒ½è¦å°†è®¸å¤šç”±è®¡ç®—æœºè¾…åŠ©è®¾è®¡ï¼ˆCADï¼‰ç³»ç»Ÿç”Ÿæˆçš„å›¾çº¸ä»å·¥å‚é€åˆ°ä½äºåœ£å…‹é²æ–¯å¸‚çš„æµ‹è¯•ç«™ã€‚è™½ç„¶ä»…æœ‰ 40 å…¬é‡Œè¿œï¼Œä½†ä½¿ç”¨æ±½è½¦å¿«é€’æœåŠ¡æ¯å¤©éƒ½éœ€è¦ä¸€ä¸ªå¤šå°æ—¶çš„æ—¶é—´ï¼ˆç”±äºäº¤é€šé˜»å¡å’Œå±±è·¯å´å²–ï¼‰ï¼ŒèŠ±è´¹ 100 ç¾å…ƒã€‚è¯·ç»™å‡ºæ–°çš„æ•°æ®ä¼ è¾“æ–¹æ¡ˆå¹¶ä¼°è®¡æ¯ä¸€ç§æ–¹æ¡ˆçš„è´¹ç”¨ã€‚</li></ol><p>ä¸¤åœ°çš„è®¡ç®—æœºåŸå…ˆæ˜¯é€šè¿‡å¾®æ³¢è¿æ¥çš„ï¼Œä½†æ˜¯å½“æ—¶æµ‹è¯•ç«™æ‰“å°å›¾çº¸æ‰€éœ€çš„æ‰“å°æœºå´éå¸¸æ˜‚è´µã€‚å› æ­¤ï¼Œè¯¥å›¢é˜Ÿåœ¨ä¸»å‚ç»˜åˆ¶å›¾çº¸ï¼Œç„¶åæ‹æ‘„ä¸‹æ¥å¹¶é€šè¿‡ä¿¡é¸½æŠŠ 35 æ¯«ç±³çš„åº•ç‰‡é€åˆ°æµ‹è¯•ç«™ï¼Œåœ¨æµ‹è¯•ç«™è¿›è¡Œæ”¾å¤§å¹¶æ‰“å°æˆå›¾ç‰‡ã€‚é¸½å­æ¥å›ä¸€.æ¬¡éœ€è¦ 45 åˆ†é’Ÿï¼Œæ˜¯æ±½è½¦æ‰€éœ€æ—¶é—´çš„ä¸€åŠï¼Œå¹¶ä¸”æ¯å¤©åªéœ€è¦èŠ±è´¹å‡ ç¾å…ƒã€‚åœ¨é¡¹ç›®å¼€å‘çš„ 16 ä¸ªæœˆä¸­ï¼Œä¿¡é¸½ä¼ é€äº†å‡ ç™¾å·åº•ç‰‡ï¼Œä»…ä¸¢å¤±äº†ä¸¤å·(å½“åœ°æœ‰é¹°ï¼Œå› æ­¤æ²¡æœ‰è®©ä¿¡é¸½ä¼ é€æœºå¯†æ•°æ®)ã€‚ç”±äºç°åœ¨æ‰“å°æœºæ¯”è¾ƒä¾¿å®œï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨å¾®æ³¢é“¾è·¯è§£å†³è¯¥é—®é¢˜ã€‚</p><ol start="12"><li>è½½äººèˆªå¤©çš„å…ˆé©±ä»¬å¾ˆå¿«å°±æ„è¯†åˆ°éœ€è¦åœ¨å¤–å¤ªç©ºçš„æç«¯ç¯å¢ƒä¸‹å®ç°é¡ºåˆ©ä¹¦å†™ã€‚æ°‘é—´ç››ä¼ ç¾å›½å›½<br>å®¶å®‡èˆªå±€(NASA)èŠ±è´¹ 100 ä¸‡ç¾å…ƒç ”å‘å‡ºäº†ä¸€ç§ç‰¹æ®Šçš„é’¢ç¬”æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚é‚£ä¹ˆï¼Œå‰è‹è”åˆä¼šå¦‚ä½•è§£å†³ç›¸åŒçš„é—®é¢˜å‘¢?</li></ol><p>çœ‹è¿‡ä¸‰å‚»å¤§é—¹å®è±åçš„éƒ½çŸ¥é“ï¼Œå‰è‹è”ç”¨çš„æ˜¯é“…ç¬”ï¼Œä½†é“…ç¬”çš„ç¢å±‘ç”±äºå¤±é‡æ¼‚æµ®åœ¨ç©ºä¸­ä¼šæ˜¯å¾ˆéº»çƒ¦çš„é—®é¢˜ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€ŠAPUE-3rdã€‹ è¯»ä¹¦ç¬”è®° -- File I/O</title>
      <link href="/blog/2018/05/28/APUE-File-IO/"/>
      <url>/blog/2018/05/28/APUE-File-IO/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>è¿™ç« è®²çš„æ˜¯æ–‡ä»¶ IOï¼Œå…¶ä¸­æœ‰å‡ ä¸ªéå¸¸é‡è¦çš„æ¦‚å¿µï¼š</p><ol><li>File Desriptorsï¼Œæ–‡ä»¶æè¿°ç¬¦</li><li>current file offsetï¼Œå½“å‰æ–‡ä»¶åç§»é‡</li><li>File Sharing Data Structureï¼Œæ–‡ä»¶å…±äº«æ•°æ®æ¨¡å‹</li><li>file descriptor flags ï¼Œæ–‡ä»¶æè¿°ä½</li><li>file status flags ï¼Œæ–‡ä»¶çŠ¶æ€ä½</li></ol><a id="more"></a><h2 id="File-Descriptors"><a href="#File-Descriptors" class="headerlink" title="File Descriptors"></a>File Descriptors</h2><ul><li>å¯¹å†…æ ¸æ¥è¯´ï¼Œæ‰€æœ‰ <strong>æ‰“å¼€çš„æ–‡ä»¶</strong> éƒ½ä½¿ç”¨ file descriptor å¼•ç”¨ã€‚</li><li>æ–‡ä»¶æè¿°ç¬¦æ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°ã€‚å½“æˆ‘ä»¬æ‰“å¼€ä¸€ä¸ªå­˜åœ¨çš„æ–‡ä»¶æˆ–è€…åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶ï¼Œå†…æ ¸è¿”å›ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦ç»™è¿›ç¨‹ã€‚</li><li>å½“æˆ‘ä»¬æƒ³è¦è¯»æˆ–è€…å†™ä¸€ä¸ªæ–‡ä»¶ï¼Œæˆ‘ä»¬é€šè¿‡æ–‡ä»¶æè¿°ç¬¦æ¥ç¡®å®šè¿™ä¸ªæ–‡ä»¶ï¼Œæ–‡ä»¶æè¿°ç¬¦æ˜¯è¢« open æˆ–è€… creat è¿”å›çš„ï¼Œç„¶åä½œä¸º read æˆ–è€… write çš„ä¸€ä¸ªå‚æ•°ã€‚</li></ul><blockquote><p>æ–‡ä»¶æè¿°ç¬¦éƒ½ä½¿ç”¨å°½å¯èƒ½å°çš„éè´Ÿæ•´æ•°ï¼ŒFile descriptors range from 0 through OPEN_MAXâˆ’1.</p></blockquote><p>æœ‰ä¸‰ä¸ª magic numberï¼Œ0 ä»£è¡¨ STDIN_FILENOï¼Œ1 ä»£è¡¨ STDOUT_FILENOï¼Œ2 ä»£è¡¨ STDERR_FILENOã€‚è™½ç„¶è¿™å·²ç»æ˜¯ POSIX.1 æ‰€å®šä¹‰çš„æ ‡å‡†ï¼Œä½†ä¸ºäº†ç¨‹åºçš„å¯è¯»æ€§ï¼Œè¿˜æ˜¯ä¸å»ºè®®ç›´æ¥å†™æ•°å­—ã€‚è¿™ä¸‰ä¸ªå¸¸é‡å®šä¹‰åœ¨<code>&lt;unistd.h&gt;</code>ä¸­ã€‚</p><h2 id="open-and-openat-Functions"><a href="#open-and-openat-Functions" class="headerlink" title="open and openat Functions"></a>open and openat Functions</h2><p>A file is opened or created by calling either the open function or the openat function.</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;fcntl.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">open</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *path, <span class="keyword">int</span> oflag, ... <span class="comment">/* mode_t mode */</span> )</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">openat</span><span class="params">(<span class="keyword">int</span> fd, <span class="keyword">const</span> <span class="keyword">char</span> *path, <span class="keyword">int</span> oflag, ... <span class="comment">/* mode_t mode */</span> )</span></span>;</span><br><span class="line"><span class="comment">// Both return: file descriptor if OK, âˆ’1 on error</span></span><br></pre></td></tr></table></figure><p>æœ€åä¸€ä¸ªå‚æ•°æ˜¯<code>...</code>ï¼Œè¿™æ˜¯ ISO C å®šä¹‰å‰©ä¸‹çš„å¤šä¸ªå‚æ•°çš„æ–¹å¼ã€‚å¯¹è¿™äº›å‡½æ•°æ¥è¯´ï¼Œåªæœ‰å½“æ–°æ–‡ä»¶è¢«åˆ›å»ºæ—¶ï¼Œæœ€åä¸€ä¸ªå‚æ•°æ‰è¢«ä½¿ç”¨ï¼Œåé¢æˆ‘ä»¬ä¼šè®²ã€‚åœ¨è¿™ä¸ªåŸå‹ä¸­æˆ‘ä»¬æŠŠè¿™ä¸ªå‚æ•°å†™ä½œä¸€ä¸ªæ³¨é‡Šã€‚</p><p>path è¿™ä¸ªå‚æ•°æ˜¯è¦æ‰“å¼€æˆ–è€…è¦åˆ›å»ºçš„æ–‡ä»¶çš„åå­—ã€‚è¿™ä¸ªå‡½æ•°æœ‰å¤šç§æ“ä½œï¼Œå®šåœ¨åœ¨ oflag å‚æ•°é‡Œã€‚è¿™ä¸ªå‚æ•°ç”±ä¸‹åˆ—ä¸€ä¸ªæˆ–è€…å¤šä¸ªå®šä¹‰åœ¨<code>&lt;fcntl.h&gt;</code>å¤´æ–‡ä»¶ä¸­çš„å¸¸é‡é€šè¿‡ <strong>æˆ–(ä¸€ç§é€»è¾‘æ“ä½œ)</strong> æ“ä½œæ„æˆï¼š</p><p>O_RDONLY Open for reading only</p><p>O_WRONLY Open for writing only</p><p>O_RDWR Open for reading and writing</p><blockquote><p>Most implementations define O_RDONLY as 0, O_WRONLY as 1, and O_RDWR as 2, for compatibility with older programs. <strong>ä¸ºäº†å…¼å®¹è€ç¨‹åºï¼Œè®¸å¤šå®ç°å®šä¹‰ O_RDONLY as 0, O_WRONLY as 1, and O_RDWR as 2</strong>ã€‚</p></blockquote><p>O_EXEC Open for execute only</p><p>O_SEARCH Open for search only(applies to directories)</p><blockquote><p>The purpose of the O_SEARCH constant is to evaluate search permissions at the time a directory is opened. Further operations using the directoryâ€™s file descriptor will not reevaluate permission to search the directory. None of the versions of the operating systems covered in this book support O_SEARCH yet.</p></blockquote><p>One and only one of the previous five constants must be specified. The following constants are optional:</p><p>ä¸Šé¢çš„äº”ä¸ªå¸¸é‡æœ‰ä¸”åªæœ‰ä¸€ä¸ªå¿…é¡»è¢«æ˜ç¡®ã€‚æ¥ä¸‹æ¥çš„æ˜¯å¯é€‰å¸¸é‡ï¼š</p><p>O_APPEND Append to the end of file on each write. We describe this option in detail in Section 3.11.</p><p>O_CLOEXEC Set the FD_CLOEXEC file descriptor flag. We discuss file descriptor flags in Section 3.14.</p><p>O_CREAT Create the file if it doesnâ€™t exist. This option requires a third argument to the open function (a fourth argument to the openat function) â€” the mode, which specifies the access permission bits of the new file. (When we describe a fileâ€™s access permission bits in Section 4.5, weâ€™ll see how to specify the mode and how it can be modified by the umask value of a process.) åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œå¦‚æœä¸å­˜åœ¨ã€‚è¿™ä¸ªæ“ä½œéœ€è¦ open å‡½æ•°çš„ç¬¬ä¸‰ä¸ªå‚æ•°ï¼ˆopenat å‡½æ•°çš„ç¬¬å››ä¸ªå‚æ•°ï¼‰â€” modeï¼Œ<strong>å®ƒæ˜ç¡®äº†è¿™ä¸ªæ–°æ–‡ä»¶çš„è®¿é—®æƒé™ä½</strong>ã€‚ï¼ˆå½“æˆ‘ä»¬åœ¨ç¬¬ 4.5 ç« èŠ‚è®¨è®ºæ–‡ä»¶çš„è®¿é—®æƒé™ä½ï¼Œæˆ‘ä»¬å°†çœ‹åˆ°å¦‚ä½•æ˜ç¡® modeï¼Œä»¥åŠå®ƒå¦‚ä½•ä¿®æ”¹è¿›ç¨‹çš„ umask å€¼ã€‚ï¼‰</p><p>O_DIRECTORY Generate an error if path doesnâ€™t refer to a directory.</p><p>O_EXCL Generate an error if O_CREAT is also specified and the file already exists. This test for whether the file already exists and the creation of the file if it doesnâ€™t exist is an atomic operation. We describe atomic operations in more detail in Section 3.11. å¦‚æœ O_CREAT è¢«ä½¿ç”¨äº†ä¸”æ–‡ä»¶å·²ç»å­˜åœ¨å°±ä¼šç”Ÿæˆä¸€ä¸ªé”™è¯¯ã€‚è¿™ä¸ªå¸¸é‡çš„ä½œç”¨æ˜¯æ£€æµ‹æ–‡ä»¶æ˜¯å¦å­˜åœ¨å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨å°±åˆ›å»ºï¼Œè¿™æ˜¯ä¸€ä¸ªåŸå­æ“ä½œã€‚æˆ‘ä»¬å°†åœ¨ç¬¬ 3.11 ç« èŠ‚è®¨è®ºæ›´å¤šåŸå­æ“ä½œçš„ç»†èŠ‚ã€‚</p><p>O_NOCTTY If path refers to a terminal device, do not allocate the device as the controlling terminal for this process. We talk about controlling terminals in Section 9.6. å¦‚æœè¿™ä¸ªè·¯å¾„æŒ‡å‘çš„æ˜¯ç»ˆç«¯è®¾å¤‡ï¼Œåˆ™ä¸å°†è¿™ä¸ªè®¾å¤‡åˆ†é…ä¸ºæ­¤è¿›ç¨‹çš„æ§åˆ¶ç»ˆç«¯ã€‚</p><p>O_NONBLOCK If path refers to a FIFO, a block special file, or a character special file, this option sets the nonblocking mode for both the opening of the file and subsequent I/O. We describe this mode in Section 14.2. å¦‚æœ path æŒ‡å‘ FIFOï¼ˆå…ˆè¿›å…ˆå‡ºï¼‰ï¼Œä¸€ä¸ªå—ç‰¹æ®Šæ–‡ä»¶ï¼Œä¸€ä¸ªå­—ç¬¦ç‰¹æ®Šæ–‡ä»¶ï¼Œè¿™ä¸ªé€‰é¡¹è®¾ç½®äº†éé˜»å¡æ¨¡å¼ä¸ºæœ¬æ¬¡çš„æ‰“å¼€æ“ä½œå’Œåç»­çš„ I/O æ“ä½œã€‚</p><blockquote><p>In earlier releases of System V, the O_NDELAY (no delay) flag was introduced. This option is similar to the O_NONBLOCK (nonblocking) option, but an ambiguity was introduced in the return value from a read operation. The no-delay option causes a read operation to return 0 if there is no data to be read from a pipe, FIFO, or device, but this conflicts with a return value of 0, indicating an end of file. SVR4-based systems still support the no-delay option, with the old semantics, but new applications should use the nonblocking option instead. åœ¨æ—©æœŸçš„ System Vï¼Œæœ‰ä¸€ä¸ª O_NDELAY(no delay)ç¬¦å·ã€‚è¿™ä¸ªç¬¦å·å’Œ O_NONBLOCK(nonblocking)é€‰é¡¹ç›¸ä¼¼ï¼Œä½†ä»–çš„è¯»æ“ä½œè¿”å›å€¼å…·æœ‰äºŒä¹‰æ€§ã€‚å¦‚æœç®¡é“ï¼Œå…ˆè¿›å…ˆå‡ºï¼Œæˆ–è€…è®¾å¤‡æ²¡æœ‰æ•°æ®å¯è¯»ï¼Œno-delay é€‰é¡¹å°±ä¼šé€ æˆ read æ“ä½œè¿”å› 0ï¼Œè¿™ä¸ end of file é€ æˆçš„è¿”å›å€¼ 0 å†²çªäº†ã€‚è™½ç„¶åŸºäº SVR4 çš„ç³»ç»Ÿè¿˜æ”¯æŒè¿™ä¸ª no-delay é€‰é¡¹ï¼Œä½†æ–°çš„åº”ç”¨åº”è¯¥ä½¿ç”¨ nonblocking é€‰é¡¹ã€‚</p></blockquote><p>O_SYNC Have each write wait for physical I/O to complete, including I/O necessary to update file attributes modified as a result of the write. We use this option in Section 3.14. ä½¿æ¯æ¬¡ write éƒ½ç­‰ç‰©ç† I/O å®Œæˆï¼ŒåŒ…æ‹¬æ›´æ–°æ–‡ä»¶å±æ€§æ‰€éœ€è¦çš„ I/Oã€‚</p><p>O_TTY_INIT When opening a terminal device that is not already open, set the nonstandard termios parameters to values that result in behavior that conforms to the Single UNIX Specification. We discuss the termios structure when we discuss terminal I/O in Chapter 18. å½“æ‰“å¼€ä¸€ä¸ªæ–°çš„ç»ˆç«¯è®¾å¤‡çš„æ—¶å€™ï¼Œè®¾ç½®éæ ‡å‡†å‚æ•° termiosã€‚</p><p>The following two flags are also optional. They are part of the synchronized input and output option of the Single UNIX Specification (and thus POSIX.1).</p><p>O_DSYNC Have each write wait for physical I/O to complete, but donâ€™t wait for file attributes to be updated if they donâ€™t affect the ability to read the data just written. è®©æ‰€æœ‰ write éƒ½ç­‰å¾…ç‰©ç† I/O å®Œæˆï¼Œä½†æ˜¯ä¸ç”¨ç­‰æ–‡ä»¶å±æ€§æ›´æ–°ï¼Œå¦‚æœä¸å½±å“åˆšåˆšå†™å®Œçš„æ•°æ®çš„è¯»æ“ä½œçš„è¯ã€‚</p><p>O_RSYNC Have each read operation on the file descriptor wait until any pending writes for the same portion of the file are complete. ä½¿æ¯ä¸ªä½¿ç”¨æ–‡ä»¶æè¿°ç¬¦çš„çš„è¯»æ“ä½œç­‰å¾…ï¼Œç›´åˆ°å¯¹æ–‡ä»¶çš„åŒä¸€éƒ¨åˆ†çš„æ‰€æœ‰å†™æ“ä½œå®Œæˆã€‚</p><blockquote><p>Solaris 10 supports all three synchronization flags. Historically, FreeBSD (and thus Mac OS X) have used the O_FSYNC flag, which has the same behavior as O_SYNC. Because the two flags are equivalent, they define the flags to have the same value. FreeBSD 8.0 doesnâ€™t support the O_DSYNC or O_RSYNC flags. Mac OS X doesnâ€™t support the O_RSYNC flag, but defines the O_DSYNC flag, treating it the same as the O_SYNC flag. Linux 3.2.0 supports the O_DSYNC flag, but treats the O_RSYNC flag the same as O_SYNC.</p></blockquote><p><strong>The file descriptor returned by open and openat is guaranteed to be the lowest- numbered unused descriptor</strong>. This fact is used by some applications to open a new file on standard input, standard output, or standard error. <strong>For example, an application might close standard outputâ€”normally, file descriptor 1â€”and then open another file, knowing that it will be opened on file descriptor 1</strong>. Weâ€™ll see a better way to guarantee that a file is open on a given descriptor in Section 3.12, when we explore the dup2 function.</p><p><strong>The fd parameter</strong> distinguishes the openat function from the open function. There are three possibilities:</p><ol><li><p>The path parameter specifies an absolute pathname. In this case, the fd parameter is ignored and the openat function behaves like the open function.</p></li><li><p>The path parameter specifies a relative pathname and the fd parameter is a file descriptor that specifies the starting location in the file system where the relative pathname is to be evaluated. The fd parameter is obtained by opening the directory where the relative pathname is to be evaluated.</p></li><li><p>The path parameter specifies a relative pathname and the fd parameter has the special value AT_FDCWD. In this case, the pathname is evaluated starting in the current working directory and the openat function behaves like the open function.</p></li></ol><p>The openat function is one of a class of functions added to the latest version of POSIX.1 to address two problems. First, it gives threads a way to use relative pathnames to open files in directories other than the current working directory. As weâ€™ll see in Chapter 11, all threads in the same process share the same current working directory, so this makes it difficult for multiple threads in the same process to work in different directories at the same time. Second, it provides a way to avoid time-of-check- to-time-of-use (TOCTTOU) errors. openat å‡½æ•°æ˜¯åœ¨æœ€åä¸€ä¸ªç‰ˆæœ¬çš„ POSIX.1 åŠ å…¥çš„ï¼Œä¸ºäº†è§£å†³ä¸¤ä¸ªé—®é¢˜ã€‚é¦–å…ˆï¼Œå®ƒç»™çº¿ç¨‹ä»¥ç›¸å¯¹è·¯å¾„è€Œéå½“å‰è·¯å¾„ã€‚æˆ‘ä»¬å°†åœ¨ç¬¬ 11 ç« çœ‹åˆ°ï¼Œåœ¨åŒä¸€è¿›ç¨‹ä¸­çš„æ‰€æœ‰çº¿ç¨‹å…±äº«åŒä¸€ä¸ªå½“å‰ç›®å½•ï¼Œæ‰€ä»¥è¦è®©åŒä¸€è¿›ç¨‹ä¸­çš„å¤šçº¿ç¨‹åŒæ—¶åœ¨ä¸åŒçš„ç›®å½•å·¥ä½œæ˜¯éå¸¸å›°éš¾çš„ã€‚ç¬¬äºŒï¼Œå®ƒæä¾›äº†é¿å… time-of-check-to-time-of-useï¼ˆTOCTTOUï¼‰ é”™è¯¯ã€‚</p><p>The basic idea behind TOCTTOU errors is that a program is vulnerable if it makes two file-based function calls where the second call depends on the results of the first call. Because the two calls are not atomic, the file can change between the two calls, thereby invalidating the results of the first call, leading to a program error. TOCTTOU errors in the file system namespace generally deal with attempts to subvert file system permissions by tricking a privileged program into either reducing permissions on a privileged file or modifying a privileged file to open up a security hole. Wei and Pu [2005] discuss TOCTTOU weaknesses in the UNIX file system interface. TOCTTOU é”™è¯¯çš„æ„æ€æ˜¯ï¼Œä¸€ä¸ªè°ƒç”¨æ¨ªå‰ä¸€è„šå½±å“äº†å¦ä¸€ä¸ªè°ƒç”¨ï¼Œæœ¬æ¥å¦ä¸€ä¸ªè°ƒç”¨åº”è¯¥æ˜¯ä¸€ä¸ªåŸå­æ“ä½œã€‚</p><h3 id="Filename-and-Pathname-Truncation"><a href="#Filename-and-Pathname-Truncation" class="headerlink" title="Filename and Pathname Truncation"></a>Filename and Pathname Truncation</h3><p>What happens if NAME_MAX is 14 and we try to create a new file in the current directory with a filename containing 15 characters? Traditionally, early releases of System V, such as SVR2, allowed this to happen, silently truncating the filename beyond the 14th character. BSD-derived systems, in contrast, returned an error status, with errno set to ENAMETOOLONG. Silently truncating the filename presents a problem that affects more than simply the creation of new files. If NAME_MAX is 14 and a file exists whose name is exactly 14 characters, any function that accepts a pathname argument, such as open or stat, has no way to determine what the original name of the file was, as the original name might have been truncated. å¦‚æœ NAME_MAX æ˜¯ 14 æ€ä¹ˆåŠï¼Ÿä¼ ç»Ÿä¸Šï¼Œæ—©æœŸçš„ System V ç³»ç»Ÿï¼Œå…è®¸è¿™å‘ç”Ÿï¼Œé™é»˜çš„å°†æ–‡ä»¶åæˆªæ–­æˆ 14 å­—ç¬¦ã€‚ç›¸åçš„ï¼ŒBSD æ´¾ç”Ÿçš„ç³»ç»Ÿï¼Œè¿”å›ä¸€ä¸ªé”™è¯¯çŠ¶æ€ï¼Œå¹¶æŠŠ errno è®¾ç½®æˆ ENAMETOOLONGã€‚é™é»˜çš„æˆªæ–­æ–‡ä»¶åå‘ˆç°çš„é—®é¢˜ä¸ä»…ä»…æ˜¯åˆ›å»ºäº†ä¸€ä¸ªæ–°æ–‡ä»¶ã€‚å¦‚æœ NAME_MAX æ˜¯ 14 ä¸”æ–‡ä»¶å­˜åœ¨ï¼Œä¸”å®ƒçš„åå­—å°±æ˜¯ 14 å­—ç¬¦ï¼Œä»»ä½•æ¥æ”¶ä¸€ä¸ªè·¯å¾„åä½œä¸ºå‚æ•°çš„å‡½æ•°ï¼Œæ¯”å¦‚ open æˆ–è€… statï¼Œæ²¡åŠæ³•åˆ¤æ–­æ–‡ä»¶åŸæ¥çš„åå­—æ˜¯ä»€ä¹ˆï¼Œå› ä¸ºåŸå§‹æ–‡ä»¶åå¯èƒ½å·²ç»è¢«æˆªæ–­ã€‚</p><p>With POSIX.1, the constant <code>_POSIX_NO_TRUNC</code> determines whether long filenames and long components of pathnames are truncated or an error is returned. As we saw in Chapter 2, this value can vary based on the type of the file system, and we can use fpathconf or pathconf to query a directory to see which behavior is supported. åœ¨ POSIX.1 æ ‡å‡†é‡Œï¼Œå¸¸é‡ <code>_POSIX_NO_TRUNC</code> å†³å®šé•¿æ–‡ä»¶åå’Œè·¯å¾„åä¸­é•¿çš„ç»„ä»¶æ˜¯å¦è¢«æˆªæ–­æˆ–è€…æ˜¯å¦è¿”å›ä¸€ä¸ªé”™è¯¯ã€‚æ­£å¦‚æˆ‘ä»¬åœ¨ç¬¬äºŒç« ä¸­çœ‹åˆ°çš„ï¼Œè¿™ä¸ªå€¼åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­æ˜¯éå¸¸åŸºæœ¬çš„ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>fpathconf</code> æˆ– <code>pathconf</code>æŸ¥è¯¢ä¸€ä¸ªç›®å½•çœ‹çœ‹å®ƒæ”¯æŒå“ªç§è¡Œä¸ºã€‚</p><blockquote><p>Whether an error is returned is largely historical. For example, SVR4-based systems do not generate an error for the traditional System V file system, S5. For the BSD-style file system (known as UFS), however, SVR4-based systems do generate an error. Figure 2.20 illustrates another example: Solaris will return an error for UFS, but not for PCFS, the DOS-compatible file system, as DOS silently truncates filenames that donâ€™t fit in an 8.3 format. BSD-derived systems and Linux always return an error.</p></blockquote><p>If _POSIX_NO_TRUNC is in effect, errno is set to ENAMETOOLONG, and an error status is returned if any filename component of the pathname exceeds NAME_MAX.</p><blockquote><p>Most modern file systems support a maximum of 255 characters for filenames. Because filenames are usually shorter than this limit, this constraint tends to not present problems for most applications.</p></blockquote><h2 id="creat-Function"><a href="#creat-Function" class="headerlink" title="creat Function"></a>creat Function</h2><p>A new file can also be created by calling the creat function.</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;fcntl.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">creat</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *path, <span class="keyword">mode_t</span> mode)</span></span>;</span><br><span class="line"><span class="comment">// Returns: file descriptor opened for write-only if OK, âˆ’1 on error</span></span><br></pre></td></tr></table></figure><p>Note that this function is equivalent to</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">open(path, O_WRONLY | O_CREAT | O_TRUNC, mode);</span><br></pre></td></tr></table></figure><blockquote><p>Historically, in early versions of the UNIX System, the second argument to open could be only 0, 1, or 2. There was no way to open a file that didnâ€™t already exist. Therefore, a separate system call, creat, was needed to create new files. With the O_CREAT and O_TRUNC options now provided by open, a separate creat function is no longer needed. è¿™ä¸ªå‡½æ•°è¯ç”Ÿçš„åŸå› æ˜¯ï¼šå†å²ä¸Š open å‡½æ•°çš„ç¬¬äºŒä¸ªå‚æ•°åªæ”¯æŒ 0ï¼Œ1ï¼Œ2 è¿™ä¸‰ä¸ªå€¼ï¼Œä¹Ÿå°±æ˜¯è¯»ï¼Œå†™ï¼Œè¯»å†™ã€‚æ²¡åŠæ³•æ‰“å¼€ä¸€ä¸ªä¸å­˜åœ¨çš„æ–‡ä»¶ã€‚è€Œç°åœ¨æœ‰äº† O_CREAT and O_TRUNC optionsï¼Œcreat å‡½æ•°ä¹Ÿå°±æ²¡æœ‰å­˜åœ¨çš„å¿…è¦äº†ã€‚</p></blockquote><p>Weâ€™ll show how to specify mode in Section 4.5 when we describe a fileâ€™s access permissions in detail.</p><p>One deficiency with creat is that the file is opened only for writing. Before the new version of open was provided, if we were creating a temporary file that we wanted to write and then read back, we had to call creat, close, and then open. A better way is to use the open function, as in</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">open(path, O_RDWR | O_CREAT | O_TRUNC, mode);</span><br></pre></td></tr></table></figure><h2 id="close-Function"><a href="#close-Function" class="headerlink" title="close Function"></a>close Function</h2><p>An open file is closed by calling the close function.</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unistd.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Returns: 0 if OK, âˆ’1 on error</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">close</span><span class="params">(<span class="keyword">int</span> fd)</span></span>;</span><br></pre></td></tr></table></figure><p>Closing a file also releases any record locks that the process may have on the file. Weâ€™ll discuss this point further in Section 14.3. å…³é—­ä¸€ä¸ªæ–‡ä»¶åŒæ ·ä¼šé‡Šæ”¾è¿›ç¨‹å¯¹è¯¥æ–‡ä»¶çš„æ‰€æœ‰é”ã€‚</p><p>When a process terminates, all of its open files are closed automatically by the kernel. Many programs take advantage of this fact and donâ€™t explicitly close open files. See the program in Figure 1.4, for example. å½“ä¸€ä¸ªè¿›ç¨‹ç»ˆæ­¢ï¼Œæ‰€æœ‰å®ƒæ‰“å¼€çš„æ–‡ä»¶éƒ½ä¼šè¢«å†…æ ¸è‡ªåŠ¨å…³é—­ã€‚è®¸å¤šç¨‹åºåˆ©ç”¨äº†è¿™ä¸€ç‚¹ï¼Œä¸æ˜ç¡®å…³é—­æ–‡ä»¶ã€‚</p><h2 id="lseek-Function"><a href="#lseek-Function" class="headerlink" title="lseek Function"></a>lseek Function</h2><p>Every open file has an associated â€œcurrent file offset,â€ normally a non-negative integer that measures the number of bytes from the beginning of the file. (We describe some exceptions to the â€˜â€˜non-negativeâ€™â€™ qualifier later in this section.) Read and write operations normally start at the current file offset and cause the offset to be incremented by the number of bytes read or written. By default, this offset is initialized to 0 when a file is opened, unless the O_APPEND option is specified. æ¯ä¸ªæ‰“å¼€çš„æ–‡ä»¶éƒ½ä¸ &quot;current file offset&quot;å…³è”ï¼Œæ­£å¸¸æƒ…å†µä¸‹å®ƒæ˜¯ä¸€ä¸ªéè´Ÿæ•´å½¢æ•°ï¼Œè¡¨ç¤ºä»æ–‡ä»¶å¼€å§‹åˆ°ç›®å‰ä½ç½®çš„å­—èŠ‚æ•°ã€‚è¯»å’Œå†™æ“ä½œéƒ½æ˜¯ä» current file offset å¼€å§‹çš„ï¼Œå¹¶ä¸”ä¼šè®© offset å¢åŠ ï¼Œéšç€è¯»å’Œå†™çš„è¿›è¡Œã€‚é»˜è®¤çš„ï¼Œå½“æ–‡ä»¶è¢«æ‰“å¼€æ—¶ï¼Œè¿™ä¸ªä½ç§»åˆå§‹åŒ–æ—¶ 0ï¼Œé™¤éæŒ‡æ˜äº† O_APPEND é€‰é¡¹ã€‚</p><p>An open fileâ€™s offset can be set explicitly by calling lseek. é€šè¿‡è°ƒç”¨ lseek å‡½æ•°ï¼Œä¸€ä¸ªæ‰“å¼€çš„æ–‡ä»¶çš„ offset å¯ä»¥è¢«è®¾å®šã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="keyword">off_t</span> lseek(<span class="keyword">int</span> fd, <span class="keyword">off_t</span> offset, <span class="keyword">int</span> whence);</span><br><span class="line"><span class="comment">// Returns: new file offset if OK, âˆ’1 on error</span></span><br></pre></td></tr></table></figure><p>The interpretation of the offset depends on the value of the whence argument.</p><ul><li>If whence is SEEK_SET, the fileâ€™s offset is set to offset bytes from the beginning of the file.</li><li>If whence is SEEK_CUR, the fileâ€™s offset is set to its current value plus the offset. The offset can be positive or negative.</li><li>If whence is SEEK_END, the fileâ€™s offset is set to the size of the file plus the offset. The offset can be positive or negative.</li></ul><p>Because a successful call to lseek returns the new file offset, we can seek zero bytes from the current position to determine the current offset:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">off_t</span>    currpos;</span><br><span class="line">currpos = lseek(fd, <span class="number">0</span>, SEEK_CUR);</span><br></pre></td></tr></table></figure><p>This technique can also be used to determine if a file is capable of seeking. If the file descriptor refers to a pipe, FIFO, or socket, lseek sets errno to <strong>ESPIPE</strong> and returns âˆ’1.</p><blockquote><p>The three symbolic constantsâ€”SEEK_SET, SEEK_CUR, and SEEK_ENDâ€”were introduced with System V. Prior to this, <strong>whence was specified as 0 (absolute), 1 (relative to the current offset), or 2 (relative to the end of file). Much software still exists with these numbers hard coded</strong>.</p><p><strong>The character l in the name lseek means â€˜â€˜long integer.â€™â€™ Before the introduction of the off_t data type, the offset argument and the return value were long integers</strong>. lseek was introduced with Version 7 when long integers were added to C. (Similar functionality was provided in Version 6 by the functions seek and tell.)</p></blockquote><h3 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h3><p>The program in Figure 3.1 tests its standard input to see whether it is capable of seeking.</p><blockquote><p>Figure 3.1 Test whether standard input is capable of seeking</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"apue.h"</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (lseek(STDIN_FILENO, <span class="number">0</span>, SEEK_CUR) == <span class="number">-1</span>)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"cannot seek\n"</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"seek OK\n"</span>);</span><br><span class="line">    <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Normally, a fileâ€™s current offset must be a non-negative integer. It is possible, however, that certain devices could allow negative offsets. But for regular files, the offset must be non-negative. Because negative offsets are possible, we should be careful to compare the return value from lseek as being equal to or not equal to âˆ’1, rather than testing whether it is less than 0</strong>.</p><blockquote><p>The /dev/kmem device on FreeBSD for the Intel x86 processor supports negative offsets. Because the offset (off_t) is a signed data type (Figure 2.21), we lose a factor of 2 in the maximum file size. If off_t is a 32-bit integer, the maximum file size is $2^{31}$âˆ’1 bytes.</p></blockquote><p>lseek only records the current file offset within the kernel â€” it does not cause any I/O to take place. This offset is then used by the next read or write operation.</p><p>The fileâ€™s offset can be greater than the fileâ€™s current size, in which case the next write to the file will extend the file. This is referred to as creating a hole in a file and is allowed. Any bytes in a file that have not been written are read back as 0. æ–‡ä»¶åç§»é‡å¯ä»¥å¤§äºæ–‡ä»¶çš„ç›®å‰å¤§å°ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ä¸‹ä¸€æ¬¡å†™æ–‡ä»¶å°†æ‰©å±•æ–‡ä»¶ã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨æ–‡ä»¶ä¸­åˆ›å»ºä¸€ä¸ªç©ºæ´æ˜¯è¢«å…è®¸çš„ã€‚åœ¨æ–‡ä»¶ä¸­ä»»ä½•æ²¡è¢«å†™å…¥çš„éƒ¨åˆ†éƒ½å°†è¢«è¯»ä½œ 0ã€‚</p><p>A hole in a file isnâ€™t required to have storage backing it on disk. Depending on the file system implementation, when you write after seeking past the end of a file, new disk blocks might be allocated to store the data, but there is no need to allocate disk blocks for the data between the old end of file and the location where you start writing. æ–‡ä»¶ä¸­çš„ç©ºæ´å¹¶ä¸éœ€è¦å­˜å‚¨åˆ°ç£ç›˜ä¸Šã€‚æ ¹æ®æ–‡ä»¶ç³»ç»Ÿçš„å®ç°ï¼Œå½“ä½ åœ¨ end of file ä¹‹åå†™ï¼Œä¸ºäº†å­˜å‚¨æ•°æ®æ–°çš„ç£ç›˜ç©ºé—´å¯èƒ½ä¼šåˆ†é…ï¼Œä½†æ²¡æœ‰å¿…è¦åˆ†é…ç£ç›˜å—ç»™ end of file å’Œä½ å¼€å§‹å†™çš„åœ°æ–¹ä¹‹é—´çš„è¿™äº›æ•°æ®ã€‚</p><h3 id="Example-1"><a href="#Example-1" class="headerlink" title="Example"></a>Example</h3><p>The program shown in Figure 3.2 creates a file with a hole in it.</p><blockquote><p>Figure 3.2 Create a file with a hole in it</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"apue.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;fcntl.h&gt;</span></span></span><br><span class="line"><span class="keyword">char</span>    buf1[] = <span class="string">"abcdefghij"</span>;</span><br><span class="line"><span class="keyword">char</span>    buf2[] = <span class="string">"ABCDEFGHIJ"</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> fd;</span><br><span class="line">    <span class="keyword">if</span> ((fd = creat(<span class="string">"file.hole"</span>, FILE_MODE)) &lt; <span class="number">0</span>)</span><br><span class="line">        err_sys(<span class="string">"creat error"</span>);</span><br><span class="line">    <span class="keyword">if</span> (write(fd, buf1, <span class="number">10</span>) != <span class="number">10</span>)</span><br><span class="line">        err_sys(<span class="string">"buf1 write error"</span>);</span><br><span class="line">    <span class="comment">/* offset now = 10 */</span></span><br><span class="line">    <span class="keyword">if</span> (lseek(fd, <span class="number">16384</span>, SEEK_SET) == <span class="number">-1</span>)</span><br><span class="line">        err_sys(<span class="string">"lseek error"</span>);</span><br><span class="line">    <span class="comment">/* offset now = 16384 */</span></span><br><span class="line">    <span class="keyword">if</span> (write(fd, buf2, <span class="number">10</span>) != <span class="number">10</span>)</span><br><span class="line">        err_sys(<span class="string">"buf2 write error"</span>);</span><br><span class="line">    <span class="comment">/* offset now = 16394 */</span></span><br><span class="line">    <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="read-Function"><a href="#read-Function" class="headerlink" title="read Function"></a>read Function</h2><p>Data is read from an open file with the read function.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;unistd.h&gt;</span><br><span class="line">ssize_t read(int fd, void *buf, size_t nbytes);</span><br></pre></td></tr></table></figure><blockquote><p>Returns: numbers of bytes read, 0 if end of file, -1 on error</p></blockquote><p>If the read is successful, the number of bytes read is returned. If the end of file is encountered, 0 is returned.</p><p>There are several cases in which the number of bytes actually read is less than the amount requested: æœ‰ä»¥ä¸‹å‡ ç§æƒ…å†µï¼Œread è¯»å–çš„å­—èŠ‚ä¼šæ¯”æŒ‡å®šçš„å­—èŠ‚æ•°å°‘</p><ul><li>When reading from a regular file, if the end of file is reached before the requested number of bytes has been read. For example, if 30 bytes remain until the end of file and we try to read 100 bytes, read returns 30. The next time we call read, it will return 0 (end of file).</li><li>When reading from a terminal device. Normally, up to one line is read at a time. (Weâ€™ll see how to change this default in Chapter 18.)</li><li>When reading from a network. Buffering within the network may cause less than the requested amount to be returned.</li><li>When reading from a pipe or FIFO. If the pipe contains fewer bytes than requested, read will return only what is available.</li><li>When reading from a record-oriented device. Some record-oriented devices, such as magnetic tape, can return up to a single record at a time.</li><li>When interrupted by a signal and a partial amount of data has already been read. We discuss this further in Section 10.5.</li></ul><p>The read operation starts at the fileâ€™s current offset. Before a successful return, the offset is incremented by the number of bytes actually read. read æ“ä½œæ˜¯ä»æ–‡ä»¶çš„å½“å‰åç§»é‡å¼€å§‹çš„ã€‚åœ¨æˆåŠŸè¿”å›å‰ï¼Œåç§»é‡ä¼šéšè¯»å–çš„å­—èŠ‚å¢åŠ ã€‚</p><p>POSIX.1 changed the prototype for this function in several ways. The classic definition is</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">int read(int fd, char *buf, unsigned nbytes);</span><br></pre></td></tr></table></figure><ul><li>First, the second argument was changed from char _ to void _ to be consistent<br>with ISO C: the type void * is used for generic pointers.</li><li>Next, the return value was required to be a signed integer (ssize_t) to return a positive byte count, 0 (for end of file), or âˆ’1 (for an error).</li><li>Finally, the third argument historically has been an unsigned integer, to allow a 16-bit implementation to read or write up to 65,534 bytes at a time. With the 1990 POSIX.1 standard, the primitive system data type ssize_t was introduced to provide the signed return value, and the unsigned size_t was used for the third argument. (Recall the SSIZE_MAX constant from Section 2.5.2.)</li></ul><h2 id="write-Function"><a href="#write-Function" class="headerlink" title="write Function"></a>write Function</h2><p>Data is written to an open file with the write function.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;unistd.h&gt;</span><br><span class="line">ssize_t write(int fd, const void *buf, size_t nbytes);</span><br></pre></td></tr></table></figure><p>The return value is usually equal to the nbytes argument; otherwise, an error has occurred. A common cause for a write error is either filling up a disk or exceeding the file size limit for a given process (Section 7.11 and Exercise 10.11). è¿”å›å€¼ä¸€èˆ¬ä¼šç­‰äº<code>nbytes</code>è¿™ä¸ªå‚æ•°çš„å¤§å°ï¼Œå¦åˆ™å°±æ˜¯å‡ºé”™äº†ã€‚ä¸€èˆ¬å¯¼è‡´å†™é”™è¯¯çš„åŸå› æ˜¯ç£ç›˜æ»¡äº†æˆ–è€…è¶…å‡ºç»™å®šè¿›ç¨‹çš„æ–‡ä»¶å¤§å°é™åˆ¶ã€‚</p><p>For a regular file, the write operation starts at the fileâ€™s current offset. If the O_APPEND option was specified when the file was opened, the fileâ€™s offset is set to the current end of file before each write operation. After a successful write, the fileâ€™s offset is incremented by the number of bytes actually written.</p><h2 id="I-O-Efficiency"><a href="#I-O-Efficiency" class="headerlink" title="I/O Efficiency"></a>I/O Efficiency</h2><p>The program in Figure 3.5 copies a file, using only the read and write functions.</p><blockquote><p>Figure 3.5 Copy standard input to standard output</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">#include &quot;apue.h&quot;</span><br><span class="line">#define BUFFSIZE 4096</span><br><span class="line">int main(void)</span><br><span class="line">&#123;</span><br><span class="line">    int     n;</span><br><span class="line">    char    buf[BUFFSIZE];</span><br><span class="line">    while ((n = read(STDIN_FILENO, buf, BUFFSIZE)) &gt; 0)</span><br><span class="line">        if (write(STDOUT_FILENO, buf, n) != n)</span><br><span class="line">            err_sys(&quot;write error&quot;);</span><br><span class="line">    if (n &lt; 0)</span><br><span class="line">        err_sys(&quot;read error&quot;);</span><br><span class="line">    exit(0);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>The following caveats apply to this program.</p><ul><li>It reads from standard input and writes to standard output, assuming that these have been set up by the shell before this program is executed. Indeed, all normal UNIX system shells provide a way to open a file for reading on standard input and to create (or rewrite) a file on standard output. This prevents the program from having to open the input and output files, and allows the user to take advantage of the shellâ€™s I/O redirection facilities.</li><li>The program doesnâ€™t close the input file or output file. Instead, the program uses the feature of the UNIX kernel that closes all open file descriptors in a process when that process terminates.</li><li>This example works for both text files and binary files, since there is no difference between the two to the UNIX kernel.</li></ul><p>One question we havenâ€™t answered, however, is how we chose the BUFFSIZE value. Before answering that, letâ€™s run the program using different values for BUFFSIZE. Figure 3.6 shows the results for reading a 516,581,760-byte file, using 20 different buffer sizes.</p><p><img src="../../../../images/APUE-3rd-Figure 3.6.png" width="70%"></p><p>The file was read using the program shown in Figure 3.5, with standard output redirected to /dev/null. The file system used for this test was the Linux ext4 file system with 4,096-byte blocks. (The st_blksize value, which we describe in Section 4.12, is 4,096.) This accounts for the minimum in the system time occurring at the few timing measurements starting around a BUFFSIZE of 4,096. Increasing the buffer size beyond this limit has little positive effect.</p><p>Most file systems support some kind of read-ahead to improve performance. When sequential reads are detected, the system tries to read in more data than an application requests, assuming that the application will read it shortly. The effect of read-ahead can be seen in Figure 3.6, where the elapsed time for buffer sizes as small as 32 bytes is as good as the elapsed time for larger buffer sizes.</p><p>Weâ€™ll return to this timing example later in the text. In Section 3.14, we show the effect of synchronous writes; in Section 5.8, we compare these unbuffered I/O times with the standard I/O library.</p><blockquote><p>Beware when trying to measure the performance of programs that read and write files. The operating system will try to cache the file incore, so if you measure the performance of the program repeatedly, the successive timings will likely be better than the first. This improvement occurs because the first run causes the file to be entered into the systemâ€™s cache, and successive runs access the file from the systemâ€™s cache instead of from the disk. (The term incore means in main memory. Back in the day, a computerâ€™s main memory was built out of ferrite core. This is where the phrase â€˜â€˜core dumpâ€™â€™ comes from: the main memory image of a program stored in a file on disk for diagnosis.)</p></blockquote><blockquote><p>In the tests reported in Figure 3.6, each run with a different buffer size was made using a different copy of the file so that the current run didnâ€™t find the data in the cache from the previous run. The files are large enough that they all donâ€™t remain in the cache (the test system was configured with 6 GB of RAM).</p></blockquote><h2 id="File-Sharing"><a href="#File-Sharing" class="headerlink" title="File Sharing"></a>File Sharing</h2><p>The UNIX System supports the sharing of open files among different processes. Before describing the dup function, we need to describe this sharing. To do this, weâ€™ll examine the data structures used by the kernel for all I/O.</p><blockquote><p>The following description is conceptual; it may or may not match a particular implementation. Refer to Bach [1986] for a discussion of these structures in System V. McKusick et al. [1996] describe these structures in 4.4BSD. McKusick and Neville-Neil [2005] cover FreeBSD 5.2. For a similar discussion of Solaris, see McDougall and Mauro [2007]. The Linux 2.6 kernel architecture is discussed in Bovet and Cesati [2006].</p></blockquote><p>The kernel uses three data structures to represent an open file, and the relationships among them determine the effect one process has on another with regard to file sharing.</p><ol><li><p>Every process has an entry in the process table. Within each process table entry is a table of open file descriptors, which we can think of as a vector, with one entry per descriptor. Associated with each file descriptor are</p><ol><li>The file descriptor flags (close-on-exec; refer to Figure 3.7 and Section 3.14)</li><li>A pointer to a file table entry</li></ol></li><li><p>The kernel maintains a file table for all open files. Each file table entry contains</p><ol><li>The file status flags for the file, such as read, write, append, sync, and nonblocking; more on these in Section 3.14</li><li>The current file offset</li><li>A pointer to the v-node table entry for the file</li></ol></li><li><p>Each open file (or device) has a v-node structure that <strong>contains information about the type of file</strong> and <strong>pointers to functions that operate on the file</strong>. For most files, the v-node also contains the i-node for the file. <strong>This information is read from disk when the file is opened</strong>, so that all the pertinent information about the file is readily available. For example, <strong>the i-node contains the owner of the file, the size of the file, pointers to where the actual data blocks for the file are located on disk</strong>, and so on. (We talk more about i-nodes in Section 4.14 when we describe the typical UNIX file system in more detail.)</p></li></ol><blockquote><p>Linux has no v-node. Instead, a generic i-node structure is used. Although the implementations differ, the v-node is conceptually the same as a generic i-node. Both point to an i-node structure specific to the file system.</p></blockquote><p>Weâ€™re ignoring some implementation details that donâ€™t affect our discussion. For example, the table of open file descriptors can be stored in the user area (a separate per- process structure that can be paged out) instead of the process table. Also, these tables can be implemented in numerous waysâ€”they need not be arrays; one alternate implementation is a linked lists of structures. Regardless of the implementation details, the general concepts remain the same.</p><p>Figure 3.7 shows a pictorial arrangement of these three tables for a single process that has two different files open: one file is open on standard input (file descriptor 0), and the other is open on standard output (file descriptor 1).</p><p><img src="https://i.loli.net/2018/05/30/5b0e51e54c6d1.png"></p><p>The arrangement of these three tables has existed since the early versions of the UNIX System [Thompson 1978]. <strong>This arrangement is critical to the way files are shared among processes</strong>. Weâ€™ll return to this figure in later chapters, when we describe additional ways that files are shared.</p><blockquote><p><strong>The v-node was invented to provide support for multiple file system types on a single computer system</strong>. This work was done independently by Peter Weinberger (Bell Laboratories) and Bill Joy (Sun Microsystems). <strong>Sun called this the Virtual File System and called the file systemâ€“independent portion of the i-node the v-node</strong> [Kleiman 1986]. The v-node propagated through various vendor implementations as support for Sunâ€™s Network File System (NFS) was added. The first release from Berkeley to provide v-nodes was the 4.3BSD Reno release, when NFS was added.</p></blockquote><blockquote><p>In SVR4, the v-node replaced the file systemâ€“independent i-node of SVR3. Solaris is derived from SVR4 and, therefore, uses v-nodes.</p></blockquote><blockquote><p>Instead of splitting the data structures into a v-node and an i-node, Linux uses a file systemâ€“independent i-node and a file systemâ€“dependent i-node.</p></blockquote><p>If two independent processes have the same file open, we could have the arrangement shown in Figure 3.8.</p><p><img src="https://i.loli.net/2018/05/30/5b0e5b6638838.png"></p><p>We assume here that the first process has the file open on descriptor 3 and that the second process has that same file open on descriptor 4. Each process that opens the file gets its own file table entry, but only a single v-node table entry is required for a given file. One reason each process gets its own file table entry is so that each process has its own current offset for the file.</p><p>Given these data structures, we now need to be more specific about what happens with certain operations that weâ€™ve already described.</p><ul><li>After each write is complete, the current file offset in the file table entry is incremented by the number of bytes written. If this causes the current file offset to exceed the current file size, the current file size in the i-node table entry is set to the current file offset (for example, the file is extended).</li><li>If a file is opened with the O_APPEND flag, a corresponding flag is set in the file status flags of the file table entry. Each time a write is performed for a file with this append flag set, the current file offset in the file table entry is first set to the current file size from the i-node table entry. This forces every write to be appended to the current end of file. å¦‚æœä¸€ä¸ªæ–‡ä»¶æ‰“å¼€æ—¶ä½¿ç”¨<code>O_APPEND</code>æ ‡å¿—ï¼Œç›¸åº”çš„æ ‡å¿—ä¼šè®¾ç½®åˆ°æ–‡ä»¶è¡¨é¡¹çš„æ–‡ä»¶çŠ¶æ€ç¬¦ã€‚æ¯æ¬¡è¿›è¡Œå†™æ“ä½œæ—¶ï¼Œæ–‡ä»¶è¡¨é¡¹å°±ä¼šé¦–å…ˆå°†å½“å‰æ–‡ä»¶åç§»é‡è®¾ç½®ä¸º i ç»“ç‚¹è¡¨é¡¹çš„å½“å‰æ–‡ä»¶å¤§å°ã€‚è¿™æ ·å°±å¯ä»¥å¼ºåˆ¶æ¯æ¬¡éƒ½å†™åˆ°æ–‡ä»¶æœ«å°¾äº†ã€‚</li><li>If a file is positioned to its current end of file using lseek, all that happens is the current file offset in the file table entry is set to the current file size from the i-node table entry. (Note that this is not the same as if the file was opened with the O_APPEND flag, as we will see in Section 3.11.)</li><li>The lseek function modifies only the current file offset in the file table entry. No I/O takes place.</li></ul><p>It is possible for more than one file descriptor entry to point to the same file table entry, as weâ€™ll see when we discuss the dup function in Section 3.12. This also happens after a fork when the parent and the child share the same file table entry for each open descriptor (Section 8.3).</p><p><strong>Note the difference in scope between the file descriptor flags and the file status flags. The former apply only to a single descriptor in a single process, whereas the latter apply to all descriptors in any process that point to the given file table entry</strong>. When we describe the fcntl function in Section 3.14, weâ€™ll see how to fetch and modify both the file descriptor flags and the file status flags.</p><p>Everything that weâ€™ve described so far in this section works fine for multiple processes that are reading the same file. Each process has its own file table entry with its own current file offset. Unexpected results can arise, however, when multiple processes write to the same file. To see how to avoid some surprises, we need to understand the concept of atomic operations.</p><h2 id="Atomic-Operations"><a href="#Atomic-Operations" class="headerlink" title="Atomic Operations"></a>Atomic Operations</h2><h3 id="Appending-to-a-File"><a href="#Appending-to-a-File" class="headerlink" title="Appending to a File"></a>Appending to a File</h3><p>Consider a single process that wants to append to the end of a file. Older versions of the UNIX System didnâ€™t support the O_APPEND option to open, so the program was coded as follows:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (lseek(fd, <span class="number">0L</span>, <span class="number">2</span>) &lt; <span class="number">0</span>)         <span class="comment">/* position to EOF */</span></span><br><span class="line">    err_sys(<span class="string">"lseek error"</span>);</span><br><span class="line"><span class="keyword">if</span> (write(fd, buf, <span class="number">100</span>) != <span class="number">100</span>)   <span class="comment">/* and write */</span></span><br><span class="line">    err_sys(<span class="string">"write error"</span>);</span><br></pre></td></tr></table></figure><p>This works fine for a single process, but problems arise if multiple processes use this technique to append to the same file. (This scenario can arise if multiple instances of the same program are appending messages to a log file, for example.)</p><p>Assume that two independent processes, A and B, are appending to the same file. Each has opened the file but without the O_APPEND flag. This gives us the same picture as Figure 3.8. Each process has its own file table entry, but they share a single v-node table entry. Assume that process A does the lseek and that this sets the current offset for the file for process A to byte offset 1,500 (the current end of file). Then the kernel switches processes, and B continues running. Process B then does the lseek, which sets the current offset for the file for process B to byte offset 1,500 also (the current end of file). Then B calls write, which increments Bâ€™s current file offset for the file to 1,600. Because the fileâ€™s size has been extended, the kernel also updates the current file size in the v-node to 1,600. Then the kernel switches processes and A resumes. When A calls write, the data is written starting at the current file offset for A, which is byte offset 1,500. This overwrites the data that B wrote to the file.</p><p>The problem here is that our logical operation of â€˜â€˜position to the end of file and writeâ€™â€™ requires two separate function calls (as weâ€™ve shown it). The solution is to have the positioning to the current end of file and the write be an atomic operation with regard to other processes. Any operation that requires more than one function call cannot be atomic, as there is always the possibility that the kernel might temporarily suspend the process between the two function calls (as we assumed previously).</p><p>The UNIX System provides an atomic way to do this operation if we set the O_APPEND flag when a file is opened. As we described in the previous section, this causes the kernel to position the file to its current end of file before each write. We no longer have to call lseek before each write.</p><h3 id="pread-and-pwrite-Functions"><a href="#pread-and-pwrite-Functions" class="headerlink" title="pread and pwrite Functions"></a>pread and pwrite Functions</h3><p>The Single UNIX Specification includes two functions that allow applications to seek and perform I/O atomically: pread and pwrite.</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unistd.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Returns: number of bytes read, 0 if end of file, âˆ’1 on error</span></span><br><span class="line"><span class="keyword">ssize_t</span> pread(<span class="keyword">int</span> fd, <span class="keyword">void</span> *buf, <span class="keyword">size_t</span> nbytes, <span class="keyword">off_t</span> offset);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Returns: number of bytes written if OK, âˆ’1 on error</span></span><br><span class="line"><span class="keyword">ssize_t</span> pwrite(<span class="keyword">int</span> fd, <span class="keyword">const</span> <span class="keyword">void</span> *buf, <span class="keyword">size_t</span> nbytes, <span class="keyword">off_t</span> offset);</span><br></pre></td></tr></table></figure><p>Calling pread is equivalent to calling lseek followed by a call to read, with the following exceptions.</p><ul><li>There is no way to interrupt the two operations that occur when we call pread.</li><li>The current file offset is not updated.</li></ul><p>Calling pwrite is equivalent to calling lseek followed by a call to write, with similar exceptions.</p><h3 id="Creating-a-File"><a href="#Creating-a-File" class="headerlink" title="Creating a File"></a>Creating a File</h3><p>We saw another example of an atomic operation when we described the O_CREAT and O_EXCL options for the open function. When both of these options are specified, the open will fail if the file already exists. We also said that the check for the existence of the file and the creation of the file was performed as an atomic operation. If we didnâ€™t have this atomic operation, we might try</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> ((fd = open(path, O_WRONLY)) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (errno == ENOENT) &#123;</span><br><span class="line">        <span class="keyword">if</span> ((fd = creat(path, mode)) &lt; <span class="number">0</span>)</span><br><span class="line">            err_sys(<span class="string">"creat error"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        err_sys(<span class="string">"open error"</span>);</span><br><span class="line">&#125; &#125;</span><br></pre></td></tr></table></figure><p>The problem occurs if the file is created by another process between the open and the creat. If the file is created by another process between these two function calls, and if that other process writes something to the file, that data is erased when this creat is executed. Combining the test for existence and the creation into a single atomic operation avoids this problem.</p><p>In general, the term atomic operation refers to an operation that might be composed of multiple steps. If the operation is performed atomically, either all the steps are performed (on success) or none are performed (on failure). It must not be possible for only a subset of the steps to be performed. Weâ€™ll return to the topic of atomic operations when we describe the link function (Section 4.15) and record locking (Section 14.3).</p><h2 id="dup-and-dup2-Functions"><a href="#dup-and-dup2-Functions" class="headerlink" title="dup and dup2 Functions"></a>dup and dup2 Functions</h2><p>An existing file descriptor is duplicated by either of the following functions:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unistd.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Both return: new file descriptor if OK, âˆ’1 on error</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dup</span><span class="params">(<span class="keyword">int</span> fd)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dup2</span><span class="params">(<span class="keyword">int</span> fd, <span class="keyword">int</span> fd2)</span></span>;</span><br></pre></td></tr></table></figure><p>The new file descriptor returned by dup is guaranteed to be the lowest-numbered available file descriptor. <strong>With dup2, we specify the value of the new descriptor with the fd2 argument. If fd2 is already open, it is first closed. If fd equals fd2, then dup2 returns fd2 without closing it. Otherwise, the FD_CLOEXEC file descriptor flag is cleared for fd2, so that fd2 is left open if the process calls exec</strong>.</p><p>The new file descriptor that is returned as the value of the functions shares the same file table entry as the fd argument. We show this in Figure 3.9.</p><p><img src="https://i.loli.net/2018/05/30/5b0e6c0a52034.png"></p><p>In this figure, we assume that when itâ€™s started, the process executes</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">newfd = dup(<span class="number">1</span>);</span><br></pre></td></tr></table></figure><p>We assume that the next available descriptor is 3 (which it probably is, since 0, 1, and 2 are opened by the shell). Because both descriptors point to the same file table entry, they share the same file status flagsâ€”read, write, append, and so onâ€”and the same current file offset.</p><p>Each descriptor has its own set of file descriptor flags. As we describe in Section 3.14, the close-on-exec file descriptor flag for the new descriptor is always cleared by the dup functions.</p><p>Another way to duplicate a descriptor is with the fcntl function, which we describe in Section 3.14. Indeed, the call</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dup(fd);</span><br></pre></td></tr></table></figure><p>is equivalent to</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fcntl(fd, F_DUPFD, <span class="number">0</span>);</span><br></pre></td></tr></table></figure><p>Similarly, the call</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dup2(fd, fd2);</span><br></pre></td></tr></table></figure><p>is equivalent to</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">close(fd2);</span><br><span class="line">fcntl(fd, F_DUPFD, fd2);</span><br></pre></td></tr></table></figure><p>In this last case, the dup2 is not exactly the same as a close followed by an fcntl. The differences are as follows:</p><ol><li>dup2 is an atomic operation, whereas the alternate form involves two function calls. It is possible in the latter case to have a signal catcher called between the close and the fcntl that could modify the file descriptors. (We describe signals in Chapter 10.) The same problem could occur if a different thread changes the file descriptors. (We describe threads in Chapter 11.)</li><li>There are some errno differences between dup2 and fcntl.</li></ol><blockquote><p>The dup2 system call originated with Version 7 and propagated through the BSD releases. The fcntl method for duplicating file descriptors appeared with System III and continued with SystemV. SVR3.2 picked up the dup2 function, and 4.2BSD picked up the fcntl function and the F_DUPFD functionality. POSIX.1 requires both dup2 and the F_DUPFD feature of fcntl.</p></blockquote><h2 id="sync-fsync-and-fdatasync-Functions"><a href="#sync-fsync-and-fdatasync-Functions" class="headerlink" title="sync, fsync, and fdatasync Functions"></a>sync, fsync, and fdatasync Functions</h2><p>Traditional implementations of the UNIX System have a buffer cache or page cache in the kernel through which most disk I/O passes. When we write data to a file, the data is normally copied by the kernel into one of its buffers and queued for writing to disk at some later time. This is called delayed write. (Chapter 3 of Bach [1986] discusses this buffer cache in detail.)</p><p>The kernel eventually writes all the delayed-write blocks to disk, normally when it needs to reuse the buffer for some other disk block. To ensure consistency of the file system on disk with the contents of the buffer cache, the sync, fsync, and fdatasync functions are provided.</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unistd.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Both Returns: 0 if OK, âˆ’1 on error</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fsync</span><span class="params">(<span class="keyword">int</span> fd)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fdatasync</span><span class="params">(<span class="keyword">int</span> fd)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sync</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br></pre></td></tr></table></figure><p><strong>The sync function simply queues all the modified block buffers for writing and returns; it does not wait for the disk writes to take place</strong>.</p><p><strong>The function sync is normally called periodically (usually every 30 seconds) from a system daemon, often called update</strong>. This guarantees regular flushing of the kernelâ€™s block buffers. The command sync(1) also calls the sync function.</p><p>The function fsync refers only to a single file, specified by the file descriptor fd, and <strong>waits for the disk writes to complete before returning</strong>. This function is used when an application, <strong>such as a database</strong>, needs to be sure that the modified blocks have been written to the disk.</p><p><strong>The fdatasync function is similar to fsync, but it affects only the data portions of a file. With fsync, the fileâ€™s attributes are also updated synchronously</strong>.</p><blockquote><p>All four of the platforms described in this book support sync and fsync. However, FreeBSD 8.0 does not support fdatasync.</p></blockquote><h2 id="fcntl-Function"><a href="#fcntl-Function" class="headerlink" title="fcntl Function"></a>fcntl Function</h2><p>The fcntl function can change the properties of a file that is already open.</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;fcntl.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Returns: depends on cmd if OK (see following), âˆ’1 on error</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fcntl</span><span class="params">(<span class="keyword">int</span> fd, <span class="keyword">int</span> cmd, ... <span class="comment">/* int arg */</span> )</span></span>;</span><br></pre></td></tr></table></figure><p>In the examples in this section, the third argument is always an integer, corresponding to the comment in the function prototype just shown. When we describe record locking in Section 14.3, however, the third argument becomes a pointer to a structure.</p><p>The fcntl function is used for five different purposes.</p><ol><li><p>Duplicate an existing descriptor (cmd = F_DUPFD or F_DUPFD_CLOEXEC)</p></li><li><p>Get/set file descriptor flags (cmd = F_GETFD or F_SETFD)</p></li><li><p>Get/set file status flags (cmd = F_GETFL or F_SETFL)</p></li><li><p>Get/set asynchronous I/O ownership (cmd = F_GETOWN or F_SETOWN)</p></li><li><p>Get/set record locks (cmd = F_GETLK, F_SETLK, or F_SETLKW)</p></li></ol><p>Weâ€™ll now describe the first 8 of these 11 cmd values. (Weâ€™ll wait until Section 14.3 to describe the last 3, which deal with record locking.) Refer to Figure 3.7, as weâ€™ll discuss both the file descriptor flags associated with each file descriptor in the process table entry and the file status flags associated with each file table entry.</p><p>F_DUPFD Duplicate the file descriptor fd. The new file descriptor is returned as the value of the function. It is the lowest-numbered descriptor that is not already open, and that is greater than or equal to the third argument (taken as an integer). The new descriptor shares the same file table entry as fd. (Refer to Figure 3.9.) But the new descriptor has its own set of file descriptor flags, and its FD_CLOEXEC file descriptor flag is cleared. (This means that the descriptor is left open across an exec, which we discuss in Chapter 8.)</p><p>F_DUPFD_CLOEXEC Duplicate the file descriptor and set the FD_CLOEXEC file descriptor flag associated with the new descriptor. Returns the new file descriptor.</p><p>F_GETFD Return the file descriptor flags for fd as the value of the function. Currently, only one file descriptor flag is defined: the FD_CLOEXEC flag.</p><p>F_SETFD Set the file descriptor flags for fd. The new flag value is set from the third argument (taken as an integer).</p><blockquote><p>Be aware that some existing programs that deal with the file descriptor flags donâ€™t use the constant FD_CLOEXEC. Instead, these programs set the flag to either 0 (donâ€™t close-on-exec, the default) or 1 (do close-on-exec).</p></blockquote><p>F_GETFL Return the file status flags for fd as the value of the function. We described the file status flags when we described the open function. They are listed in Figure 3.10.</p><p><img src="https://i.loli.net/2018/05/31/5b0f49576d719.png" width="70%"></p><p>Unfortunately, the five access-mode flagsâ€”O_RDONLY, O_WRONLY, O_RDWR, O_EXEC, and O_SEARCHâ€”are not separate bits that can be tested. (As we mentioned earlier, the first three often have the values 0, 1, and 2, respectively, for historical reasons. Also, these five values are mutually exclusive; a file can have only one of them enabled.) Therefore, we must first use the O_ACCMODE mask to obtain the access-mode bits and then compare the result against any of the five values.</p><p>F_SETFL Set the file status flags to the value of the third argument (taken as an integer). The only flags that can be changed are O_APPEND, O_NONBLOCK, O_SYNC, O_DSYNC, O_RSYNC, O_FSYNC, and O_ASYNC.</p><p>F_GETOWN Get the process ID or process group ID currently receiving the SIGIO and SIGURG signals. We describe these asynchronous I/O signals in Section 14.5.2.</p><p>F_SETOWN Set the process ID or process group ID to receive the SIGIO and SIGURG signals. A positive arg specifies a process ID. A negative arg implies a process group ID equal to the absolute value of arg.</p><p>The return value from fcntl depends on the command. All commands return âˆ’1 on an error or some other value if OK. The following four commands have special return values: F_DUPFD, F_GETFD, F_GETFL, and F_GETOWN. The first command returns the new file descriptor, the next two return the corresponding flags, and the final command returns a positive process ID or a negative process group ID.</p><h3 id="Example-2"><a href="#Example-2" class="headerlink" title="Example"></a>Example</h3><p>The program in Figure 3.11 takes a single command-line argument that specifies a file descriptor and prints a description of selected file flags for that descriptor.</p><blockquote><p>Figure 3.11 Print file flags for specified descriptor</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"include/apue.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;fcntl.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> val;</span><br><span class="line">  <span class="keyword">if</span> (argc != <span class="number">2</span>)</span><br><span class="line">     err_quit(<span class="string">"usage: a.out &lt;descriptor#&gt;"</span>);</span><br><span class="line">  <span class="keyword">if</span> ((val = fcntl(atoi(argv[<span class="number">1</span>]), F_GETFL, <span class="number">0</span>)) &lt; <span class="number">0</span>)</span><br><span class="line">     err_sys(<span class="string">"fcntl error for fd %d"</span>, atoi(argv[<span class="number">1</span>]));</span><br><span class="line">  <span class="keyword">switch</span> (val &amp; O_ACCMODE) &#123;</span><br><span class="line">    <span class="keyword">case</span> O_RDONLY:</span><br><span class="line">       <span class="built_in">printf</span>(<span class="string">"read only"</span>);</span><br><span class="line">       <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> O_WRONLY:</span><br><span class="line">       <span class="built_in">printf</span>(<span class="string">"write only"</span>);</span><br><span class="line">       <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> O_RDWR:</span><br><span class="line">       <span class="built_in">printf</span>(<span class="string">"read write"</span>);</span><br><span class="line">       <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">       err_dump(<span class="string">"unknown access mode"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (val &amp; O_APPEND)</span><br><span class="line">     <span class="built_in">printf</span>(<span class="string">", append"</span>);</span><br><span class="line">  <span class="keyword">if</span> (val &amp; O_NONBLOCK)</span><br><span class="line">     <span class="built_in">printf</span>(<span class="string">", nonblocking"</span>);</span><br><span class="line">  <span class="keyword">if</span> (val &amp; O_SYNC)</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">", synchronous writes"</span>);</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">if</span> !defined(_POSIX_C_SOURCE) &amp;&amp; defined(O_FSYNC) &amp;&amp; (O_FSYNC != O_SYNC)</span></span><br><span class="line">         <span class="keyword">if</span> (val &amp; O_FSYNC)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">", synchronous writes"</span>);</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">  <span class="built_in">putchar</span>(<span class="string">'\n'</span>);</span><br><span class="line">  <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Note that we use the feature test macro _POSIX_C_SOURCE and conditionally compile the file access flags that are not part of POSIX.1. The following script shows the operation of the program, when invoked from bash (the Bourne-again shell). Results will vary, depending on which shell you use.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">âœ  apue.3e ./fig3.11 0 &lt; /dev/tty</span><br><span class="line">read only</span><br><span class="line">âœ  apue.3e ./fig3.11 1 &gt; temp.foo</span><br><span class="line">âœ  apue.3e cat temp.foo</span><br><span class="line">write only</span><br><span class="line">âœ  apue.3e ./fig3.11 2 2&gt;&gt;temp.foo</span><br><span class="line">write only, append</span><br><span class="line">âœ  apue.3e ./fig3.11 5 5&lt;&gt;temp.foo</span><br><span class="line">read write</span><br></pre></td></tr></table></figure><p>The clause 5&lt;&gt;temp.foo opens the file temp.foo for reading and writing on file descriptor 5.</p><h3 id="Example-3"><a href="#Example-3" class="headerlink" title="Example"></a>Example</h3><p>When we modify either the file descriptor flags or the file status flags, we must be careful to fetch the existing flag value, modify it as desired, and then set the new flag value. We canâ€™t simply issue an F_SETFD or an F_SETFL command, as this could turn off flag bits that were previously set.</p><p>Figure 3.12 shows a function that sets one or more of the file status flags for a descriptor.</p><blockquote><p>Figure 3.12 Turn on one or more of the file status flags for a descriptor</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"apue.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;fcntl.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">set_fl</span><span class="params">(<span class="keyword">int</span> fd, <span class="keyword">int</span> flags)</span> <span class="comment">/* flags are file status flags to turn on */</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> val;</span><br><span class="line">    <span class="keyword">if</span> ((val = fcntl(fd, F_GETFL, <span class="number">0</span>)) &lt; <span class="number">0</span>)</span><br><span class="line">       err_sys(<span class="string">"fcntl F_GETFL error"</span>);</span><br><span class="line">    val |= flags;       <span class="comment">/* turn on flags */</span></span><br><span class="line">    <span class="keyword">if</span> (fcntl(fd, F_SETFL, val) &lt; <span class="number">0</span>)</span><br><span class="line">       err_sys(<span class="string">"fcntl F_SETFL error"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>If we change the middle statement to</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">val &amp;=  Ìƒflags;      <span class="comment">/* turn flags off */</span></span><br></pre></td></tr></table></figure><p>we have a function named clr_fl, which weâ€™ll use in some later examples. This statement logically ANDs the oneâ€™s complement of flags with the current val.</p><p>If we add the line</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set_fl(STDOUT_FILENO, O_SYNC);</span><br></pre></td></tr></table></figure><p>to the beginning of the program shown in Figure 3.5, weâ€™ll turn on the synchronous- write flag. This causes each write to wait for the data to be written to disk before returning. Normally in the UNIX System, a write only queues the data for writing; the actual disk write operation can take place sometime later. A database system is a likely candidate for using O_SYNC, so that it knows on return from a write that the data is actually on the disk, in case of an abnormal system failure.</p><p>We expect the O_SYNC flag to increase the system and clock times when the program runs. To test this, we can run the program in Figure 3.5, copying 492.6 MB of data from one file on disk to another and compare this with a version that does the same thing with the O_SYNC flag set. The results from a Linux system using the ext4 file system are shown in Figure 3.13.</p><p><img src="https://i.loli.net/2018/05/31/5b0f4c0dc6161.png" width="80%"></p><p>The six rows in Figure 3.13 were all measured with a BUFFSIZE of 4,096 bytes. The results in Figure 3.6 were measured while reading a disk file and writing to /dev/null, so there was no disk output. The second row in Figure 3.13 corresponds to reading a disk file and writing to another disk file. This is why the first and second rows in Figure 3.13 are different. The system time increases when we write to a disk file, because the kernel now copies the data from our process and queues the data for writing by the disk driver. We expect the clock time to increase as well when we write to a disk file.</p><p>When we enable synchronous writes, the system and clock times should increase significantly. As the third row shows, the system time for writing synchronously is not much more expensive than when we used delayed writes. This implies that the Linux operating system is doing the same amount of work for delayed and synchronous writes (which is unlikely), or else the O_SYNC flag isnâ€™t having the desired effect. In this case, the Linux operating system isnâ€™t allowing us to set the O_SYNC flag using fcntl, instead failing without returning an error (but it would have honored the flag if we were able to specify it when the file was opened).</p><p>The clock time in the last three rows reflects the extra time needed to wait for all of the writes to be committed to disk. After writing a file synchronously, we expect that a call to fsync will have no effect. This case is supposed to be represented by the last row in Figure 3.13, but since the O_SYNC flag isnâ€™t having the intended effect, the last row behaves the same way as the fifth row.</p><p>Figure 3.14 shows timing results for the same tests run on Mac OS X 10.6.8, which uses the HFS file system. Note that the times match our expectations: synchronous writes are far more expensive than delayed writes, and using fsync with synchronous writes makes very little difference. Note also that adding a call to fsync at the end of the delayed writes makes little measurable difference. It is likely that the operating system flushed previously written data to disk as we were writing new data to the file, so by the time that we called fsync, very little work was left to be done.</p><p><img src="https://i.loli.net/2018/05/31/5b0f4c6873af3.png" width="80%"></p><p>Compare fsync and fdatasync, both of which update a fileâ€™s contents when we say so, with the O_SYNC flag, which updates a fileâ€™s contents every time we write to the file. The performance of each alternative will depend on many factors, including the underlying operating system implementation, the speed of the disk drive, and the type of the file system.</p><p>With this example, we see the need for fcntl. Our program operates on a descriptor (standard output), never knowing the name of the file that was opened on that descriptor. We canâ€™t set the O_SYNC flag when the file is opened, since the shell opened the file. With fcntl, we can modify the properties of a descriptor, knowing only the descriptor for the open file. Weâ€™ll see another need for fcntl when we describe nonblocking pipes (Section 15.2), since all we have with a pipe is a descriptor.</p><h2 id="ioctl-Function"><a href="#ioctl-Function" class="headerlink" title="ioctl Function"></a>ioctl Function</h2><p>The ioctl function has always been the catchall for I/O operations. Anything that couldnâ€™t be expressed using one of the other functions in this chapter usually ended up being specified with an ioctl. Terminal I/O was the biggest user of this function. (When we get to Chapter 18, weâ€™ll see that POSIX.1 has replaced the terminal I/O operations with separate functions.)</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unistd.h&gt;     /* System V */</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/ioctl.h&gt;  /* BSD and Linux */</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Returns: âˆ’1 on error, something else if OK</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">ioctl</span><span class="params">(<span class="keyword">int</span> fd, <span class="keyword">int</span> request, ...)</span></span>;</span><br></pre></td></tr></table></figure><blockquote><p>The ioctl function was included in the Single UNIX Specification only as an extension for dealing with STREAMS devices [Rago 1993], but it was moved to obsolescent status in SUSv4. UNIX System implementations use ioctl for many miscellaneous device operations. Some implementations have even extended it for use with regular files.</p></blockquote><p>The prototype that we show corresponds to POSIX.1. FreeBSD 8.0 and Mac OS X 10.6.8 declare the second argument as an unsigned long. This detail doesnâ€™t matter, since the second argument is always a #defined name from a header.</p><p>For the ISO C prototype, an ellipsis is used for the remaining arguments. Normally, however, there is only one more argument, and itâ€™s usually a pointer to a variable or a structure.</p><p>In this prototype, we show only the headers required for the function itself. Normally, additional device-specific headers are required. For example, the ioctl commands for terminal I/O, beyond the basic operations specified by POSIX.1, all require the &lt;termios.h&gt; header.</p><p>Each device driver can define its own set of ioctl commands. The system, however, provides generic ioctl commands for different classes of devices. Examples of some of the categories for these generic ioctl commands supported in FreeBSD are summarized in Figure 3.15.</p><p><img src="https://i.loli.net/2018/05/31/5b0f4cf6d20f6.png" width="60%"></p><p>The mag tape operations allow us to write end-of-file marks on a tape, rewind a tape, space forward over a specified number of files or records, and the like. None of these operations is easily expressed in terms of the other functions in the chapter (read, write, lseek, and so on), so the easiest way to handle these devices has always been to access their operations using ioctl.</p><p>We use the ioctl function in Section 18.12 to fetch and set the size of a terminalâ€™s window, and in Section 19.7 when we access the advanced features of pseudo terminals.</p><h2 id="dev-fd"><a href="#dev-fd" class="headerlink" title="/dev/fd"></a>/dev/fd</h2><p>Newer systems provide a directory named /dev/fd whose entries are files named 0, 1, 2, and so on. Opening the file /dev/fd/n is equivalent to duplicating descriptor n, assuming that descriptor n is open.</p><blockquote><p>The /dev/fd feature was developed by Tom Duff and appeared in the 8th Edition of the Research UNIX System. It is supported by all of the systems described in this book: FreeBSD 8.0, Linux 3.2.0, Mac OS X 10.6.8, and Solaris 10. It is not part of POSIX.1.</p></blockquote><p>In the function call</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fd = open(<span class="string">"/dev/fd/0"</span>, mode);</span><br></pre></td></tr></table></figure><p>most systems ignore the specified mode, whereas others require that it be a subset of the mode used when the referenced file (standard input, in this case) was originally opened. Because the previous open is equivalent to</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fd = dup(<span class="number">0</span>);</span><br></pre></td></tr></table></figure><p>the descriptors 0 and fd share the same file table entry (Figure 3.9). For example, if descriptor 0 was opened read-only, we can only read on fd. Even if the system ignores the open mode and the call</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fd = open(<span class="string">"/dev/fd/0"</span>, O_RDWR);</span><br></pre></td></tr></table></figure><p>succeeds, we still canâ€™t write to fd.</p><blockquote><p>The Linux implementation of /dev/fd is an exception. It maps file descriptors into symbolic links pointing to the underlying physical files. When you open /dev/fd/0, for example, you are really opening the file associated with your standard input. Thus the mode of the new file descriptor returned is unrelated to the mode of the /dev/fd file descriptor.</p></blockquote><p>We can also call creat with a /dev/fd pathname argument as well as specify O_CREAT in a call to open. This allows a program that calls creat to still work if the pathname argument is /dev/fd/1, for example.</p><blockquote><p>Beware of doing this on Linux. Because the Linux implementation uses symbolic links to the real files, using creat on a /dev/fd file will result in the underlying file being truncated.</p></blockquote><p>Some systems provide the pathnames /dev/stdin, /dev/stdout, and /dev/stderr. These pathnames are equivalent to /dev/fd/0, /dev/fd/1, and /dev/fd/2, respectively.</p><p>The main use of the /dev/fd files is from the shell. It allows programs that use pathname arguments to handle standard input and standard output in the same manner as other pathnames. For example, the cat(1) program specifically looks for an input filename of - and uses it to mean standard input. The command</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">filter file2 | cat file1 - file3 | lpr</span><br></pre></td></tr></table></figure><p>is an example. First, cat reads file1, then its standard input (the output of the filter program on file2), and then file3. If /dev/fd is supported, the special handling of - can be removed from cat, and we can enter</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">filter file2 | cat file1 /dev/fd/0 file3 | lpr</span><br></pre></td></tr></table></figure><p>The special meaning of - as a command-line argument to refer to the standard input or the standard output is a kludge that has crept into many programs. There are also problems if we specify - as the first file, as it looks like the start of another command-line option. Using /dev/fd is a step toward uniformity and cleanliness.</p><h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>This chapter has described the basic I/O functions provided by the UNIX System. These are often called the unbuffered I/O functions because each read or write invokes a system call into the kernel. Using only read and write, we looked at the effect of various I/O sizes on the amount of time required to read a file. We also looked at several ways to flush written data to disk and their effect on application performance.</p><p>Atomic operations were introduced when multiple processes append to the same file and when multiple processes create the same file. We also looked at the data structures used by the kernel to share information about open files. Weâ€™ll return to these data structures later in the text.</p><p>We also described the ioctl and fcntl functions. We return to both of these functions later in the book. In Chapter 14, weâ€™ll use fcntl for record locking. In Chapter 18 and Chapter 19, weâ€™ll use ioctl when we deal with terminal devices.</p><h2 id="Exercises"><a href="#Exercises" class="headerlink" title="Exercises"></a>Exercises</h2><ol><li><p>When reading or writing a disk file, are the functions described in this chapter really unbuffered? Explain.</p></li><li><p>Write your own dup2 function that behaves the same way as the dup2 function described in Section 3.12, without calling the fcntl function. Be sure to handle errors correctly.</p></li><li><p>Assume that a process executes the following three function calls:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fd1 = open(path, oflags);</span><br><span class="line">fd2 = dup(fd1);</span><br><span class="line">fd3 = open(path, oflags);</span><br></pre></td></tr></table></figure><p>Draw the resulting picture, similar to Figure 3.9. Which descriptors are affected by an fcntl on fd1 with a command of F_SETFD? Which descriptors are affected by an fcntl on fd1 with a command of F_SETFL?</p></li><li><p>The following sequence of code has been observed in various programs:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">dup2(fd, <span class="number">0</span>);</span><br><span class="line">dup2(fd, <span class="number">1</span>);</span><br><span class="line">dup2(fd, <span class="number">2</span>);</span><br><span class="line"><span class="keyword">if</span> (fd &gt; <span class="number">2</span>)</span><br></pre></td></tr></table></figure></li></ol><p>close(fd);</p><p>To see why the if test is needed, assume that fd is 1 and draw a picture of what happens to the three descriptor entries and the corresponding file table entry with each call to dup2. Then assume that fd is 3 and draw the same picture.</p>]]></content>
      
      
      
        <tags>
            
            <tag> æ“ä½œç³»ç»Ÿ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€ŠAPUE-3rdã€‹ è¯»ä¹¦ç¬”è®° -- Unix System Overview</title>
      <link href="/blog/2018/05/22/APUE-Unix-System-Overview/"/>
      <url>/blog/2018/05/22/APUE-Unix-System-Overview/</url>
      
        <content type="html"><![CDATA[<h2 id="Preperation-Before-Class"><a href="#Preperation-Before-Class" class="headerlink" title="Preperation Before Class"></a>Preperation Before Class</h2><h3 id="apue-ç¼–ç¨‹ç¯å¢ƒæ­å»º"><a href="#apue-ç¼–ç¨‹ç¯å¢ƒæ­å»º" class="headerlink" title="apue ç¼–ç¨‹ç¯å¢ƒæ­å»º"></a>apue ç¼–ç¨‹ç¯å¢ƒæ­å»º</h3><blockquote><p>Figure 1.3 List all the files in a directory</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"apue.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;dirent.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    DIR *dp;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">dirent</span> *<span class="title">dirp</span>;</span></span><br><span class="line">    <span class="keyword">if</span> (argc != <span class="number">2</span>)</span><br><span class="line">        err_quit(<span class="string">"usage: ls directory_name"</span>);</span><br><span class="line">    <span class="keyword">if</span> ((dp = opendir(argv[<span class="number">1</span>])) == <span class="literal">NULL</span>)</span><br><span class="line">        err_sys(<span class="string">"canâ€™t open %s"</span>, argv[<span class="number">1</span>]);</span><br><span class="line">    <span class="keyword">while</span> ((dirp = readdir(dp)) != <span class="literal">NULL</span>)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%s\n"</span>, dirp-&gt;d_name);</span><br><span class="line">    closedir(dp);</span><br><span class="line">    <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œç®€å•è¯´ä¸€ä¸‹ apue çš„ç¼–ç¨‹ç¯å¢ƒæ­å»ºï¼Œå®é™…ä¸Šåªéœ€è¦ç”¨åˆ°ä¸€ç‚¹ç‚¹<strong>make</strong>ã€<strong>ç¯å¢ƒå˜é‡</strong>å’Œ<strong>gcc å‘½ä»¤</strong>çš„çŸ¥è¯†ã€‚</p><a id="more"></a><p>é¦–å…ˆè¿›å…¥ï¼š<a href="http://www.apuebook.com/" target="_blank" rel="noopener">http://www.apuebook.com/</a></p><p>é€‰æ‹© 2013 å¹´å‡ºç‰ˆçš„ apue3ï¼Œç„¶åç‚¹å‡» source codeï¼Œç„¶åæ ¹æ®æç¤ºç‚¹å‡» here ä¸‹è½½ã€‚</p><p>æ‹¿åˆ°ç¼–ç¨‹ç¯å¢ƒçš„æºç ä¹‹åï¼Œè§£å‹è¿›å…¥ç›®å½•ï¼Œä½¿ç”¨ make å‘½ä»¤ç¼–è¯‘å¾—åˆ° libapue.aï¼Œè¿™æ˜¯ä¸ªé™æ€åº“ï¼Œç”Ÿæˆåœ¨ lib ç›®å½•ä¸‹ã€‚ç„¶åå°† include ç›®å½•ä¸‹çš„ apue.h è¿™ä¸ªå¤´æ–‡ä»¶å’Œ libapue.a è¿™ä¸ªé™æ€åº“åˆ†åˆ«æ”¾ç½®åœ¨<code>/usr/include/</code>å’Œ<code>/usr/local/lib/</code>ä¸‹é¢ï¼ˆè¿™ä¸¤ä¸ªè·¯å¾„å°±æ˜¯å†™å…¥ç¯å¢ƒå˜é‡çš„è·¯å¾„ï¼Œgcc å‘½ä»¤ä¼šåœ¨ç¼–è¯‘çš„æ—¶å€™æœå¯»è¿™ä¸¤ä¸ªè·¯å¾„ï¼‰ã€‚</p><p>ç„¶åä½¿ç”¨<code>gcc -o main.o main.c -lapue</code>ç¼–è¯‘å¾—åˆ° main.oï¼Œå› ä¸ºä¸Šä¸€æ­¥æˆ‘ä»¬å°† apue.h å’Œ libapue.a æ”¾å…¥äº†ç¯å¢ƒå˜é‡è·¯å¾„ä¸‹é¢ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨å®ƒä»¬çš„æ—¶å€™éƒ½ä¸ç”¨å†æŒ‡æ˜å…¶è·¯å¾„äº†ã€‚</p><p>ç„¶åè¿è¡Œ main.oï¼š<code>./main.o .</code>ï¼Œå°†å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶åæ‰“å°å‡ºæ¥ã€‚</p><blockquote><p>å¦‚æœç¼–è¯‘å¤±è´¥ï¼Œä½¿ç”¨ make clean å¯ä»¥æ¸…ç©ºç¼–è¯‘ç»“æœï¼Œç„¶åå°±å¯ä»¥ä½¿ç”¨ make é‡æ–°ç¼–è¯‘äº†ã€‚ä¸è¦å°†ç¨‹åºå‘½åä¸º.cpp æ–‡ä»¶ï¼Œè¿™æ ·çš„è¯å³ä¾¿ä½ ä½¿ç”¨ gcc ç¼–è¯‘ myls.cppï¼Œä¹Ÿä¼šå‡ºé”™ï¼Œæ›´ä¸è¦ä½¿ç”¨ g++å»ç¼–è¯‘ myls.cppï¼Œå› ä¸ºåº“æ˜¯ç”¨ gcc ç¼–è¯‘çš„ã€‚</p></blockquote><p>When the program is done, it calls the function exit with an argument of 0. The function exit terminates a program. By convention, an argument of <strong>0 means OK</strong>, and an argument <strong>between 1 and 255 means that an error occurred</strong>.</p><h3 id="man-å‘½ä»¤"><a href="#man-å‘½ä»¤" class="headerlink" title="man å‘½ä»¤"></a>man å‘½ä»¤</h3><p>man å‘½ä»¤æ˜¯ unix ç³»ç»Ÿä¸­çš„ä¸€ä¸ªéå¸¸é‡è¦çš„å‘½ä»¤ï¼Œå®ƒæä¾›äº†æ‰€æœ‰å‘½ä»¤çš„è¯¦ç»†çš„ä½¿ç”¨æ–¹æ³•ã€‚</p><p>Historically, UNIX systems lumped all <strong>eight sections</strong> together into what was called the UNIX Programmer&#39;s Manual. As the page count increased, the trend changed to distributing the sections among separate manuals: <strong>one for users</strong>, <strong>one for programmers</strong>, and <strong>one for system administrators</strong>, for example. Some UNIX systems further divide the manual pages within a given section, using an uppercase letter. For example, all the standard input/output (I/O) functions in AT&amp;T [1990e] are indicated as being in Section 3S, as in fopen(3S). Other systems have replaced the numeric sections with alphabetic ones, such as C for commands.</p><h2 id="Unix-Architecture"><a href="#Unix-Architecture" class="headerlink" title="Unix Architecture"></a>Unix Architecture</h2><p>ä¸‹å›¾æ¸…æ™°çš„æè¿°äº† Unix çš„æ¶æ„ï¼š</p><p><img src="https://i.loli.net/2018/05/22/5b03742b0a818.png" width="50%"></p><p>å›¾ä¸­æœ€é‡è¦çš„ä¸¤ä¸ªæ¦‚å¿µæ˜¯ï¼š<strong>å†…æ ¸</strong>å’Œ<strong>ç³»ç»Ÿè°ƒç”¨</strong>ï¼Œä¸‹é¢æ˜¯å¯¹è¿™ä¸¤ä¸ªæ¦‚å¿µçš„ç®€å•ä»‹ç»ï¼š</p><ol><li><strong>kernel</strong>: In a strict sense, an operating system can be defined as the software that <strong>controls the hardware resources of the computer</strong> and <strong>provides an environment under which programs can run</strong>.</li><li><strong>system calls</strong>: <strong>The interface to the kernel</strong> is a layer of <strong>software</strong> called the system calls .</li></ol><h2 id="Shell"><a href="#Shell" class="headerlink" title="Shell"></a>Shell</h2><p>A shell is a <strong>command-line interpreter</strong> that <strong>reads user input and executes commands</strong>. The user input to a shell is normally from the terminal (an interactive shell) or sometimes from a file (called a shell script).</p><p>The system knows which shell to execute for us based on the final field in our entry in the password file.</p><p><strong>bash</strong>: The Bourne-again shell is the GNU shell provided with all Linux systems. It was designed to be POSIX conformant, while still remaining compatible with the Bourne shell. It supports features from both the C shell and the Korn shell.</p><h2 id="Files-and-Directories"><a href="#Files-and-Directories" class="headerlink" title="Files and Directories"></a>Files and Directories</h2><p>æ–‡ä»¶ç³»ç»Ÿæ˜¯ Unix ç³»ç»Ÿä¸­ä¸€ä¸ªéå¸¸é‡è¦çš„éƒ¨åˆ†ï¼Œé‡Œé¢æœ‰è®¸å¤šå¾ˆé‡è¦çš„è®¾è®¡ã€‚æ–‡ä»¶ç³»ç»Ÿä»é€»è¾‘å±‚é¢ä¸Šçœ‹æ˜¯ä¸€ä¸ª<strong>æ ‘çŠ¶</strong>ç»“æ„ï¼Œæ‰€æœ‰æ–‡ä»¶å’Œç›®å½•éƒ½ä»å±äºä¸€ä¸ªæ ¹ç›®å½•ã€‚</p><ol><li><strong>root</strong>: <strong>Everything starts in the directory</strong> called root, whose name is the single character <code>/</code>.</li><li><strong>directory</strong>: A directory is a <strong>file</strong> that contains <strong>directory entries</strong>. <strong>Logically</strong>, we can think of each directory entry as <strong>containing a filename along with a structure of information describing the attributes of the file</strong>. The attributes of a file are such things as <strong>the type of file</strong> (regular file, directory), <strong>the size of the file</strong>, <strong>the owner of the file</strong>, <strong>permissions for the file</strong> (whether other users may access this file), and <strong>when the file was last modified</strong>.</li></ol><blockquote><p>We make a distinction between the logical view of a directory entry and the way it is actually stored on disk. Most implementations of UNIX file systems <strong>don&#39;t</strong> store attributes in the directory entries themselves, <strong>because of the difficulty of keeping them in synch when a file has multiple hard links</strong>.</p></blockquote><p>æ–‡ä»¶åå’Œè·¯å¾„åè¿™é‡Œé¢ä¹Ÿæœ‰è®²ç©¶ï¼š</p><ol><li><strong>æ–‡ä»¶åä¸­ä¸èƒ½åŒ…å«æ–œæ å’Œç©ºå­—ç¬¦</strong>: The only two characters that cannot appear in a filename are the <strong>slash character (/)</strong> and the <strong>null character</strong>. The slash separates the filenames that form a pathname (described next) and the null character terminates a pathname.</li><li><strong>dot å’Œ dot-dot</strong>: <strong>Two filenames are automatically created whenever a new directory is created: . (called dot) and .. (called dot-dot)</strong>. Dot refers to the current directory, and dot-dot refers to the parent directory. In the root directory, dot-dot is the same as dot.</li><li><strong>ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„</strong>: A sequence of one or more filenames, separated by slashes and optionally starting with a slash, forms a pathname. A pathname that begins with a slash is called an <strong>absolute pathname</strong>; otherwise, it&#39;s called a <strong>relative pathname</strong>. Relative pathnames refer to files relative to the current directory.</li></ol><blockquote><p>æˆ‘ä»¬ä¸çŸ¥é“å½¢å¦‚ï¼š<code>/usr/local/lib/hello</code>çš„è·¯å¾„ä¸­ hello æ˜¯ç›®å½•è¿˜æ˜¯æ™®é€šæ–‡ä»¶ï¼Œå“ˆå“ˆï¼Œæˆ‘è§‰å¾— unix å½“åˆåœ¨è®¾è®¡ä¸Šåº”è¯¥å¼ºåˆ¶ç›®å½•å¿…é¡»ä»¥æ–œæ ç»“å°¾ã€‚</p></blockquote><p>è¿˜æœ‰ä¸¤ä¸ªæ¯”è¾ƒç‰¹æ®Šçš„ç›®å½•ï¼š</p><ol><li><strong>working directory</strong>: <strong>Every process</strong> has a working directory, sometimes called the current working directory. This is the directory from which all <strong>relative pathnames are interpreted</strong>. A process can change its working directory with the <strong>chdir</strong> function.</li><li><strong>home directory</strong>: When we log in, the working directory is set to our home directory. Our home directory is obtained from our entry in the <strong>password file</strong>.</li></ol><h2 id="File-Descriptors"><a href="#File-Descriptors" class="headerlink" title="File Descriptors"></a>File Descriptors</h2><p><strong>file descriptor</strong>: File descriptors are normally <strong>small non-negative integers</strong> that the kernel uses to <strong>identify the files accessed by a process</strong>. Whenever it opens an existing file or creates a new file, the kernel returns a file descriptor that we use when we want to read or write the file.</p><p><strong>Standard Input, Standard Output, and Standard Error</strong>: By convention, all shells open three descriptors whenever a new program is run: standard input, standard output, and standard error. If nothing special is done, as in the simple command</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls</span><br></pre></td></tr></table></figure><p>then <strong>all three are connected to the terminal</strong>. Most shells provide a way to <strong>redirect</strong> any or all of these three descriptors to any file. For example,</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls &gt; file.list</span><br></pre></td></tr></table></figure><p>executes the ls command with its standard output redirected to the file named <code>file.list</code>.</p><blockquote><p>stdin çš„æ–‡ä»¶æè¿°ç¬¦æ˜¯ 0ï¼Œstdout çš„æ–‡ä»¶æè¿°ç¬¦æ˜¯ 1ï¼Œstderr çš„æ–‡ä»¶æè¿°ç¬¦æ˜¯ 2ã€‚all three are connected to the terminalï¼Œæ­¤ terminal éå½¼ terminalï¼Œè¿™é‡ŒæŒ‡çš„æ˜¯ç¡¬ä»¶ç»ˆç«¯ï¼Œstdin çš„é»˜è®¤è¾“å…¥å¯¹è±¡æ˜¯ keyboardï¼Œstdout å’Œ stderr çš„é»˜è®¤è¾“å‡ºå¯¹è±¡æ˜¯ screenã€‚</p></blockquote><h3 id="Redirection"><a href="#Redirection" class="headerlink" title="Redirection"></a>Redirection</h3><p>To redirect a file descriptor, we use N&gt;, where N is a file descriptor. <strong>If there&#39;s no file descriptor, then stdout is used</strong>, like in <code>echo hello &gt; new-file</code>.</p><p>å°† stderr é‡å®šå‘åˆ°æ–‡ä»¶ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">command1 2&gt; error.log</span><br></pre></td></tr></table></figure><p>å°† stderr é‡å®šå‘åˆ° stdoutï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">command-name 2&gt;&amp;1</span><br></pre></td></tr></table></figure><p>å°† stdout å’Œ stderr éƒ½é‡å®šå‘åˆ°æ–‡ä»¶ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">command-name &amp;&gt;file</span><br></pre></td></tr></table></figure><p>æˆ–è€…è¿™ä¹ˆå†™ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">command &gt; file-name 2&gt;&amp;1</span><br></pre></td></tr></table></figure><p>ä¸èƒ½è°ƒæ¢é¡ºåºï¼š<code>command 2&gt;&amp;1 &gt; file-name</code>ï¼Œè¿™æ ·å†™å°±é”™äº†ã€‚</p><p>The wrong version points stderr at stdout (which outputs to the shell), then redirects stdout to the file. Thus only stdout is pointing at the file, <strong>because stderr is pointing to the â€œoldâ€ stdout</strong>.</p><blockquote><p>Figure 1.4 Copy standard input to standard output</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"apue.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BUFFSIZE 4096</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">char</span> buf[BUFFSIZE];</span><br><span class="line">    <span class="keyword">while</span> ((n = read(STDIN_FILENO, buf, BUFFSIZE)) &gt; <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">if</span> (write(STDOUT_FILENO, buf, n) != n)</span><br><span class="line">            err_sys(<span class="string">"write error"</span>);</span><br><span class="line">    <span class="keyword">if</span> (n &lt; <span class="number">0</span>)</span><br><span class="line">        err_sys(<span class="string">"read error"</span>);</span><br><span class="line">    <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>The <code>&lt;unistd.h&gt;</code> header, included by <code>apue.h</code>, and the two constants <code>STDIN_FILENO</code> and <code>STDOUT_FILENO</code> are part of the POSIX standard (about which weâ€™ll have a lot more to say in the next chapter). This header contains function prototypes for many of the UNIX system services, such as the <code>read</code> and <code>write</code> functions that we call.</p><p>The constants <code>STDIN_FILENO</code> and <code>STDOUT_FILENO</code> are defined in <code>&lt;unistd.h&gt;</code> and specify the file descriptors for standard input and standard output.</p><p>The read function returns the number of bytes that are read, and this value is used as the number of bytes to write. When the end of the input file is encountered, read returns 0 and the program stops. If a read error occurs, read returns âˆ’1. Most of the system functions return âˆ’1 when an error occurs.</p><p>If we compile the program into the standard name (a.out) and execute it as</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./a.out &gt; data</span><br></pre></td></tr></table></figure><p>standard input is the terminal, standard output is redirected to the file data, and standard error is also the terminal. <strong>If this output file doesnâ€™t exist, the shell creates it by default</strong>. The program copies lines that we type to the standard output <strong>until we type the end-of-file character (usually Control-D)</strong>.</p><blockquote><p>The notation Ë†D is used to indicate a <strong>control character</strong>. Control characters are special characters formed by holding down the control keyâ€”often labeled Control or Ctrlâ€”on your keyboard and then pressing another key at the same time. <strong>Control-D, or Ë†D, is the default end-of-file character</strong>.</p></blockquote><p>If we run</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./a.out &lt; infile &gt; outfile</span><br></pre></td></tr></table></figure><p>then the file named infile will be copied to the file named outfile.</p><p>The standard I/O functions provide a buffered interface to the unbuffered I/O functions. <strong>Using standard I/O relieves us from having to choose optimal buffer sizes</strong>, such as the BUFFSIZE constant in Figure 1.4. The standard I/O functions also simplify dealing with lines of input (a common occurrence in UNIX applications). <strong>The <code>fgets</code> function, for example, reads an entire line. The read function, in contrast, reads a specified number of bytes</strong>.</p><p>The most common standard I/O function is <code>printf</code>. In programs that call <code>printf</code>, weâ€™ll always include <code>&lt;stdio.h&gt;</code> as this header contains the function prototypes for all the standard I/O functions.</p><blockquote><p>Figure 1.5 Copy standard input to standard output, using standard I/O</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"apue.h"</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> c;</span><br><span class="line">    <span class="keyword">while</span> ((c = getc(<span class="built_in">stdin</span>)) != EOF)</span><br><span class="line">        <span class="keyword">if</span> (putc(c, <span class="built_in">stdout</span>) == EOF)</span><br><span class="line">            err_sys(<span class="string">"output error"</span>);</span><br><span class="line">    <span class="keyword">if</span> (ferror(<span class="built_in">stdin</span>))</span><br><span class="line">        err_sys(<span class="string">"input error"</span>);</span><br><span class="line">    <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>The function getc reads one character at a time, and this character is written by putc</strong>. After the last byte of input has been read, getc returns the constant EOF (defined in <code>&lt;stdio.h&gt;</code>). The standard I/O constants stdin and stdout are also defined in the <code>&lt;stdio.h&gt;</code> header and refer to the standard input and standard output.</p><h2 id="Programs-and-Processes"><a href="#Programs-and-Processes" class="headerlink" title="Programs and Processes"></a>Programs and Processes</h2><p><strong>program</strong>: A program is <strong>an executable file</strong> residing on disk in a directory. A program is read into memory and is executed by the kernel as a result of one of the seven exec functions.<br><strong>process</strong>: <strong>An executing instance of a program</strong> is called a process, a term used on almost every page of this text. Some operating systems use the term <strong>task</strong> to refer to a program that is being executed.</p><p>The UNIX System guarantees that every process has a unique numeric identifier called the process ID. The process ID is always a <strong>non-negative integer</strong>.</p><blockquote><p>Figure 1.6 Print the process ID</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"apue.h"</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"hello world from process ID %ld\n"</span>, (<span class="keyword">long</span>)getpid());</span><br><span class="line">    <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">âœ  apue.3e ./fig1.6</span><br><span class="line">hello world from process ID 8080</span><br><span class="line">âœ  apue.3e ./fig1.6</span><br><span class="line">hello world from process ID 8086</span><br></pre></td></tr></table></figure><h3 id="Process-Control"><a href="#Process-Control" class="headerlink" title="Process Control"></a>Process Control</h3><p>There are three primary functions for process control: <code>fork</code>, <code>exec</code>, and <code>waitpid</code>. (The exec function has seven variants, but we often refer to them collectively as simply the exec function.)</p><blockquote><p>Figure 1.7 Read commands from standard input and execute them</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"apue.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/wait.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span>    buf[MAXLINE];   <span class="comment">/* from apue.h */</span></span><br><span class="line">    <span class="keyword">pid_t</span>   pid;</span><br><span class="line">    <span class="keyword">int</span>     status;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%% "</span>);  <span class="comment">/* print prompt (printf requires %% to print %) */</span></span><br><span class="line">    <span class="keyword">while</span> (fgets(buf, MAXLINE, <span class="built_in">stdin</span>) != <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (buf[<span class="built_in">strlen</span>(buf) - <span class="number">1</span>] == <span class="string">'\n'</span>)</span><br><span class="line">            buf[<span class="built_in">strlen</span>(buf) - <span class="number">1</span>] = <span class="number">0</span>; <span class="comment">/* replace newline with null */</span></span><br><span class="line">        <span class="keyword">if</span> ((pid = fork()) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            err_sys(<span class="string">"fork error"</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (pid == <span class="number">0</span>) &#123;      <span class="comment">/* child */</span></span><br><span class="line">            execlp(buf, buf, (<span class="keyword">char</span> *)<span class="number">0</span>);</span><br><span class="line">            <span class="comment">// or</span></span><br><span class="line">            <span class="comment">// execlp(buf, buf, (char *)NULL);</span></span><br><span class="line">            err_ret(<span class="string">"couldnâ€™t execute: %s"</span>, buf);</span><br><span class="line">            <span class="built_in">exit</span>(<span class="number">127</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">/* parent */</span></span><br><span class="line">        <span class="keyword">if</span> ((pid = waitpid(pid, &amp;status, <span class="number">0</span>)) &lt; <span class="number">0</span>)</span><br><span class="line">            err_sys(<span class="string">"waitpid error"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%% "</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>There are several features to consider in this 30-line program.</p><ul><li>We use the standard I/O function fgets <strong>to read one line at a time from the standard input</strong>. When we type the end-of-file character (which is often Control-D) as the first character of a line, fgets returns a null pointer, the loop stops, and the process terminates.</li><li>Because each line returned by fgets is terminated with a newline character, followed by a null byte, we use the standard C function strlen to calculate the length of the string, and then replace the newline with a null byte. We do this <strong>because the execlp function wants a null-terminated argument, not a newline-terminated argument</strong>.</li><li>We call <code>fork</code> to create a new process, which is a copy of the caller. We say that the caller is the parent and that the newly created process is the child. Then <strong><code>fork</code> returns the non-negative process ID of the new child process to the parent, and returns 0 to the child</strong>. Because fork creates a new process, we say that it is <strong>called onceâ€”by the parentâ€”but returns twiceâ€”in the parent and in the child</strong>.</li><li>In the child, we call execlp to execute the command that was read from the standard input. This replaces the child process with the new program file. The combination of fork followed by exec is called <strong>spawning a new process</strong> on some operating systems. <strong>In the UNIX System, the two parts are separated into individual functions</strong></li><li>Because the child calls execlp to execute the new program file, the parent wants to wait for the child to terminate. This is done by calling <code>waitpid</code>, specifying which process to wait for: the pid argument, which is the process ID of the child. The waitpid function also returns the termination status of the childâ€”<strong>the status variable</strong>â€”but in this simple program, we donâ€™t do anything with this value. We could examine it to determine how the child terminated.</li><li>The most fundamental limitation of this program is that we can&#39;t pass arguments to the command we execute. We can&#39;t, for example, specify the name of a directory to list. We can execute ls only on the working directory. <strong>To allow arguments would require that we parse the input line, separating the arguments by some convention, probably spaces or tabs, and then pass each argument as a separate parameter to the execlp function</strong>. Nevertheless, this program is still a useful demonstration of the UNIX System&#39;s process control functions.</li></ul><p>If we run this program, we get the following result. Note that our program has a different promptâ€”the percent signâ€”to distinguish it from the shell&#39;s prompt.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ ./fig1.7</span><br><span class="line">% pwd</span><br><span class="line">/Users/liuqinh2s/Downloads/apue.3e</span><br><span class="line">% who</span><br><span class="line">liuqinh2s console  May 21 12:09</span><br><span class="line">liuqinh2s ttys000  May 21 12:10</span><br><span class="line">% date</span><br><span class="line">2018å¹´ 5æœˆ24æ—¥ æ˜ŸæœŸå›› 15æ—¶26åˆ†59ç§’ CST</span><br></pre></td></tr></table></figure><h3 id="Threads"><a href="#Threads" class="headerlink" title="Threads"></a>Threads</h3><p>All threads within a process share the same address space, file descriptors, stacks, and process-related attributes. Each thread executes on its own stack, although any thread can access the stacks of other threads in the same process. Because they can access the same memory, the threads need to synchronize access to shared data among themselves to avoid inconsistencies.</p><p>Like processes, threads are identified by IDs. <strong>Thread IDs, however, are local to a process</strong>. A thread ID from one process has no meaning in another process. We use thread IDs to refer to specific threads as we manipulate the threads within a process.</p><blockquote><p>threads were added to the UNIX System long after the process model was established</p></blockquote><h2 id="Error-Handling"><a href="#Error-Handling" class="headerlink" title="Error Handling"></a>Error Handling</h2><p>When an error occurs in one of the UNIX System functions, a negative value is often returned, and the integer <strong>errno</strong> is usually set to a value that tells why. For example, the open function returns either a non-negative file descriptor if all is OK or âˆ’1 if an error occurs. An error from open has about 15 possible errno values, such as file doesnâ€™t exist, permission problem, and so on. Some functions use a convention other than returning a negative value. For example, most functions that return a pointer to an object return a null pointer to indicate an error.</p><p>The file <code>&lt;errno.h&gt;</code> defines the symbol errno and constants for each value that errno can assume. <strong>Each of these constants begins with the character E</strong>. Also, the first page of Section 2 of the UNIX system manuals, named intro(2), usually lists all these error constants. For example, if errno is equal to the constant <code>EACCES</code>, this indicates a permission problem, such as insufficient permission to open the requested file.</p><blockquote><p>On Linux, the error constants are listed in the errno(3) manual page.</p></blockquote><p>POSIX and ISO C define errno as a symbol expanding into a modifiable lvalue of type integer. This can be either an integer that contains the error number or a function that returns a pointer to the error number. The historical definition is</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">extern</span> <span class="keyword">int</span> errno;</span><br></pre></td></tr></table></figure><p>But in an environment that supports threads, the process address space is shared among multiple threads, and each thread needs its own local copy of errno to prevent one thread from interfering with another. Linux, for example, supports multithreaded access to errno by defining it as</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">extern</span> <span class="keyword">int</span> *__errno_location(<span class="keyword">void</span>);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> errno (*__errno_location())</span></span><br></pre></td></tr></table></figure><p>There are two rules to be aware of with respect to errno. First, <strong>its value is never cleared by a routine if an error does not occur. Therefore, we should examine its value only when the return value from a function indicates that an error occurred.</strong> Second, the value of errno is <strong>never set to 0</strong> by any of the functions, and none of the constants defined in <code>&lt;errno.h&gt;</code> has a value of 0.</p><p>Two functions are defined by the C standard to help with printing error messages.</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">char</span> *<span class="title">strerror</span><span class="params">(<span class="keyword">int</span> errnum)</span></span>; <span class="comment">//Returns: pointer to message string</span></span><br></pre></td></tr></table></figure><p>This function maps errnum, which is typically the errno value, into an error message string and returns a pointer to the string.</p><p>The perror function produces an error message on the standard error, based on the current value of errno, and returns.</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">perror</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span>* msg)</span></span>;</span><br></pre></td></tr></table></figure><p>It outputs the string pointed to by msg, followed by a colon and a space, followed by the error message corresponding to the value of errno, followed by a newline.</p><blockquote><p>Figure 1.8 Demonstrate strerror and perror</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"apue.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;errno.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">"EACCES: %s\n"</span>, strerror(EACCES));</span><br><span class="line">    errno = ENOENT;</span><br><span class="line">    perror(argv[<span class="number">0</span>]);</span><br><span class="line">    <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ./fig1.8</span><br><span class="line">EACCES: Permission denied</span><br><span class="line">./fig1.8: No such file or directory</span><br></pre></td></tr></table></figure><blockquote><p>argv[0] è¡¨ç¤ºè¾“å…¥çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œä¹Ÿå°±æ˜¯å‘½ä»¤å</p></blockquote><h3 id="Error-Recovery"><a href="#Error-Recovery" class="headerlink" title="Error Recovery"></a>Error Recovery</h3><p>The errors defined in <code>&lt;errno.h&gt;</code> can be divided into two categories: <strong>fatal and nonfatal</strong>. A fatal error has no recovery action. The best we can do is print an error message on the user&#39;s screen or to a log file, and then exit. Nonfatal errors, on the other hand, can sometimes be dealt with more robustly. Most nonfatal errors are <strong>temporary</strong>, such as a resource shortage, and might not occur when there is less activity on the system.</p><p>Resource-related nonfatal errors include <strong>EAGAIN, ENFILE, ENOBUFS, ENOLCK, ENOSPC, EWOULDBLOCK</strong>, and sometimes <strong>ENOMEM</strong>. <strong>EBUSY</strong> can be treated as nonfatal when it indicates that a shared resource is in use. Sometimes, <strong>EINTR</strong> can be treated as a nonfatal error when it interrupts a slow system call.</p><p><strong>The typical recovery action for a resource-related nonfatal error is to delay and retry later</strong>. This technique can be applied in other circumstances. For example, if an error indicates that a network connection is no longer functioning, it might be possible for the application to delay a short time and then reestablish the connection. Some applications use an exponential backoff algorithm, waiting a longer period of time in each subsequent iteration.</p><h2 id="User-Identification"><a href="#User-Identification" class="headerlink" title="User Identification"></a>User Identification</h2><h3 id="Password-File"><a href="#Password-File" class="headerlink" title="Password File"></a>Password File</h3><p><strong>/etc/passwd</strong>: When we log in to a UNIX system, we enter our login name, followed by our password. The system then looks up our login name in its password file, usually the file /etc/passwd. If we look at our entry in the password file, we see that it&#39;s composed of seven colon-separated fields: the login name, encrypted password, numeric user ID (205), numeric group ID (105), a comment field, home directory (/home/sar), and shell program (/bin/ksh).</p><p>å¯†ç æ–‡ä»¶çš„æ¡ç›®çš„æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ç™»å½•å:åŠ å¯†è¿‡çš„å¯†ç :user ID:group ID:æ³¨è§£:homeç›®å½•:shell</span><br></pre></td></tr></table></figure><p>All contemporary systems have moved the encrypted password to a different file.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sar:x:205:105:Stephen Rago:/home/sar:/bin/ksh</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿™ä¸ªæ–‡ä»¶å¾ˆå…³é”®ï¼Œå› ä¸ºä»–é…ç½®äº†æˆ‘ä»¬çš„å¾ˆå¤šä¿¡æ¯ï¼Œæ¯”å¦‚ home ç›®å½•ï¼Œé»˜è®¤çš„ shellã€‚</p><h3 id="User-ID"><a href="#User-ID" class="headerlink" title="User ID"></a>User ID</h3><p>The user ID from our entry in the password file is a numeric value that identifies us to the system. This user ID is assigned by the system administrator when our login name is assigned, and we cannot change it. The user ID is normally assigned to be unique for every user. We&#39;ll see how the kernel uses the user ID to check whether we have the appropriate permissions to perform certain operations.</p><p>We call <strong>the user whose user ID is 0</strong> either root or the superuser. The entry in the password file normally has a login name of root, and we refer to the special privileges of this user as superuser privileges. As we&#39;ll see in Chapter 4, if a process has superuser privileges, <strong>most file permission checks are bypassed</strong>. Some operating system functions are restricted to the superuser. The superuser has free rein over the system.</p><blockquote><p>Client versions of Mac OS X ship with the superuser account disabled; server versions ship with the account already enabled. Instructions are available on Appleâ€™s Web site describing how to enable it. See <a href="http://support.apple.com/kb/HT1528" target="_blank" rel="noopener">http://support.apple.com/kb/HT1528</a>.</p></blockquote><h3 id="Group-ID"><a href="#Group-ID" class="headerlink" title="Group ID"></a>Group ID</h3><p>Our entry in the password file also specifies our numeric group ID. This, too, is assigned by the system administrator when our login name is assigned. Typically, the password file contains multiple entries that specify the same group ID. Groups are normally used to collect users together into projects or departments. This allows the sharing of resources, such as files, among members of the same group. Weâ€™ll see in Section 4.5 that we can set the permissions on a file so that all members of a group can access the file, whereas others outside the group cannot.</p><p>There is also a group file that maps group names into numeric group IDs. The group file is usually /etc/group.</p><p>ä¸ºä½•ä½¿ç”¨æ•°å­—å‹ IDï¼Œä¸»è¦åŸå› å¦‚ä¸‹ï¼š</p><p>The use of numeric user IDs and numeric group IDs for permissions is historical. With every file on disk, the file system stores both the user ID and the group ID of a fileâ€™s owner. Storing both of these values requires only four bytes, assuming that each is stored as a two-byte integer. If the full ASCII login name and group name were used instead, <strong>additional disk space would be required</strong>. In addition, <strong>comparing strings during permission checks is more expensive than comparing integers</strong>.</p><p>Users, however, work better with names than with numbers, so the <strong>password file</strong> maintains the mapping between login names and user IDs, and the <strong>group file</strong> provides the mapping between group names and group IDs. The ls -l command, for example, prints the login name of the owner of a file, using the password file to map the numeric user ID into the corresponding login name.</p><blockquote><p>Early UNIX systems used 16-bit integers to represent user and group IDs. Contemporary UNIX systems use 32-bit integers.</p></blockquote><blockquote><p>Figure 1.9 Print user ID and group ID</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"apue.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"uid = %d, gid = %d\n"</span>, getuid(), getgid());</span><br><span class="line">    <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Supplementary-Group-IDs"><a href="#Supplementary-Group-IDs" class="headerlink" title="Supplementary Group IDs"></a>Supplementary Group IDs</h3><p><strong>supplementary group</strong>ï¼šIn addition to the group ID specified in the password file for a login name, most versions of the UNIX System allow a user to belong to other groups. This practice started with 4.2BSD, which allowed a user to belong to up to 16 additional groups. These supplementary group IDs are obtained at login time by reading the file /etc/group and <strong>finding the first 16 entries that list the user as a member</strong>. As we shall see in the next chapter, POSIX requires that a system support at least 8 supplementary groups per process, but most systems support at least 16.</p><p><code>/etc/group</code>æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">_analyticsusers:*:250:_analyticsd,_networkd,_timed</span><br><span class="line">_analyticsd:*:263:_analyticsd</span><br></pre></td></tr></table></figure><p>è§£é‡Šï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ç»„å:å£ä»¤:ç»„ID:ç»„å†…ç”¨æˆ·åˆ—è¡¨</span><br></pre></td></tr></table></figure><h2 id="Signal"><a href="#Signal" class="headerlink" title="Signal"></a>Signal</h2><p><strong>Signals are a technique used to notify a process that some condition has occurred</strong>. For example, if a process divides by zero, the signal whose name is SIGFPE (floating-point exception) is sent to the process. The process has three choices for dealing with the signal.</p><ol><li>Ignore the signal. This option isn&#39;t recommended for signals that denote a hardware exception, such as dividing by zero or referencing memory outside the address space of the process, as the results are undefined.</li><li>Let the default action occur. For a divide-by-zero condition, the default is to terminate the process.</li><li>Provide a function that is called when the signal occurs (this is called â€œcatchingâ€ the signal). By providing a function of our own, we&#39;ll know when the signal occurs and we can handle it as we wish.</li></ol><p>Many conditions generate signals. Two terminal keys, called the <strong>interrupt key</strong>â€”often the DELETE key or Control-Câ€”and the <strong>quit key</strong>â€”often Control-backslashâ€”are used to interrupt the currently running process. Another way to generate a signal is by calling the <strong>kill function</strong>. <strong>We can call this function from a process to send a signal to another process</strong>. Naturally, there are limitations: <strong>we have to be the owner of the other process (or the superuser) to be able to send it a signal</strong>.</p><blockquote><p>Figure 1.10 Read commands from standard input and execute them</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"apue.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/wait.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sig_int</span><span class="params">(<span class="keyword">int</span>)</span></span>;    <span class="comment">/* our signal-catching function */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span> buf[MAXLINE];   <span class="comment">/* from apue.h */</span></span><br><span class="line">    <span class="keyword">pid_t</span> pid;</span><br><span class="line">    <span class="keyword">int</span> status;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (signal(SIGINT, sig_int) == SIG_ERR)</span><br><span class="line">            err_sys(<span class="string">"signal error"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%% "</span>);  <span class="comment">/* print prompt (printf requires %% to print %) */</span></span><br><span class="line">    <span class="keyword">while</span> (fgets(buf, MAXLINE, <span class="built_in">stdin</span>) != <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (buf[<span class="built_in">strlen</span>(buf) - <span class="number">1</span>] == <span class="string">'\n'</span>)</span><br><span class="line">            buf[<span class="built_in">strlen</span>(buf) - <span class="number">1</span>] = <span class="number">0</span>; <span class="comment">/* replace newline with null */</span></span><br><span class="line">        <span class="keyword">if</span> ((pid = fork()) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            err_sys(<span class="string">"fork error"</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (pid == <span class="number">0</span>) &#123;      <span class="comment">/* child */</span></span><br><span class="line">            execlp(buf, buf, (<span class="keyword">char</span> *) <span class="number">0</span>);</span><br><span class="line">            <span class="comment">// or</span></span><br><span class="line">            <span class="comment">// execlp(buf, buf, (char *)NULL);</span></span><br><span class="line">            err_ret(<span class="string">"couldnâ€™t execute: %s"</span>, buf);</span><br><span class="line">            <span class="built_in">exit</span>(<span class="number">127</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">/* parent */</span></span><br><span class="line">        <span class="keyword">if</span> ((pid = waitpid(pid, &amp;status, <span class="number">0</span>)) &lt; <span class="number">0</span>)</span><br><span class="line">            err_sys(<span class="string">"waitpid error"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%% "</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sig_int</span><span class="params">(<span class="keyword">int</span> signo)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"interrupt\n%% "</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ®µä»£ç ä½¿ç”¨è‡ªå·±å®šä¹‰çš„<code>sig_int</code>å‡½æ•°æ•è· SIGINT ä¿¡å·ï¼Œä½†å¦‚æœä½ æŒ‰^Cï¼Œä»£ç ä¾ç„¶ä¼šç»“æŸã€‚åŸå› æ˜¯^C ä¹Ÿèƒ½åƒ^D ä¸€æ ·è®©<code>fgets</code>å‡½æ•°è¿”å›ä¸€ä¸ª NULLã€‚å¦å¤–å°±ç®— while æ˜¯ä¸ªæ­»å¾ªç¯ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">"å¼€å§‹ä¼‘çœ ä¸€ç§’é’Ÿ...\n"</span>);</span><br><span class="line">   sleep(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“ä½ æŒ‰ç¬¬äºŒæ¬¡^C çš„æ—¶å€™ï¼Œç¨‹åºä¾ç„¶ä¼šé€€å‡ºï¼Œè¿™å°±è¯´æ˜è¿™ä¸ª<code>signal(SIGINT, sig_int)</code>æ˜¯ä¸€æ¬¡æ€§çš„ã€‚ç„¶åæˆ‘å°†å…¶å†™åœ¨äº†å¾ªç¯ä¸­ï¼Œ</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (signal(SIGINT, sig_int) == SIG_ERR)</span><br><span class="line">        err_sys(<span class="string">"signal error"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"å¼€å§‹ä¼‘çœ ä¸€ç§’é’Ÿ...\n"</span>);</span><br><span class="line">    sleep(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ— è®ºä½ æŒ‰å¤šå°‘æ¬¡^C éƒ½æ— æ³•é€€å‡ºäº†ï¼Œå¦å¤–è¿˜æœ‰ä¸€ä¸ªç°è±¡ï¼Œæ¯æ¬¡æŒ‰^C<code>å¼€å§‹ä¼‘çœ ä¸€ç§’é’Ÿ...</code>ä¼šç«‹é©¬æ‰“å°å‡ºæ¥ã€‚</p><h2 id="Time-Values"><a href="#Time-Values" class="headerlink" title="Time Values"></a>Time Values</h2><p>Historically, UNIX systems have maintained two different time values:</p><ol><li><p><strong>Calendar time</strong>. This value counts the number of seconds since the <strong>Epoch: 00:00:00 January 1, 1970,Coordinated Universal Time (UTC)</strong>. (Older manuals refer to UTC as Greenwich Mean Time.) These time values are used to record the time when a file was last modified, for example.</p><p>The primitive system data type <code>time_t</code> holds these time values.</p></li><li><p><strong>Process time</strong>. This is also called CPU time and measures the central processor resources used by a process. Process time is measured in clock ticks, which have historically been 50, 60, or 100 ticks per second.</p><p>The primitive system data type <code>clock_t</code> holds these time values. (Weâ€™ll show how to obtain the number of clock ticks per second with the <code>sysconf</code> function in Section 2.5.4.)</p></li></ol><p>æœ‰ä¸¤ç§ç±»å‹çš„æ—¶é—´ï¼š<strong>æ—¥å†æ—¶é—´</strong>å’Œ<strong>è¿›ç¨‹æ—¶é—´</strong>ï¼Œæ—¥å†æ—¶é—´ä¹Ÿå°±æ˜¯ UTCã€‚</p><p>When we measure the execution time of a process, as in Section 3.9, weâ€™ll see that the UNIX System maintains three values for a process:</p><ul><li>Clock time</li><li>User CPU time</li><li>System CPU time</li></ul><p>The clock time, sometimes called <strong>wall clock time</strong>, is the amount of time the process takes to run, and its value depends on the number of other processes being run on the system. Whenever we report the clock time, the measurements are made with no other activities on the system.</p><p>The user CPU time is the CPU time attributed to user instructions. The system CPU time is the CPU time attributed to the kernel when it executes on behalf of the process. For example, whenever a process executes a system service, such as read or write, the time spent within the kernel performing that system service is charged to the process. The sum of user CPU time and system CPU time is often called the CPU time.</p><p>åº¦é‡è¿›ç¨‹æ‰§è¡Œæ—¶é—´ï¼Œæœ‰ä¸‰ç§ï¼š</p><ol><li>å¢™ä¸Šæ—¶é’Ÿï¼Œä¹Ÿå°±æ˜¯è¿›ç¨‹æ‰§è¡ŒèŠ±è´¹çš„æ€»æ—¶é—´ã€‚</li><li>ç”¨æˆ· CPU æ—¶é—´ï¼Œæ˜¯ç”¨æˆ·æ¨¡å¼ï¼ˆéå†…æ ¸ï¼‰ä¸‹çš„ CPU ä½¿ç”¨æ—¶é—´</li><li>ç³»ç»Ÿ CPU æ—¶é—´ï¼Œæ˜¯è¿›ç¨‹è¿›å…¥å†…æ ¸æ‰§è¡Œçš„ CPU ä½¿ç”¨æ—¶é—´</li></ol><p>It is easy to measure the clock time, user time, and system time of any process: simply execute the time(1) command, with the argument to the time command being the command we want to measure. For example:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> /usr/include</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> time -p grep _POSIX_SOURCE */*.h &gt; /dev/null</span></span><br></pre></td></tr></table></figure><p>ç»“æœï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">real    0m0.81s</span><br><span class="line">user    0m0.11s</span><br><span class="line">sys     0m0.07s</span><br></pre></td></tr></table></figure><p>The output format from the time command depends on the shell being used, because some shells donâ€™t run /usr/bin/time, but instead have a separate built-in function to measure the time it takes commands to run. time å‘½ä»¤çš„è¾“å‡ºæ ¼å¼å–å†³äºä½¿ç”¨ä»€ä¹ˆ shellï¼Œå› ä¸ºæœ‰äº› shell å¹¶ä¸è¿è¡Œï¼š<code>/usr/bin/time</code>ï¼Œè€Œæ˜¯è¿è¡Œè‡ªå·±å†…ç½®çš„ä¸€ä¸ª time å‡½æ•°ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ“ä½œç³»ç»Ÿ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>mathjaxå¸¸ç”¨å…¬å¼è®°å½•</title>
      <link href="/blog/2018/04/30/mathjax%E5%B8%B8%E7%94%A8%E5%85%AC%E5%BC%8F%E8%AE%B0%E5%BD%95/"/>
      <url>/blog/2018/04/30/mathjax%E5%B8%B8%E7%94%A8%E5%85%AC%E5%BC%8F%E8%AE%B0%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<h2 id="è§’åº¦è®°æ³•"><a href="#è§’åº¦è®°æ³•" class="headerlink" title="è§’åº¦è®°æ³•"></a>è§’åº¦è®°æ³•</h2><ul><li>åº¦æ•°ï¼š<code>$60^\circ$</code>ï¼Œ$60^\circ$</li><li>åº¦æ•°åˆ†ï¼š<code>$60^\prime$</code>ï¼Œ$60^\prime$</li><li>å¼§åº¦ï¼š<code>$\frac{\pi}{2}$</code>ï¼Œ$\frac{\pi}{2}$</li><li>è§’åº¦è®°æ³•ï¼š<code>$\angle A$</code>ï¼Œ$\angle A$</li></ul><h2 id="ä¸‰é‡ç¯ç§¯åˆ†æ— æ³•æ¸²æŸ“çš„é—®é¢˜"><a href="#ä¸‰é‡ç¯ç§¯åˆ†æ— æ³•æ¸²æŸ“çš„é—®é¢˜" class="headerlink" title="ä¸‰é‡ç¯ç§¯åˆ†æ— æ³•æ¸²æŸ“çš„é—®é¢˜"></a>ä¸‰é‡ç¯ç§¯åˆ†æ— æ³•æ¸²æŸ“çš„é—®é¢˜</h2><p>åœ¨ç½‘ä¸Šæ‰¾äº†åŠå¤©èµ„æ–™æœ€ç»ˆè§£å†³äº†ï¼Œå‚è€ƒè¿™ä¸ªç­”æ¡ˆï¼š<a href="https://math.meta.stackexchange.com/questions/9973/how-do-you-render-a-closed-surface-double-integral" target="_blank" rel="noopener">How do you render a closed surface double integral?</a>ï¼Œåšæ³•æ˜¯ç›´æ¥ä½¿ç”¨ Unicode ç¼–ç ï¼š<code>\unicode{x222F}</code>ï¼Œä¸‰é‡ç¯ç§¯åˆ†çš„ç¼–ç ï¼Œå‚è€ƒè¿™é‡Œï¼š<a href="http://unicode-search.net/unicode-namesearch.pl?term=INTEGRAL" target="_blank" rel="noopener">unicode-search.net</a>ï¼Œæ‰€ä»¥åªè¦å°†<code>$\oiiint$</code>æ¢æˆ<code>$\unicode{x2230}$</code>å³å¯æ­£ç¡®æ˜¾ç¤ºä¸‰é‡ç¯ç§¯åˆ†ã€‚å¦‚ä¸‹ï¼š</p><p>$$\unicode{x2230}$$</p><a id="more"></a><h2 id="è¡Œå†…-limit"><a href="#è¡Œå†…-limit" class="headerlink" title="è¡Œå†… limit"></a>è¡Œå†… limit</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$\lim\limits_&#123;x\rightarrow 0&#125; \frac&#123;\sin x&#125;&#123;x&#125; = 1$</span><br></pre></td></tr></table></figure><p>æ•ˆæœï¼š$\lim\limits_{x\rightarrow 0} \frac{\sin x}{x} = 1$</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$\lim_&#123;x\rightarrow 0&#125; \frac&#123;\sin x&#125;&#123;x&#125; = 1$</span><br></pre></td></tr></table></figure><p>æ•ˆæœï¼š$\lim_{x\rightarrow 0} \frac{\sin x}{x} = 1$</p><p>å‡­ä¸ªäººå–œå¥½ï¼Œæˆ‘å°±æ›´å–œæ¬¢ç¬¬ä¸€ç§ã€‚</p><h2 id="å¼§"><a href="#å¼§" class="headerlink" title="å¼§"></a>å¼§</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$\overset&#123;\frown&#125; &#123;AB&#125;$</span><br></pre></td></tr></table></figure><p>$\overset{\frown} {AB}$</p>]]></content>
      
      
      
        <tags>
            
            <tag> å·¥å…· </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°å­¦åŸºç¡€å…¬å¼æ¨å¯¼</title>
      <link href="/blog/2018/04/25/%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%AC%E5%BC%8F%E6%8E%A8%E5%AF%BC/"/>
      <url>/blog/2018/04/25/%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%AC%E5%BC%8F%E6%8E%A8%E5%AF%BC/</url>
      
        <content type="html"><![CDATA[<p>ä»Šå¤©çœ‹åˆ°ä¸‹é¢è¿™ä¸ªå…¬å¼ï¼Œçªç„¶æƒ³æˆ‘å¥½åƒä¸ä¼šæ¨å¯¼å•Šï¼š</p><p>$\sin(\beta-\alpha) = \sin\beta\cos\alpha - \cos\beta\sin\alpha$</p><p>é‚æƒ³å¦‚ä½•æ¨å¯¼ï¼Œåœ¨ youtube ä¸Šæ‰¾äº†ä¸€ä¸ªè§†é¢‘ï¼š<a href="https://www.youtube.com/watch?v=uX6hxwW5BYM" target="_blank" rel="noopener">ä¸‰è§’å‡½æ•°æ­£ä½™å¼¦å’Œè§’å…¬å¼æ¨å¯¼</a></p><a id="more"></a><p>æ€è·¯æ˜¯å…ˆæ¨å¯¼å‡ºï¼š$\cos(\beta-\alpha) = \cos\alpha\cos\beta + \sin\alpha\sin\beta$</p><blockquote><p>ç„¶åæ ¹æ®è¿™ä¸ªå†ç»“åˆæ­£å¼¦ä½™å¼¦ä¹‹é—´çš„å…³ç³»å°±å¾ˆå®¹æ˜“æ¨ $\sin(\beta-\alpha) = \sin\beta\cos\alpha - \cos\beta\sin\alpha$</p></blockquote><p>é‚£ä¹ˆæ€ä¹ˆæ¨å¯¼ä¸Šé¢è¿™ä¸ªå…¬å¼å‘¢ï¼Ÿ</p><p>éœ€è¦ç”¨åˆ°è§£æå‡ ä½•ï¼š</p><p><img src="https://i.loli.net/2018/04/27/5ae29c4bf121f.png" alt="Screen Shot 2018-04-27 at 11.42.48 AM.png"></p><p>ç»“åˆ <code>å‹¾è‚¡å®šç†</code> å’Œ <code>ä½™å¼¦å®šç†</code> å¯ä»¥æ¨å¯¼å‡ºã€‚</p><blockquote><p>è¿™é‡Œä¸ç»™å‡ºå‹¾è‚¡å®šç†å’Œä½™å¼¦å®šç†çš„è¯æ˜ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥è‡ªå·±è¯ã€‚</p></blockquote><p>æ ¹æ®å‹¾è‚¡å®šç†ï¼š</p><p>$$<br>\begin{align}<br>\overline{PQ}^2<br>&amp;= (\sin\alpha - \sin\beta)^2 + (\cos\beta - \cos\alpha)^2 \newline<br>&amp;= 2 - 2(\cos\alpha\cos\beta + \sin\alpha\sin\beta) \newline<br>\end{align}<br>$$</p><p>æ ¹æ®ä½™å¼¦å®šç†ï¼ˆ$a^2 = b^2 + c^2 -2ab\cos A$ï¼‰ï¼š</p><p>$$<br>\begin{align}<br>\overline{PQ}^2<br>&amp; = 1^2 + 1^2 - 2\cdot1\cdot1\cdot\cos(\alpha-\beta)<br>\end{align}<br>$$</p><p>ç”±æ­¤æ¨å‡ºï¼š</p><p>$$<br>\cos(\alpha-\beta) = \sin\alpha\sin\beta+\cos\alpha\cos\beta<br>$$</p><p>ä¹Ÿå³ï¼š</p><p>$$<br>\cos(\beta-\alpha) = \sin\alpha\sin\beta+\cos\alpha\cos\beta<br>$$</p><p>ç„¶åï¼š</p><p>$$<br>\begin{align}<br>\sin(\beta-\alpha)<br>&amp;= \cos(\frac{\pi}{2}-(\beta-\alpha)) \newline<br>&amp;= \cos((\frac{\pi}{2}+\alpha) - \beta) \newline<br>&amp;= \sin(\frac{\pi}{2}+\alpha)\sin\beta + \cos(\frac{\pi}{2}+\alpha)\cos\beta \newline<br>&amp;= \cos\alpha\sin\beta - \sin\alpha\cos\beta \newline<br>&amp;= \sin\beta\cos\alpha - \cos\beta\sin\alpha<br>\end{align}<br>$$</p>]]></content>
      
      
      
        <tags>
            
            <tag> æ•°å­¦ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Override Overload Overwrite</title>
      <link href="/blog/2017/11/14/Override-Overload-Overwrite/"/>
      <url>/blog/2017/11/14/Override-Overload-Overwrite/</url>
      
        <content type="html"><![CDATA[<p>æˆ‘ä»¬éƒ½çŸ¥é“æœ‰äº›ä¸œè¥¿å®¹æ˜“æ··æ·†ï¼Œåœ¨åŠ ä¸Šä¸­æ–‡ç¿»è¯‘å¾—ä¹±ä¸ƒå…«ç³Ÿï¼Œæ›´åŠ è®©äººå›°æƒ‘ã€‚ä»Šå¤©æˆ‘è¦è®²çš„è¿™ä¸‰ä½å¯å°±çœŸæ˜¯ç»äº†ã€‚</p><p>å®ƒä»¬æ˜¯ï¼šOverrideã€Overloadã€Overwriteã€‚</p><a id="more"></a><p>è¿™æ˜¯æˆ‘æŸ¥æœ‰é“è¯å…¸æ—¶å€™çœ‹åˆ°çš„å¯æ€•ä¸€å¹•ï¼š</p><p><img src="https://i.loli.net/2019/12/09/LAIVFxpekMXyogD.jpg" alt="006zFO3ggy1flhl8a9e69j312w0tatf9.jpg"></p><p>Override ä¸€ä¸ªæŠŠä¸‰ä¸ªåå­—éƒ½å äº†ï¼Œä½ æ€•ä¸æ€•ï¼Ÿåæ­£æˆ‘æ˜¯çœ‹çš„å¿ƒé‡Œä¸€ç´§ã€‚</p><p>å¦‚æœæŠŠæ¦‚å¿µéƒ½ç…®æˆäº†ä¸€é”…ç²¥ï¼Œé‚£è¿˜ä¸å¦‚ä¸è¦è®°è¿™äº›æ¦‚å¿µï¼Œä½ åº”è¯¥å‘æ›´æ·±å±‚æ¬¡å»æ¢å¯»ã€‚å°±è¿™ä¸‰ä¸ªçš„åŒºåˆ«æ¥è¯´ï¼Œæˆ‘è§‰å¾—ä¸»è¦ç†è§£ä¸¤ä¸ªæ¦‚å¿µå°±è¡Œäº†ï¼š</p><ol><li>å‡½æ•°ç­¾åï¼ˆsignatureï¼‰</li><li>å¤šæ€ï¼ˆpolymorphismã€polymorphicï¼‰</li></ol><h2 id="å‡½æ•°ç­¾å"><a href="#å‡½æ•°ç­¾å" class="headerlink" title="å‡½æ•°ç­¾å"></a>å‡½æ•°ç­¾å</h2><p>å‡½æ•°ç­¾åæ˜¯ä»€ä¹ˆï¼Œå…¶å®å°±æ˜¯ç”¨æ¥åŒºåˆ«å‡½æ•°çš„ï¼Œä¸¤ä¸ªå‡½æ•°æ€ä¹ˆæ ·è®¤å®šæ˜¯ä¸åŒçš„ä¸¤ä¸ªå‡½æ•°å‘¢ï¼Œåªæœ‰ä¸¤ä¸ªæ–¹é¢ï¼š</p><ol><li>å‡½æ•°å</li><li>å‚æ•°</li></ol><p>æœ‰äººè¯´è¿˜æœ‰è¿”å›å€¼å•Šï¼Œä¸è¡Œï¼Œè¿”å›å€¼ä¸èƒ½ä½œä¸ºå‡½æ•°ç­¾åçš„ä¸€éƒ¨åˆ†ï¼Œå› ä¸ºä½ è°ƒç”¨ä¸€ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œè¿”å›å€¼æ ¹æœ¬ä¸èƒ½å¸®åŠ©ç¼–è¯‘å™¨æ¥è¯†åˆ«ä½ ç”¨çš„æ˜¯å“ªä¸ªå‡½æ•°ï¼Œæ¯”å¦‚ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">float</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>;</span><br><span class="line"></span><br><span class="line">func();</span><br></pre></td></tr></table></figure><p>è¯·é—®æˆ‘ä½¿ç”¨çš„æ˜¯å“ªä¸ªå‡½æ•°ï¼Ÿä½ çœ‹è¿”å›å€¼ç¡®å®ä¸è¡Œå§ã€‚</p><h2 id="å¤šæ€"><a href="#å¤šæ€" class="headerlink" title="å¤šæ€"></a>å¤šæ€</h2><p>å¤šæ€æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹çš„æ¦‚å¿µï¼Œä½ å¯ä»¥çœ‹çœ‹å®ƒçš„å‡†ç¡®å®šä¹‰ï¼š</p><p>Polymorphismï¼Œå®šä¹‰å¾ˆç®€çŸ­ï¼špolymorphism is the provision of a single interface to entities of different types.</p><p>å¦‚æœçˆ¶ç±»æœ‰ä¸€ä¸ªå‡½æ•°ï¼Œå­ç±»ä¹Ÿå®šä¹‰äº†ä¸€ä¸ªå®Œå…¨ç›¸åŒçš„å‡½æ•°ï¼ˆå‡½æ•°ç­¾åç›¸åŒï¼‰ï¼Œé‚£ä¹ˆä½ å¯ä»¥ç”¨çˆ¶ç±»æŒ‡é’ˆï¼ˆæˆ–è€…è¯´çˆ¶ç±»å¯¹è±¡ï¼‰ä½œä¸ºç»Ÿä¸€çš„æ¥å£ï¼Œæ¥è°ƒç”¨å­ç±»çš„æ–¹æ³•ã€‚æ¯”å¦‚ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Vehicle</span>&#123;</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">move</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(â€œVehicles can move!!â€);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MotorBike</span> <span class="title">extends</span> <span class="title">Vehicle</span>&#123;</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">move</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(â€œMotorBike can move <span class="keyword">and</span> accelerate too!!â€);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Car</span> <span class="title">extends</span> <span class="title">Vehicle</span>&#123;</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">move</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(â€œHi! I am a car!â€);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span>&#123;</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        Vehicle vh = <span class="keyword">new</span> MotorBike();</span><br><span class="line">        vh.move();    <span class="comment">// prints MotorBike can move and accelerate too!!</span></span><br><span class="line">        vh = <span class="keyword">new</span> Vehicle();</span><br><span class="line">        vh.move();    <span class="comment">// prints Vehicles can move!!</span></span><br><span class="line">        vh = <span class="keyword">new</span> Car();</span><br><span class="line">        vh.move();   <span class="comment">// prints Hi! I am a car!</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¤šæ€çš„å¥½å¤„æ˜¯å¯ä»¥æ‰©å±•å•Šï¼Œæ¯”å¦‚æˆ‘åæ¥åˆå¤šäº†ä¸ª truck ç±»ï¼Œæˆ‘ä¸éœ€è¦å»åŠ¨å·²ç»å†™å¥½çš„ä»£ç ï¼Œåªè¦æŠŠ truck æ¨¡å—å†™å¥½ï¼ŒåŠ è¿›å»å°±è¡Œäº†ã€‚</p><h2 id="Overrideã€Overloadã€Overwrite-çš„åŒºåˆ«"><a href="#Overrideã€Overloadã€Overwrite-çš„åŒºåˆ«" class="headerlink" title="Overrideã€Overloadã€Overwrite çš„åŒºåˆ«"></a>Overrideã€Overloadã€Overwrite çš„åŒºåˆ«</h2><p>å¥½äº†ï¼ŒçŸ¥é“äº†è¿™ä¸¤ä¸ªæ¦‚å¿µï¼Œæˆ‘ä»¬å†æ¥çœ‹çœ‹ä¸Šé¢çš„é‚£ä¸‰ä¸ªæ··åœ¨ä¸€èµ·çš„ä¸œè¥¿ï¼š</p><ul><li>Overrideï¼ˆæ¨ç¿»ï¼Œå¯¹è‹±æ–‡æ„æ€å°±æ˜¯è¿™ä¸ªï¼‰subclass method overrides base class method means:<ul><li>in different range (in derived class and base class)</li><li>the same function signature</li><li>the base class method is virtualï¼ˆif in C++ï¼‰</li></ul></li><li>overloadï¼ˆè¶…è½½ï¼‰function overloading means:<ul><li>the same range (in the same class)</li><li>the same function name</li><li>but different function signature</li></ul></li><li>overwriteï¼ˆé‡å†™ï¼‰subclass method hides base class method means:<ul><li>in different range (in derived class and base class)</li><li>the same function name</li></ul></li></ul><p>æˆ‘ä»¬åº”è¯¥è®°ä½åªæœ‰ Override æ‰è·Ÿå¤šæ€æœ‰å…³ã€‚</p><p>Overload æ˜¯æœ¬ class é‡Œé¢çš„ä¸åŒå‡½æ•°ï¼ˆåªä¸è¿‡å‡½æ•°åä¸€æ ·ç½¢äº†ï¼Œå…¶å®æ˜¯ä¸¤ä¸ªä¸åŒçš„å‡½æ•°ï¼Œçœ‹ä¸¤ä¸ªå‡½æ•°æ˜¯å¦æ˜¯åŒä¸€ä¸ªå‡½æ•°å°±çœ‹å‡½æ•°ç­¾åå°±è¡Œäº†ï¼‰ï¼Œå…¶å®æ²¡å•¥ç¨€å¥‡çš„ï¼Œä¸å°±æ˜¯å‡½æ•°åä¸€æ ·å˜›ã€‚å‡½æ•°ç­¾åä¸€æ ·ï¼ŒåŒºåˆ†å‡ºæ˜¯ç”¨çˆ¶ç±»è¿˜æ˜¯å­ç±»çš„å‡½æ•°ï¼Œè¿™æ‰æ˜¯é¢å‘å¯¹è±¡å’Œå¤šæ€è¦è§£å†³çš„é—®é¢˜ã€‚</p><h2 id="Override-å’Œ-Overwrite-çš„åŒºåˆ«"><a href="#Override-å’Œ-Overwrite-çš„åŒºåˆ«" class="headerlink" title="Override å’Œ Overwrite çš„åŒºåˆ«"></a>Override å’Œ Overwrite çš„åŒºåˆ«</h2><blockquote><p>æ¯”è¾ƒå®¹æ˜“æ··æ·†çš„å…¶å®æ˜¯ Override å’Œ Overwriteï¼Œä½†ä½ åªè¦æ­»è®°ä½ï¼šOverride å¿…é¡»å‡½æ•°ç­¾åè¦ä¸€æ ·ï¼Œè€Œ Overwrite åªéœ€å‡½æ•°åä¸€æ ·å³å¯ã€‚å¦å¤– C++ ä¸­ä¸€å®šè¦ç”¨ virtual æ‰ç®— Overrideï¼Œè€Œ Java é»˜è®¤å°±æ˜¯ Overrideï¼Œä¸éœ€è¦ä¿®é¥°è¯ã€‚</p></blockquote><blockquote><p>è¿™é‡Œå…³äº Java å’Œ C++ é¢å‘å¯¹è±¡çš„ç»†èŠ‚åŒºåˆ«å¯ä»¥å†™ä¸€å¤§å †ï¼Œæ¯”å¦‚ï¼šC++ class åé¢æ˜¯è¦åŠ åˆ†å·çš„ï¼Œè€Œ Java ä¸éœ€è¦ï¼›ä½† Java çš„ç±»åæ˜¯å’Œæ–‡ä»¶åè¦ä¸€è‡´çš„ï¼Œè€Œä¸”åªèƒ½æœ‰ä¸€ä¸ª public ç±»ï¼Œè€Œ C++ä¸éœ€è¦ï¼›Java ç›´æ¥å°±èƒ½ç”¨ Overrideï¼Œè€Œ C++å¿…é¡»è¦ä½¿ç”¨ virtual å…³é”®å­—ï¼ˆè™šå‡½æ•°ï¼‰æ‰èƒ½ä½¿ç”¨ Overrideï¼›Java çš„æŠ½è±¡æ–¹æ³•è·Ÿ C++çš„çº¯è™šå‡½æ•°å¯¹åº”ã€‚Java æ˜¯å•ç»§æ‰¿ï¼Œç”±æ¥å£æ¥å®ç°â€œå¤šç»§æ‰¿â€ï¼ŒC++æ˜¯å¤šç»§æ‰¿ï¼Œæ²¡æœ‰æ¥å£ï¼Œåªæœ‰æŠ½è±¡ç±»ã€‚C++è¿˜æœ‰ä¸ªè™šåŸºç±»çš„æ¦‚å¿µã€‚å…·ä½“çš„å†™æ³•ä¸Šè¿˜æœ‰å¾ˆå¤šçš„ä¸åŒï¼Œå¤šç”¨è¿™ä¸¤ç§è¯­è¨€å†™é¢å‘å¯¹è±¡çš„ä»£ç ï¼Œå°±æ…¢æ…¢ä¼šçŸ¥é“äº†ã€‚</p></blockquote><p>C++ æœ‰ä¸€ä¸ª virtual å…³é”®å­—å’Œ virtual table è¿™ä¸ªæ¦‚å¿µï¼Œæ²¡æœ‰åŠ  virtual çš„çˆ¶ç±»å‡½æ•°æ˜¯ä¸å¯èƒ½å½¢æˆå¤šæ€çš„ï¼Œå¦‚æœè¿™æ—¶å€™ä½ ç¢°åˆ°çˆ¶ç±»å’Œå­ç±»ä¸¤ä¸ªé‡Œé¢æœ‰åŒåçš„å‡½æ•°ï¼Œé‚£ä¹ˆå°±å±äº Overwrite è¿™ä¸ªæ¦‚å¿µäº†ï¼Œä½ å…¶å®ä¹Ÿå¯ä»¥ç§°è¿™ç§è¦†ç›–æ‰çˆ¶ç±»å‡½æ•°çš„è¡Œä¸ºä¸ºï¼šhide éšè—ã€‚Java è¿™ç§è¯­è¨€é‡Œé¢æ²¡æœ‰ virtual è¿™ä¸€å¥—ï¼ŒJava ä¹Ÿå¯ä»¥è¡¨ç°å‡º Overwriteï¼Œä½†è¦æ³¨æ„å‡½æ•°ç­¾åå¦‚æœä¸€æ ·çš„è¯ï¼Œé‚£åˆä¸å« Overwrite äº†ï¼Œåº”è¯¥å« Override äº†ï¼ˆJava å¦‚æœè¦åœ¨å­ç±»ä¸­ä½¿ç”¨çˆ¶ç±»çš„åŒå‡½æ•°ç­¾åæ–¹æ³•ï¼Œåˆ™å¿…é¡»ä½¿ç”¨ super å…³é”®å­—ï¼‰ã€‚è€Œ C++ ä¸ä¸€æ ·ï¼Œå³ä¾¿æ˜¯å‡½æ•°ç­¾åä¸€æ ·ï¼Œå¦‚æœå‰é¢ä¸åŠ  virtual æ˜¯ä¸èƒ½å« Override çš„ï¼Œä»ç„¶å±äº Overwrite çš„æ¦‚å¿µã€‚è¯·çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š</p><p>ç”¨ C++ å†™çš„è¯ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> a)</span></span>&#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"A"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span>:</span><span class="keyword">public</span> A&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> a)</span></span>&#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"B"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    A *a = <span class="keyword">new</span> B();</span><br><span class="line">    a-&gt;func(<span class="number">1</span>);</span><br><span class="line">    ((B*)a)-&gt;func(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»“æœè¾“å‡ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">A</span><br><span class="line">B</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼ŒC++å¿…é¡»è¦ç”¨å­ç±»ç±»å‹çš„æŒ‡é’ˆæ‰èƒ½è®¿é—®åˆ°å­ç±»çš„éƒ¨åˆ†ï¼ˆå»ºè®®çœ‹ä¸€æœ¬ä¹¦ï¼Œå«ï¼šInside the C++ Object Modelï¼Œä¸­æ–‡å«ï¼šæ·±å…¥ C++å¯¹è±¡æ¨¡å‹ï¼Œé‡Œé¢è®²å¯¹è±¡çš„å†…å­˜å¸ƒå±€è®²çš„å¾ˆæ¸…æ¥šï¼‰ï¼Œjava ä¹Ÿä¸€æ ·ï¼Œå¿…é¡»è½¬æˆå­ç±»å‹çš„æŒ‡é’ˆæ‰èƒ½è®¿é—®ï¼Œå¦åˆ™ IDE ä¼šæŠ¥é”™æç¤ºä½ ã€‚</p><p>Java ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">test</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">A</span></span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> a)</span></span>&#123;</span><br><span class="line">            System.out.println(<span class="string">"A"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span></span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">            System.out.println(<span class="string">"B"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        test t = <span class="keyword">new</span> test();</span><br><span class="line">        A a = t.new B();</span><br><span class="line">        a.fun(<span class="number">1</span>);</span><br><span class="line">        ((B)a).func(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»“æœè¾“å‡ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">A</span><br><span class="line">B</span><br></pre></td></tr></table></figure><p>ä¸ºä»€ä¹ˆ Java ä»£ç é‡Œä¸åƒ C++ ä»£ç é‡Œé¢é‚£æ ·ï¼Œä½¿ç”¨ä¸¤ä¸ªå‡½æ•°ç­¾åç›¸åŒçš„å‡½æ•°ï¼Ÿå› ä¸ºå‰é¢è¯´è¿‡äº†ï¼Œé‚£æ ·çš„è¯å°±å˜æˆ Override äº†ï¼Œåªæœ‰åœ¨ C++ é‡Œæ‰èƒ½å®ç°å‡½æ•°ç­¾åç›¸åŒçš„ Overwriteï¼ˆä¸ä½¿ç”¨ virtual å³å¯ï¼‰ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> ç¼–ç¨‹åŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Inside the C++ Object Model ç³»åˆ—ç¬”è®° å›› -- The Semantics of Function</title>
      <link href="/blog/2017/10/23/The-Semantics-of-Function/"/>
      <url>/blog/2017/10/23/The-Semantics-of-Function/</url>
      
        <content type="html"><![CDATA[<blockquote><p>c++æ”¯æŒä¸‰ç§ç±»å‹çš„æˆå‘˜å‡½æ•°ï¼Œåˆ†åˆ«ä¸º static,nostatic,virtualã€‚æ¯ä¸€ç§è°ƒç”¨æ–¹å¼éƒ½ä¸å°½ç›¸åŒã€‚</p></blockquote><a id="more"></a><h2 id="nonstatic-member-function"><a href="#nonstatic-member-function" class="headerlink" title="nonstatic member function"></a>nonstatic member function</h2><p>C++çš„è®¾è®¡å‡†åˆ™ä¹‹ä¸€å°±æ˜¯:nonstatic member function è‡³å°‘å¿…é¡»å’Œä¸€èˆ¬çš„ nonmember function æœ‰ç›¸åŒçš„æ•ˆç‡ã€‚<br>å®é™…ä¸Šï¼Œnonstatic member function ä¼šè¢«ç¼–è¯‘å™¨è¿›è¡Œå¦‚ä¸‹çš„è½¬æ¢ï¼Œå˜æˆä¸€ä¸ªæ™®é€šå‡½æ•°:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Type1 X::foo(Type2 arg1) &#123; ... &#125;</span><br></pre></td></tr></table></figure><p>ä¼šè¢«è½¬æ¢ä¸ºå¦‚ä¸‹çš„æ™®é€šå‡½æ•°:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">foo</span><span class="params">(X *<span class="keyword">const</span> <span class="keyword">this</span>, Type1 &amp;__result, Type2 arg1)</span> </span>&#123; ... &#125;</span><br></pre></td></tr></table></figure><p>æ”¹å†™å‡½æ•°åŸå‹ï¼Œåœ¨å‚æ•°ä¸­å¢åŠ  this æŒ‡é’ˆï¼Œå¯¹æ¯ä¸€ä¸ªâ€nonstatic data member çš„å­˜å–æ“ä½œâ€æ”¹ä¸ºç”± this æŒ‡é’ˆæ¥å­˜å–</p><p>å°† member function é‡å†™ä¸ºä¸€ä¸ªå¤–éƒ¨å‡½æ•°ï¼Œç»è¿‡â€manglingâ€å¤„ç†ï¼ˆä¸éœ€è¦å¤„ç†çš„åŠ ä¸Š extern â€œCâ€ï¼‰</p><p>å®é™…ä¸Šï¼Œæ™®é€šå‡½æ•°ã€æ™®é€šæˆå‘˜å‡½æ•°ã€é™æ€æˆå‘˜å‡½æ•°åˆ°æœ€åéƒ½ä¼šå˜æˆä¸ C è¯­è¨€å‡½æ•°ç±»ä¼¼çš„æ™®é€šå‡½æ•°ï¼Œåªæ˜¯ç¼–è¯‘å™¨åœ¨è¿™äº›ä¸åŒç±»å‹çš„å‡½æ•°èº«ä¸Šåšäº†ä¸åŒçš„æ‰©å±•ï¼Œå¹¶æ”¾åœ¨ä¸åŒçš„ scope é‡Œé¢è€Œå·²ã€‚</p><p>ç¼–è¯‘å™¨å†…éƒ¨ä¼šå°†æˆå‘˜å‡½æ•°ç­‰ä»·è½¬æ¢ä¸ºéæˆå‘˜å‡½æ•°ï¼Œå…·ä½“æ˜¯è¿™æ ·åšçš„:</p><p>1.æ”¹å†™æˆå‘˜å‡½æ•°çš„ç­¾åï¼Œä½¿å¾—å…¶å¯ä»¥æ¥å—ä¸€ä¸ªé¢å¤–å‚æ•°ï¼Œè¿™ä¸ªé¢å¤–å‚æ•°å³æ˜¯ this æŒ‡é’ˆï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">float</span> Point::X();</span><br><span class="line"><span class="comment">//æˆå‘˜å‡½æ•°Xè¢«æ’å…¥é¢å¤–å‚æ•°this</span></span><br><span class="line"><span class="keyword">float</span> Point:: X(Point* <span class="keyword">this</span> );</span><br></pre></td></tr></table></figure><p>å½“ç„¶å¦‚æœæˆå‘˜å‡½æ•°æ˜¯ const çš„ï¼Œæ’å…¥çš„å‚æ•°ç±»å‹å°†ä¸º <code>const Point*</code> ç±»å‹ã€‚</p><p>2.å°†æ¯ä¸€ä¸ªå¯¹éé™æ€æ•°æ®æˆå‘˜çš„æ“ä½œéƒ½æ”¹å†™ä¸ºç»è¿‡ this æ“ä½œã€‚</p><p>3.å°†æˆå‘˜å‡½æ•°å†™æˆä¸€ä¸ªå¤–éƒ¨å‡½æ•°ï¼Œå¯¹å‡½æ•°åè¿›è¡Œâ€œmanglingâ€å¤„ç†ï¼Œä½¿ä¹‹æˆä¸ºç‹¬ä¸€æ— äºŒçš„åç§°ã€‚</p><p>å¯ä»¥çœ‹å‡ºï¼Œå°†ä¸€ä¸ªæˆå‘˜å‡½æ•°æ”¹å†™æˆä¸€ä¸ªå¤–éƒ¨å‡½æ•°çš„å…³é”®åœ¨äºä¸¤ç‚¹ï¼Œä¸€æ˜¯ç»™å‡½æ•°æä¾›ä¸€ä¸ªå¯ä»¥ç›´æ¥è¯»å†™æˆå‘˜æ•°æ®çš„é€šé“ï¼›<br>äºŒæ˜¯è§£å†³å¥½æœ‰å¯èƒ½å¸¦æ¥çš„åå­—å†²çªã€‚ç¬¬ä¸€ç‚¹é€šè¿‡ç»™å‡½æ•°æä¾›ä¸€ä¸ªé¢å¤–çš„æŒ‡é’ˆå‚æ•°æ¥è§£å†³ï¼Œç¬¬äºŒç‚¹åˆ™æ˜¯é€šè¿‡ä¸€å®šçš„è§„åˆ™å°†åå­—è½¬æ¢ï¼Œä½¿ä¹‹ç‹¬ä¸€æ— äºŒã€‚</p><p>äºæ˜¯åœ¨ VC ä¸­å¯¹äºä¸Šé¢çš„ä¾‹å­ä¸­çš„æˆå‘˜å‡½æ•°çš„è°ƒç”¨å°†å‘ç”Ÿå¦‚ä¸‹çš„è½¬æ¢ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//p-&gt;X();è¢«è½¬åŒ–ä¸º</span></span><br><span class="line">?X@Point@@QAEMXZ(p);</span><br><span class="line"><span class="comment">//obj.X();è¢«è½¬åŒ–ä¸º</span></span><br><span class="line">?X@Point@@QAEMXZ(&amp;obj);</span><br></pre></td></tr></table></figure><p>è¦†ç›–ï¼ˆoverrideï¼‰ã€é‡è½½ï¼ˆoverloadï¼‰ã€éšè—ï¼ˆhide, overwriteï¼‰çš„åŒºåˆ«ï¼š</p><ul><li>è¦†ç›–ï¼ˆä¹Ÿå«é‡å†™ï¼‰æ˜¯æŒ‡åœ¨æ´¾ç”Ÿç±»ä¸­é‡æ–°å¯¹åŸºç±»ä¸­çš„è™šå‡½æ•°ï¼ˆæ³¨æ„æ˜¯è™šå‡½æ•°ï¼‰é‡æ–°å®ç°ã€‚å³å‡½æ•°åå’Œå‚æ•°éƒ½ä¸€æ ·ï¼ˆå‡½æ•°ç­¾åä¸€æ ·ï¼‰ï¼Œåªæ˜¯å‡½æ•°çš„å®ç°ä½“ä¸ä¸€æ ·ã€‚</li><li>é‡è½½æ˜¯æŒ‡ <strong>åœ¨åŒä¸€ä¸ªç±»ä¸­</strong> ä¸åŒçš„å‡½æ•°ä½¿ç”¨ç›¸åŒçš„å‡½æ•°åï¼Œä½†æ˜¯å‡½æ•°çš„å‚æ•°ä¸ªæ•°æˆ–ç±»å‹ä¸åŒã€‚è°ƒç”¨çš„æ—¶å€™æ ¹æ®å‡½æ•°çš„å‚æ•°æ¥åŒºåˆ«ä¸åŒçš„å‡½æ•°ã€‚</li><li>éšè—æ˜¯æŒ‡æ´¾ç”Ÿç±»ä¸­çš„å‡½æ•°æŠŠåŸºç±»ä¸­ç›¸åŒåå­—çš„å‡½æ•°å±è”½æ‰äº†ã€‚éšè—ä¸å¦å¤–ä¸¤ä¸ªæ¦‚å¿µè¡¨é¢ä¸Šçœ‹æ¥å¾ˆåƒï¼Œå¾ˆéš¾åŒºåˆ†ï¼Œå…¶å®ä»–ä»¬çš„å…³é”®åŒºåˆ«å°±æ˜¯åœ¨å¤šæ€çš„å®ç°ä¸Šã€‚</li></ul><blockquote><p>C++å¤šæ€ï¼ˆpolymorphismï¼‰è¡¨ç¤ºâ€ä»¥ä¸€ä¸ª public base class çš„æŒ‡é’ˆï¼ˆæˆ–è€… referenceï¼‰ï¼Œå¯»å€å‡ºä¸€ä¸ª derived class objectâ€</p></blockquote><p>æˆ‘ä¸“é—¨å†™äº†ä¸€ç¯‡å…³äºè¿™äº›å®¹æ˜“å¼„æ··çš„æ¦‚å¿µçš„æ–‡ç« ï¼š<a href="../2017/11/14/Override-Overload-Overwrite">Override Overload Overwrite</a></p><h2 id="Virtual-Member-Function"><a href="#Virtual-Member-Function" class="headerlink" title="Virtual Member Function"></a>Virtual Member Function</h2><p>å¦‚æœ function()æ˜¯ä¸€ä¸ªè™šæ‹Ÿå‡½æ•°ï¼Œé‚£ä¹ˆç”¨æŒ‡é’ˆæˆ–å¼•ç”¨è¿›è¡Œçš„è°ƒç”¨å°†å‘ç”Ÿä¸€ç‚¹ç‰¹åˆ«çš„è½¬æ¢â€”â€”ä¸€ä¸ªä¸­é—´å±‚è¢«å¼•å…¥è¿›æ¥ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// p-&gt;function()</span></span><br><span class="line"><span class="comment">//å°†è½¬åŒ–ä¸º</span></span><br><span class="line">(*p-&gt;vptr[<span class="number">1</span>])(p);</span><br></pre></td></tr></table></figure><ul><li>å…¶ä¸­ vptr ä¸ºæŒ‡å‘è™šå‡½æ•°è¡¨çš„æŒ‡é’ˆï¼Œå®ƒç”±ç¼–è¯‘å™¨äº§ç”Ÿã€‚vptr ä¹Ÿè¦è¿›è¡Œåå­—å¤„ç†ï¼Œå› ä¸ºä¸€ä¸ªç»§æ‰¿ä½“ç³»å¯èƒ½æœ‰å¤šä¸ª vptrã€‚</li><li>1 æ˜¯è™šå‡½æ•°åœ¨è™šå‡½æ•°è¡¨ä¸­çš„ç´¢å¼•ï¼Œé€šè¿‡å®ƒå…³è”åˆ°è™šå‡½æ•° function().</li></ul><p>ä½•æ—¶å‘ç”Ÿè¿™ç§è½¬æ¢ï¼Ÿç­”æ¡ˆæ˜¯åœ¨å¿…éœ€çš„æ—¶å€™ -- ä¸€ä¸ªå†ç†Ÿæ‚‰ä¸è¿‡çš„ç­”æ¡ˆã€‚å½“é€šè¿‡æŒ‡é’ˆè°ƒç”¨çš„æ—¶å€™ï¼Œè¦è°ƒç”¨çš„å‡½æ•°å®ä½“æ— æ³•åœ¨ç¼–è¯‘æœŸå†³å®šï¼Œå¿…éœ€å¾…åˆ°æ‰§è¡ŒæœŸæ‰èƒ½è·å¾—ï¼Œæ‰€ä»¥ä¸Šé¢å¼•å…¥ä¸€ä¸ªé—´æ¥å±‚çš„è½¬æ¢å¿…ä¸å¯å°‘ã€‚ä½†æ˜¯å½“æˆ‘ä»¬é€šè¿‡å¯¹è±¡ï¼ˆä¸æ˜¯å¼•ç”¨ï¼Œä¹Ÿä¸æ˜¯æŒ‡é’ˆï¼‰æ¥è°ƒç”¨çš„æ—¶å€™ï¼Œ<br>è¿›è¡Œä¸Šé¢çš„è½¬æ¢å°±æ˜¾å¾—å¤šä½™äº†ï¼Œå› ä¸ºåœ¨ç¼–è¯‘å™¨è¦è°ƒç”¨çš„å‡½æ•°å®ä½“å·²ç»è¢«å†³å®šã€‚æ­¤æ—¶è°ƒç”¨å‘ç”Ÿçš„è½¬æ¢ï¼Œä¸ä¸€ä¸ªéé™æ€æˆå‘˜å‡½æ•°(Nonstatic Member Functions)è°ƒç”¨å‘ç”Ÿçš„è½¬æ¢ä¸€è‡´ã€‚p.function()çš„å¤„ç†å°±è·Ÿéé™æ€æˆå‘˜å‡½æ•°ä¸€æ ·äº†ã€‚</p><h2 id="Static-Member-Function"><a href="#Static-Member-Function" class="headerlink" title="Static Member Function"></a>Static Member Function</h2><ul><li>ä¸èƒ½å¤Ÿç›´æ¥å­˜å–å…¶ç±»ä¸­çš„éé™æ€æˆå‘˜ï¼ˆnostatic membersï¼‰ï¼ŒåŒ…æ‹¬ä¸èƒ½è°ƒç”¨éé™æ€æˆå‘˜å‡½æ•°(Nonstatic Member Functions)ã€‚</li><li>ä¸èƒ½å£°æ˜ä¸º constã€volatile æˆ– virtual</li><li>å‚æ•°æ²¡æœ‰ this</li><li>å¯ä»¥ä¸ç”¨å¯¹è±¡è®¿é—®ï¼Œç›´æ¥ ç±»å::é™æ€æˆå‘˜å‡½æ•° è®¿é—®ï¼Œå½“ç„¶ï¼Œé€šè¿‡å¯¹è±¡è°ƒç”¨ä¹Ÿè¢«å…è®¸</li></ul><p>éœ€è¦æ³¨æ„çš„æ˜¯é€šè¿‡ä¸€ä¸ªè¡¨è¾¾å¼æˆ–å‡½æ•°å¯¹é™æ€æˆå‘˜å‡½æ•°è¿›è¡Œè°ƒç”¨ï¼Œè¢« C++ Standard è¦æ±‚å¯¹è¡¨è¾¾å¼è¿›è¡Œæ±‚å€¼ã€‚å¦‚ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(a+=b).static_fuc();</span><br><span class="line">func().static_fuc();</span><br></pre></td></tr></table></figure><p>è™½ç„¶çœå»å¯¹ a+b æ±‚å€¼å¯¹äº static_fuc()çš„è°ƒç”¨å¹¶æ²¡æœ‰å½±å“ï¼Œä½†æ˜¯ç¨‹åºå‘˜è‚¯å®šä¼šè®¤ä¸ºè¡¨è¾¾å¼ a+=b å·²ç»æ‰§è¡Œï¼Œä¸€æ—¦ç¼–è¯‘å™¨ä¸ºäº†æ•ˆç‡çœå»äº†è¿™ä¸€æ­¥ï¼Œå¾ˆéš¾è¯´ä¼šæµªè´¹å¤šå°‘ç¨‹åºå‘˜å¤šå°‘æ—¶é—´å»æŸ¥æ‰¾è¿™ä¸ª bugã€‚è¿™æ— ç–‘æ˜¯ä¸€ä¸ªæ˜æ™ºçš„è§„å®šã€‚func()è¿”å›ä¸€ä¸ªå¯¹è±¡ã€‚</p><p>vtable çš„å†…å®¹ï¼š</p><ul><li>virtual class offsetï¼ˆæœ‰è™šåŸºç±»æ‰æœ‰ï¼‰</li><li>topoffset</li><li>typeinfo</li><li>ç»§æ‰¿åŸºç±»æ‰€å£°æ˜çš„è™šå‡½æ•°å®ä¾‹ï¼Œæˆ–è€…æ˜¯è¦†ç›–ï¼ˆoverrideï¼‰åŸºç±»çš„è™šå‡½æ•°</li><li>æ–°çš„è™šå‡½æ•°ï¼ˆæˆ–è€…æ˜¯çº¯è™šå‡½æ•°å ä½ï¼‰</li></ul><p>è™šå‡½æ•°è¡¨çš„æ„é€ æŒºç®€å•çš„ï¼š</p><p><img src="https://i.loli.net/2018/04/25/5ae01bb4b32a9.gif" alt="è™šå‡½æ•°è¡¨çš„æ„é€ "></p><p>ä»å†…å­˜å¸ƒå±€çš„è§’åº¦çœ‹ï¼Œç±»å¯¹è±¡ç»§æ‰¿åŸºç±»çš„æ—¶å€™åªæŠŠåŸºç±»çš„ nonstatic data member å’Œ member functionï¼ˆå‡½æ•°å…¥å£ï¼Œä¹Ÿå¯ä»¥è¯´æ˜¯å‡½æ•°æŒ‡é’ˆï¼‰ æ”¾è¿›è‡ªå·±å†…å­˜é‡Œï¼Œstatic data member å’Œ static function éƒ½åœ¨ global address é‡Œé¢ã€‚ç„¶åå°±æ˜¯è™šå‡½æ•°è¡¨æ˜¯å¤åˆ¶äº†ä¸€ä»½åŸºç±»çš„è™šå‡½æ•°è¡¨ï¼Œç„¶åæŠŠ virtual å®ç°äº†çš„éƒ¨åˆ†æ›¿æ¢æ‰ï¼Œæ²¡å®ç°çš„å°±ä¸æ”¹ï¼Œä¾ç„¶ç”¨çˆ¶ç±»çš„ã€‚ç„¶åè™šå‡½æ•°è¡¨æŒ‡é’ˆè‡ªç„¶ä¹Ÿè¦ä¸ä¸€æ ·ï¼Œæ¯•ç«ŸæŒ‡å‘çš„å†…å­˜åœ°å€ä¸ä¸€æ ·ï¼Œå¯¹å§ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Inside the C++ Object Model ç³»åˆ—ç¬”è®° ä¸‰ -- The Semantics of Data</title>
      <link href="/blog/2017/10/21/The-Semantics-of-Data/"/>
      <url>/blog/2017/10/21/The-Semantics-of-Data/</url>
      
        <content type="html"><![CDATA[<p>C++å¯¹è±¡æ¨¡å‹çš„ç»†èŠ‚ï¼Œè®¨è®ºäº† data members çš„å¤„ç†ã€‚</p><h2 id="ç©ºç±»åœ¨å†…å­˜ä¸­æœ‰ç©ºé—´å—"><a href="#ç©ºç±»åœ¨å†…å­˜ä¸­æœ‰ç©ºé—´å—" class="headerlink" title="ç©ºç±»åœ¨å†…å­˜ä¸­æœ‰ç©ºé—´å—"></a>ç©ºç±»åœ¨å†…å­˜ä¸­æœ‰ç©ºé—´å—</h2><a id="more"></a><p>ä¸€ä¸ªå®ä¾‹å¼•å‡ºçš„æ€è€ƒï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">X</span>&#123;</span>&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Y</span>:</span><span class="keyword">virtual</span> <span class="keyword">public</span> X&#123;&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Z</span>:</span><span class="keyword">virtual</span> <span class="keyword">public</span> X&#123;&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>:</span><span class="keyword">public</span> Y, <span class="keyword">public</span> Z&#123;&#125;;</span><br></pre></td></tr></table></figure><p>çŒœçŒœ sizeof ä¸Šé¢å„ä¸ªç±»éƒ½ä¸ºå¤šå°‘ï¼Ÿ</p><p>Lippman çš„ä¸€ä¸ªæ³•å›½è¯»è€…çš„ç»“æœæ˜¯ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sizeof X yielded 1</span><br><span class="line">sizeof Y yielded 8</span><br><span class="line">sizeof Z yielded 8</span><br><span class="line">sizeof A yielded 12</span><br></pre></td></tr></table></figure><p>Lippman è‡ªå·±çš„ç»“æœæ˜¯ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sizeof X yielded 1</span><br><span class="line">sizeof Y yielded 4</span><br><span class="line">sizeof Z yielded 4</span><br><span class="line">sizeof A yielded 8</span><br></pre></td></tr></table></figure><p>äº‹å®ä¸Šï¼Œå¯¹äºåƒ X è¿™æ ·çš„ä¸€ä¸ªç©ºç±»ï¼Œç¼–è¯‘å™¨ä¼šå¯¹å…¶åŠ¨ç‚¹æ‰‹è„šâ€”â€”éšæ™¦çš„æ’å…¥ä¸€ä¸ªå­—èŠ‚ã€‚ä¸ºä»€ä¹ˆè¦è¿™æ ·åšå‘¢ï¼Ÿæ’å…¥äº†è¿™ä¸€ä¸ªå­—èŠ‚ï¼Œé‚£ä¹ˆ X çš„æ¯ä¸€ä¸ªå¯¹è±¡éƒ½å°†æœ‰ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„åœ°å€ã€‚<br>å¦‚æœä¸æ’å…¥è¿™ä¸€ä¸ªå­—èŠ‚å‘¢ï¼Ÿå“¼å“¼ï¼Œé‚£å¯¹ X çš„å¯¹è±¡å–åœ°å€çš„ç»“æœæ˜¯ä»€ä¹ˆï¼Ÿä¸¤ä¸ªä¸åŒçš„ X å¯¹è±¡é—´åœ°å€çš„æ¯”è¾ƒæ€ä¹ˆåŠï¼Ÿ</p><p>æˆ‘ä»¬å†æ¥çœ‹ Y å’Œ Zã€‚é¦–å…ˆæˆ‘ä»¬è¦æ˜ç™½çš„æ˜¯å®ç°è™šç»§æ‰¿ï¼Œå°†è¦å¸¦æ¥ä¸€äº›é¢å¤–çš„è´Ÿæ‹…â€”â€”é¢å¤–éœ€è¦ä¸€ä¸ªæŸç§å½¢å¼çš„æŒ‡é’ˆã€‚åˆ°ç›®å‰ä¸ºæ­¢ï¼Œå¯¹äºä¸€ä¸ª 32 ä½çš„æœºå™¨æ¥è¯´ Yã€Z çš„å¤§å°åº”è¯¥ä¸º 5ï¼Œè€Œä¸æ˜¯ 8 æˆ–è€… 4ã€‚æˆ‘ä»¬éœ€è¦å†è€ƒè™‘ä¸¤ç‚¹å› ç´ ï¼šå†…å­˜å¯¹é½ï¼ˆalignmentâ€”ï¼‰å’Œç¼–è¯‘å™¨çš„ä¼˜åŒ–ã€‚</p><p>ç©ºç±»ä¹Ÿæœ‰ 1Byte çš„å¤§å°ï¼Œå› ä¸ºè¿™æ ·æ‰èƒ½ä½¿å¾—è¿™ä¸ª class çš„ 2 ä¸ª objects åœ¨å†…å­˜ä¸­æœ‰ç‹¬ä¸€æ— äºŒçš„åœ°å€ã€‚</p><h2 id="The-Binding-of-a-Data-Member"><a href="#The-Binding-of-a-Data-Member" class="headerlink" title="The Binding of a Data Member"></a>The Binding of a Data Member</h2><p>è€ƒè™‘ä¸‹é¢è¿™æ ·çš„ä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">extern</span> <span class="keyword">float</span> x;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point3d</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">   Point3d(<span class="keyword">float</span>, <span class="keyword">float</span>, <span class="keyword">float</span>);</span><br><span class="line">   <span class="comment">//é—®é¢˜æ˜¯ x åˆ°åº•æ˜¯å“ªä¸ª x å‘¢</span></span><br><span class="line">   <span class="function"><span class="keyword">float</span> <span class="title">X</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;<span class="keyword">return</span> x;&#125;</span><br><span class="line">   <span class="function"><span class="keyword">void</span> <span class="title">X</span><span class="params">(<span class="keyword">float</span> new_x)</span> <span class="keyword">const</span></span>&#123;x = new_x;&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">   <span class="keyword">float</span> x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯¹ member functions æœ¬èº«çš„åˆ†æä¼šç›´åˆ°æ•´ä¸ª class çš„å£°æ˜éƒ½å‡ºç°äº†æ‰å¼€å§‹ï¼ˆç›´åˆ°çœ‹åˆ°ä»£è¡¨ class ç»“æŸçš„}å³å¤§æ‹¬å·ï¼‰ã€‚æ‰€ä»¥ class çš„ member functions å¯ä»¥å¼•ç”¨å£°æ˜åœ¨åé¢çš„æˆå‘˜ï¼ŒC è¯­è¨€å°±åšä¸åˆ°ã€‚</p><p>å’Œ member functions å¯¹æ¯”ï¼Œéœ€è¦ååˆ†æ³¨æ„çš„ä¸€ç‚¹æ˜¯:<br>class ä¸­çš„ typedef å¹¶ä¸å…·å¤‡è¿™ä¸ªæ€§è´¨ã€‚<br>å› æ­¤ï¼Œç±»ä¸­çš„ typedef çš„å½±å“ä¼šå—åˆ°å‡½æ•°ä¸ typedef çš„å…ˆåé¡ºåºçš„å½±å“ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> length;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point3d</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">   <span class="function"><span class="keyword">void</span> <span class="title">f1</span><span class="params">(length l)</span></span>&#123; <span class="built_in">cout</span> &lt;&lt; l &lt;&lt; <span class="built_in">endl</span>; &#125;</span><br><span class="line">   <span class="keyword">typedef</span> <span class="built_in">string</span> length;</span><br><span class="line">   <span class="function"><span class="keyword">void</span> <span class="title">f2</span><span class="params">(length l)</span></span>&#123; <span class="built_in">cout</span> &lt;&lt; l &lt;&lt; <span class="built_in">endl</span>; &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>è¿™æ · f1 ç»‘å®šçš„ length ç±»å‹æ˜¯ int;<br>è€Œ f2 ç»‘å®šçš„ length ç±»å‹æ‰æ˜¯ stringã€‚</p><p>æ‰€ä»¥ï¼Œå¯¹äº typedef éœ€è¦é˜²å¾¡æ€§çš„ç¨‹åºé£æ ¼:<br>å§‹ç»ˆæŠŠ nested type å£°æ˜(å³ typedef)æ”¾åœ¨ class èµ·å§‹å¤„!</p><h2 id="Data-Member-Layout"><a href="#Data-Member-Layout" class="headerlink" title="Data Member Layout"></a>Data Member Layout</h2><p>C++åªä¿è¯å¤„äºåŒä¸€ä¸ª access sectionï¼ˆä¹Ÿå°±æ˜¯ private,public,protected ç‰‡æ®µï¼‰çš„æ•°æ®ï¼Œä¸€å®šä¼šä»¥å£°æ˜çš„æ¬¡åºå‡ºç°åœ¨å†…å­˜å¸ƒå±€å½“ä¸­(è¦æ±‚è¾ƒæ™šå‡ºç°çš„æ•°æ®æˆå‘˜å¤„åœ¨è¾ƒå¤§çš„å†…å­˜åœ°å€ä¸­)ã€‚<br>C++æ ‡å‡†åªæä¾›äº†è¿™ä¸€ç‚¹ç‚¹çš„ä¿è¯ã€‚<br>å…è®¸ç¼–è¯‘å™¨å°†å¤šä¸ª Acess Section çš„é¡ºåºè‡ªç”±æ’åˆ—ï¼Œè€Œä¸å¿…åœ¨ä¹å®ƒä»¬çš„å£°æ˜æ¬¡åºã€‚ä½†ä¼¼ä¹æ²¡æœ‰ç¼–è¯‘å™¨è¿™æ ·åšã€‚<br>å¯¹äºç»§æ‰¿ç±»ï¼ŒC++æ ‡å‡†å¹¶æœªæŒ‡å®šæ˜¯å…¶åŸºç±»æˆå‘˜åœ¨å‰è¿˜æ˜¯è‡ªå·±çš„æˆå‘˜åœ¨å‰ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">X</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">   <span class="keyword">int</span> i;</span><br><span class="line">   <span class="keyword">int</span> j;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">   <span class="keyword">int</span> k;</span><br><span class="line">   <span class="keyword">int</span> n;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ•°æ® i ä¸€å®šåœ¨ j ä¹‹å‰ï¼Œk ä¸€å®šåœ¨ n ä¹‹å‰ã€‚å…·ä½“ä»€ä¹ˆé¡ºåºå°±çœ‹ç¼–è¯‘å™¨äº†ã€‚</p><p>ä¼ ç»Ÿä¸Šï¼Œvptr è¢«å®‰æ”¾åœ¨æ‰€æœ‰è¢«æ˜ç¡®å£°æ˜çš„ member çš„æœ€åï¼Œä¸è¿‡ä¹Ÿæœ‰äº›ç¼–è¯‘å™¨æŠŠ vptr æ”¾åœ¨æœ€å‰é¢(MSVC++å°±æ˜¯æŠŠ vptr æ”¾åœ¨æœ€å‰é¢ï¼Œè€Œ G++ æ˜¯æŠŠ vptr æ”¾åœ¨æœ€åé¢)ã€‚</p><h2 id="Access-of-a-Data-Member"><a href="#Access-of-a-Data-Member" class="headerlink" title="Access of a Data Member"></a>Access of a Data Member</h2><p>åœ¨ C++ä¸­ï¼Œç›´è§‚ä¸Šæ¥è¯´ï¼Œç”±ä¸€ä¸ªå¯¹è±¡å­˜å–ä¸€ä¸ª member ä¼šæ¯”ç”±ä¸€ä¸ªæŒ‡é’ˆå­˜å–ä¸€ä¸ª member æ›´å¿«æ·ã€‚<br>ä½†æ˜¯å¯¹äºç»ç”±ä¸€ä¸ªå¯¹è±¡æ¥å­˜å–å’Œç”±ä¸€ä¸ªæŒ‡é’ˆæ¥å­˜å–ä¸€ä¸ªé™æ€çš„ member æ¥è¯´ï¼Œæ˜¯å®Œå…¨ä¸€æ ·çš„ï¼Œéƒ½ä¼šè¢«ç¼–è¯‘å™¨æ‰€æ‰©å±•ã€‚</p><p>ç»ç”± member selection operatorsï¼ˆä¹Ÿå°±æ˜¯ â€œ.â€ è¿ç®—ç¬¦ï¼‰å¯¹ä¸€ä¸ª static data member è¿›è¡Œå­˜å–æ“ä½œåªæ˜¯ä¸€ç§è¯­æ³•ä¸Šçš„ä¾¿å®œè¡Œäº‹è€Œå·²ã€‚member å…¶å®å¹¶ä¸åœ¨ class object ä¸­ï¼Œå› æ­¤å­˜å–å¹¶ä¸éœ€è¦é€šè¿‡ class objectã€‚</p><p>ç»ç”±ä¸€ä¸ªå‡½æ•°è°ƒç”¨çš„ç»“æœæ¥å­˜å–é™æ€æˆå‘˜ï¼ŒC++æ ‡å‡†è¦æ±‚ç¼–è¯‘å™¨å¿…é¡»å¯¹è¿™ä¸ªå‡½æ•°è¿›è¡Œæ±‚å€¼ï¼Œè™½ç„¶è¿™ä¸ªæ±‚å€¼çš„ç»“æœå¹¶æ— ç”¨å¤„ã€‚</p><p>foo().static_member = 100;</p><p>foo()è¿”å›ä¸€ä¸ªç±»å‹ä¸º X çš„å¯¹è±¡ï¼Œå«æœ‰ä¸€ä¸ª static_memberï¼Œfoo()å…¶å®å¯ä»¥ä¸ç”¨æ±‚å€¼è€Œç›´æ¥è®¿ é—®è¿™ä¸ªé™æ€æˆå‘˜ï¼Œä½†æ˜¯ C++æ ‡å‡†ä¿è¯äº† foo()ä¼šè¢«æ±‚å€¼ï¼Œå¯èƒ½çš„ä»£ç æ‰©å±•ä¸º:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">void</span>) foo();</span><br><span class="line">X::static_member = <span class="number">100</span>;</span><br></pre></td></tr></table></figure><h2 id="static-data-members"><a href="#static-data-members" class="headerlink" title="static data members"></a>static data members</h2><p>å¦‚æœæœ‰ä¸¤ä¸ª class ï¼Œæ¯ä¸ªéƒ½å£°æ˜äº†ä¸€ä¸ª static member freelistï¼Œé‚£ä¹ˆå½“ä»–ä»¬éƒ½è¢«æ”¾åœ¨ç¨‹åºçš„ data segment æ—¶ï¼Œå°±ä¼šå¯¼è‡´åç§°å†²çªã€‚ç¼–è¯‘å™¨çš„è§£å†³æ–¹æ³•æ˜¯æš—ä¸­å¯¹æ¯ä¸€ä¸ª static data member ç¼–ç ï¼ˆè¿™ç§æ‰‹æ³•æœ‰ä¸ªå¾ˆç¾çš„åç§°ï¼šname-manglingï¼‰ï¼Œä»¥è·å¾—ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„ç¨‹åºè¯†åˆ«ä»£ç ã€‚æœ‰å¤šå°‘ç§ç¼–è¯‘å™¨å°±æœ‰å¤šå°‘ç§ name-mangling åšæ³•ï¼é€šå¸¸ä¸å¤–ä¹æ˜¯è¡¨æ ¼å•¦ï¼Œè¯­æ³•æªè¾å•¦ç­‰ç­‰ã€‚ä»»ä½• name-mangling éƒ½æœ‰ä¸¤ä¸ªè¦ç‚¹ï¼š</p><ol><li>ä¸€ç§ç®—æ³•ï¼Œæ¨å¯¼å‡ºç‹¬ä¸€æ— äºŒçš„åç§°ã€‚</li><li>ä¸‡ä¸€ç¼–è¯‘ç³»ç»Ÿï¼ˆæˆ–ç¯å¢ƒå·¥å…·ï¼‰å¿…é¡»å’Œä½¿ç”¨è€…äº¤è°ˆï¼Œé‚£äº›ç‹¬ä¸€æ— äºŒçš„åç§°å¯ä»¥è½»æ˜“è¢«æ¨å¯¼å›åŸæ¥çš„åç§°ã€‚</li></ol><h2 id="nonstatic-data-members"><a href="#nonstatic-data-members" class="headerlink" title="nonstatic data members"></a>nonstatic data members</h2><p>Nonstatic data members are stored directly within each class object and cannot be accessed except through an explicit or implicit class object. An implicit class object is present whenever the programmer directly accesses a nonstatic data member within a member function. For example, in the following code:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Point3d</span><br><span class="line">Point3d::translate( <span class="keyword">const</span> Point3d &amp;pt ) &#123;</span><br><span class="line">   x += pt.x;</span><br><span class="line">   y += pt.y;</span><br><span class="line">   z += pt.z;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>the seemingly direct access of x, y, and z is actually carried out through an implicit class object represented<br>by the this pointer. Internally, the function is augmented as follows:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// internal augmentation of member function</span></span><br><span class="line">  Point3d</span><br><span class="line">  Point3d::translate( <span class="keyword">const</span> Point3d* <span class="keyword">this</span>, <span class="keyword">const</span> Point3d &amp;pt ) &#123;</span><br><span class="line">     <span class="keyword">this</span>-&gt;x += pt.x;</span><br><span class="line">     <span class="keyword">this</span>-&gt;y += pt.y;</span><br><span class="line">     <span class="keyword">this</span>-&gt;z += pt.z;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ°å€ï¼š<code>&amp;origin._y;</code>å’Œ<code>&amp;origin + ( &amp;Point3d::_y - 1 );</code>æ˜¯ä¸€æ ·çš„ã€‚æŒ‡å‘ data member çš„æŒ‡é’ˆï¼Œå…¶ offset å€¼æ€»æ˜¯è¢«åŠ ä¸Š 1ã€‚è¿™æ ·å¯ä»¥ä½¿ç¼–è¯‘ç³»ç»ŸåŒºåˆ†å‡º â€œä¸€ä¸ªæŒ‡é’ˆ data member çš„æŒ‡é’ˆï¼Œç”¨ä»¥æŒ‡å‘ class çš„ç¬¬ä¸€ä¸ª memberâ€å’Œâ€œä¸€ä¸ªæŒ‡å‘ data member çš„æŒ‡é’ˆï¼Œä½†æ˜¯æ²¡æœ‰æŒ‡å‘ä»»ä½• memberâ€ä¸¤ç§æƒ…å†µ(æˆå‘˜æŒ‡é’ˆä¹Ÿéœ€è¦æœ‰ä¸ªè¡¨ç¤º NULL çš„æ–¹å¼ï¼Œ0 ç›¸å½“äºç”¨æ¥è¡¨ç¤º NULL äº†ï¼Œå…¶å®ƒçš„å°±éƒ½è¦åŠ ä¸Š 1 äº†)ã€‚</p><h2 id="Inheritance-and-the-Data-Member"><a href="#Inheritance-and-the-Data-Member" class="headerlink" title="Inheritance and the Data Member"></a>Inheritance and the Data Member</h2><p>C++ Standard ä¿è¯:â€œå‡ºç°åœ¨æ´¾ç”Ÿç±»ä¸­çš„ base class subobject æœ‰å…¶å®Œæ•´åŸæ ·æ€§!â€ å­ç±»ä¼šè¢«æ”¾åœ¨çˆ¶ç±»çš„å¯¹é½ç©ºç™½å­—èŠ‚ä¹‹åï¼Œå› ä¸ºçˆ¶ç±»çš„å®Œæ•´æ€§å¿…é¡»å¾—ä»¥ä¿è¯ï¼Œçˆ¶ç±»çš„å¯¹é½ç©ºç™½å­—èŠ‚ ä¹Ÿæ˜¯çˆ¶ç±»çš„ä¸€éƒ¨åˆ†ï¼Œä¹Ÿæ˜¯ä¸å¯åˆ†å‰²çš„ã€‚</p><p>è¯·çœ‹ä¸‹é¢ä¾‹å­ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">X</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">int</span> x;</span><br><span class="line">    <span class="keyword">char</span> c;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">X2</span>:</span><span class="keyword">public</span> X</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">char</span>  c2;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>X2 çš„å¸ƒå±€åº”å½“æ˜¯ x(4),c(1),c2(1),è¿™ä¹ˆè¯´æ¥ sizeof(X2)çš„å€¼åº”è¯¥æ˜¯ 8ï¼Ÿé”™äº†ï¼Œå®é™…ä¸Šæ˜¯ 12ã€‚åŸå› åœ¨äº X åé¢çš„ä¸‰ä¸ªå­—èŠ‚çš„å¡«å……ç©ºç™½ä¸èƒ½ä¸º c2 æ‰€ç”¨ã€‚ä¹Ÿå°±æ˜¯è¯´ X2 çš„å¤§å°å®é™…ä¸Šä¸ºï¼šX(8)+c2(1)+å¡«è¡¥ï¼ˆ3ï¼‰=12ã€‚è¿™æ ·çœ‹æ¥ç¼–è¯‘å™¨ä¼¼ä¹æ˜¯é‚£ä¹ˆçš„å‘†æ¿ï¼Œå…¶å®ä¸ç„¶ï¼Œçœ‹ä¸€ä¸‹ä¸‹é¢çš„è¯­å¥ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">X2 x2;</span><br><span class="line">X x;</span><br><span class="line">x2=x;</span><br></pre></td></tr></table></figure><p>å¦‚æœ X åé¢çš„å¡«å……ç©ºç™½å¯ä»¥è¢« c2 ä½¿ç”¨çš„è¯ï¼Œé‚£ä¹ˆ X2 å’Œ X éƒ½å°†æ˜¯ 8 å­—èŠ‚ã€‚ä¸Šé¢çš„è¯­å¥æ‰§è¡Œå x2.c2 çš„å€¼ä¼šæ˜¯å¤šå°‘ï¼Ÿä¸€ä¸ªä¸ç¡®å®šçš„å€¼ï¼è¿™æ ·çš„ç»“æœè‚¯å®šä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚</p><p>åœ¨å¤šé‡ç»§æ‰¿çš„æ´¾ç”Ÿä½“ç³»ä¸­ï¼Œå°†æ´¾ç”Ÿç±»çš„åœ°å€è½¬æ¢ä¸ºç¬¬ 1 åŸºç±»æ—¶æˆæœ¬ä¸å•ç»§æ‰¿æ˜¯ç›¸åŒçš„ï¼Œåªéœ€è¦æ”¹æ¢åœ°å€çš„è§£é‡Šæ–¹å¼è€Œå·²ï¼›è€Œå¯¹äºè½¬æ¢ä¸ºéç¬¬ 1 åŸºç±»çš„æƒ…å†µï¼Œåˆ™éœ€è¦å¯¹åœ°å€è¿›è¡Œä¸€å®šçš„ offset æ“ä½œ æ‰è¡Œã€‚<br>C++ Standard å¹¶æœªæ˜ç¡® base classes çš„ç‰¹å®šæ’åˆ—æ¬¡åºï¼Œä½†æ˜¯ç›®å‰çš„ç¼–è¯‘å™¨éƒ½æ˜¯æŒ‰ç…§å£°æ˜çš„æ¬¡åºæ¥å®‰æ”¾ä»–ä»¬çš„ã€‚(æœ‰ä¸€ä¸ªä¼˜åŒ–:å¦‚æœç¬¬ 1 åŸºç±»æ²¡æœ‰ vtable è€Œåç»§åŸºç±»æœ‰ï¼Œåˆ™å¯èƒ½æŠŠå®ƒä»¬è°ƒ ä¸ªä½ç½®)ã€‚<br>å¤šé‡ç»§æ‰¿ä¸­ï¼Œå¯èƒ½ä¼šæœ‰å¤šä¸ª vptr æŒ‡é’ˆï¼Œè§†å…¶ç»§æ‰¿ä½“ç³»è€Œå®š:æ´¾ç”Ÿç±»ä¸­ vptr çš„æ•°ç›®æœ€å¤šç­‰äºæ‰€æœ‰åŸº<br>ç±»çš„ vptr æ•°ç›®çš„æ€»å’Œã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Inside the C++ Object Model ç³»åˆ—ç¬”è®° äºŒ -- The Semantics of constructors</title>
      <link href="/blog/2017/10/20/The-Semantics-of-constructors/"/>
      <url>/blog/2017/10/20/The-Semantics-of-constructors/</url>
      
        <content type="html"><![CDATA[<p>è¿™ä¸€ç« è¯¦ç»†çš„è®¨è®ºäº† constructor å¦‚ä½•å·¥ä½œï¼Œè®¨è®ºæ„é€ ä¸€ä¸ªå¯¹è±¡çš„è¿‡ç¨‹ä»¥åŠæ„é€ ä¸€ä¸ªå¯¹è±¡ç»™ç¨‹åºå¸¦æ¥çš„å½±å“ã€‚</p><h2 id="åŒºåˆ†-trivial-å’Œ-notrivial"><a href="#åŒºåˆ†-trivial-å’Œ-notrivial" class="headerlink" title="åŒºåˆ† trivial å’Œ notrivial"></a>åŒºåˆ† trivial å’Œ notrivial</h2><ol><li>åªæœ‰ç¼–è¯‘å™¨éœ€è¦çš„æ—¶å€™(ä¸ºä»€ä¹ˆä¼šéœ€è¦?åé¢è®²çš„å¾ˆæ¸…æ¥š)ï¼Œåˆæˆæ“ä½œæ‰æ˜¯ nontrivial çš„ï¼Œ è¿™æ ·çš„æ„é€ å‡½æ•°æ‰ä¼šè¢«çœŸæ­£çš„åˆæˆå‡ºæ¥;</li><li>å¦‚æœç¼–è¯‘å™¨ä¸éœ€è¦ï¼Œè€Œç¨‹åºå‘˜åˆæ²¡æœ‰æä¾›ï¼Œè¿™æ—¶çš„é»˜è®¤æ„é€ å‡½æ•°å°±æ˜¯ trivial çš„ã€‚è™½ç„¶å®ƒåœ¨æ¦‚å¿µä¸Šå­˜åœ¨ï¼Œä½†æ˜¯ç¼–è¯‘å™¨å®é™…ä¸Šæ ¹æœ¬ä¸ä¼šå»åˆæˆå‡ºæ¥ï¼Œå› ä¸ºä»–ä¸åšä»»ä½•æ²¡æœ‰æ„ä¹‰çš„äº‹æƒ…ï¼Œæ‰€ä»¥å½“ç„¶å¯ä»¥å¿½ç•¥å®ƒä¸å»åˆæˆã€‚trivial çš„å‡½æ•°åªå­˜åœ¨äºæ¦‚å¿µä¸Šï¼Œå®é™…ä¸Šä¸å­˜åœ¨è¿™ä¸ªå‡½æ•°ã€‚</li></ol><a id="more"></a><h2 id="default-constructor"><a href="#default-constructor" class="headerlink" title="default constructor"></a>default constructor</h2><p>A default constructor is a constructor which can be called with no arguments (either defined with an empty parameter list, or with default arguments provided for every parameter).</p><h3 id="é€šå¸¸å¾ˆå¤š-C-ç¨‹åºå‘˜å­˜åœ¨ä¸¤ç§è¯¯è§£"><a href="#é€šå¸¸å¾ˆå¤š-C-ç¨‹åºå‘˜å­˜åœ¨ä¸¤ç§è¯¯è§£" class="headerlink" title="é€šå¸¸å¾ˆå¤š C++ç¨‹åºå‘˜å­˜åœ¨ä¸¤ç§è¯¯è§£"></a>é€šå¸¸å¾ˆå¤š C++ç¨‹åºå‘˜å­˜åœ¨ä¸¤ç§è¯¯è§£</h3><ul><li>æ²¡æœ‰å®šä¹‰é»˜è®¤æ„é€ å‡½æ•°çš„ç±»éƒ½ä¼šè¢«ç¼–è¯‘å™¨ç”Ÿæˆä¸€ä¸ªé»˜è®¤æ„é€ å‡½æ•°ã€‚</li><li>ç¼–è¯‘å™¨ç”Ÿæˆçš„é»˜è®¤æ„é€ å‡½æ•°ä¼šæ˜ç¡®åˆå§‹åŒ–ç±»ä¸­æ¯ä¸€ä¸ªæ•°æ®æˆå‘˜ã€‚</li></ul><p><strong>è¢«å£°æ˜ï¼šdeclaredï¼Œè¢«å®šä¹‰ï¼šdefined</strong>ã€‚å£°æ˜ä»£è¡¨åˆ†é…å†…å­˜ç©ºé—´ï¼Œå®šä¹‰ä»£è¡¨åˆå§‹åŒ–ï¼Œä¹Ÿå°±æ˜¯åˆ†é…å…·ä½“çš„å€¼ã€‚</p><blockquote><p>æ³¨æ„å¦‚æœå£°æ˜çš„æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ˆæˆ–è€…åœ¨å…¶ä»–è¯­è¨€é‡Œå£°æ˜äº†ä¸€ä¸ªå¯¹è±¡æˆ–è€…æ•°ç»„çš„å¼•ç”¨ï¼‰ï¼Œé‚£ä¹ˆåªä¼šå¼€è¾Ÿä¸€ä¸ªæŒ‡é’ˆçš„ç©ºé—´ï¼ŒçœŸæ­£çš„å¯¹è±¡è¦åˆ°å®šä¹‰çš„æ—¶å€™ï¼Œä¹Ÿå°±æ˜¯åˆå§‹åŒ–çš„æ—¶å€™ï¼Œåˆ†é…å†…å­˜å¹¶åˆå§‹åŒ–ã€‚</p></blockquote><p>æ‰€ä»¥æ‰€æœ‰æˆå‘˜éƒ½åœ¨å£°æ˜çš„æ—¶å€™è¢«åˆ†é…å†…å­˜ï¼Œæ„é€ å‡½æ•°çš„ä½œç”¨æ˜¯åˆå§‹åŒ–å®ƒä»¬ï¼Œnon-object æˆå‘˜éœ€è¦ç¨‹åºå‘˜è‡ªå·±åˆå§‹åŒ–ï¼Œç¼–è¯‘å™¨ä¸å¸®å¿™ã€‚</p><p>C++ä¸­å¯¹äºé»˜è®¤æ„é€ å‡½æ•°çš„è§£é‡Šæ˜¯:<br><strong>é»˜è®¤çš„æ„é€ å‡½æ•°ä¼šåœ¨éœ€è¦çš„æ—¶å€™è¢«ç¼–è¯‘å™¨äº§ç”Ÿå‡ºæ¥ã€‚</strong><br>è¿™é‡Œéå¸¸é‡è¦çš„ä¸€ç‚¹æ˜¯:<br>è°éœ€è¦?æ˜¯ç¨‹åºçš„éœ€è¦è¿˜æ˜¯ç¼–è¯‘å™¨çš„éœ€è¦?å¦‚æœæ˜¯ç¨‹åºçš„éœ€è¦ï¼Œé‚£æ˜¯ç¨‹åºå‘˜çš„è´£ä»»;<br>åªæœ‰åœ¨æ˜¯ç¼–è¯‘å™¨çš„éœ€è¦æ—¶ï¼Œé»˜è®¤æ„é€ å‡½æ•°æ‰ä¼šè¢«ç¼–è¯‘å™¨äº§ç”Ÿå‡ºæ¥ï¼Œè€Œä¸”è¢«äº§ç”Ÿå‡ºæ¥çš„é»˜è®¤æ„é€ å‡½æ•°åªä¼šæ‰§è¡Œç¼–è¯‘å™¨æ‰€éœ€è¦çš„è¡ŒåŠ¨ï¼Œè€Œä¸”è¿™ä¸ªäº§ç”Ÿæ“ä½œåªæœ‰åœ¨é»˜è®¤æ„é€ å‡½æ•°çœŸæ­£è¢«è°ƒç”¨æ—¶æ‰ä¼šè¿›è¡Œåˆæˆã€‚</p><p>ä¾‹å¦‚:æˆå‘˜å˜é‡åˆå§‹åŒ–ä¸º 0 æ“ä½œï¼Œè¿™ä¸ªæ“ä½œå°±æ˜¯ç¨‹åºçš„éœ€è¦ï¼Œè€Œä¸æ˜¯ç¼–è¯‘å™¨çš„éœ€è¦ã€‚</p><p>æ€»ç»“å˜é‡çš„åˆå§‹åŒ–:</p><p>Global objects are guaranteed to have their associated memory â€œzeroed outâ€ at program start-up. Local objects allocated on the program stack and heap objects allocated on the free-store do not have their associated memory zeroed out; rather, the memory retains the arbitrary bit pattern of its previous use.</p><p>åªæœ‰å…¨å±€å˜é‡å’Œé™æ€å˜é‡æ‰ä¼šä¿è¯åˆå§‹åŒ–ï¼Œå…¶ä¸­é™æ€å˜é‡å¯ä»¥è§†ä¸ºå…¨å±€å˜é‡çš„ä¸€ç§ï¼Œå› ä¸ºé™æ€å˜é‡ä¹Ÿæ˜¯ä¿å­˜åœ¨å…¨å±€å˜é‡çš„å­˜å‚¨ç©ºé—´ä¸Šçš„ã€‚<br>Golbal objects çš„å†…å­˜ä¿è¯ä¼šåœ¨ç¨‹åºæ¿€æ´»çš„æ—¶å€™è¢«æ¸… 0ï¼›Local objects é…ç½®äºç¨‹åºçš„æ ˆä¸­ï¼ŒHeap objects é…ç½®äºè‡ªç”±ç©ºé—´ä¸­ï¼Œéƒ½ä¸ä¸€å®šä¼šè¢«æ¸…ä¸º 0,å®ƒä»¬çš„å†…å®¹å°†æ˜¯å†…å­˜ä¸Šæ¬¡è¢«ä½¿ç”¨åçš„ç—•è¿¹!</p><p>å…¨å±€å˜é‡å’Œé™æ€å˜é‡éƒ½æ”¾åœ¨ global data Segment ä¸Šï¼Œä¸”åœ¨ç±»è¢«å£°æ˜çš„æ—¶å€™å°±å·²ç»åˆ†é…å†…å­˜å’Œåˆå§‹åŒ–ï¼Œä¹Ÿå°±æ˜¯ <strong>åœ¨ä»»ä½•å¯¹è±¡è¢«å®šä¹‰ä¹‹å‰é™æ€å˜é‡å°±å·²ç»å­˜åœ¨äº†ï¼ˆå³ä½¿è¯¥ class æ²¡æœ‰ä»»ä½• object å®ä½“ï¼Œstatic data members ä¹Ÿå·²ç»å­˜åœ¨ï¼‰ã€‚</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span> &#123;</span> <span class="keyword">public</span>: <span class="keyword">int</span> val; Foo *pnext; &#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">foo_bar</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   <span class="comment">// Oops:  program needs bar's members zeroed out</span></span><br><span class="line">   Foo bar;</span><br><span class="line">   <span class="keyword">if</span> ( bar.val || bar.pnext )</span><br><span class="line">      <span class="comment">// ... do something</span></span><br><span class="line">   <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>When is a default constructor synthesized, then? Only when the implementation needs it. Moreover, the synthesized constructor performs only those activities required by the implementation. That is, even if there were a need to synthesize a default constructor for class Foo, that constructor would not include code to zero out the two data members val and pnext. For the previous program fragment to execute correctly, the designer of class Foo needs to provide an explicit default constructor that properly initializes the classâ€™s two members.</p><p>æ„æ€æ˜¯åˆå§‹åŒ– val å’Œ pnext æ˜¯ç¨‹åºå‘˜çš„è´£ä»»ï¼Œç¼–è¯‘å™¨ä¸è´Ÿè´£ï¼Œæ‰€ä»¥ä½ è¿™é‡Œä¸åˆå§‹åŒ–å®ƒä»¬ï¼Œå®ƒä»¬å­˜å‚¨çš„ç»“æœå°±æ˜¯å†…å­˜é—ç•™çš„ç—•è¿¹ã€‚</p><h3 id="ä»€ä¹ˆæ—¶å€™ç¼–è¯‘å™¨ä¼šç»™ä½ ç”Ÿæˆé»˜è®¤æ„é€ å‡½æ•°"><a href="#ä»€ä¹ˆæ—¶å€™ç¼–è¯‘å™¨ä¼šç»™ä½ ç”Ÿæˆé»˜è®¤æ„é€ å‡½æ•°" class="headerlink" title="ä»€ä¹ˆæ—¶å€™ç¼–è¯‘å™¨ä¼šç»™ä½ ç”Ÿæˆé»˜è®¤æ„é€ å‡½æ•°"></a>ä»€ä¹ˆæ—¶å€™ç¼–è¯‘å™¨ä¼šç»™ä½ ç”Ÿæˆé»˜è®¤æ„é€ å‡½æ•°</h3><p>é¦–å…ˆä½ å¾—æ²¡æœ‰å†™é»˜è®¤æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨æ‰ä¼šç»™ä½ ç”Ÿæˆã€‚æœ‰å››ç±»æƒ…å†µï¼Œç¼–è¯‘å™¨ä¼šç»™ä½ åŠ ä»£ç ï¼š</p><ol><li>ç±»ä¸­æœ‰ä¸€ä¸ªå¯¹è±¡ï¼ˆæˆå‘˜å˜é‡ï¼‰ï¼Œè¿™ä¸ªå¯¹è±¡åŒ…å«äº†é»˜è®¤æ„é€ å‡½æ•°</li><li>ç»§æ‰¿è‡ªå¸¦æœ‰é»˜è®¤æ„é€ å‡½æ•°çš„åŸºç±»çš„ç±»</li><li>å¸¦æœ‰è™šå‡½æ•°çš„ç±»</li><li>ç»§æ‰¿è‡ªè™šåŸºç±»çš„ç±»</li></ol><p>å¦‚æœ class A å†…å«ä¸€ä¸ªæˆ–ä»¥ä¸Šçš„ member objectsï¼Œé‚£ä¹ˆ A çš„ constructor å¿…é¡»è°ƒç”¨æ¯ä¸€ä¸ª member class çš„é»˜è®¤æ„é€ å‡½æ•°ã€‚<br>å…·ä½“æ–¹æ³•æ˜¯:ç¼–è¯‘å™¨ä¼šæ‰©å¼  constructorsï¼ˆæ³¨æ„ï¼šæ˜¯æ‰€æœ‰çš„æ„é€ å‡½æ•°ï¼Œä¸ä»…ä»…æ˜¯é»˜è®¤æ„é€ å‡½æ•°ä¼šè¢«æ‰©å¼ ï¼‰ï¼Œåœ¨å…¶ä¸­å®‰æ’ä»£ç ä½¿å¾—åœ¨ user code è¢«è°ƒç”¨ä¹‹å‰å…ˆè°ƒ ç”¨ member objects çš„é»˜è®¤æ„é€ å‡½æ•°(å½“ç„¶å¦‚æœéœ€è¦è°ƒç”¨åŸºç±»çš„é»˜è®¤æ„é€ å‡½æ•°ï¼Œåˆ™æ”¾åœ¨åŸºç±»çš„ é»˜è®¤æ„é€ å‡½æ•°è°ƒç”¨ä¹‹å:åŸºç±»æ„é€ å‡½æ•°-&gt;æˆå‘˜æ„é€ å‡½æ•°-&gt;user code)ã€‚<br>C++è¦æ±‚ä»¥â€œmember objects åœ¨ class ä¸­çš„å£°æ˜æ¬¡åºâ€æ¥è°ƒç”¨å„ä¸ª construtorsã€‚è¿™å°±æ˜¯å£°æ˜çš„æ¬¡åºå†³å®šäº†åˆå§‹åŒ–æ¬¡åºçš„æ ¹æœ¬åŸå› !(æ„é€ å‡½æ•°åˆå§‹åŒ–åˆ—è¡¨ä¸€ç›´è¦æ±‚ä»¥å£°æ˜é¡ºåºæ¥åˆå§‹åŒ–)<br>æ‰€ä»¥ä½ æ‰“ä¹± member initialization list çš„é¡ºåºæ ¹æœ¬æ²¡æœ‰ç”¨å“¦~</p><p>ç†è§£äº†åˆå§‹åŒ–åˆ—è¡¨ä¸­çš„å®é™…æ‰§è¡Œé¡ºåºä¸­â€œä»¥ member å£°æ˜çš„æ¬¡åºâ€æ¥å†³å®šçš„ï¼Œå°±å¯ä»¥ç†è§£ä¸€äº›å¾ˆ å¾®å¦™çš„é”™è¯¯äº†ã€‚æ¯”å¦‚:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">A() : i(<span class="number">99</span>), j(<span class="number">66</span>), value(foo()) &#123;... &#125;</span><br><span class="line"><span class="keyword">int</span> i, value, j;</span><br></pre></td></tr></table></figure><p>è¿™ä¼šä¸ä¼šäº§ç”Ÿé”™è¯¯å–å†³äºæˆå‘˜å‡½æ•° foo()æ˜¯ä¾èµ–äº i è¿˜æ˜¯ j:<br>å¦‚æœ foo ä¾èµ–äº iï¼Œç”±äº i å£°æ˜åœ¨ value ä¹‹å‰ï¼Œæ‰€ä»¥ä¸ä¼šäº§ç”Ÿé”™è¯¯;<br>å¦‚æœ foo ä¾èµ–äº jï¼Œç”±äº j å£°æ˜åœ¨ value ä¹‹åï¼Œå°±äº§ç”Ÿäº†ä½¿ç”¨æœªåˆå§‹åŒ–æˆå‘˜çš„é”™è¯¯ã€‚</p><p>å¸¦æœ‰ virtual functions çš„ç±»çš„é»˜è®¤æ„é€ å‡½æ•°æ¯«æ— ç–‘é—®æ˜¯ nontrivial çš„ï¼Œéœ€è¦ç¼–è¯‘å™¨å®‰æ’é¢å¤–çš„<br>æˆå‘˜ vptr å¹¶åœ¨æ„é€ å‡½æ•°ä¸­æ­£ç¡®çš„è®¾ç½®å¥½ vptrï¼Œè¿™æ˜¯ç¼–è¯‘å™¨çš„é‡è¦èŒè´£ä¹‹ä¸€ã€‚<br>ç»§æ‰¿è‡ª virtual base class çš„ç±»çš„é»˜è®¤æ„é€ å‡½æ•°åŒæ ·ä¹Ÿæ¯«æ— ç–‘é—®çš„ nontrivialï¼Œç¼–è¯‘å™¨éœ€è¦æ­£ç¡®è®¾ç½®ç›¸å…³çš„ä¿¡æ¯ä»¥ä½¿å¾—è¿™äº›è™šåŸºç±»çš„ä¿¡æ¯èƒ½å¤Ÿåœ¨æ‰§è¡Œæ—¶å‡†å¤‡å¦¥å½“ï¼Œè¿™äº›è®¾ç½®å–å†³äºç¼–è¯‘å™¨å®ç°è™šåŸºç±»çš„æ‰‹æ³•ã€‚</p><p>ç¼–è¯‘å™¨æœ‰ 4 ç§æƒ…å†µä¼šä½¿å¾—ç¼–è¯‘å™¨çœŸæ­£çš„ä¸º class ç”Ÿæˆ nontrivial çš„é»˜è®¤æ„é€ å‡½æ•°ï¼Œè¿™ä¸ª nontrivial çš„é»˜è®¤æ„é€ å‡½æ•°åªæ»¡è¶³ç¼–è¯‘å™¨çš„éœ€è¦(è°ƒç”¨ member objects æˆ– base class çš„é»˜è®¤æ„é€ å‡½æ•°ã€åˆå§‹åŒ– virtual function æˆ– virutal base class æœºåˆ¶)ã€‚å…¶å®ƒæƒ…å†µæ—¶ï¼Œç±»åœ¨æ¦‚å¿µä¸Šæ‹¥æœ‰é»˜è®¤æ„é€ å‡½æ•°ï¼Œä½†æ˜¯å®é™…ä¸Šæ ¹æœ¬ä¸ä¼šè¢«äº§ç”Ÿå‡ºæ¥(å‰é¢çš„åŒºåˆ† trivial å’Œ nontrivial)ã€‚</p><p>å¯¹äºä¸€ä¸ª trivial é»˜è®¤æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨çš„æ€åº¦æ˜¯ï¼Œæ—¢ç„¶å®ƒå…¨æ— ç”¨å¤„ï¼Œå¹²è„†å°±ä¸åˆæˆå®ƒã€‚åœ¨è¿™å„¿è¦å˜æ¸…çš„æ˜¯æ¦‚å¿µä¸å®ç°çš„å·®åˆ«ï¼Œæ¦‚å¿µä¸Šè¿½æ±‚ç¼œå¯†å®Œå–„ï¼Œåœ¨å®ç°ä¸Šåˆ™è¿½æ±‚æ•ˆç‡ï¼Œå¯ä»¥ä¸è¦çš„ä¸œè¥¿å°±ä¸è¦ã€‚</p><h2 id="copy-constructor"><a href="#copy-constructor" class="headerlink" title="copy constructor"></a>copy constructor</h2><p>æœ‰ä¸€ä¸ªå‚æ•°çš„ç±»å‹æ˜¯å…¶ç±»ç±»å‹çš„æ„é€ å‡½æ•°æ˜¯ä¸ºæ‹·è´æ„é€ å‡½æ•°ã€‚å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">X::X( <span class="keyword">const</span> X&amp; x);</span><br><span class="line">Y::Y( <span class="keyword">const</span> Y&amp; y, <span class="keyword">int</span> =<span class="number">0</span> );</span><br><span class="line"><span class="comment">//å¯ä»¥æ˜¯å¤šå‚æ•°å½¢å¼ï¼Œä½†å…¶ç¬¬äºŒä¸ªå³åç»§å‚æ•°éƒ½æœ‰ä¸€ä¸ªé»˜è®¤å€¼</span></span><br></pre></td></tr></table></figure><h3 id="ä»€ä¹ˆæ—¶å€™ç¼–è¯‘å™¨ä¼šç»™ä½ ç”Ÿæˆæ‹·è´æ„é€ å‡½æ•°"><a href="#ä»€ä¹ˆæ—¶å€™ç¼–è¯‘å™¨ä¼šç»™ä½ ç”Ÿæˆæ‹·è´æ„é€ å‡½æ•°" class="headerlink" title="ä»€ä¹ˆæ—¶å€™ç¼–è¯‘å™¨ä¼šç»™ä½ ç”Ÿæˆæ‹·è´æ„é€ å‡½æ•°"></a>ä»€ä¹ˆæ—¶å€™ç¼–è¯‘å™¨ä¼šç»™ä½ ç”Ÿæˆæ‹·è´æ„é€ å‡½æ•°</h3><blockquote><p>å…¶å®å’Œå‰é¢é»˜è®¤æ„é€ å‡½æ•°ä¸€æ ·ï¼Œå››ç§æƒ…å†µ</p></blockquote><p>å¦‚æœä¸€ä¸ªç±»æ²¡æœ‰å®šä¹‰æ‹·è´æ„é€ å‡½æ•°ï¼Œé€šå¸¸æŒ‰ç…§â€œæˆå‘˜é€ä¸€åˆå§‹åŒ–(Default Memberwise Initialization)â€çš„æ‰‹æ³•æ¥è§£å†³â€œä¸€ä¸ªç±»å¯¹è±¡ä»¥å¦ä¸€ä¸ªåŒç±»å®ä½“ä½œä¸ºåˆå€¼â€â€”â€”ä¹Ÿå°±æ˜¯è¯´æŠŠå†…å»ºæˆ–æ´¾ç”Ÿçš„æ•°æ®æˆå‘˜ä»æŸä¸€ä¸ªå¯¹è±¡æ‹·è´åˆ°å¦ä¸€ä¸ªå¯¹è±¡èº«ä¸Šï¼Œå¦‚æœæ•°æ®æˆå‘˜æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™é€’å½’ä½¿ç”¨â€œæˆå‘˜é€ä¸€åˆå§‹åŒ–(Default Memberwise Initialization)â€çš„æ‰‹æ³•ã€‚</p><p>æˆå‘˜é€ä¸€åˆå§‹åŒ–(Default Memberwise Initialization)å…·ä½“çš„å®ç°æ–¹å¼åˆ™æ˜¯ä½é€æ¬¡æ‹·è´ï¼ˆBitwise copy semanticsï¼‰</p><p>Copy constructors å’Œé»˜è®¤æ„é€ å‡½æ•°ä¸€æ ·ï¼Œåªæœ‰åœ¨å¿…é¡»çš„æ—¶å€™æ‰ä¼šè¢«äº§ç”Ÿå‡ºæ¥ï¼Œå¯¹äºå¤§éƒ¨åˆ†çš„ class æ¥è¯´ï¼Œæ‹·è´æ„é€ å‡½æ•°ä»…ä»…éœ€è¦æŒ‰ä½æ‹·è´å°±å¯ä»¥ã€‚æ»¡è¶³ bitwise copy semantics çš„æ‹·è´æ„é€ å‡½æ•°æ˜¯ trivial çš„ï¼Œå°±ä¸ä¼šçœŸæ­£è¢«åˆæˆå‡ºæ¥(ä¸é»˜è®¤æ„é€ å‡½æ•°ä¸€æ ·ï¼Œåªæœ‰ nontrivial çš„æ‹·è´æ„ é€ å‡½æ•°æ‰ä¼šè¢«çœŸæ­£åˆæˆå‡ºæ¥)ã€‚å¯¹å¤§å¤šæ•°ç±»æŒ‰ä½æ‹·è´å°±å¤Ÿäº†ï¼Œä»€ä¹ˆæ—¶å€™ä¸€ä¸ª class ä¸å±•ç°å‡º bitwise copy semantics å‘¢? åˆ†ä¸º 4 ç§æƒ…å†µï¼Œå‰ 2 ç§å¾ˆæ˜æ˜¾ï¼Œå 2 ç§æ˜¯ç”±äºç¼–è¯‘å™¨å¿…é¡»ä¿è¯æ­£ç¡®è®¾ç½®è™šæœºåˆ¶è€Œå¼•èµ·çš„ã€‚</p><ul><li>å½“ class å†…å«ä¸€ä¸ª member object è€Œåè€…å£°æ˜äº†(ä¹Ÿå¯èƒ½ç”±äº nontrivial è¯­æ„ä»è€Œç¼–è¯‘å™¨ çœŸæ­£åˆæˆå‡ºæ¥çš„)ä¸€ä¸ª copy constructor æ—¶;</li><li>å½“ class ç»§æ‰¿è‡ªä¸€ä¸ªå­˜åœ¨æœ‰ copy constructor çš„ base class(åŒæ ·ä¹Ÿå¯èƒ½æ˜¯åˆæˆ)æ—¶;</li><li>å½“ class å£°æ˜äº†ä¸€ä¸ªæˆ–å¤šä¸ª virtual functions æ—¶;(vf å½±å“äº†ä½è¯­æ„ï¼Œè¿›è€Œå½±å“æ•ˆç‡)</li><li>å½“ class æ´¾ç”Ÿè‡ªä¸€ä¸ªç»§æ‰¿ä¸²é“¾ï¼Œå…¶ä¸­ä¸€ä¸ªæˆ–å¤šä¸ª virtual base classes æ—¶ã€‚</li></ul><p>å¯¹äºå‰ä¸¤ç§æƒ…å†µï¼Œä¸è®ºæ˜¯åŸºç±»è¿˜æ˜¯å¯¹è±¡æˆå‘˜ï¼Œæ—¢ç„¶åè€…å£°æ˜æœ‰æ‹·è´æ„é€ å‡½æ•°æ—¶ï¼Œå°±è¡¨æ˜å…¶ç±»çš„è®¾è®¡è€…æˆ–è€…ç¼–è¯‘å™¨å¸Œæœ›ä»¥å…¶å£°æ˜çš„æ‹·è´æ„é€ å‡½æ•°æ¥å®Œæˆâ€œä¸€ä¸ªç±»å¯¹è±¡ä»¥å¦ä¸€ä¸ªåŒç±»å®ä½“ä½œä¸ºåˆå€¼â€çš„å·¥ä½œï¼Œè€Œè®¾è®¡è€…æˆ–ç¼–è¯‘å™¨è¿™æ ·åšâ€”â€”å£°æ˜æ‹·è´æ„é€ å‡½æ•°ï¼Œæ€»æœ‰å®ƒä»¬çš„ç†ç”±ï¼Œè€Œé€šå¸¸æœ€ç›´æ¥çš„åŸå› è«è¿‡äºå› ä¸ºä»–ä»¬æƒ³è¦åšä¸€äº›é¢å¤–çš„å·¥ä½œæˆ–â€œä½é€æ¬¡æ‹·è´â€æ— æ³•èƒœä»»ã€‚</p><p>å¯¹äºæœ‰è™šå‡½æ•°çš„ç±»ï¼Œå¦‚æœä¸¤ä¸ªå¯¹è±¡çš„ç±»å‹ç›¸åŒé‚£ä¹ˆä½é€æ¬¡æ‹·è´å…¶å®æ˜¯å¯ä»¥èƒœä»»çš„ã€‚ä½†é—®é¢˜å°†å‡ºç°åœ¨ï¼Œå¦‚æœåŸºç±»ç”±å…¶ç»§æ‰¿ç±»è¿›è¡Œåˆå§‹åŒ–æ—¶ï¼Œæ­¤æ—¶è‹¥æŒ‰ç…§ä½é€æ¬¡æ‹·è´æ¥å®Œæˆè¿™ä¸ªå·¥ä½œï¼Œé‚£ä¹ˆåŸºç±»çš„ vptr å°†æŒ‡å‘å…¶ç»§æ‰¿ç±»çš„è™šå‡½æ•°è¡¨ï¼Œè¿™å°†å¯¼è‡´æ— æ³•é¢„æ–™çš„åæœâ€”â€”è°ƒç”¨ä¸€ä¸ªé”™è¯¯çš„è™šå‡½æ•°å®ä½“æ˜¯æ— æ³•é¿å…çš„ï¼Œè½»åˆ™å¸¦æ¥ç¨‹åºå´©æºƒï¼Œæ›´ç³Ÿç³•çš„é—®é¢˜å¯èƒ½æ˜¯è¿™ä¸ªé”™è¯¯è¢«éšè—äº†ã€‚æ‰€ä»¥å¯¹äºæœ‰è™šå‡½æ•°çš„ç±»ç¼–è¯‘å™¨å°†ä¼šæ˜ç¡®çš„ä½¿è¢«åˆå§‹åŒ–çš„å¯¹è±¡çš„ vptr æŒ‡å‘æ­£ç¡®çš„è™šå‡½æ•°è¡¨ã€‚å› æ­¤æœ‰è™šå‡½æ•°çš„ç±»æ²¡æœ‰å£°æ˜æ‹·è´æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å°†ä¸ºä¹‹åˆæˆä¸€ä¸ªï¼Œæ¥å®Œæˆä¸Šè¿°å·¥ä½œï¼Œä»¥åŠåˆå§‹åŒ–å„æ•°æ®æˆå‘˜ï¼Œå£°æ˜æœ‰æ‹·è´æ„é€ å‡½æ•°çš„è¯ä¹Ÿä¼šè¢«æ’å…¥å®Œæˆä¸Šè¿°å·¥ä½œçš„ä»£ç ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">f</span><span class="params">()</span> </span>&#123; <span class="built_in">cout</span> &lt;&lt; <span class="string">"A::f()"</span> &lt;&lt; <span class="built_in">endl</span>; &#125;</span><br><span class="line">  <span class="keyword">int</span> i;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> :</span> <span class="keyword">public</span> A &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">()</span></span>&#123; <span class="built_in">cout</span> &lt;&lt; <span class="string">"B::f()"</span> &lt;&lt; <span class="built_in">endl</span>; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  B b;</span><br><span class="line">  b.i=<span class="number">1</span>;</span><br><span class="line">  A a = b;</span><br><span class="line">  A *p = &amp;a;</span><br><span class="line">  p-&gt;f();</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; p-&gt;i &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä¾‹å­å¯ä»¥çœ‹å‡ºï¼Œå¦‚æœ A a = b;æ˜¯ bitwise copy semantics çš„è¯ï¼Œa å†…æ”¾ç½®çš„å°±æ˜¯ b çš„ vptrã€‚ä½†å…¶å®ä¸æ˜¯ï¼Œç¼–è¯‘å™¨ç»™ a ç”Ÿæˆäº†æ‹·è´æ„é€ å‡½æ•°ï¼Œåˆå§‹åŒ–äº† a çš„ vptrã€‚b çš„ vptr æ˜¯ç”±ç¼–è¯‘å™¨ç»™ b ç”Ÿæˆçš„é»˜è®¤æ„é€ å‡½æ•°åˆå§‹åŒ–çš„ã€‚ä½†å¯¹äºå…¶ä»–æˆå‘˜å˜é‡ bitwise copy semantics ä¾ç„¶æœ‰æ•ˆï¼Œæ‰€ä»¥ i çš„ç»“æœæ˜¯ 1ã€‚æˆ‘åœ¨åšè¿™ä¸ªè¯•éªŒçš„æ—¶å€™å‘ç°äº†ä¸€ä¸ªæœ‰è¶£çš„ç°è±¡ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">f</span><span class="params">()</span> </span>&#123; <span class="built_in">cout</span> &lt;&lt; <span class="string">"A::f()"</span> &lt;&lt; <span class="built_in">endl</span>; &#125;</span><br><span class="line">  <span class="keyword">int</span> i;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> :</span> <span class="keyword">public</span> A &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">()</span></span>&#123; <span class="built_in">cout</span> &lt;&lt; <span class="string">"B::f()"</span> &lt;&lt; <span class="built_in">endl</span>; &#125;</span><br><span class="line">  <span class="keyword">int</span> i;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  B b;</span><br><span class="line">  b.i=<span class="number">1</span>;</span><br><span class="line">  A a = b;</span><br><span class="line">  A *p = &amp;a;</span><br><span class="line">  p-&gt;f();</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; p-&gt;i &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸¤ä¸ª i ä¸æ˜¯åŒä¸€ä¸ª iï¼Œb.i=1;ä¼˜å…ˆç»™ b ä¸­çš„åŒåå˜é‡èµ‹å€¼äº†ã€‚è¿™æ ·çš„ä»£ç ç®€ç›´å¯æ€•ã€‚é‚£ä¹ˆæ€ä¹ˆè®¿é—®åˆ°ä» A ç»§æ‰¿æ¥çš„æˆå‘˜å˜é‡ i å‘¢ï¼Œè¯·çœ‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">f</span><span class="params">()</span> </span>&#123; <span class="built_in">cout</span> &lt;&lt; <span class="string">"A::f()"</span> &lt;&lt; <span class="built_in">endl</span>; &#125;</span><br><span class="line">  <span class="keyword">int</span> i;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> :</span> <span class="keyword">public</span> A &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">()</span></span>&#123; <span class="built_in">cout</span> &lt;&lt; <span class="string">"B::f()"</span> &lt;&lt; <span class="built_in">endl</span>; &#125;</span><br><span class="line">  <span class="keyword">int</span> i;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  B b;</span><br><span class="line">  b.A::i=<span class="number">6</span>;</span><br><span class="line">  b.B::i=<span class="number">1</span>;</span><br><span class="line">  A a = b;</span><br><span class="line">  A *p = &amp;a;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; p-&gt;i &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å‘½åè¿”å›å€¼ä¼˜åŒ–"><a href="#å‘½åè¿”å›å€¼ä¼˜åŒ–" class="headerlink" title="å‘½åè¿”å›å€¼ä¼˜åŒ–"></a>å‘½åè¿”å›å€¼ä¼˜åŒ–</h2><p>å¯¹äºä¸€ä¸ªå¦‚ foo()è¿™æ ·çš„å‡½æ•°ï¼Œå®ƒçš„æ¯ä¸€ä¸ªè¿”å›åˆ†æ”¯éƒ½è¿”å›ç›¸åŒçš„å¯¹è±¡ï¼Œç¼–è¯‘å™¨æœ‰å¯èƒ½å¯¹å…¶åš Named return Value ä¼˜åŒ–ï¼ˆä¸‹æ–‡éƒ½ç®€ç§° NRV ä¼˜åŒ–ï¼‰ï¼Œæ–¹æ³•æ˜¯ä»¥ä¸€ä¸ªå‚æ•° result å–ä»£è¿”å›å¯¹è±¡ã€‚</p><p>foo()çš„åŸå‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">X <span class="title">foo</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    X xx;</span><br><span class="line">    <span class="keyword">if</span>(...)</span><br><span class="line">        <span class="keyword">return</span> xx;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> xx;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¼˜åŒ–åçš„ foo()ä»¥ result å–ä»£ xxï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span>  <span class="title">foo</span><span class="params">(X &amp;result)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    result.X::X();</span><br><span class="line">    <span class="keyword">if</span>(...)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//ç›´æ¥å¤„ç†result</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//ç›´æ¥å¤„ç†result</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯¹æ¯”ä¼˜åŒ–å‰ä¸ä¼˜åŒ–åçš„ä»£ç å¯ä»¥çœ‹å‡ºï¼Œå¯¹äºä¸€å¥ç±»ä¼¼äº X a = foo()è¿™æ ·çš„ä»£ç ï¼ŒNRV ä¼˜åŒ–åçš„ä»£ç ç›¸è¾ƒäºåŸä»£ç èŠ‚çœäº†ä¸€ä¸ªä¸´æ—¶å¯¹è±¡çš„ç©ºé—´ï¼ˆçœç•¥äº† xxï¼‰,åŒæ—¶å‡å°‘äº†ä¸¤æ¬¡å‡½æ•°è°ƒç”¨ï¼ˆå‡å°‘ xx å¯¹è±¡çš„é»˜è®¤æ„é€ å‡½æ•°å’Œææ„å‡½æ•°ï¼Œä»¥åŠä¸€æ¬¡æ‹·è´æ„é€ å‡½æ•°çš„è°ƒç”¨ï¼Œå¢åŠ äº†ä¸€æ¬¡å¯¹ a çš„é»˜è®¤æ„é€ å‡½æ•°çš„è°ƒç”¨ï¼‰ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Inside the C++ Object Model ç³»åˆ—ç¬”è®° ä¸€ -- Object Lessons</title>
      <link href="/blog/2017/10/19/Object-Lessons/"/>
      <url>/blog/2017/10/19/Object-Lessons/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å¤šæ€ï¼šç»Ÿä¸€çš„æ¥å£ï¼Œä¸åŒçš„å®ç°</p></blockquote><p><strong>C++å¤šæ€ï¼ˆpolymorphismï¼‰</strong> è¡¨ç¤ºâ€œä»¥ä¸€ä¸ª public base class çš„æŒ‡é’ˆï¼ˆæˆ–è€… referenceï¼‰ï¼Œå¯»å€å‡ºä¸€ä¸ª derived class objectâ€</p><h2 id="Layout-Costs-for-Adding-Encapsulation-å°è£…"><a href="#Layout-Costs-for-Adding-Encapsulation-å°è£…" class="headerlink" title="Layout Costs for Adding Encapsulation(å°è£…)"></a>Layout Costs for Adding Encapsulation(å°è£…)</h2><blockquote><p>æ„æ€æ˜¯ï¼šä¸ºäº†æ·»åŠ å°è£…æ‰€éœ€è¦ä»˜å‡ºçš„å†…å­˜å¸ƒå±€èŠ±é”€</p></blockquote><p>ç¬¬ä¸€ç«  Object Lessons ä»‹ç»äº† C++å¦‚ä½•åœ¨èƒŒåå®ç°ä¸€ä¸ªå¯¹è±¡ï¼Œå†…å­˜ä¸­çš„å¸ƒå±€ä»¥åŠç©ºé—´ä¸Šçš„å…³ç³»ã€‚</p><p><strong>åœ¨è®¡ç®—æœºçš„åŸç†ä¸­ï¼Œè¦å®ç°æŸä¸ªæœºåˆ¶ï¼Œæˆ‘ä»¬æ€»èƒ½æ‰¾åˆ°å¾ˆå¤šç§å®ç°æ–¹å¼</strong>ï¼ˆå¯¹æ¯”ç€å­¦ä¹ ï¼Œå¤šæ€è€ƒæ¯ç§å®ç°æ–¹æ³•çš„åˆ©å¼Šï¼‰ï¼ŒC++çš„ç±»çš„å®ç°ä¹Ÿä¸ä¾‹å¤–ï¼Œè®©æˆ‘ä»¬å¯¹æ¯”ä»¥ä¸‹ä¸‰ç§å®ç°æ–¹å¼ï¼š</p><a id="more"></a><h3 id="ä¸‰ç§å¯¹è±¡å®ç°æ¨¡å¼"><a href="#ä¸‰ç§å¯¹è±¡å®ç°æ¨¡å¼" class="headerlink" title="ä¸‰ç§å¯¹è±¡å®ç°æ¨¡å¼"></a>ä¸‰ç§å¯¹è±¡å®ç°æ¨¡å¼</h3><h4 id="A-Simple-Object-Model"><a href="#A-Simple-Object-Model" class="headerlink" title="A Simple Object Model"></a>A Simple Object Model</h4><p><img src="../../../../images/ç®€å•å¯¹è±¡æ¨¡å‹.jpg" alt="A Simple Object Model"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œç®€å•å¯¹è±¡æ¨¡å‹æŠŠæ‰€æœ‰çš„ data member å’Œ member functionï¼ˆå‡½æ•°æŒ‡é’ˆï¼‰éƒ½æ”¾åœ¨å¯¹è±¡é‡Œäº†ã€‚</p><h4 id="A-Table-driven-Object-Model"><a href="#A-Table-driven-Object-Model" class="headerlink" title="A Table-driven Object Model"></a>A Table-driven Object Model</h4><p><img src="../../../../images/è¡¨é©±åŠ¨æ¨¡å‹.jpg" alt="A Table-driven Object Model"></p><p>è¡¨é©±åŠ¨æ¨¡å‹æŠŠ member åˆ†ä¸º data å’Œ function ä¸¤ç±»ï¼Œç”¨ä¸¤ä¸ªæŒ‡é’ˆåˆ†åˆ«æŒ‡å‘ä¸¤ä¸ªè¡¨ï¼Œä¸€ä¸ªå­˜æ”¾æ‰€æœ‰çš„ data memberï¼Œä¸€ä¸ªå­˜æ”¾æ‰€æœ‰çš„ function æŒ‡é’ˆã€‚</p><h4 id="The-C-Object-Model"><a href="#The-C-Object-Model" class="headerlink" title="The C++ Object Model"></a>The C++ Object Model</h4><p><img src="../../../../images/C++å¯¹è±¡æ¨¡å‹.jpg" alt="The C++ Object Model"></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">Type</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">Point3d</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Point3d(Type x, Type y, Type z) : x_(x), y_(y), z_(z) &#123;&#125;</span><br><span class="line">    <span class="function">Type <span class="title">x</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> x_; &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Type x_, y_, z_;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ C++ ç±»å¹¶ä¸ä¼šæ¯” C è¯­è¨€ çš„ struct è€—è´¹æ›´å¤šçš„å†…å­˜ç©ºé—´ï¼Œä¸‰ä¸ª data members ç›´æ¥å†…å«äº Object ä¸­ï¼Œmember functions åˆ™æ”¾åœ¨ Object å¤–ã€‚</p><p>C++çš„ data members æœ‰ä¸¤ç§ï¼š<strong>static å’Œ nonstatic</strong></p><p>C++çš„ member functions æœ‰ä¸‰ç§ï¼š<strong>static ã€nonstatic ã€virtual</strong></p><blockquote><p>æ”¾åœ¨ Object ä¸­çš„åªæœ‰ nonstatic data membersï¼Œå…¶ä»–çš„ç»Ÿç»Ÿæ˜¯æ”¾åœ¨ Object å¤–ã€‚</p></blockquote><p>ä¸€ä¸ªå¯¹è±¡çš„å†…å­˜å¸ƒå±€å¤§å°(é€šå¸¸ç”± 3 éƒ¨åˆ†ç»„æˆ):</p><ul><li>å…¶ nonstatic data member çš„æ€»å’Œå¤§å°;</li><li>ä»»ä½•ç”±äºä½å¯¹é½æ‰€éœ€è¦çš„å¡«è¡¥ä¸Šå»çš„ç©ºé—´;(å…³äºå†…å­˜å¯¹é½ï¼Œè‡ªå·±æŸ¥)</li><li>ä¸ºäº†æ”¯æŒ virtual æœºåˆ¶è€Œå¼•èµ·çš„é¢å¤–è´Ÿæ‹…ã€‚</li></ul><h3 id="data-members-åœ¨å†…å­˜ä¸­çš„å¸ƒå±€"><a href="#data-members-åœ¨å†…å­˜ä¸­çš„å¸ƒå±€" class="headerlink" title="data members åœ¨å†…å­˜ä¸­çš„å¸ƒå±€"></a>data members åœ¨å†…å­˜ä¸­çš„å¸ƒå±€</h3><p><code>C++</code>åªä¿è¯å¤„äºåŒä¸€ä¸ª access sectionï¼ˆä¹Ÿå°±æ˜¯ private,public,protected ç‰‡æ®µï¼‰çš„æ•°æ®ï¼Œä¸€å®šä¼šä»¥å£°æ˜çš„æ¬¡åºå‡ºç°åœ¨å†…å­˜å¸ƒå±€å½“ä¸­(è¦æ±‚è¾ƒæ™šå‡ºç°çš„æ•°æ®æˆå‘˜å¤„åœ¨è¾ƒå¤§çš„å†…å­˜åœ°å€ä¸­)ã€‚<br><code>C++</code>æ ‡å‡†åªæä¾›äº†è¿™ä¸€ç‚¹ç‚¹çš„ä¿è¯ã€‚<br>å…è®¸ç¼–è¯‘å™¨å°†å¤šä¸ª Access Section çš„é¡ºåºè‡ªç”±æ’åˆ—ï¼Œè€Œä¸å¿…åœ¨ä¹å®ƒä»¬çš„å£°æ˜æ¬¡åºã€‚ä½†ä¼¼ä¹æ²¡æœ‰ç¼–è¯‘å™¨è¿™æ ·åšã€‚<br>å¯¹äºç»§æ‰¿ç±»ï¼ŒC++æ ‡å‡†å¹¶æœªæŒ‡å®šæ˜¯å…¶åŸºç±»æˆå‘˜åœ¨å‰è¿˜æ˜¯è‡ªå·±çš„æˆå‘˜åœ¨å‰ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">X</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">   <span class="keyword">int</span> i;</span><br><span class="line">   <span class="keyword">int</span> j;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">   <span class="keyword">int</span> k;</span><br><span class="line">   <span class="keyword">int</span> n;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ•°æ® i ä¸€å®šåœ¨ j ä¹‹å‰ï¼Œk ä¸€å®šåœ¨ n ä¹‹å‰ã€‚å…¶ä»–é¡ºåºå°±çœ‹ç¼–è¯‘å™¨äº†ã€‚</p><h3 id="Virtual-Table-vtbl-vtable-å’Œ-vptr"><a href="#Virtual-Table-vtbl-vtable-å’Œ-vptr" class="headerlink" title="Virtual Table(vtbl, vtable) å’Œ vptr"></a>Virtual Table(vtbl, vtable) å’Œ vptr</h3><p>Virtual function æœºåˆ¶ç”±ä»¥ä¸‹ 2 ä¸ªæ­¥éª¤æ¥æ”¯æŒï¼š</p><ol><li>æ¯ä¸ª class äº§ç”Ÿçš„ Virtual function çš„æŒ‡é’ˆæ”¾åœ¨ Virtual Table ä¸­</li><li>ç¼–è¯‘å™¨ç»™æ¯ä¸ª class object æ·»åŠ ä¸€ä¸ªæŒ‡é’ˆ vptrï¼ŒæŒ‡å‘ç›¸åº”çš„ vtable</li></ol><p>ä¸€ä¸ª vtable å¯¹åº”ä¸€ä¸ª classï¼Œä¸€ä¸ª vptr æ‰å¯¹åº”ä¸€ä¸ª class objectï¼Œå¿…é¡»åŒºåˆ†å¼€è¿™ 2 ä¸ªæ¦‚å¿µã€‚vtable ç‹¬ç«‹äºå¯¹è±¡ï¼Œå°±è·Ÿå‡½æ•°ç‹¬ç«‹äºå¯¹è±¡ä¸€æ ·ã€‚è¿™æ ·æ‰€æœ‰å¯¹è±¡æ‰èƒ½å…±äº«å®ƒä»¬ï¼Œå°±åƒ static data members è¢«å…±äº«ä¸€æ ·ã€‚</p><p><code>nonstatic data member</code>æ˜¯å¯¹è±¡ç‹¬æœ‰çš„ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æœ‰è‡ªå·±çš„ä¸€ä»½ã€‚è€Œå…¶ä»–çš„ member å…¨éƒ½æ˜¯å…¬ç”¨çš„ã€‚å…¶å®è¿™é‡Œå¯ä»¥é¡ºä¾¿å­¦ä¸€ä¸‹<a href="https://zh.wikipedia.org/zh/åºåˆ—åŒ–" target="_blank" rel="noopener">åºåˆ—åŒ–</a>è¿™ä¸ªæ¦‚å¿µï¼Œæ€è€ƒä¸€ä¸‹åºåˆ—åŒ–å¯¹è±¡çš„æ—¶å€™å“ªäº›ä¸œè¥¿éœ€è¦å­˜å‚¨ã€‚</p><p>RTTI(run-time type identification):ä¸€èˆ¬æ¥è¯´ï¼Œæ¯ä¸€ä¸ª class ç›¸å…³è”çš„ type_info å¯¹è±¡çš„æŒ‡é’ˆé€šå¸¸ä¹Ÿä¿å­˜åœ¨ vtable çš„ç¬¬ä¸€ä¸ª slot ä¸­ã€‚å…³äº type_info æ˜¯ä»€ä¹ˆï¼Œå¯ä»¥è‡ªå·±æŸ¥ã€‚</p><h3 id="å¼•å…¥ç»§æ‰¿åçš„å¯¹è±¡æ¨¡å‹æˆæœ¬"><a href="#å¼•å…¥ç»§æ‰¿åçš„å¯¹è±¡æ¨¡å‹æˆæœ¬" class="headerlink" title="å¼•å…¥ç»§æ‰¿åçš„å¯¹è±¡æ¨¡å‹æˆæœ¬"></a>å¼•å…¥ç»§æ‰¿åçš„å¯¹è±¡æ¨¡å‹æˆæœ¬</h3><ul><li>å¦‚æœæ˜¯æ™®é€šç»§æ‰¿ï¼Œçˆ¶å¯¹è±¡è¢«ç›´æ¥åŒ…å«åœ¨å­å¯¹è±¡é‡Œé¢ï¼Œè¿™æ ·çˆ¶å¯¹è±¡çš„å­˜å–ä¹Ÿæ˜¯ç›´æ¥è¿›è¡Œçš„ï¼Œæ²¡æœ‰é¢å¤–çš„æŒ‡é’ˆæˆæœ¬ã€‚</li><li>å¦‚æœæ˜¯è™šæ‹Ÿç»§æ‰¿ï¼Œçˆ¶å¯¹è±¡ç”±ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‡ºæ¥ï¼Œè¿™æ ·çˆ¶å¯¹è±¡çš„å­˜å–å°±å¿…é¡»ç”±æŒ‡é’ˆè®¿é—®ï¼Œæ·»åŠ äº†ä¸€å±‚é—´æ¥æ€§ã€‚</li></ul><p>virtual base classï¼Œç”¨ä»¥å®ç° â€œå¤šæ¬¡å‡ºç°åœ¨ç»§æ‰¿ä½“ç³»ä¸­çš„ base classï¼Œæœ‰ä¸€ä¸ªå•ä¸€è€Œè¢«å…±äº«çš„å®ä¾‹â€</p><p><img src="../../../../images/è™šåŸºç±».jpg" alt="è™šåŸºç±»"></p><p><img src="../../../../images/è™šæ‹Ÿå¤šé‡ç»§æ‰¿.jpg" alt="è™šæ‹Ÿå¤šé‡ç»§æ‰¿"></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> &#123;</span> <span class="keyword">public</span>: <span class="function"><span class="keyword">void</span> <span class="title">Foo</span><span class="params">()</span> </span>&#123;&#125; &#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> :</span> <span class="keyword">public</span> <span class="keyword">virtual</span> A &#123;&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span> :</span> <span class="keyword">public</span> <span class="keyword">virtual</span> A &#123;&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">D</span> :</span> <span class="keyword">public</span> B, <span class="keyword">public</span> C &#123;&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>æˆ‘è§‰å¾—è¿™é‡Œæœ‰ä¸ªé—®é¢˜ï¼Œclass D ç»§æ‰¿ class B å’Œ class C çš„æ—¶å€™å¹¶ä¸æ˜¯è™šç»§æ‰¿ï¼Œæ‰€ä»¥ä½•ä¸å°† B å’Œ C ç›´æ¥æ”¾åœ¨ D ä¸­å‘¢ï¼Ÿè¿™æ ·å°±çœäº†ä¸¤æ¬¡æŒ‡é’ˆã€‚</p></blockquote><p>è¿™æ˜¯æˆ‘çœ‹åˆ°çš„ä¸€ä¸ªè®²çš„å¾ˆä¸é”™çš„åšå®¢ï¼š<a href="https://liuhongjiang.github.io/hexotech/2012/11/30/virtual-inheritance/" target="_blank" rel="noopener">è™šæ‹Ÿç»§æ‰¿</a></p><h2 id="struct-å’Œ-class-å…³é”®å­—çš„åŒºåˆ«"><a href="#struct-å’Œ-class-å…³é”®å­—çš„åŒºåˆ«" class="headerlink" title="struct å’Œ class å…³é”®å­—çš„åŒºåˆ«"></a>struct å’Œ class å…³é”®å­—çš„åŒºåˆ«</h2><p>æ€»å…±å°±ä¸¤ä¸ªåŒºåˆ«ï¼š</p><ul><li>struct defaults to public access and class defaults to private access.</li><li>When inheriting, struct defaults to public inheritance and class defaults to private inheritance. (Ironically, as with so many things in C++, the default is backwards: public inheritance is by far the more common choice, but people rarely declare structs just to save on typing the â€œpublicâ€ keyword). å“ˆå“ˆï¼Œæˆ‘è§‰å¾—è¿™ä¹ˆåšçš„ç›®çš„æ— éå°±æ˜¯æé†’ä½ æ³¨æ„å°è£…ï¼Œä¸è¦ç»™å¤–éƒ¨æš´éœ²æ²¡å¿…è¦çš„ä¸œè¥¿ï¼Œæ‰€ä»¥æ‰æŠŠé»˜è®¤ææˆ privateã€‚</li></ul><p>é™¤æ­¤ä¹‹å¤– struct å’Œ class ä¸€æ ·ã€‚</p><p>struct ç”¨æ¥è¡¨ç°é‚£äº›åªæœ‰æ•°æ®çš„é›†åˆä½“ POD(Plain Old Data)ã€è€Œ class åˆ™å¸Œæœ›è¡¨è¾¾çš„æ˜¯<code>ADT(abstract data type)</code>çš„æ€æƒ³ã€‚</p><blockquote><p>POD stands for Plain Old Data - that is, a class (whether defined with the keyword struct or the keyword class) without constructors, destructors and virtual members functions.</p></blockquote><p>ç”±äºè¿™ 2 ä¸ªå…³é”®å­—åœ¨æœ¬è´¨ä¸Šæ— åŒºåˆ«ï¼Œæ‰€ä»¥ class å¹¶æ²¡æœ‰å¿…é¡»è¦å¼•å…¥ï¼Œä½†æ˜¯å¼•å…¥å®ƒçš„ç¡®éå¸¸ä»¤äººæ»¡æ„ï¼Œå› ä¸ºè¿™ä¸ªè¯­è¨€æ‰€å¼•å…¥çš„ä¸æ­¢æ˜¯è¿™ä¸ªå…³é”®å­—ï¼Œè¿˜æœ‰å®ƒæ‰€æ”¯æŒçš„å°è£…å’Œç»§æ‰¿çš„å“²å­¦ã€‚å¯ä»¥è¿™æ ·æƒ³è±¡ï¼šstruct åªå‰©ä¸‹æ–¹ä¾¿ C ç¨‹åºå‘˜è¿å¾™åˆ° C++çš„ç”¨é€”äº†ã€‚</p><h2 id="programming-paradigms"><a href="#programming-paradigms" class="headerlink" title="programming paradigms"></a>programming paradigms</h2><p>C++æ”¯æŒä¸‰ç§å½¢å¼çš„ç¼–ç¨‹é£æ ¼(æˆ–ç§°å…¸èŒƒ paradigm):</p><ul><li>é¢å‘è¿‡ç¨‹çš„é£æ ¼ï¼ˆprocedural modelï¼‰: å°±åƒ C ä¸€æ ·ï¼Œä¸€æ¡è¯­å¥æ¥ä¸€æ¡è¯­å¥çš„æ‰§è¡Œæˆ–è€…å‡½æ•°è·³è½¬;</li><li>æŠ½è±¡æ•°æ®ç±»å‹æ¨¡å‹(abstract data type modelï¼ŒADT): ä»…ä»…ä½¿ç”¨äº† class çš„å°è£…ï¼Œå¾ˆå¤šäººéƒ½æ˜¯ åœ¨ç”¨åŸºäºå¯¹è±¡çš„é£æ ¼å´è¯¯ä»¥ä¸ºè‡ªå·±åœ¨ä½¿ç”¨é¢å‘å¯¹è±¡çš„é£æ ¼;</li><li>é¢å‘å¯¹è±¡çš„é£æ ¼(object-oriented): ä½¿ç”¨äº† class çš„å°è£…å’Œå¤šæ€çš„ç¼–ç¨‹æ€ç»´(å¤šæ€æ‰æ˜¯ çœŸæ­£çš„é¢å‘å¯¹è±¡çš„ç‰¹å¾)ã€‚</li></ul><p>çº¯ç²¹ä»¥ä¸€ç§ paradigm å†™ç¨‹åºï¼Œæœ‰åŠ©äºæ•´ä½“è¡Œä¸ºçš„è‰¯å¥½ç¨³å›ºã€‚</p><blockquote><p>ä¸€ä¸ª reference é€šå¸¸æ˜¯ä»¥ä¸€ä¸ªæŒ‡é’ˆæ¥å®ç°çš„ï¼Œæ‰€ä»¥ point å’Œ reference å¹¶æ²¡æœ‰æœ¬è´¨çš„åŒºåˆ«ï¼Œreference å’Œ const æŒ‡é’ˆçš„åŒºåˆ«å°±æ˜¯ï¼Œä½ å– reference æŒ‡é’ˆçš„åœ°å€çš„æ—¶å€™ï¼Œå–åˆ°çš„æ˜¯æ•°æ®çš„åœ°å€ï¼Œconst æŒ‡é’ˆå–åœ°å€å–åˆ°çš„æ˜¯æŒ‡é’ˆçš„åœ°å€ã€‚ä¸‹é¢çš„ç¨‹åºè¯´æ˜äº†è¿™ä¸€ç‚¹ï¼š</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> a=<span class="number">1</span>;</span><br><span class="line">  <span class="keyword">int</span> &amp;b=a;</span><br><span class="line">  <span class="keyword">const</span> <span class="keyword">int</span> *p = &amp;a;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; &amp;b &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; p &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; &amp;p &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¹Ÿå°±æ˜¯è¯´ä½ å–ä¸åˆ° b çš„åœ°å€ã€‚æ‰€ä»¥è¯´å¼•ç”¨ç›¸å½“äºä¸€ä¸ª <code>åˆ«å</code>ã€‚å¼•ç”¨å¸¸ç”¨åœ¨å‡½æ•°è°ƒç”¨é‡Œï¼Œå¯ä»¥ç›´æ¥æ“ä½œåŸæœ‰å¯¹è±¡ï¼Œè¿™æ ·å°±å¯ä»¥ä¸ç”¨å†™æŒ‡é’ˆçš„æŒ‡é’ˆè¿™ç§ç»•å¼¯çš„ä¸œè¥¿äº†ã€‚</p><blockquote><p>å‡½æ•°çš„å®å‚ä¼ é€’ç»™å½¢å‚æ˜¯å€¼ä¼ é€’ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ª copyï¼Œå½¢å‚åœ¨å‡½æ•°é‡Œå°†æ˜¯ä¸€ä¸ªå±€éƒ¨å˜é‡ã€‚è¿™ä¸ªç‰¹æ€§æ˜¯è®¸å¤šæ–°æ‰‹é¢ä¸´çš„å¤§å‘ã€‚ä¸€é“ç»å…¸çš„è€ƒå¯Ÿé¢˜ç›®ä¾¿æ˜¯ï¼Œå®ç°ä¸€ä¸ª C è¯­è¨€çš„ swap å‡½æ•°ï¼Œç”±äº C è¯­è¨€æ²¡æœ‰å¼•ç”¨ï¼Œä½ å°±åªèƒ½ç”¨æŒ‡é’ˆæ¥æ“ä½œåŸæœ‰å¯¹è±¡äº†ã€‚java æ›´å‘ï¼Œjava æ²¡æœ‰æŒ‡é’ˆï¼Œæ‰€ä»¥éœ€è¦ç”¨å¼•ç”¨ï¼Œä½†åŸºç¡€æ•°æ®ç±»å‹æ²¡æœ‰å¼•ç”¨ï¼Œæ‰€ä»¥ä½ å¦‚æœè¦äº¤æ¢åŸºç¡€æ•°æ®ç±»å‹çš„è¯ï¼Œæ ¹æœ¬æ²¡åŠæ³•å†™ swap å‡½æ•°ã€‚</p></blockquote><blockquote><p>å¦‚æœä½ å¯¹ C è¯­è¨€çš„ç¨‹åºæ ˆå¾ˆäº†è§£çš„è¯ï¼Œå°±ä¼šçŸ¥é“å½¢å‚å®é™…ä¸Šæ˜¯ä¸å­˜åœ¨çš„ï¼Œå®å‚ç›´æ¥æ‹·è´åˆ°äº†å¯„å­˜å™¨ä¸­ï¼Œæ‰€ä»¥åº•å±‚ä¸Šæ¥è¯´å‚æ•°éƒ½æ˜¯å€¼æ‹·è´ï¼Œè€Œä¸”æ“ä½œç»“æœæ— æ³•å†™å›åˆ°å®å‚ï¼Œå®å‚ç¨³ç¨³çš„æ”¾åœ¨ä¸Šä¸€ä¸ªæ ˆå¸§ä¸­ä»æœªå‘ç”Ÿä»»ä½•å˜åŒ–ã€‚å…·ä½“çš„ç»†èŠ‚å¯ä»¥çœ‹ï¼š<a href="../../../../2018/10/08/ç¨‹åºçš„æœºå™¨çº§è¡¨ç¤º/#è¿‡ç¨‹è°ƒç”¨ä¾‹å­">ã€ŠCSAPPã€‹è¯»ä¹¦ç¬”è®° -- ç¬¬ 3 ç« ï¼šç¨‹åºçš„æœºå™¨çº§è¡¨ç¤º</a></p></blockquote><h2 id="æŒ‡é’ˆçš„ç±»å‹"><a href="#æŒ‡é’ˆçš„ç±»å‹" class="headerlink" title="æŒ‡é’ˆçš„ç±»å‹"></a>æŒ‡é’ˆçš„ç±»å‹</h2><ul><li>å¯¹äºå†…å­˜æ¥è¯´ï¼Œä¸åŒç±»å‹çš„æŒ‡é’ˆå¹¶æ²¡æœ‰ä»€ä¹ˆä¸åŒã€‚å®ƒä»¬éƒ½æ˜¯å ç”¨ä¸€ä¸ª word çš„å¤§å°ï¼ˆæ‰€ä»¥ word çš„å¤§å°å†³å®šäº†å†…å­˜å¯è®¿é—®ç©ºé—´çš„å¤§å°ï¼Œ32 ä½ç³»ç»Ÿæ˜¯ 4 å­—èŠ‚ï¼Œ64 ä½ç³»ç»Ÿæ˜¯ 8 å­—èŠ‚ï¼‰ï¼ŒåŒ…å«ä¸€ä¸ªæ•°å­—ï¼Œè¿™ä¸ªæ•°å­—ä»£è¡¨å†…å­˜ä¸­çš„ä¸€ä¸ªåœ°å€;</li><li>æŒ‡é’ˆçš„ç±»å‹æ˜¯ç¼–è¯‘å™¨çš„æ¦‚å¿µï¼Œå¯¹äºç¡¬ä»¶æ¥è¯´ï¼Œå¹¶æ²¡æœ‰ä»€ä¹ˆæŒ‡é’ˆç±»å‹çš„æ¦‚å¿µ;</li><li>è½¬å‹æ“ä½œä¹Ÿåªæ˜¯ä¸€ç§ç¼–è¯‘å™¨çš„æŒ‡ä»¤ï¼Œå®ƒæ”¹å˜çš„æ˜¯ç¼–è¯‘å™¨å¯¹è¢«æŒ‡å†…å­˜çš„è§£é‡Šæ–¹å¼è€Œå·²!</li><li><code>void*</code>æŒ‡é’ˆåªèƒ½å¤ŸæŒæœ‰ä¸€ä¸ªåœ°å€ï¼ˆä¸€ä¸ªå­—èŠ‚ï¼‰ï¼Œè€Œä¸èƒ½é€šè¿‡å®ƒæ“ä½œæ‰€æŒ‡å‘çš„ object</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å€¼ä¼ é€’å’Œå¼•ç”¨ä¼ é€’</title>
      <link href="/blog/2017/03/29/%E5%80%BC%E4%BC%A0%E9%80%92%E5%92%8C%E5%BC%95%E7%94%A8%E4%BC%A0%E9%80%92/"/>
      <url>/blog/2017/03/29/%E5%80%BC%E4%BC%A0%E9%80%92%E5%92%8C%E5%BC%95%E7%94%A8%E4%BC%A0%E9%80%92/</url>
      
        <content type="html"><![CDATA[<p>Java æ²¡æœ‰å¼•ç”¨ä¼ é€’ï¼Œæœ¬è´¨ä¸Šéƒ½æ˜¯å€¼ä¼ é€’ï¼Œåªä¸è¿‡ä¼ é€’çš„å€¼å¯ä»¥æ˜¯æŒ‡é’ˆï¼ˆJava æ²¡æœ‰æŒ‡é’ˆï¼Œæ‰€ä»¥ä½ ä¹Ÿå¯ä»¥ç†è§£ä¸ºå¯¹è±¡ï¼Œå…¶å®æœ¬è´¨ä¸Šè¿˜æ˜¯æŒ‡é’ˆï¼‰ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">getString</span><span class="params">(String text)</span></span>&#123;</span><br><span class="line">        text = <span class="string">"hello"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Solution solution = <span class="keyword">new</span> Solution();</span><br><span class="line">        String text = <span class="string">"world"</span>;</span><br><span class="line">        solution.getString(text);</span><br><span class="line">        System.out.println(text);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><a id="more"></a><p>text æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œè€Œ getString ä¸­çš„ text åˆ™æ˜¯å¦ä¸€ä¸ªæŒ‡é’ˆï¼ˆä¸€ä¸ªå±€éƒ¨å˜é‡ï¼‰ï¼Œæ‰€ä»¥è¿™é‡Œå®é™…ä¸Šæœ‰ä¸¤ä¸ªä¸åŒçš„ textï¼Œè€Œæˆ‘ä»¬å®é™…ä¸Šæ”¹å˜çš„å°±æ˜¯ä¸€ä¸ªå±€éƒ¨å˜é‡ã€‚æ‰€ä»¥è¾“å‡ºç»“æœæ˜¯ï¼šworldã€‚ä¹Ÿå¯ä»¥ç†è§£ä¸ºå½¢å‚å’Œå®å‚ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œå½¢å‚æ˜¯ä¸€ä¸ªå±€éƒ¨å˜é‡ï¼Œå­˜åœ¨äºå¯„å­˜å™¨æˆ–è€…å½“å‰æ ˆå¸§ï¼Œå®å‚å­˜åœ¨äºä¸Šä¸€çº§æ ˆå¸§ï¼Œè€Œè¢«è°ƒç”¨çš„å‡½æ•°ï¼Œåœ¨å®ƒçš„æ‰§è¡Œè¿‡ç¨‹ä¸­ä¸ä¼šæ”¹å˜ä¸Šä¸€å±‚æ ˆå¸§çš„å®å‚ã€‚</p><p>å¦‚æœæ·±å…¥äº†è§£äº† C è¯­è¨€ç¨‹åºæ ˆçš„æ„é€ ï¼Œå°±èƒ½å½»åº•æ˜ç™½å‡½æ•°è°ƒç”¨çš„ç»†èŠ‚ï¼š<a href="https://liuqinh2s.github.io/blog/2018/10/08/%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9C%BA%E5%99%A8%E7%BA%A7%E8%A1%A8%E7%A4%BA/#%E8%BF%87%E7%A8%8B%E8%B0%83%E7%94%A8">è¿‡ç¨‹è°ƒç”¨</a></p><p>å€¼ä¼ é€’å’Œå¼•ç”¨ä¼ é€’æ˜¯æ¯ä¸ªåˆšå¼€å§‹å†™ä»£ç çš„ç¨‹åºå‘˜çš„å¿…ç»ä¹‹å‘ï¼Œæ¯”å¦‚ç»å…¸çš„ swap å‡½æ•°äº¤æ¢ï¼Œå°±æ˜¯ä¸€ä¸ªå¤§å‘ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(String text1, String text2)</span></span>&#123;</span><br><span class="line">        String temp = text1;</span><br><span class="line">        text1 = text2;</span><br><span class="line">        text2 = temp;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Solution solution = <span class="keyword">new</span> Solution();</span><br><span class="line">        String text1 = <span class="string">"world"</span>;</span><br><span class="line">        String text2 = <span class="string">"hello"</span>;</span><br><span class="line">        solution.swap(text1, text2);</span><br><span class="line">        System.out.println(text1+<span class="string">" "</span>+text2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºæ˜¯ï¼šworld hello</p><p>å®é™…ä¸Šæˆ‘è§‰å¾—è¿™åº”è¯¥ç®—å¾—ä¸Šæ˜¯ç¼–ç¨‹è¯­è¨€åº•å±‚è®¾è®¡å½±å“åˆ°ä¸Šå±‚ä½¿ç”¨çš„ä¸€ä¸ªä¾‹å­ï¼Œä¸æ˜¯é‚£ä¹ˆè‡ªç„¶ï¼Œæ¯”è¾ƒå®¹æ˜“è®©äººå›°æƒ‘ã€‚å¯ä»¥ç®—ä½œæ˜¯ä¸€ç§å°è£…çš„å¤±è´¥å§ã€‚è¡¥æ•‘æ–¹æ³•åœ¨ C ä¸­æ˜¯ä½¿ç”¨æŒ‡é’ˆï¼ŒC++ä¸­æ˜¯ä½¿ç”¨å¼•ç”¨ï¼ŒJava ä¸­æ˜¯ä½¿ç”¨å¯¹è±¡ï¼ˆæŠŠè¦æ”¹å˜çš„å˜é‡ä½œä¸ºå¯¹è±¡çš„ä¸€ä¸ªå±æ€§ï¼‰ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> ç¼–ç¨‹åŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¸¸é‡æ± </title>
      <link href="/blog/2017/03/28/%E5%B8%B8%E9%87%8F%E6%B1%A0/"/>
      <url>/blog/2017/03/28/%E5%B8%B8%E9%87%8F%E6%B1%A0/</url>
      
        <content type="html"><![CDATA[<p>å­—ç¬¦ä¸²ç”± char æ•°ç»„å®ç°ï¼Œå­—ç¬¦ä¸²ä»¥<code>\0</code>ç»“å°¾ï¼Œ<code>\0</code>æ˜¯ ASCII çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼Œç”¨ bit è¡¨ç¤ºä¹Ÿå°±æ˜¯ï¼š<code>0000 0000</code>ï¼Œè¿™å¯ä»¥æ–¹ä¾¿æˆ‘ä»¬æ‰¾åˆ°å­—ç¬¦ä¸²çš„ç»“å°¾ã€‚</p><blockquote><p>ASCII å­—ç¬¦ç”±ä¸€ä¸ªå­—èŠ‚è¡¨ç¤ºï¼Œå®é™…ä¸Šç¬¬ä¸€ç‰ˆçš„ ASCII å­—ç¬¦åªç”¨åˆ°äº† 7 ä¸ª bitï¼Œ128 ä¸ªå­—ç¬¦ï¼Œæ‰©å±•ç‰ˆçš„ ASCII ä½¿ç”¨äº† 8 ä¸ª bitã€‚</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> str[<span class="number">11</span>];</span><br><span class="line"><span class="built_in">strcpy</span>(str, <span class="string">"0123456789\0"</span>);</span><br></pre></td></tr></table></figure><p>ä¸ºäº†èŠ‚çœå†…å­˜ï¼ŒC/C++æŠŠå¸¸é‡å­—ç¬¦ä¸²æ”¾åˆ°å¸¸é‡æ± ä¸­ï¼Œå½“å‡ ä¸ªæŒ‡é’ˆè¢«èµ‹å€¼äº†ç›¸åŒçš„å­—ç¬¦ä¸²å¸¸é‡æ—¶ï¼Œå®é™…ä¸Šå®ƒä»¬ä¼šæŒ‡å‘ç›¸åŒçš„å†…å­˜åœ°å€ã€‚ä½†ç”¨å¸¸é‡å­—ç¬¦ä¸²åˆå§‹åŒ–æ•°ç»„ï¼Œæƒ…å†µå´ä¸åŒã€‚</p><a id="more"></a><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> _tmain(<span class="keyword">int</span> argc, _TCHAR* argv[])&#123;</span><br><span class="line">    <span class="keyword">char</span> str1[] = <span class="string">"hello world"</span>;</span><br><span class="line">    <span class="keyword">char</span> str2[] = <span class="string">"hello world"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span>* str3 = <span class="string">"hello world"</span>;</span><br><span class="line">    <span class="keyword">char</span>* str4 = <span class="string">"hello world"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(str1==str2)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"str1 and str2 are same.\n"</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"str1 and str2 are not same.\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(str3==str4)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"str3 and str4 are same.\n"</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"str3 and str4 are not same.\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š<br>str1 and str2 are not same.<br>str3 and str4 are same.</p><p>å¸¸é‡æ± è™½ç„¶å¥½ç”¨ï¼Œä½†è¿™æ ·ä¼šé€ æˆä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯æˆ‘ä»¬æ‹¿å…¶ä¸­ä¸€ä¸ªæŒ‡é’ˆæ”¹äº†å­—ç¬¦ä¸²å†…å®¹ï¼Œå°±ä¼šé€ æˆå¦ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘çš„å­—ç¬¦ä¸²ä¹Ÿå˜äº†ã€‚ä¸ºæ­¤åƒ C#å’Œ Java ç­‰è¯­è¨€éƒ½å°†å­—ç¬¦ä¸²ç±»å‹è®¾ä¸ºä¸å¯å˜å¯¹è±¡ï¼Œæ”¹å˜å­—ç¬¦ä¸²å®é™…ä¸Šæ˜¯æ–°å»ºäº†ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¿™æ ·å°±ä¸ä¼šå¼•èµ·å†²çªäº†ã€‚ä½†å¦‚æœéœ€è¦ä¸åœçš„æ”¹å˜å°±è¦ä¸åœçš„æ–°å»ºï¼Œè¿™æ ·å°±å¤ªå½±å“æ•ˆç‡ï¼Œæ‰€ä»¥åˆæä¾›äº†<code>StringBuilder</code>ç±»ï¼Œè¿™ä¸ªç±»æ˜¯æ”¯æŒåœ¨åŸå­—ç¬¦ä¸²ä¸Šæ”¹åŠ¨çš„ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> ç¼–ç¨‹åŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°ç»„å’ŒæŒ‡é’ˆçš„åŒºåˆ«</title>
      <link href="/blog/2017/03/27/%E6%95%B0%E7%BB%84%E5%92%8C%E6%8C%87%E9%92%88%E7%9A%84%E5%8C%BA%E5%88%AB/"/>
      <url>/blog/2017/03/27/%E6%95%B0%E7%BB%84%E5%92%8C%E6%8C%87%E9%92%88%E7%9A%84%E5%8C%BA%E5%88%AB/</url>
      
        <content type="html"><![CDATA[<p>æ•°ç»„å’ŒæŒ‡é’ˆçš„åŒºåˆ«ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">GetSize</span><span class="params">(<span class="keyword">int</span> data[])</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">sizeof</span>(data);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> _tmain(<span class="keyword">int</span> argc, _TCHAR* argv[])&#123;</span><br><span class="line">    <span class="keyword">int</span> data1[] = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</span><br><span class="line">    <span class="keyword">int</span> size1 = <span class="keyword">sizeof</span>(data1);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span>* data2 = data1;</span><br><span class="line">    <span class="keyword">int</span> size2 = <span class="keyword">sizeof</span>(data2);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> size3 = GetSize(data1);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d, %d, %d\n"</span>, size1, size2, size3);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç­”æ¡ˆæ˜¯è¾“å‡ºï¼š20, 4, 4</p><a id="more"></a><p>sizeof æ˜¯ä¸ªå…³é”®å­—è€Œä¸æ˜¯å‡½æ•°ï¼Œsizeof(data1)æ˜¯æ±‚æ•°ç»„çš„å¤§å°ï¼Œè¿™é‡Œæœ‰ 5 ä¸ª int å‹å…ƒç´ ï¼Œæ‰€ä»¥æ€»å…± 20 ä¸ªå­—èŠ‚ï¼Œdata2 å£°æ˜ä¸ºæŒ‡é’ˆï¼Œå°½ç®¡æŒ‡å‘äº†ä¸€ä¸ªæ•°ç»„ï¼Œä½†æœ¬è´¨ä¸Šåªæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œæ‰€ä»¥ sizeof(data2)çš„è¯­ä¹‰èŒƒå›´æ”¶ç¼©äº†ï¼Œæ— æ³•ä»…é€šè¿‡ä¸€ä¸ªæŒ‡é’ˆå¾—çŸ¥å…¶æ‰€æŒ‡èŒƒå›´ã€‚åœ¨ 32 ä½ç³»ç»Ÿä¸Šä¸€ä¸ªæŒ‡é’ˆæ˜¯ 4 å­—èŠ‚ï¼Œæ‰€ä»¥ç»“æœå°±æ˜¯ 4ã€‚åœ¨ C/C++ä¸­ï¼Œå½“æ•°ç»„ä½œä¸ºå‡½æ•°çš„å‚æ•°è¿›è¡Œä¼ é€’æ—¶ï¼Œæ•°ç»„å°±è‡ªåŠ¨é€€åŒ–ä¸ºåŒç±»å‹çš„æŒ‡é’ˆï¼Œå› æ­¤ size3 çš„ç»“æœä¹Ÿæ˜¯ 4ã€‚æ‰€ä»¥ C++ä¼ æ•°ç»„åšå‚æ•°è‡³å°‘ä¸¤ä¸ªå‚æ•°èµ·æ­¥ï¼Œä¸€ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ªæ•°ç»„é•¿åº¦ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Macbook Pro ä½¿ç”¨æ€»ç»“</title>
      <link href="/blog/2017/01/01/MacbookPro%E4%BD%BF%E7%94%A8%E6%80%BB%E7%BB%93/"/>
      <url>/blog/2017/01/01/MacbookPro%E4%BD%BF%E7%94%A8%E6%80%BB%E7%BB%93/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æˆ‘ä½¿ç”¨ macbook pro 2014 å·²ç»ä¸€å¹´äº†ï¼Œäºæ˜¯å†™ç¯‡æ€»ç»“å§ã€‚</p><p>macbook æœºå™¨çš„äº®ç‚¹ï¼š</p><ol><li>è½»è–„ï¼Œé“åˆ¶æœºèº«ï¼Œå¤–è§‚ç®€æ´ç¾è§‚</li><li>è§¦æ‘¸æ¿çœŸçš„å¾ˆå¥½ç”¨ï¼Œæˆ‘å·²ç»å¾ˆä¹…æ²¡ç”¨è¿‡é¼ æ ‡äº†ï¼ˆä½†è§¦æ‘¸æ¿å¾ˆä¸é€‚åˆæ‰“æ¸¸æˆï¼‰</li><li>é”®ç›˜èƒŒå…‰</li><li>retina å±ä¹Ÿæ˜¯éå¸¸å…»çœ¼</li><li>ç«‹ä½“å£°ä¹Ÿååˆ†ä¸é”™</li><li>ç»†èŠ‚åšå¾—å¾ˆå¥½ï¼Œå……ç”µå£æ˜¯ç£å¸çš„ï¼Œæ­£åä¸¤é¢éƒ½èƒ½å……ï¼ŒæŒ‡ç¤ºç¯æ˜¯èƒ½æ˜¾ç¤ºæ˜¯å¦å……æ»¡çš„ï¼ˆç”¨è¿‡ surface pro 4 çš„å¯¹æ¯”ä¸€ä¸‹å°±çŸ¥é“ï¼Œä»€ä¹ˆå«åšç»†å¿ƒï¼Œè™½ç„¶ surface pro 4 ä¹Ÿæœ‰å……ç”µæŒ‡ç¤ºç¯ï¼Œä½†åªæ˜¯çº¯ç™½è‰²ï¼Œæ— æ³•çœ‹å‡ºæ˜¯å¦å……æ»¡ï¼‰</li></ol><p>OS X çš„æœ€å¤§äº®ç‚¹ï¼šGUI å’Œ CLI çš„å®Œç¾ç»“åˆï¼Œä¼˜åŒ–çš„å¾ˆå¥½ï¼Œç³»ç»Ÿè€—ç”µå°‘ï¼Œå¾…æœºæ—¶é—´è¶…é•¿ã€‚</p><p>å¯ä»¥è¯´è¿™æ˜¯ä¸€ä¸ªä¸é”™çš„å·¥å…·ï¼Œæ— è®ºæ˜¯å¯¹æ™®é€šç”¨æˆ·æ¥è¯´ï¼Œè¿˜æ˜¯å¯¹ç¨‹åºå‘˜æ¥è¯´ã€‚</p><blockquote><p>ç„¶è€Œä»·æ ¼å¹¶ä¸äº²æ°‘</p></blockquote><p>æ¥ä¸‹æ¥è¦è®²çš„å…¨æ˜¯å¦‚ä½•é«˜æ•ˆæ“ä½œ macbook çš„å¹²è´§ï¼ï¼ï¼</p><a id="more"></a><h2 id="æ–‡ä»¶ç®¡ç†å™¨-Finder"><a href="#æ–‡ä»¶ç®¡ç†å™¨-Finder" class="headerlink" title="æ–‡ä»¶ç®¡ç†å™¨ Finder"></a>æ–‡ä»¶ç®¡ç†å™¨ Finder</h2><p>é¦–å…ˆè®² Finderï¼Œè¿™æ˜¯ mac ç³»ç»Ÿï¼Œä¹Ÿå°±æ˜¯ OS X ç³»ç»Ÿçš„æ–‡ä»¶ç®¡ç†å™¨ï¼Œå’Œ windows çš„æ–‡ä»¶ç®¡ç†å™¨å¯¹æ¯”æœ‰ç‚¹ä¸åŒï¼Œæœ€ä¸æ–¹ä¾¿çš„åœ°æ–¹åœ¨äºç‚¹å‡»å³é”®æ²¡æœ‰æ–°å»ºæ–‡ä»¶é€‰é¡¹ï¼Œå¦‚æœä½ ä¼š Linuxï¼Œå¯ä»¥ç”¨å‘½ä»¤<code>touch æ–‡ä»¶å</code>æ¥æ–°å»ºæ–‡ä»¶ï¼Œå¦‚æœä½ ä¸ä¼šå‘½ä»¤ï¼Œå¯ä»¥å…ˆæ‰“å¼€æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œå†æ–°å»ºæ–‡æœ¬æ–‡ä»¶ï¼Œå®ƒçš„è®¾è®¡å“²å­¦æ˜¯ï¼Œä½ è¦æ–°å»ºä»€ä¹ˆæ–‡ä»¶ï¼Œå°±å…ˆæ‰“å¼€ä¸è¿™ä¸ªæ–‡ä»¶ç›¸å…³çš„è½¯ä»¶ï¼Œå†åœ¨è¿™ä¸ªè½¯ä»¶é‡Œæ–°å»ºè¿™ä¸ªç±»å‹çš„æ–‡ä»¶ï¼Œä¸è¿‡ä¸æ–¹ä¾¿å°±æ˜¯ä¸æ–¹ä¾¿ã€‚</p><p>å†è®²è®²ä¼˜ç§€çš„åœ°æ–¹ï¼ŒFinder å¯ä»¥æ‰“å¼€å¤šåŠç›®å½•ï¼Œå¦å¤–å¯ä»¥ <strong>æŒ‰ç©ºæ ¼é”®é¢„è§ˆ</strong>ã€‚Finder è¿˜æœ‰ tag ç³»ç»Ÿï¼Œä½ å¯ä»¥é€šè¿‡ tag æ¥è®¿é—®åŒä¸€ tag çš„æ–‡ä»¶</p><p>æ ¼å¼è½¬æ¢ï¼š</p><p>æœ‰æ—¶å€™éœ€è¦æŠŠ png ç­‰æ ¼å¼çš„å›¾ç‰‡è½¬æˆ jpg çš„æ ¼å¼ï¼Œäºæ˜¯æœ‰åŒå­¦å°±å»åˆ°å¤„æ‰¾æ ¼å¼è½¬æ¢è½¯ä»¶äº†ã€‚å…¶å®åœ¨ Mac ä¸­ç›´æ¥æ›´æ”¹å›¾ç‰‡çš„æ‰©å±•åï¼Œå³å¯è‡ªåŠ¨è½¬æˆç›¸åº”åœ°æ ¼å¼~è¯•è¯•å§ï¼Œå¦‚æœä½ æ”¹æ ¼å¼å‰çœ‹äº†æ–‡ä»¶ä¿®æ”¹æ—¥æœŸï¼Œæ”¹å®Œæ ¼å¼åä½ ä¼šå‘ç°ä¿®æ”¹æ—¥æœŸä¾ç„¶æ²¡å˜ã€‚</p><h2 id="å¿«æ·é”®"><a href="#å¿«æ·é”®" class="headerlink" title="å¿«æ·é”®"></a>å¿«æ·é”®</h2><p>ç„¶åè®²è®²å¿«æ·é”®è®¾è®¡ï¼Œæˆ‘åœ¨ windows ä¸‹å·²ç»æœ‰äº†äº›ä½¿ç”¨å¿«æ·é”®çš„ä¹ æƒ¯ï¼Œæ¯”å¦‚ï¼š</p><p>win+E æ˜¯æ‰“å¼€æ–‡ä»¶ç®¡ç†å™¨</p><p>win+D æ˜¯æ˜¾ç¤ºæ¡Œé¢ï¼ˆä¹Ÿå°±æ˜¯å°†æ‰€æœ‰çª—å£æœ€å°åŒ–ï¼‰</p><p>win+L é”å±</p><p>ctrl+S ä¿å­˜</p><p>ctrl+A å…¨</p><p>ctrl+C å¤åˆ¶</p><p>ctrl+X å‰ªåˆ‡</p><p>ctrl+V ç²˜è´´</p><p>ctrl+F æŸ¥æ‰¾</p><p>å½“æˆ‘æ¥åˆ° OS X ä¸‹çš„æ—¶å€™ï¼Œæˆ‘åŒæ ·å…ˆæ‘¸ç´¢äº†ä¸€ç•ªå¿«æ·é”®ã€‚<strong>è®¾è®¡å¿«æ·é”®çš„å“²å­¦å°±æ˜¯é€šç”¨</strong>ï¼Œè¿™æ ·å°±å¯ä»¥èŠ‚çœè®°å¿†æˆæœ¬ï¼Œmac ä¸Šçš„ cmd åŸºæœ¬ä¸Šæ‰¿æ‹…äº† windows ä¸Š ctrl çš„èŒèƒ½ï¼Œå¸¸ç”¨çš„å¿«æ·é”®æœ‰ï¼š</p><p>cmd+S ä¿å­˜</p><p>cmd+A å…¨é€‰</p><p>cmd+C å¤åˆ¶</p><p>cmd+X å‰ªåˆ‡</p><p>cmd+V ç²˜è´´</p><p>cmd+F æŸ¥æ‰¾</p><p>cmd+,æ‰“å¼€ preferance ä¹Ÿå°±æ˜¯æ‰“å¼€è®¾ç½®ç•Œé¢</p><p>cmd+N æ‰“å¼€æ–°çª—å£</p><p>cmd+W å…³é—­çª—å£</p><p>cmd+H éšè—çª—å£</p><p>cmd+Q é€€å‡ºç¨‹åº</p><p>cmd+ctrl+F å…¨å±ï¼ˆå¹¶ä¸æ”¯æŒæ‰€æœ‰ç¨‹åºï¼Œä»…ä»…æ”¯æŒå³ä¸Šè§’æœ‰åŒç®­å¤´çš„ç¨‹åºï¼‰</p><p>cmd+Tab åˆ‡æ¢ç¨‹åº</p><p>ä½ ç”¨äº† Finder ä¹‹åå¯èƒ½ä¼šæ¼ç«æ²¡æœ‰å‰ªåˆ‡æ–‡ä»¶çš„åŠŸèƒ½ï¼Œä½†å…¶å®æ˜¯æœ‰çš„ï¼Œåªæ˜¯å¿«æ·é”®ä¸ä¸€æ ·ï¼Œå‰ªåˆ‡æ–‡ä»¶çš„å¿«æ·é”®æ˜¯ï¼Œ<strong>å…ˆ cmd+C å¤åˆ¶ï¼Œç„¶å cmd+option+V ç²˜è´´ã€‚</strong></p><p>è¿™æ˜¯æˆ‘å¸¸ç”¨çš„å‡ ä¸ªå¿«æ·é”®ã€‚æ€»ä¹‹å¿«æ·é”®ä¸ç”¨è®°å¾ˆå¤šï¼ŒæŒ‰ä½ è‡ªå·±çš„éœ€è¦ï¼Œè®°ä½å¸¸ç”¨çš„å°±è¡Œã€‚</p><blockquote><p>å¸¸ç”¨çš„å®¹æ˜“è®°ä½ï¼Œä¸å¸¸ç”¨çš„å¾ˆéš¾è®°ä½</p></blockquote><p>å¦å¤–å¯¹äºä¹äºæ‘¸ç´¢çš„äººï¼Œæˆ‘è§‰å¾—ä¸€äº›å° trick å¯ä»¥å¢åŠ è¶£å‘³æ€§ï¼Œä»è€Œæ¿€å‘å…´è¶£ã€‚ä¸‹é¢å†è®²äº›ä¸å¸¸ç”¨ä½†æ˜¯æœ‰æ„æ€çš„ï¼š</p><p>é™¤äº† cmd æ˜¯å¸¸ç”¨çš„ï¼Œoption é”®ä¹Ÿå€¼å¾—æˆ‘ä»¬å…³æ³¨ï¼Œä¸‹é¢å†è®²å‡ ä¸ª option çš„å¦™ç”¨ï¼š</p><p>æŒ‰ä½ option+shift å¯ä»¥å¾®è°ƒï¼ˆ1/4 å¾®è°ƒï¼‰éŸ³é‡ã€é”®ç›˜èƒŒå…‰äº®åº¦å’Œå±å¹•äº®åº¦ï¼ŒæŒ‰ä½ option å†æŒ‰å…¶ä»–å­—æ¯é”®ç­‰ï¼Œä¼šå‡ºç°å¥‡æ€ªçš„å­—ç¬¦ Â¥Â©<br>Å“âˆ‘Â®â€ Â¥Ã¥ÃŸÂ©â‰ˆÃ§ã€‚</p><p>æ•°å­¦ç¬¦å·ï¼š</p><ul><li>çº¦ç­‰äº: <code>Option + X</code> = â‰ˆ</li><li>åº¦æ•°: <code>Shift + Option + 8</code> = Â°</li><li>é™¤å·: <code>Option + /</code> = Ã·</li><li>æ— ç©·: <code>Option + 5</code> = âˆ</li><li>å¤§äºç­‰äºå’Œå°äºç­‰äº: <code>Option + ,</code> å’Œ <code>Option + .</code> = â‰¤ å’Œ â‰¥</li><li>ä¸ç­‰äº: <code>Option + =</code> = â‰ </li><li>åœ†å‘¨ç‡: <code>Option + P</code> = Ï€</li><li>åŠ å‡: <code>Shift + Option + =</code> = Â±</li><li>å¼€æ–¹: <code>Option + V</code> = âˆš</li><li>æ±‚å’Œç¬¦å·: <code>Option + W</code> = âˆ‘</li></ul><p>å…¶ä»–è¾“å…¥ç‰¹æ®Šç¬¦å·ï¼š</p><ul><li>ç‰ˆæƒç¬¦å·: <code>Option + G</code> = Â©</li><li>äººæ°‘å¸ç¬¦å·: <code>Option + Y</code> = Â¥</li></ul><p><strong>æŒ‰ä½ option å†æŠŠé¼ æ ‡ç§»åˆ° Dock ä¸Šçš„ APP ä¸Šï¼Œä½ ä¼šå‘ç°é€€å‡ºå˜æˆäº†å¼ºåˆ¶é€€å‡º</strong>ã€‚è¿™å°±æ˜¯å¿«æ·æ€è¿›ç¨‹åˆ©å™¨ã€‚</p><p>Command+Option+D æ§åˆ¶ Dock çš„æ˜¾ç¤ºä¸éšè—</p><p>Command+Shift+H éšè—æ‰€æœ‰å…¶ä»–çª—å£</p><p><strong>Shift+éŸ³é‡ ä¼šæœ‰å£°éŸ³ï¼Œç›´æ¥æŒ‰éŸ³é‡é»˜è®¤æ˜¯ä¸å‡ºå£°</strong>ã€‚è°ƒéŸ³é‡åˆ©å™¨</p><p>Command+I æ˜¾ç¤ºç®€ä»‹ï¼ˆåœ¨ Finder ä¸­ï¼‰ï¼Œå¯ä»¥ä¿®æ”¹æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶çš„é»˜è®¤ APP</p><p>Command+Control+N æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå¹¶å½’ç±»ä½ é€‰ä¸­çš„æ‰€æœ‰æ–‡ä»¶</p><h3 id="ç¼–è¾‘æ–‡æœ¬çš„å¿«æ·é”®"><a href="#ç¼–è¾‘æ–‡æœ¬çš„å¿«æ·é”®" class="headerlink" title="ç¼–è¾‘æ–‡æœ¬çš„å¿«æ·é”®"></a>ç¼–è¾‘æ–‡æœ¬çš„å¿«æ·é”®</h3><p>Command+Space åˆ‡æ¢è¾“å…¥æ³•</p><p>Command+left è®©å…‰æ ‡è·³åˆ°æœ€å‰é¢ï¼Œç›¸å½“äº windows ä¸‹çš„ home é”®</p><p>Command+right è®©å…‰æ ‡è·³åˆ°æœ€åï¼Œç›¸å½“äº windows ä¸‹çš„ end é”®</p><p>Command+up è®©å…‰æ ‡è·³åˆ°æ•´ä¸ªæ–‡æœ¬çš„æœ€å¼€å¤´</p><p>Command+down è®©å…‰æ ‡è·³åˆ°æ•´ä¸ªæ–‡æœ¬çš„æœ€å</p><p><strong>Command+delete</strong> åˆ é™¤å½“å‰è¡Œï¼Œç›¸å½“äº windows ä¸‹çš„ homeï¼Œshift+endï¼ˆé€‰ä¸­ï¼Œä»è¡Œå¤´åˆ°è¡Œå°¾ï¼‰ï¼Œbackspaceï¼Œè¿™ä¸‰ä¸ªæ“ä½œçš„ç»„åˆã€‚è¿™ä¸ªå¿«æ·é”®ä¼šè®©ä½ ç›¸å½“çˆ½çš„ã€‚</p><h3 id="æˆªå›¾å¿«æ·é”®"><a href="#æˆªå›¾å¿«æ·é”®" class="headerlink" title="æˆªå›¾å¿«æ·é”®"></a>æˆªå›¾å¿«æ·é”®</h3><p>Command+Shift+3 æˆªå–æ•´ä¸ªæ¡Œé¢ï¼Œå¹¶æŠŠæˆªå›¾ä½œä¸ºä¸€ä¸ªæ–‡ä»¶å­˜å‚¨åœ¨æ¡Œé¢ä¸Š</p><p>Command+Shift+4 æˆªå–ä¸€ä¸ªåŒºåŸŸï¼Œå¹¶æŠŠæˆªå›¾ä½œä¸ºä¸€ä¸ªæ–‡ä»¶å­˜å‚¨åœ¨æ¡Œé¢ä¸Š</p><p>Command+Shift+Ctrl+3 æˆªå–æ•´ä¸ªæ¡Œé¢ï¼Œå¹¶å¤åˆ¶åˆ°å‰ªåˆ‡æ¿</p><p>Command+Shift+Ctrl+4 æˆªå–ä¸€ä¸ªåŒºåŸŸï¼Œå¹¶å¤åˆ¶åˆ°å‰ªåˆ‡æ¿</p><p>Command+Shift+4 ç„¶åæŒ‰ Space å°±ä¼šæˆªå–ä¸€ä¸ªçª—å£ã€‚è¿™æ ·æˆªå›¾ä¼šè‡ªå¸¦é˜´å½±æ•ˆæœã€‚å¦‚æœä¸æƒ³è‡ªå¸¦é˜´å½±æ•ˆæœï¼Œå¯ä»¥æŒ‰ä½ option å†ç‚¹è§¦æ‘¸æ¿ã€‚</p><p>Command+Ctrl+A mac QQ æˆªå›¾å¿«æ·é”®ï¼Œç”±äºå±å¹•åˆ†è¾¨ç‡å¤ªé«˜ï¼Œmac ç³»ç»Ÿå¿«æ·é”®æˆªå‡ºæ¥çš„å›¾éƒ½å¤ªå¤§äº†ï¼Œè€Œ macQQ æˆªå‡ºæ¥çš„å›¾å¤§å°æ­£åˆé€‚ã€‚</p><h3 id="Chrome-æµè§ˆå™¨å¿«æ·é”®"><a href="#Chrome-æµè§ˆå™¨å¿«æ·é”®" class="headerlink" title="Chrome æµè§ˆå™¨å¿«æ·é”®"></a>Chrome æµè§ˆå™¨å¿«æ·é”®</h3><p>è¿™ä¸ªåº”è¯¥æ˜¯ä¸æ“ä½œç³»ç»Ÿæ— å…³çš„ï¼Œä½†åœ¨ Mac ä¸‹å…»æˆäº†ç”¨å¿«æ·é”®çš„ä¹ æƒ¯ï¼Œæ‰€ä»¥ Chrome çš„å¿«æ·é”®éƒ½æ˜¯åœ¨ Mac ä¸Šå­¦çš„ï¼Œåœ¨ windows ä¸‹æ³¨æ„ç”¨<code>Ctrl</code>æ›¿æ¢<code>Command</code>é”®å°±è¡Œäº†ã€‚</p><p>Command+R åˆ·æ–°</p><p>Command+L å°†çª—å£ç„¦ç‚¹é”å®šåˆ°æµè§ˆå™¨çš„åœ°å€æ ï¼Œä¸ç”¨ç§»åŠ¨é¼ æ ‡å“¦</p><p>Command+T æ‰“å¼€ä¸€ä¸ªæ–° Tab</p><p>Command+Shift+T æ‰“å¼€ä¸€ä¸ªä¹‹å‰è¢«å…³é—­çš„ Tab</p><p>Command+Shift+J æ‰“å¼€ä¸‹è½½é¡µé¢</p><p>Command+Shift+C æ‰“å¼€â€œæ£€æŸ¥(spectator)â€ï¼Œé¼ æ ‡å³é”®å¯ä»¥çœ‹åˆ°è¿™ä¸ªé€‰é¡¹ï¼Œä¸€èˆ¬æ˜¯ç¨‹åºå‘˜ä½¿ç”¨çš„é«˜çº§åŠŸèƒ½ï¼Œä½†ä¸èƒ½å†æ¬¡ä½¿ç”¨å¿«æ·é”®å…³é—­ã€‚</p><p>Command+Shift+I åŒæ ·æ˜¯æ‰“å¼€ spectatorï¼Œä½¿ç”¨å¼€å‘äººå‘˜å·¥å…·ï¼Œä½†å¯ä»¥å†æ¬¡ä½¿ç”¨å¿«æ·é”®å…³é—­ã€‚</p><p>Command+Shift+B æ‰“å¼€æˆ–å…³é—­ä¹¦ç­¾æ </p><p>Command+Option+B æ‰“å¼€ä¹¦ç­¾ç®¡ç†å™¨</p><p>Command+Y æ‰“å¼€å†å²è®°å½•</p><p>Command+Option+å·¦å³æ–¹å‘é”® åˆ‡æ¢æ ‡ç­¾é¡µ</p><p>Command+D æ”¶è—æ­¤é¡µä¸ºä¹¦ç­¾</p><p>Command+Shift+D å°†æ‰€æœ‰æ ‡ç­¾é¡µåŠ ä¹¦ç­¾</p><p>Command+ä¸Šä¸‹æ–¹å‘é”® è·³åˆ°é¡µé¢é¡¶éƒ¨æˆ–åº•éƒ¨</p><p>Command+Option+J æ‰“å¼€ javascript æ§åˆ¶å°</p><p>æŒ‰ä½ Command åç‚¹å‡»é“¾æ¥ï¼Œåœ¨æ–° Tabï¼ˆæ ‡ç­¾é¡µï¼‰ä¸­æ‰“å¼€è¿™æ¡é“¾æ¥ã€‚</p><p>Command+Shift å†ç‚¹å‡»é“¾æ¥ï¼Œåœ¨æ–°æ ‡ç­¾é¡µä¸­æ‰“å¼€å¹¶åˆ‡æ¢åˆ°æ–°æ ‡ç­¾é¡µ</p><p>Command+Shift+N ç”¨éšèº«æ¨¡å¼æ‰“å¼€æ–°çª—å£</p><p>Command+Shift+W å…³é—­å½“å‰çª—å£</p><p>Command+[ æˆ–è€… ] å‰è¿›æˆ–è€…å›é€€</p><p>Command+å·¦å³æ–¹å‘é”® å‰è¿›æˆ–è€…åé€€</p><p>Command+Option+U æŸ¥çœ‹ç½‘é¡µæºä»£ç </p><h3 id="iTerm2-å¿«æ·é”®"><a href="#iTerm2-å¿«æ·é”®" class="headerlink" title="iTerm2 å¿«æ·é”®"></a>iTerm2 å¿«æ·é”®</h3><p>iTerm2 ä¸­çš„æ–‡æœ¬ï¼Œé€‰ä¸­å³å¤åˆ¶</p><p>Command+D æ°´å¹³åˆ†éš”å‡ºä¸€ä¸ªç»ˆç«¯</p><p>Command+Shift+D å‚ç›´åˆ†å‰²å‡ºä¸€ä¸ªç»ˆç«¯</p><p>å¯ä»¥é…ç½®é€æ˜åº¦ï¼ŒCommand+U å¿«é€Ÿåˆ‡æ¢é€æ˜ä¸å¦</p><p>å¯ä»¥é…ç½®å…¨å±€å”¤å‡ºå¿«æ·é”®ï¼Œæˆ‘è‡ªå·±é…ç½®çš„æ˜¯ Command+T</p><p>å¯ä»¥é…ç½®å¿«æ·æ‚¬æµ®ï¼ŒHotkey window</p><p>Command+Shift+H æŸ¥çœ‹å¤åˆ¶å†å²</p><p>Command+Enter å¿«é€Ÿåˆ‡æ¢å…¨å±ä¸å¦</p><h3 id="CLI-å‘½ä»¤è¡Œ-å¿«æ·é”®"><a href="#CLI-å‘½ä»¤è¡Œ-å¿«æ·é”®" class="headerlink" title="CLI(å‘½ä»¤è¡Œ)å¿«æ·é”®"></a>CLI(å‘½ä»¤è¡Œ)å¿«æ·é”®</h3><p>æœ¬æ¥è¿™é‡Œåº”è¯¥æ”¾åˆ° Linux é‡Œé¢è®²çš„ï¼Œä½† Mac æœ¬èº«çš„ç‰¹ç‚¹å°±æ˜¯ GUI å’Œ CLI çš„å®Œç¾ç»“åˆï¼ˆå¾ˆå¤š Linux çš„çˆ±å¥½è€…ï¼Œä¸æƒ³è¢« Linux çš„æ¡Œé¢ã€å„ç§é©±åŠ¨ã€ä¸å…¼å®¹ç­‰ç­‰æ‚ä¸ƒæ‚å…«çš„é—®é¢˜æŠ˜è…¾çš„ï¼Œå¤§å¯é€‰æ‹© Macï¼‰ã€‚</p><p>é¦–å…ˆæ•™ä¸€ä¸ªæœ€é‡è¦çš„ä¸œè¥¿<br>è®°ä½<strong>æŒ‰ Tab è¡¥å…¨</strong>ï¼Œè¿™æ˜¯å‘½ä»¤è¡Œç”¨çš„çˆ½çš„æ ¹æºã€‚</p><p>Ctrl+A å›åˆ°è¡Œé¦–</p><p>Ctrl+E åˆ°è¡Œæœ«</p><p>Ctrl+U åˆ é™¤ä¸€è¡Œ</p><p>ç„¶ååŸºæœ¬çš„ Linux å‘½ä»¤æ¥äº†</p><p>cd / åˆ°æ ¹ç›®å½•</p><p>open / ç”¨ Finder æ‰“å¼€æ ¹ç›®å½•</p><h2 id="Launchpad-ä¸-Dock"><a href="#Launchpad-ä¸-Dock" class="headerlink" title="Launchpad ä¸ Dock"></a>Launchpad ä¸ Dock</h2><p>Launchpad æ˜¯æŒ‡ï¼Œä½ åœ¨è§¦æ‘¸æ¿ä¸Šç”¨äº”æŒ‡å‘ä¸­é—´æ”¶æ‹¢ï¼Œå‡ºç°çš„å…¨æ˜¯ APP çš„é¡µé¢ï¼ŒåŠé€æ˜çš„ã€‚<br>Dock æ˜¯æŒ‡ï¼Œæœ€ä¸‹æ–¹çš„æ‘†æ»¡ APP çš„ä¸€æ ï¼Œåœ¨ Dock ä¸Šä½ å¯ä»¥æ”¾ä¸Šæœ€å¸¸ç”¨çš„ APPã€‚</p><p>è°ƒæ•´ launchpad çš„å›¾æ ‡å¤§å°ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">defaults write com.apple.dock springboard-rows Default</span><br><span class="line"></span><br><span class="line">defaults write com.apple.dock springboard-columns Default</span><br><span class="line"></span><br><span class="line">killall Dock</span><br></pre></td></tr></table></figure><p>åœ¨ appstore ä¸‹è½½ä¸€ä¸ªè½¯ä»¶åˆ°ä¸€åŠï¼Œç„¶ååœ¨ Application åˆ é™¤äº†è¯¥è½¯ä»¶ï¼Œç»“æœåœ¨ launchpad ä¸­ç•™ä¸‹äº†ä¸€ä¸ªåƒåœ¾æ®‹ç•™ç©ºå›¾æ ‡ã€‚<br>åˆ é™¤ launchpad ä¸­çš„åƒåœ¾æ®‹ç•™å›¾æ ‡ï¼Œåªéœ€æ‹–æ‹½åˆ°ä¸‹è½½æ–‡ä»¶å¤¹ã€‚å…¶ä»–æ–¹æ³•éƒ½è¯•è¿‡ï¼ˆæ— æ•ˆï¼‰ï¼Œæ¯”å¦‚æŒ‰ä½å›¾æ ‡å‡ ç§’ï¼Œå‡ºç°ä¸€ä¸ªå‰ï¼Œç‚¹å‡»å‰ï¼Œåˆ é™¤ï¼Œæ²¡ç”¨ã€‚åœ¨ Application æ‰¾åˆ°ç›¸åº”é¡¹åˆ é™¤æ²¡ç”¨ã€‚</p><h2 id="è½¯ä»¶æ¨è"><a href="#è½¯ä»¶æ¨è" class="headerlink" title="è½¯ä»¶æ¨è"></a>è½¯ä»¶æ¨è</h2><p>å›½å†…çš„å¸¸ç”¨å¨±ä¹è½¯ä»¶ï¼š</p><ul><li>Mac QQ</li><li>å¾®ä¿¡</li><li>ç½‘æ˜“äº‘éŸ³ä¹</li><li>æ–°æµªå¾®åš</li><li>ç™¾åº¦äº‘</li><li>è¿…é›·</li><li>æˆ‘æ¥</li><li>æœ‰é“è¯å…¸</li><li>ä¼˜é…·å®¢æˆ·ç«¯</li><li>çˆ±å¥‡è‰ºå®¢æˆ·ç«¯</li><li>é˜¿é‡Œæ—ºæ—º</li><li>æ¯æ—¥è‹±è¯­å¬åŠ›</li></ul><p>å›½å¤–äº§çš„ï¼š</p><ul><li>Chrome</li><li>VSCode</li><li>calibre</li><li>LICEcap</li><li>Pocket</li><li>iStat Menus</li><li>TeamViewer</li><li>Blu-ray Player</li><li>Irvue</li><li>Sip</li><li>VMware Fusion</li><li>The unarchiver</li><li>Keka</li><li>OmniDiskSweeper</li><li>Bartender 2</li></ul><p>ç¨‹åºå‘˜ä½¿ç”¨çš„ï¼š</p><ul><li>Xcode</li><li>iTerm2</li><li>oh-my-zsh</li><li>dash</li><li>FileZilla</li><li>Pycharm</li><li>Intellj IDEA</li><li>Android Studio</li></ul><h2 id="ç»“æŸè¯­"><a href="#ç»“æŸè¯­" class="headerlink" title="ç»“æŸè¯­"></a>ç»“æŸè¯­</h2><p>å¥½çš„å·¥å…·å¯ä»¥ä½¿äººäº‹åŠåŠŸå€ï¼Œå›é¡¾æ•´ä¸ªäººç±»å²ï¼Œåˆä½•å°ä¸æ˜¯ä¸€ä¸ªå·¥å…·å²å‘¢ï¼Œä»ç”¨çŸ³å™¨åˆ°ç”¨ç«ï¼Œä»é“å™¨åˆ°ç«è¯ï¼Œä»è’¸æ±½æœºåˆ°å†…ç‡ƒæœºï¼Œä»æ±½è½¦åˆ°ç”µè„‘ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨å·¥å…·ã€åˆ©ç”¨è‡ªç„¶è§„å¾‹ï¼Œä»è€Œè®©è‡ªèº«å˜å¾—è¶Šæ¥è¶Šå¼ºå¤§ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> å·¥å…· </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
